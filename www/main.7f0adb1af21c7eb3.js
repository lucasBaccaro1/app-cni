"use strict";(self.webpackChunkproject_cni=self.webpackChunkproject_cni||[]).push([[179],{2011:(pt,Ie,P)=>{P.d(Ie,{Dh:()=>ce,GT:()=>ye,cc:()=>Re,hO:()=>Ze,on:()=>W,pX:()=>ne,xv:()=>pe});var u=P(5e3),$=P(127),R=P(5813);pt=P.hmd(pt);const se=["ngOnDestroy"],ne=(De,it,Ge,Oe={})=>new Proxy(De,{get:(Ne,we)=>Ge.runOutsideAngular(()=>{var Qe;if(De[we])return(null===(Qe=null==Oe?void 0:Oe.spy)||void 0===Qe?void 0:Qe.get)&&Oe.spy.get(we,De[we]),De[we];if(se.indexOf(we)>-1)return()=>{};const te=it.toPromise().then(nt=>{const et=nt&&nt[we];return"function"==typeof et?et.bind(nt):et&&et.then?et.then(oe=>Ge.run(()=>oe)):Ge.run(()=>et)});return new Proxy(()=>{},{get:(nt,et)=>te[et],apply:(nt,et,oe)=>te.then(ie=>{var ae;const Ce=ie&&ie(...oe);return(null===(ae=null==Oe?void 0:Oe.spy)||void 0===ae?void 0:ae.apply)&&Oe.spy.apply(we,oe,Ce),Ce})})})}),ye=(De,it)=>{it.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Oe=>{Object.defineProperty(De.prototype,Oe,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Oe))})})};class le{constructor(it){return it}}const ce=new u.OlP("angularfire2.app.options"),pe=new u.OlP("angularfire2.app.name");function W(De,it,Ge){const Ne="object"==typeof Ge&&Ge||{};Ne.name=Ne.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Qe=$.Z.apps.filter(te=>te&&te.name===Ne.name)[0]||it.runOutsideAngular(()=>$.Z.initializeApp(De,Ne));try{JSON.stringify(De)!==JSON.stringify(Qe.options)&&z("error",`${Qe.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(te){}return new le(Qe)}const z=(De,...it)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...it)},ee={provide:le,useFactory:W,deps:[ce,u.R0b,[new u.FiY,pe]]};let Ze=(()=>{class De{constructor(Ge){$.Z.registerVersion("angularfire",R.q4.full,"core"),$.Z.registerVersion("angularfire",R.q4.full,"app-compat"),$.Z.registerVersion("angular",u.q4F.full,Ge.toString())}static initializeApp(Ge,Oe){return{ngModule:De,providers:[{provide:ce,useValue:Ge},{provide:pe,useValue:Oe}]}}}return De.\u0275fac=function(Ge){return new(Ge||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[ee]}),De})();function Re(De,it,Ge,Oe,Ne){const[,we,Qe]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===De)||[];if(we)return function Pe(De,it){try{return De.toString()===it.toString()}catch(Ge){return De===it}}(Ne,Qe)||(ge("error",`${it} was already initialized on the ${Ge} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ne,was:Qe})),we;{const te=Oe();return globalThis.\u0275AngularfireInstanceCache.push([De,te,Ne]),te}}const Be=!!pt.hot,ge=(De,...it)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,Ie,P)=>{P.d(Ie,{q4:()=>nl,iC:()=>uo,HU:()=>$c,vb:()=>xl,JM:()=>mp,u3:()=>Gc});var u=P(5e3),$=P(5867),R=P(5861),se=P(9681),ne=P(2090),ye=P(4859),le=P(1877);const ce="@firebase/installations",z="w:0.5.8",ee="FIS_v2",De=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(C){return C instanceof ne.ZR&&C.code.includes("request-failed")}function Ge({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Oe(C){return{token:C.token,requestStatus:2,expiresIn:oe(C.expiresIn),creationTime:Date.now()}}function Ne(C,I){return we.apply(this,arguments)}function we(){return(we=(0,R.Z)(function*(C,I){const U=(yield I.json()).error;return De.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function te(C,{refreshToken:I}){const O=Qe(C);return O.append("Authorization",function ie(C){return`${ee} ${C}`}(I)),O}function nt(C){return et.apply(this,arguments)}function et(){return(et=(0,R.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function oe(C){return Number(C.replace("s","000"))}function ae(C,I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:O}){const U=Ge(C),Q=Qe(C),re=I.getImmediate({optional:!0});if(re){const Ct=yield re.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const $e={method:"POST",headers:Q,body:JSON.stringify({fid:O,authVersion:ee,appId:C.appId,sdkVersion:z})},Nt=yield nt(()=>fetch(U,$e));if(Nt.ok){const Ct=yield Nt.json();return{fid:Ct.fid||O,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Oe(Ct.authToken)}}throw yield Ne("Create Installation",Nt)})).apply(this,arguments)}function he(C){return new Promise(I=>{setTimeout(I,C)})}const xt=/^[cdef][\w-]{21}$/;function an(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function qe(C){return function Fe(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return xt.test(O)?O:""}catch(C){return""}}function en(C){return`${C.appName}!${C.appId}`}const pr=new Map;function Ln(C,I){const O=en(C);on(O,I),function Vn(C,I){const O=function Rr(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=C=>{on(C.data.key,C.data.fid)}),Er}();O&&O.postMessage({key:C,fid:I}),function Ir(){0===pr.size&&Er&&(Er.close(),Er=null)}()}(O,I)}function on(C,I){const O=pr.get(C);if(O)for(const U of O)U(I)}let Er=null;const Dr="firebase-installations-store";let Sr=null;function Ds(){return Sr||(Sr=(0,ne.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Dr)})),Sr}function mt(C,I){return xr.apply(this,arguments)}function xr(){return(xr=(0,R.Z)(function*(C,I){const O=en(C),Q=(yield Ds()).transaction(Dr,"readwrite"),re=Q.objectStore(Dr),me=yield re.get(O);return yield re.put(I,O),yield Q.complete,(!me||me.fid!==I.fid)&&Ln(C,I.fid),I})).apply(this,arguments)}function $n(C){return un.apply(this,arguments)}function un(){return(un=(0,R.Z)(function*(C){const I=en(C),U=(yield Ds()).transaction(Dr,"readwrite");yield U.objectStore(Dr).delete(I),yield U.complete})).apply(this,arguments)}function Xn(C,I){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,R.Z)(function*(C,I){const O=en(C),Q=(yield Ds()).transaction(Dr,"readwrite"),re=Q.objectStore(Dr),me=yield re.get(O),$e=I(me);return void 0===$e?yield re.delete(O):yield re.put($e,O),yield Q.complete,$e&&(!me||me.fid!==$e.fid)&&Ln(C,$e.fid),$e})).apply(this,arguments)}function Gn(C){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,R.Z)(function*(C){let I;const O=yield Xn(C.appConfig,U=>{const Q=Gr(U),re=yo(C,Q);return I=re.registrationPromise,re.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Gr(C){return Wt(C||{fid:an(),registrationStatus:0})}function yo(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(De.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function qt(C,I){return _t.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ut(C)}:{installationEntry:I}}function _t(){return(_t=(0,R.Z)(function*(C,I){try{const O=yield ae(C,I);return mt(C.appConfig,O)}catch(O){throw it(O)&&409===O.customData.serverCode?yield $n(C.appConfig):yield mt(C.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ut(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,R.Z)(function*(C){let I=yield rs(C.appConfig);for(;1===I.registrationStatus;)yield he(100),I=yield rs(C.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield Gn(C);return U||O}return I})).apply(this,arguments)}function rs(C){return Xn(C,I=>{if(!I)throw De.create("installation-not-found");return Wt(I)})}function Wt(C){return function is(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function qn(C,I){return dn.apply(this,arguments)}function dn(){return(dn=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:I},O){const U=Et(C,O),Q=te(C,O),re=I.getImmediate({optional:!0});if(re){const Ct=yield re.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const $e={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:z,appId:C.appId}})},Nt=yield nt(()=>fetch(U,$e));if(Nt.ok)return Oe(yield Nt.json());throw yield Ne("Generate Auth Token",Nt)})).apply(this,arguments)}function Et(C,{fid:I}){return`${Ge(C)}/${I}/authTokens:generate`}function zn(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,R.Z)(function*(C,I=!1){let O;const U=yield Xn(C.appConfig,re=>{if(!Vt(re))throw De.create("not-registered");const me=re.authToken;if(!I&&Z(me))return re;if(1===me.requestStatus)return O=We(C,I),re;{if(!navigator.onLine)throw De.create("app-offline");const $e=K(re);return O=yt(C,$e),$e}});return O?yield O:U.authToken})).apply(this,arguments)}function We(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,R.Z)(function*(C,I){let O=yield st(C.appConfig);for(;1===O.authToken.requestStatus;)yield he(100),O=yield st(C.appConfig);const U=O.authToken;return 0===U.requestStatus?zn(C,I):U})).apply(this,arguments)}function st(C){return Xn(C,I=>{if(!Vt(I))throw De.create("not-registered");return function de(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function yt(C,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,R.Z)(function*(C,I){try{const O=yield qn(C,I),U=Object.assign(Object.assign({},I),{authToken:O});return yield mt(C.appConfig,U),O}catch(O){if(!it(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield mt(C.appConfig,U)}else yield $n(C.appConfig);throw O}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function Z(C){return 2===C.requestStatus&&!function j(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function K(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function V(){return(V=(0,R.Z)(function*(C){const I=C,{installationEntry:O,registrationPromise:U}=yield Gn(I);return U?U.catch(console.error):zn(I).catch(console.error),O.fid})).apply(this,arguments)}function ue(){return(ue=(0,R.Z)(function*(C,I=!1){const O=C;return yield Ue(O),(yield zn(O,I)).token})).apply(this,arguments)}function Ue(C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,R.Z)(function*(C){const{registrationPromise:I}=yield Gn(C);I&&(yield I)})).apply(this,arguments)}function sr(C){return De.create("missing-app-config-values",{valueName:C})}const bl="installations",Je=C=>{const I=C.getProvider("app").getImmediate(),O=function Fi(C){if(!C||!C.options)throw sr("App Configuration");if(!C.name)throw sr("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!C.options[O])throw sr(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},zt=C=>{const I=C.getProvider("app").getImmediate(),O=(0,se._getProvider)(I,bl).getImmediate();return{getId:()=>function k(C){return V.apply(this,arguments)}(O),getToken:Q=>function H(C){return ue.apply(this,arguments)}(O,Q)}};(function vn(){(0,se._registerComponent)(new ye.wA(bl,Je,"PUBLIC")),(0,se._registerComponent)(new ye.wA("installations-internal",zt,"PRIVATE"))})(),(0,se.registerVersion)(ce,"0.5.8"),(0,se.registerVersion)(ce,"0.5.8","esm2017");const kr="@firebase/remote-config",Wn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pu{constructor(I,O,U,Q){this.client=I,this.storage=O,this.storageCache=U,this.logger=Q}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,Q=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var O=this;return(0,R.Z)(function*(){const[U,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(I.cacheMaxAgeMillis,U))return Q;I.eTag=Q&&Q.eTag;const re=yield O.client.fetch(I),me=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&me.push(O.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(me),re})()}}function as(C=navigator){return C.languages&&C.languages[0]||C.language}class Ys{constructor(I,O,U,Q,re,me){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=U,this.projectId=Q,this.apiKey=re,this.appId=me}fetch(I){var O=this;return(0,R.Z)(function*(){const[U,Q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Nt={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:O.appId,language_code:as()},Ct={method:"POST",headers:$e,body:JSON.stringify(Nt)},Kt=fetch(me,Ct),St=new Promise((Ii,qi)=>{I.signal.addEventListener(()=>{const Fl=new Error("The operation was aborted.");Fl.name="AbortError",qi(Fl)})});let Vr;try{yield Promise.race([Kt,St]),Vr=yield Kt}catch(Ii){let qi="fetch-client-network";throw"AbortError"===Ii.name&&(qi="fetch-timeout"),Wn.create(qi,{originalErrorMessage:Ii.message})}let vr=Vr.status;const Ls=Vr.headers.get("ETag")||void 0;let hs,Gi;if(200===Vr.status){let Ii;try{Ii=yield Vr.json()}catch(qi){throw Wn.create("fetch-client-parse",{originalErrorMessage:qi.message})}hs=Ii.entries,Gi=Ii.state}if("INSTANCE_STATE_UNSPECIFIED"===Gi?vr=500:"NO_CHANGE"===Gi?vr=304:("NO_TEMPLATE"===Gi||"EMPTY_CONFIG"===Gi)&&(hs={}),304!==vr&&200!==vr)throw Wn.create("fetch-status",{httpStatus:vr});return{status:vr,eTag:Ls,config:hs}})()}}class Is{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,R.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:U}){var Q=this;return(0,R.Z)(function*(){yield function di(C,I){return new Promise((O,U)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),U(Wn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const re=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function sp(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(re))throw re;const me={throttleEndTimeMillis:Date.now()+(0,ne.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(me),Q.attemptFetch(I,me)}})()}}class ap{constructor(I,O,U,Q,re){this.app=I,this._client=O,this._storageCache=U,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ba(C,I){const O=C.target.error||void 0;return Wn.create(I,{originalErrorMessage:O&&O.message})}const Jo="app_namespace_store";class Ac{constructor(I,O,U,Q=function up(){return new Promise((C,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{I(Ba(U,"storage-open"))},O.onsuccess=U=>{C(U.target.result)},O.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Jo,{keyPath:"compositeKey"})}}catch(O){I(Wn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,R.Z)(function*(){const U=yield O.openDbPromise;return new Promise((Q,re)=>{const $e=U.transaction([Jo],"readonly").objectStore(Jo),Nt=O.createCompositeKey(I);try{const Ct=$e.get(Nt);Ct.onerror=Kt=>{re(Ba(Kt,"storage-get"))},Ct.onsuccess=Kt=>{const St=Kt.target.result;Q(St?St.value:void 0)}}catch(Ct){re(Wn.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(I,O){var U=this;return(0,R.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((re,me)=>{const Nt=Q.transaction([Jo],"readwrite").objectStore(Jo),Ct=U.createCompositeKey(I);try{const Kt=Nt.put({compositeKey:Ct,value:O});Kt.onerror=St=>{me(Ba(St,"storage-set"))},Kt.onsuccess=()=>{re()}}catch(Kt){me(Wn.create("storage-set",{originalErrorMessage:Kt&&Kt.message}))}})})()}delete(I){var O=this;return(0,R.Z)(function*(){const U=yield O.openDbPromise;return new Promise((Q,re)=>{const $e=U.transaction([Jo],"readwrite").objectStore(Jo),Nt=O.createCompositeKey(I);try{const Ct=$e.delete(Nt);Ct.onerror=Kt=>{re(Ba(Kt,"storage-delete"))},Ct.onsuccess=()=>{Q()}}catch(Ct){re(Wn.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Xo{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const O=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),re=yield O;re&&(I.lastFetchStatus=re);const me=yield U;me&&(I.lastSuccessfulFetchTimestampMillis=me);const $e=yield Q;$e&&(I.activeConfig=$e)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Nc(){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,R.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}!function cp(){(0,se._registerComponent)(new ye.wA("remote-config",function C(I,{instanceIdentifier:O}){const U=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Wn.create("registration-window");if(!(0,ne.hl)())throw Wn.create("indexed-db-unavailable");const{projectId:re,apiKey:me,appId:$e}=U.options;if(!re)throw Wn.create("registration-project-id");if(!me)throw Wn.create("registration-api-key");if(!$e)throw Wn.create("registration-app-id");const Nt=new Ac($e,U.name,O=O||"firebase"),Ct=new Xo(Nt),Kt=new le.Yd(kr);Kt.logLevel=le.in.ERROR;const St=new Ys(Q,se.SDK_VERSION,O,re,me,$e),Vr=new Is(St,Nt),vr=new pu(Vr,Nt,Ct,Kt),Ls=new ap(U,vr,Ct,Nt,Kt);return function Zn(C){const I=(0,ne.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ls),Ls},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(kr,"0.3.7"),(0,se.registerVersion)(kr,"0.3.7","esm2017")}();const Ss="/firebase-messaging-sw.js",Ua="/firebase-cloud-messaging-push-scope",Di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ea="google.c.a.c_id",Cl="google.c.a.c_l",Yd="google.c.a.ts",ja="google.c.a.e";var Vi=(()=>{return(C=Vi||(Vi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Vi;var C})();function As(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tl(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),Q=new Uint8Array(U.length);for(let re=0;re<U.length;++re)Q[re]=U.charCodeAt(re);return Q}const Ha="fcm_token_details_db",ta="fcm_token_object_Store";function dp(C){return na.apply(this,arguments)}function na(){return na=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Ha))return null;let I=null;return(yield(0,ne.X3)(Ha,5,function(){var U=(0,R.Z)(function*(Q,re,me,$e){var Nt;if(re<2||!Q.objectStoreNames.contains(ta))return;const Ct=$e.objectStore(ta),Kt=yield Ct.index("fcmSenderId").get(C);if(yield Ct.clear(),Kt)if(2===re){const St=Kt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(Nt=St.createTime)&&void 0!==Nt?Nt:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:As(St.vapidKey)}}}else if(3===re){const St=Kt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:As(St.auth),p256dh:As(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:As(St.vapidKey)}}}else if(4===re){const St=Kt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:As(St.auth),p256dh:As(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:As(St.vapidKey)}}}});return function(Q,re,me,$e){return U.apply(this,arguments)}}())).close(),yield(0,ne.Lj)(Ha),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),mu(I)?I:null}),na.apply(this,arguments)}function mu(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Js="firebase-messaging-store";let wo=null;function _u(){return wo||(wo=(0,ne.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(Js)})),wo}function In(C){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,R.Z)(function*(C){const I=Xs(C),U=yield(yield _u()).transaction(Js).objectStore(Js).get(I);if(U)return U;{const Q=yield dp(C.appConfig.senderId);if(Q)return yield Do(C,Q),Q}})).apply(this,arguments)}function Do(C,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,R.Z)(function*(C,I){const O=Xs(C),Q=(yield _u()).transaction(Js,"readwrite");return yield Q.objectStore(Js).put(I,O),yield Q.complete,I})).apply(this,arguments)}function yu(C){return ra.apply(this,arguments)}function ra(){return(ra=(0,R.Z)(function*(C){const I=Xs(C),U=(yield _u()).transaction(Js,"readwrite");yield U.objectStore(Js).delete(I),yield U.complete})).apply(this,arguments)}function Xs({appConfig:C}){return C.appId}const or=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sl(C,I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,R.Z)(function*(C,I){const O=yield ls(C),U=Dt(I),Q={method:"POST",headers:O,body:JSON.stringify(U)};let re;try{re=yield(yield fetch(Bi(C.appConfig),Q)).json()}catch(me){throw or.create("token-subscribe-failed",{errorInfo:me})}if(re.error)throw or.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw or.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Wr(C,I){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,R.Z)(function*(C,I){const O=yield ls(C),U=Dt(I.subscriptionOptions),Q={method:"PATCH",headers:O,body:JSON.stringify(U)};let re;try{re=yield(yield fetch(`${Bi(C.appConfig)}/${I.token}`,Q)).json()}catch(me){throw or.create("token-update-failed",{errorInfo:me})}if(re.error)throw or.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw or.create("token-update-no-token");return re.token})).apply(this,arguments)}function Co(C,I){return ia.apply(this,arguments)}function ia(){return(ia=(0,R.Z)(function*(C,I){const U={method:"DELETE",headers:yield ls(C)};try{const re=yield(yield fetch(`${Bi(C.appConfig)}/${I}`,U)).json();if(re.error)throw or.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw or.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Bi({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ls(C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,R.Z)(function*({appConfig:C,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Dt({p256dh:C,auth:I,endpoint:O,vapidKey:U}){const Q={web:{endpoint:O,auth:I,p256dh:C}};return U!==Di&&(Q.web.applicationPubKey=U),Q}const $a=6048e5;function Oc(C){return sa.apply(this,arguments)}function sa(){return(sa=(0,R.Z)(function*(C){const I=yield Jd(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:As(I.getKey("auth")),p256dh:As(I.getKey("p256dh"))},U=yield In(C.firebaseDependencies);if(U){if(Al(U.subscriptionOptions,O))return Date.now()>=U.createTime+$a?Qd(C,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield Co(C.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return Se(C.firebaseDependencies,O)}return Se(C.firebaseDependencies,O)})).apply(this,arguments)}function Rc(C){return oa.apply(this,arguments)}function oa(){return(oa=(0,R.Z)(function*(C){const I=yield In(C.firebaseDependencies);I&&(yield Co(C.firebaseDependencies,I.token),yield yu(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Qd(C,I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,R.Z)(function*(C,I){try{const O=yield Wr(C.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield Do(C.firebaseDependencies,U),O}catch(O){throw yield Rc(C),O}})).apply(this,arguments)}function Se(C,I){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,R.Z)(function*(C,I){const U={token:yield Sl(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Do(C,U),U.token})).apply(this,arguments)}function Jd(C,I){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,R.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tl(I)})})).apply(this,arguments)}function Al(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function eo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ui(C,I){if(!I.notification)return;C.notification={};const O=I.notification.title;O&&(C.notification.title=O);const U=I.notification.body;U&&(C.notification.body=U);const Q=I.notification.image;Q&&(C.notification.image=Q)}(I,C),function vu(C,I){!I.data||(C.data=I.data)}(I,C),function qa(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const O=I.fcmOptions.link;O&&(C.fcmOptions.link=O);const U=I.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(I,C),I}function hp(C){return"object"==typeof C&&!!C&&ea in C}function bu(C,I){const O=[];for(let U=0;U<C.length;U++)O.push(C.charAt(U)),U<I.length&&O.push(I.charAt(U));return O.join("")}function la(C){return or.create("missing-app-config-values",{valueName:C})}bu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _r{constructor(I,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function aa(C){if(!C||!C.options)throw la("App Configuration Object");if(!C.name)throw la("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const U of I)if(!O[U])throw la(U);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function us(C){return ua.apply(this,arguments)}function ua(){return(ua=(0,R.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Ss,{scope:Ua}),C.swRegistration.update().catch(()=>{})}catch(I){throw or.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ca(C,I){return hi.apply(this,arguments)}function hi(){return(hi=(0,R.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield us(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw or.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Xd(C,I){return da.apply(this,arguments)}function da(){return(da=(0,R.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Di)})).apply(this,arguments)}function za(){return(za=(0,R.Z)(function*(C,I){if(!navigator)throw or.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw or.create("permission-blocked");return yield Xd(C,null==I?void 0:I.vapidKey),yield ca(C,null==I?void 0:I.serviceWorkerRegistration),Oc(C)})).apply(this,arguments)}function wu(C,I,O){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(C,I,O){const U=eh(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[ea],message_name:O[Cl],message_time:O[Yd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eh(C){switch(C){case Vi.NOTIFICATION_CLICKED:return"notification_open";case Vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Du(){return(Du=(0,R.Z)(function*(C,I){const O=I.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===Vi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(eo(O)):C.onMessageHandler.next(eo(O)));const U=O.data;hp(U)&&"1"===U[ja]&&(yield wu(C,O.messageType,U))})).apply(this,arguments)}const Nl="@firebase/messaging",To=C=>{const I=new _r(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Eu(C,I){return Du.apply(this,arguments)}(I,O)),I},Cu=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:U=>function xc(C,I){return za.apply(this,arguments)}(I,U)}};function Pc(){return Io.apply(this,arguments)}function Io(){return(Io=(0,R.Z)(function*(){try{yield(0,ne.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function th(){(0,se._registerComponent)(new ye.wA("messaging",To,"PUBLIC")),(0,se._registerComponent)(new ye.wA("messaging-internal",Cu,"PRIVATE")),(0,se.registerVersion)(Nl,"0.9.12"),(0,se.registerVersion)(Nl,"0.9.12","esm2017")}();const Iu="analytics",kc="firebase_id",Su="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ml="https://www.googletagmanager.com/gtag/js",ar=new le.Yd("@firebase/analytics");function Fc(C){return Promise.all(C.map(I=>I.catch(O=>O)))}function Lc(C,I){const O=document.createElement("script");O.src=`${Ml}?l=${C}&id=${I}`,O.async=!0,document.head.appendChild(O)}function Ol(C,I,O,U,Q,re){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,R.Z)(function*(C,I,O,U,Q,re){const me=U[Q];try{if(me)yield I[me];else{const Nt=(yield Fc(O)).find(Ct=>Ct.measurementId===Q);Nt&&(yield I[Nt.appId])}}catch($e){ar.error($e)}C("config",Q,re)})).apply(this,arguments)}function rh(C,I,O,U,Q){return io.apply(this,arguments)}function io(){return(io=(0,R.Z)(function*(C,I,O,U,Q){try{let re=[];if(Q&&Q.send_to){let me=Q.send_to;Array.isArray(me)||(me=[me]);const $e=yield Fc(O);for(const Nt of me){const Ct=$e.find(St=>St.measurementId===Nt),Kt=Ct&&I[Ct.appId];if(!Kt){re=[];break}re.push(Kt)}}0===re.length&&(re=Object.values(I)),yield Promise.all(re),C("event",U,Q||{})}catch(re){ar.error(re)}})).apply(this,arguments)}function vm(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(Ml))return I;return null}const yr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kn=new class Yn{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Bc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function er(C){return so.apply(this,arguments)}function so(){return(so=(0,R.Z)(function*(C){var I;const{appId:O,apiKey:U}=C,Q={method:"GET",headers:Bc(U)},re=Su.replace("{app-id}",O),me=yield fetch(re,Q);if(200!==me.status&&304!==me.status){let $e="";try{const Nt=yield me.json();(null===(I=Nt.error)||void 0===I?void 0:I.message)&&($e=Nt.error.message)}catch(Nt){}throw yr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:$e})}return me.json()})).apply(this,arguments)}function Nu(C){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,R.Z)(function*(C,I=kn,O){const{appId:U,apiKey:Q,measurementId:re}=C.options;if(!U)throw yr.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:U};throw yr.create("no-api-key")}const me=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Uc;return setTimeout((0,R.Z)(function*(){$e.abort()}),void 0!==O?O:6e4),ha({appId:U,apiKey:Q,measurementId:re},me,$e,I)})).apply(this,arguments)}function ha(C,I,O){return ji.apply(this,arguments)}function ji(){return(ji=(0,R.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:O},U,Q=kn){const{appId:re,measurementId:me}=C;try{yield Rt(U,I)}catch($e){if(me)return ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:re,measurementId:me};throw $e}try{const $e=yield er(C);return Q.deleteThrottleMetadata(re),$e}catch($e){if(!Mu($e)){if(Q.deleteThrottleMetadata(re),me)return ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:re,measurementId:me};throw $e}const Nt=503===Number($e.customData.httpStatus)?(0,ne.$s)(O,Q.intervalMillis,30):(0,ne.$s)(O,Q.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Nt,backoffCount:O+1};return Q.setThrottleMetadata(re,Ct),ar.debug(`Calling attemptFetch again in ${Nt} millis`),ha(C,Ct,U,Q)}})).apply(this,arguments)}function Rt(C,I){return new Promise((O,U)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),U(yr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Mu(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Uc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function fa(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,R.Z)(function*(){if(!(0,ne.hl)())return ar.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(C){return ar.warn(yr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function oo(){return(oo=(0,R.Z)(function*(C,I,O,U,Q,re,me){var $e;const Nt=Nu(C);Nt.then(vr=>{O[vr.measurementId]=vr.appId,C.options.measurementId&&vr.measurementId!==C.options.measurementId&&ar.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${vr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vr=>ar.error(vr)),I.push(Nt);const Ct=fa().then(vr=>{if(vr)return U.getId()}),[Kt,St]=yield Promise.all([Nt,Ct]);vm()||Lc(re,Kt.measurementId),Q("js",new Date);const Vr=null!==($e=null==me?void 0:me.config)&&void 0!==$e?$e:{};return Vr.origin="firebase",Vr.update=!0,null!=St&&(Vr[kc]=St),Q("config",Kt.measurementId,Vr),Kt.measurementId})).apply(this,arguments)}class Qa{constructor(I){this.app=I}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},Ao=[];const fi={};let No,xs,ao="dataLayer",Ou=!1;function pa(C,I,O){!function Yr(){const C=[];if((0,ne.ru)()&&C.push("This is a browser extension environment."),(0,ne.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),O=yr.create("invalid-analytics-context",{errorInfo:I});ar.warn(O.message)}}();const U=C.options.appId;if(!U)throw yr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw yr.create("no-api-key");ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kr[U])throw yr.create("already-exists",{id:U});if(!Ou){!function Os(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(ao);const{wrappedGtag:re,gtagCore:me}=function Vc(C,I,O,U,Q){let re=function(...me){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function Au(C,I,O,U){function re(){return(re=(0,R.Z)(function*(me,$e,Nt){try{"event"===me?yield rh(C,I,O,$e,Nt):"config"===me?yield Ol(C,I,O,U,$e,Nt):C("set",$e)}catch(Ct){ar.error(Ct)}})).apply(this,arguments)}return function Q(me,$e,Nt){return re.apply(this,arguments)}}(re,C,I,O),{gtagCore:re,wrappedGtag:window[Q]}}(Kr,Ao,fi,ao,"gtag");xs=re,No=me,Ou=!0}return Kr[U]=function fn(C,I,O,U,Q,re,me){return oo.apply(this,arguments)}(C,Ao,fi,I,No,ao,O),new Qa(C)}function Xa(){return(Xa=(0,R.Z)(function*(C,I,O,U,Q){if(Q&&Q.global)C("event",O,U);else{const re=yield I;C("event",O,Object.assign(Object.assign({},U),{send_to:re}))}})).apply(this,arguments)}function Sn(){return ga.apply(this,arguments)}function ga(){return(ga=(0,R.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}const Mo="@firebase/analytics";!function gp(){(0,se._registerComponent)(new ye.wA(Iu,(I,{options:O})=>pa(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new ye.wA("analytics-internal",function C(I){try{const O=I.getProvider(Iu).getImmediate();return{logEvent:(U,Q,re)=>function ih(C,I,O,U){C=(0,ne.m9)(C),function lo(C,I,O,U,Q){return Xa.apply(this,arguments)}(xs,Kr[C.app.options.appId],I,O,U).catch(Q=>ar.error(Q))}(O,U,Q,re)}}catch(O){throw yr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(Mo,"0.7.8"),(0,se.registerVersion)(Mo,"0.7.8","esm2017")}();var ds=P(4408),ma=P(7565);const el=new class rr extends ma.v{}(class Oo extends ds.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,O,U):I.flush(this)}});var Hc=P(4986),tl=P(8306),Jr=P(8505),Hi=P(9468),_a=P(5363);const nl=new u.GfV("7.3.0"),pi="__angularfire_symbol__analyticsIsSupportedValue",ya="__angularfire_symbol__analyticsIsSupported",Pu="__angularfire_symbol__remoteConfigIsSupportedValue",ku="__angularfire_symbol__remoteConfigIsSupported",Fu="__angularfire_symbol__messagingIsSupportedValue",Bt="__angularfire_symbol__messagingIsSupported";function mp(C,I,O){if(I){if(1===I.length)return I[0];const re=I.filter(me=>me.app===O);if(1===re.length)return re[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[ya]||(globalThis[ya]=Sn().then(C=>globalThis[pi]=C).catch(()=>globalThis[pi]=!1)),globalThis[Bt]||(globalThis[Bt]=Pc().then(C=>globalThis[Fu]=C).catch(()=>globalThis[Fu]=!1)),globalThis[ku]||(globalThis[ku]=Nc().then(C=>globalThis[Pu]=C).catch(()=>globalThis[Pu]=!1));const xl=(C,I)=>{const O=I?[I]:(0,$.C6)(),U=[];return O.forEach(Q=>{Q.container.getProvider(C).instances.forEach(me=>{U.includes(me)||U.push(me)})}),U};function va(){}class gi{constructor(I,O=el){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,U){const Q=this.zone;return this.delegate.schedule(function(me){Q.runGuarded(()=>{I.apply(this,[me])})},O,U)}}class Pl{constructor(I){this.zone=I,this.task=null}call(I,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)),O.pipe((0,Jr.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $c=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new gi(Zone.current)),this.insideAngular=O.run(()=>new gi(Zone.current,Hc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function $i(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function sh(C){return $i().ngZone.runOutsideAngular(()=>C())}function An(C){return $i().ngZone.run(()=>C())}function uo(C){return $i(),function kl(C){return function(O){return(O=O.lift(new Pl(C.ngZone))).pipe((0,Hi.R)(C.outsideAngular),(0,_a.Q)(C.insideAngular))}}($i())(C)}const ba=(C,I)=>function(){const U=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),An(()=>C.apply(void 0,U))},Gc=(C,I)=>function(){let O;const U=arguments;for(let re=0;re<arguments.length;re++)"function"==typeof U[re]&&(I&&(O||(O=An(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)))),U[re]=ba(U[re],O));const Q=sh(()=>C.apply(this,U));if(!I){if(Q instanceof tl.y){const re=$i();return Q.pipe((0,Hi.R)(re.outsideAngular),(0,_a.Q)(re.insideAngular))}return An(()=>Q)}return Q instanceof tl.y?Q.pipe(uo):Q instanceof Promise?An(()=>new Promise((re,me)=>Q.then($e=>An(()=>re($e)),$e=>An(()=>me($e))))):"function"==typeof Q&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),Q.apply(this,arguments)}:An(()=>Q)}},573:(pt,Ie,P)=>{P.d(Ie,{$:()=>Oc,A:()=>z,E:()=>zt,G:()=>Fr,I:()=>Is,K:()=>j,L:()=>Dl,M:()=>gu,N:()=>ea,P:()=>nl,Q:()=>Cl,R:()=>Lr,T:()=>Di,U:()=>Vi,V:()=>As,W:()=>dp,X:()=>Ar,Y:()=>Sl,Z:()=>Wr,_:()=>Bi,a:()=>bt,a0:()=>Rc,a1:()=>Qd,a2:()=>Se,a3:()=>Jd,a4:()=>Al,a5:()=>Ui,a6:()=>vu,a7:()=>hp,a8:()=>bu,a9:()=>us,aA:()=>St,aB:()=>kl,aC:()=>yn,aG:()=>kn,aJ:()=>ja,aa:()=>ca,ab:()=>Xd,ae:()=>wu,af:()=>eh,ag:()=>Eu,aj:()=>Js,ak:()=>Tu,am:()=>Su,an:()=>Ol,ao:()=>Mn,ap:()=>et,aq:()=>Ot,ar:()=>Ke,as:()=>Ge,at:()=>sl,au:()=>Ll,av:()=>Oe,aw:()=>te,ax:()=>ie,ay:()=>K,az:()=>Gi,b:()=>Un,c:()=>Lu,d:()=>va,e:()=>mp,f:()=>C,g:()=>me,h:()=>U,i:()=>Yr,j:()=>Ct,k:()=>co,l:()=>rr,m:()=>vp,o:()=>ce,r:()=>Rl,s:()=>Oo,u:()=>Hi,z:()=>Re});var u=P(5861),$=P(2090),R=P(9681),se=P(655),ne=P(1877),ye=P(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pe=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new ne.Yd("@firebase/auth");function it(v,...g){De.logLevel<=ne.in.ERROR&&De.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function Ge(v,...g){throw Qe(v,...g)}function Oe(v,...g){return Qe(v,...g)}function Ne(v,g,_){const E=Object.assign(Object.assign({},Pe()),{[g]:_});return new $.LL("auth","Firebase",E).create(g,{appName:v.name})}function we(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ge(v,"argument-error"),Ne(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(v,...g){if("string"!=typeof v){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(_,...E)}return Be.create(v,...g)}function te(v,g,..._){if(!v)throw Qe(g,..._)}function nt(v){const g="INTERNAL ASSERTION FAILED: "+v;throw it(g),new Error(g)}function et(v,g){v||nt(g)}const oe=new Map;function ie(v){et(v instanceof Function,"Expected a class definition");let g=oe.get(v);return g?(et(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,oe.set(v,g),g)}function he(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Fe(){return"http:"===xt()||"https:"===xt()}function xt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class qe{constructor(g,_){this.shortDelay=g,this.longDelay=_,et(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Xt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fe()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function en(v,g){et(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class pr{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new qe(3e4,6e4);function tn(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function on(v,g,_,E){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(v,g,_,E,N={}){return Er(v,N,(0,u.Z)(function*(){let F={},X={};E&&("GET"===g?X=E:F={body:JSON.stringify(E)});const Me=(0,$.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),ht=yield v._getAdditionalHeaders();return ht["Content-Type"]="application/json",v.languageCode&&(ht["X-Firebase-Locale"]=v.languageCode),pr.fetch()(wi(v,v.config.apiHost,_,Me),Object.assign({method:g,headers:ht,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Er(v,g,_){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(v,g,_){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ln),g);try{const N=new Dr(v),F=yield Promise.race([_(),N.promise]);N.clearNetworkTimeout();const X=yield F.json();if("needConfirmation"in X)throw Sr(v,"account-exists-with-different-credential",X);if(F.ok&&!("errorMessage"in X))return X;{const Me=F.ok?X.errorMessage:X.error.message,[ht,Tt]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw Sr(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===ht)throw Sr(v,"email-already-in-use",X);const Ut=E[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Ne(v,Ut,Tt);Ge(v,Ut)}}catch(N){if(N instanceof $.ZR)throw N;Ge(v,"network-request-failed")}})).apply(this,arguments)}function Ir(v,g,_,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(v,g,_,E,N={}){const F=yield on(v,g,_,E,N);return"mfaPendingCredential"in F&&Ge(v,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function wi(v,g,_,E){const N=`${g}${_}?${E}`;return v.config.emulator?en(v.config,N):`${v.config.apiScheme}://${N}`}class Dr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Oe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(v,g,_){const E={appName:v.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const N=Oe(v,g,E);return N.customData._tokenResponse=_,N}function mt(){return(mt=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function xr(v,g){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function un(v,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ei(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Gr(){return(Gr=(0,u.Z)(function*(v,g=!1){const _=(0,$.m9)(v),E=yield _.getIdToken(g),N=qt(E);te(N&&N.exp&&N.auth_time&&N.iat,_.auth,"internal-error");const F="object"==typeof N.firebase?N.firebase:void 0,X=null==F?void 0:F.sign_in_provider;return{claims:N,token:E,authTime:Ei(yo(N.auth_time)),issuedAtTime:Ei(yo(N.iat)),expirationTime:Ei(yo(N.exp)),signInProvider:X||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function yo(v){return 1e3*Number(v)}function qt(v){const[g,_,E]=v.split(".");if(void 0===g||void 0===_||void 0===E)return it("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(_);return N?JSON.parse(N):(it("Failed to decode base64 JWT payload"),null)}catch(N){return it("Caught error parsing JWT payload as JSON",N),null}}function ut(v,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,u.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof $.ZR&&rs(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function rs({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Wt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const N=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,u.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class is{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(v){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v){var g;const _=v.auth,E=yield v.getIdToken(),N=yield ut(v,un(_,{idToken:E}));te(null==N?void 0:N.users.length,_,"internal-error");const F=N.users[0];v._notifyReloadListener(F);const X=(null===(g=F.providerUserInfo)||void 0===g?void 0:g.length)?We(F.providerUserInfo):[],Me=Zt(v.providerData,X),Ut=!!v.isAnonymous&&!(v.email&&F.passwordHash||(null==Me?void 0:Me.length)),pn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Me,metadata:new is(F.createdAt,F.lastLoginAt),isAnonymous:Ut};Object.assign(v,pn)})).apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(v){const g=(0,$.m9)(v);yield qn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Zt(v,g){return[...v.filter(E=>!g.some(N=>N.providerId===E.providerId)),...g]}function We(v){return v.map(g=>{var{providerId:_}=g,E=(0,se._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function st(){return(st=(0,u.Z)(function*(v,g){const _=yield Er(v,{},(0,u.Z)(function*(){const E=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:F}=v.config,X=wi(v,N,"/v1/token",`key=${F}`),Me=yield v._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",pr.fetch()(X,{method:"POST",headers:Me,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){te(g.idToken,"internal-error"),te(void 0!==g.idToken,"internal-error"),te(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function _t(v){const g=qt(v);return te(g,"internal-error"),te(void 0!==g.exp,"internal-error"),te(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,u.Z)(function*(){return te(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,u.Z)(function*(){const{accessToken:N,refreshToken:F,expiresIn:X}=yield function Te(v,g){return st.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(N,F,Number(X))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:N,expirationTime:F}=_,X=new yt;return E&&(te("string"==typeof E,"internal-error",{appName:g}),X.refreshToken=E),N&&(te("string"==typeof N,"internal-error",{appName:g}),X.accessToken=N),F&&(te("number"==typeof F,"internal-error",{appName:g}),X.expirationTime=F),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new yt,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Lt(v,g){te("string"==typeof v||void 0===v,"internal-error",{appName:g})}class Vt{constructor(g){var{uid:_,auth:E,stsTokenManager:N}=g,F=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new is(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,u.Z)(function*(){const E=yield ut(_,_.stsTokenManager.getToken(_.auth,g));return te(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function Bn(v){return Gr.apply(this,arguments)}(this,g)}reload(){return function Et(v){return zn.apply(this,arguments)}(this)}_assign(g){this!==g&&(te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Vt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,u.Z)(function*(){let N=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),N=!0),_&&(yield qn(E)),yield E.auth._persistUserIfCurrent(E),N&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,u.Z)(function*(){const _=yield g.getIdToken();return yield ut(g,function Ds(v,g){return mt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,N,F,X,Me,ht,Tt,Ut;const pn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Lo=null!==(N=_.email)&&void 0!==N?N:void 0,zi=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Hl=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Wc=null!==(Me=_.tenantId)&&void 0!==Me?Me:void 0,$u=null!==(ht=_._redirectEventId)&&void 0!==ht?ht:void 0,Sm=null!==(Tt=_.createdAt)&&void 0!==Tt?Tt:void 0,Gu=null!==(Ut=_.lastLoginAt)&&void 0!==Ut?Ut:void 0,{uid:wa,emailVerified:Ep,isAnonymous:$l,providerData:qu,stsTokenManager:Dp}=_;te(wa&&Dp,g,"internal-error");const _h=yt.fromJSON(this.name,Dp);te("string"==typeof wa,g,"internal-error"),Lt(pn,g.name),Lt(Lo,g.name),te("boolean"==typeof Ep,g,"internal-error"),te("boolean"==typeof $l,g,"internal-error"),Lt(zi,g.name),Lt(Hl,g.name),Lt(Wc,g.name),Lt($u,g.name),Lt(Sm,g.name),Lt(Gu,g.name);const ol=new Vt({uid:wa,auth:g,email:Lo,emailVerified:Ep,displayName:pn,isAnonymous:$l,photoURL:Hl,phoneNumber:zi,tenantId:Wc,stsTokenManager:_h,createdAt:Sm,lastLoginAt:Gu});return qu&&Array.isArray(qu)&&(ol.providerData=qu.map(Cp=>Object.assign({},Cp))),$u&&(ol._redirectEventId=$u),ol}static _fromIdTokenResponse(g,_,E=!1){return(0,u.Z)(function*(){const N=new yt;N.updateFromServerResponse(_);const F=new Vt({uid:_.localId,auth:g,stsTokenManager:N,isAnonymous:E});return yield qn(F),F})()}}const j=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,E){var N=this;return(0,u.Z)(function*(){N.storage[_]=E})()}_get(_){var E=this;return(0,u.Z)(function*(){const N=E.storage[_];return void 0===N?null:N})()}_remove(_){var E=this;return(0,u.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return v.type="NONE",v})();function K(v,g,_){return`firebase:${v}:${g}:${_}`}class de{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:N,name:F}=this.auth;this.fullUserKey=K(this.userKey,N.apiKey,F),this.fullPersistenceKey=K("persistence",N.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Vt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,u.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,u.Z)(function*(){if(!_.length)return new de(ie(j),g,E);const N=(yield Promise.all(_.map(function(){var Tt=(0,u.Z)(function*(Ut){if(yield Ut._isAvailable())return Ut});return function(Ut){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let F=N[0]||ie(j);const X=K(E,g.config.apiKey,g.name);let Me=null;for(const Tt of _)try{const Ut=yield Tt._get(X);if(Ut){const pn=Vt._fromJSON(g,Ut);Tt!==F&&(Me=pn),F=Tt;break}}catch(Ut){}const ht=N.filter(Tt=>Tt._shouldAllowMigration);return F._shouldAllowMigration&&ht.length?(F=ht[0],Me&&(yield F._set(X,Me.toJSON())),yield Promise.all(_.map(function(){var Tt=(0,u.Z)(function*(Ut){if(Ut!==F)try{yield Ut._remove(X)}catch(pn){}});return function(Ut){return Tt.apply(this,arguments)}}())),new de(F,g,E)):new de(F,g,E)})()}}function k(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ue(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(It(g))return"Blackberry";if(lt(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||ue(g))&&!g.includes("edge/"))return"Chrome";if(Ke(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function V(v=(0,$.z$)()){return/firefox\//i.test(v)}function H(v=(0,$.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ue(v=(0,$.z$)()){return/crios\//i.test(v)}function Ue(v=(0,$.z$)()){return/iemobile/i.test(v)}function Ke(v=(0,$.z$)()){return/android/i.test(v)}function It(v=(0,$.z$)()){return/blackberry/i.test(v)}function lt(v=(0,$.z$)()){return/webos/i.test(v)}function Ot(v=(0,$.z$)()){return/iphone|ipad|ipod/i.test(v)}function Mn(v=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Pr(v=(0,$.z$)()){return Ot(v)||Ke(v)||lt(v)||It(v)||/windows phone/i.test(v)||Ue(v)}function sr(v,g=[]){let _;switch(v){case"Browser":_=k((0,$.z$)());break;case"Worker":_=`${k((0,$.z$)())}-${v}`;break;default:_=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${E}`}class bl{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Je(this),this.idTokenSubscription=new Je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var N,F;if(!E._deleted&&(E.persistenceManager=yield de.create(E,g),!E._deleted)){if(null===(N=E._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(X){}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,u.Z)(function*(){var E;let N=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const F=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,X=null==N?void 0:N._redirectEventId,Me=yield _.tryRedirectSignIn(g);(!F||F===X)&&(null==Me?void 0:Me.user)&&(N=Me.user)}return N?N._redirectEventId?(te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)):_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,u.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(N){yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,u.Z)(function*(){try{yield qn(g)}catch(E){if("auth/network-request-failed"!==E.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function an(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){const E=g?(0,$.m9)(g):null;return E&&te(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){if(!_._deleted)return g&&te(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,u.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,u.Z)(function*(){const N=yield E.getOrInitRedirectPersistenceManager(_);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&ie(g)||_._popupRedirectResolver;te(E,_,"argument-error"),_.redirectPersistenceManager=yield de.create(_,[ie(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,u.Z)(function*(){var E,N;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(N=_.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,u.Z)(function*(){if(g===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,N){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return te(X,this,"internal-error"),X.then(()=>F(this.currentUser)),"function"==typeof _?g.addObserver(_,E,N):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return N&&(E["X-Firebase-Client"]=N),E})()}}function yn(v){return(0,$.m9)(v)}class Je{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zt(v,g,_){const E=yn(v);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const N=!!(null==_?void 0:_.disableWarnings),F=vn(g),{host:X,port:Me}=function kr(v){const g=vn(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(E);if(N){const F=N[1];return{host:F,port:Cs(E.substr(F.length+1))}}{const[F,X]=E.split(":");return{host:F,port:Cs(X)}}}(g);E.config.emulator={url:`${F}//${X}${null===Me?"":`:${Me}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:Me,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function mr(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function vn(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Cs(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Fr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return nt("not implemented")}_getIdTokenResponse(g){return nt("not implemented")}_linkToIdToken(g,_){return nt("not implemented")}_getReauthenticationResolver(g){return nt("not implemented")}}function On(v,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:resetPassword",tn(v,g))})).apply(this,arguments)}function vo(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function wl(v,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",tn(v,g))})).apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signInWithPassword",tn(v,g))})).apply(this,arguments)}function bn(v,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:sendOobCode",tn(v,g))})).apply(this,arguments)}function bo(v,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(v,g){return bn(v,g)})).apply(this,arguments)}function Cn(v,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(v,g){return bn(v,g)})).apply(this,arguments)}function Tc(v,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(v,g){return bn(v,g)})).apply(this,arguments)}function os(v,g){return El.apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(v,g){return bn(v,g)})).apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signInWithEmailLink",tn(v,g))})).apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signInWithEmailLink",tn(v,g))})).apply(this,arguments)}class as extends Fr{constructor(g,_,E,N=null){super("password",E),this._email=g,this._password=_,this._tenantId=N}static _fromEmailAndPassword(g,_){return new as(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new as(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function fu(v,g){return ss.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Yo(v,g){return Qo.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ge(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return vo(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Li(v,g){return pu.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Ge(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ys(v,g){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signInWithIdp",tn(v,g))})).apply(this,arguments)}class Is extends Fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Is(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ge("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:N}=_,F=(0,se._T)(_,["providerId","signInMethod"]);if(!E||!N)return null;const X=new Is(E,N);return X.idToken=F.idToken||void 0,X.accessToken=F.accessToken||void 0,X.secret=F.secret,X.nonce=F.nonce,X.pendingToken=F.pendingToken||null,X}_getIdTokenResponse(g){return Ys(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Ys(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ys(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,$.xO)(_)}return g}}function op(v,g){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:sendVerificationCode",tn(v,g))})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signInWithPhoneNumber",tn(v,g))})).apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(v,g){const _=yield Ir(v,"POST","/v1/accounts:signInWithPhoneNumber",tn(v,g));if(_.temporaryProof)throw Sr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const lp={USER_NOT_FOUND:"user-not-found"};function Ac(){return(Ac=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signInWithPhoneNumber",tn(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),lp)})).apply(this,arguments)}class Xo extends Fr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Xo({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Xo({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function ap(v,g){return Ba.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Jo(v,g){return Sc.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function up(v,g){return Ac.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:N}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:N,temporaryProof:F}=g;return E||_||N||F?new Xo({verificationId:_,verificationCode:E,phoneNumber:N,temporaryProof:F}):null}}class Qs{constructor(g){var _,E,N,F,X,Me;const ht=(0,$.zd)((0,$.pd)(g)),Tt=null!==(_=ht.apiKey)&&void 0!==_?_:null,Ut=null!==(E=ht.oobCode)&&void 0!==E?E:null,pn=function cp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ht.mode)&&void 0!==N?N:null);te(Tt&&Ut&&pn,"argument-error"),this.apiKey=Tt,this.operation=pn,this.code=Ut,this.continueUrl=null!==(F=ht.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(X=ht.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Me=ht.tenantId)&&void 0!==Me?Me:null}static parseLink(g){const _=function ym(v){const g=(0,$.zd)((0,$.pd)(v)).link,_=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,E=(0,$.zd)((0,$.pd)(v)).deep_link_id;return(E?(0,$.zd)((0,$.pd)(E)).link:null)||E||_||g||v}(g);try{return new Qs(_)}catch(E){return null}}}let Dl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,E){return as._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const N=Qs.parseLink(E);return te(N,"argument-error"),as._fromEmailAndCode(_,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ss{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ua extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Di extends Ua{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return te("providerId"in _&&"signInMethod"in _,"argument-error"),Is._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return te(g.idToken||g.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Di.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Di.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:F,nonce:X,providerId:Me}=g;if(!E&&!N&&!_&&!F||!Me)return null;try{return new Di(Me)._credential({idToken:_,accessToken:E,nonce:X,pendingToken:F})}catch(ht){return null}}}let gu=(()=>{class v extends Ua{constructor(){super("facebook.com")}static credential(_){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ea=(()=>{class v extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:N}=_;if(!E&&!N)return null;try{return v.credential(E,N)}catch(F){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Cl=(()=>{class v extends Ua{constructor(){super("github.com")}static credential(_){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ja extends Fr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Ys(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Ys(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ys(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:N,pendingToken:F}=_;return E&&N&&F&&E===N?new ja(E,F):null}static _create(g,_){return new ja(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vi extends Ss{constructor(g){te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Vi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Vi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ja.fromJSON(g);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return ja._create(E,_)}catch(N){return null}}}let As=(()=>{class v extends Ua{constructor(){super("twitter.com")}static credential(_,E){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:N}=_;if(!E||!N)return null;try{return v.credential(E,N)}catch(F){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Tl(v,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signUp",tn(v,g))})).apply(this,arguments)}class Pn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,N=!1){return(0,u.Z)(function*(){const F=yield Vt._fromIdTokenResponse(g,E,N),X=ta(E);return new Pn({user:F,providerId:X,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const N=ta(E);return new Pn({user:g,providerId:N,_tokenResponse:E,operationType:_})})()}}function ta(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function dp(v){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(v){var g;const _=yn(v);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Pn({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Tl(_,{returnSecureToken:!0}),N=yield Pn._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class mu extends $.ZR{constructor(g,_,E,N){var F;super(_.code,_.message),this.operationType=E,this.user=N,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,N){return new mu(g,_,E,N)}}function Mc(v,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?mu._fromErrorAndOperation(v,F,g,E):F})}function Il(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Js(v,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(v,g){const _=(0,$.m9)(v);yield Eo(!0,_,g);const{providerUserInfo:E}=yield xr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),N=Il(E||[]);return _.providerData=_.providerData.filter(F=>N.has(F.providerId)),N.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function _u(v,g){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(v,g,_=!1){const E=yield ut(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return Pn._forOperation(v,"link",E)})).apply(this,arguments)}function Eo(v,g,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,u.Z)(function*(v,g,_){yield qn(g);const N=!1===v?"provider-already-linked":"no-such-provider";te(Il(g.providerData).has(_)===v,g.auth,N)})).apply(this,arguments)}function wn(v,g){return yu.apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(v,g,_=!1){const{auth:E}=v,N="reauthenticate";try{const F=yield ut(v,Mc(E,N,g,v),_);te(F.idToken,E,"internal-error");const X=qt(F.idToken);te(X,E,"internal-error");const{sub:Me}=X;return te(v.uid===Me,E,"user-mismatch"),Pn._forOperation(v,N,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&Ge(E,"user-mismatch"),F}})).apply(this,arguments)}function ra(v,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(v,g,_=!1){const E="signIn",N=yield Mc(v,E,g),F=yield Pn._fromIdTokenResponse(v,E,N);return _||(yield v._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Ar(v,g){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(v,g){return ra(yn(v),g)})).apply(this,arguments)}function Sl(v,g){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(v,g){const _=(0,$.m9)(v);return yield Eo(!1,_,g.providerId),_u(_,g)})).apply(this,arguments)}function Wr(v,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(v,g){return wn((0,$.m9)(v),g)})).apply(this,arguments)}function Co(v,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(v,g){return Ir(v,"POST","/v1/accounts:signInWithCustomToken",tn(v,g))})).apply(this,arguments)}function Bi(v,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(v,g){const _=yn(v),E=yield Co(_,{token:g,returnSecureToken:!0}),N=yield Pn._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ms{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Dt._fromServerResponse(g,_):Ge(g,"internal-error")}}class Dt extends Ms{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Dt(_)}}function $a(v,g,_){var E;te((null===(E=_.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),te(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Oc(v,g,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v),N={requestType:"PASSWORD_RESET",email:g};_&&$a(E,N,_),yield Cn(E,N)})).apply(this,arguments)}function Rc(v,g,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(v,g,_){yield On((0,$.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Qd(v,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(v,g){yield wl((0,$.m9)(v),{oobCode:g})})).apply(this,arguments)}function Se(v,g){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,u.Z)(function*(v,g){const _=(0,$.m9)(v),E=yield On(_,{oobCode:g}),N=E.requestType;switch(te(N,_,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,_,"internal-error");default:te(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=Ms._fromServerResponse(yn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:N}})).apply(this,arguments)}function Jd(v,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(v,g){const{data:_}=yield Se((0,$.m9)(v),g);return _.email})).apply(this,arguments)}function Al(v,g,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(v,g,_){const E=yn(v),N=yield Tl(E,{returnSecureToken:!0,email:g,password:_}),F=yield Pn._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}function Ui(v,g,_){return Ar((0,$.m9)(v),Dl.credential(g,_))}function vu(v,g,_){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v),N={requestType:"EMAIL_SIGNIN",email:g};te(_.handleCodeInApp,E,"argument-error"),_&&$a(E,N,_),yield Tc(E,N)})).apply(this,arguments)}function hp(v,g){const _=Qs.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function bu(v,g,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v),N=Dl.credentialWithLink(g,_||he());return te(N._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ar(E,N)})).apply(this,arguments)}function la(v,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:createAuthUri",tn(v,g))})).apply(this,arguments)}function us(v,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(v,g){const E={identifier:g,continueUri:Fe()?he():"http://localhost"},{signinMethods:N}=yield la((0,$.m9)(v),E);return N||[]})).apply(this,arguments)}function ca(v,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(v,g){const _=(0,$.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&$a(_.auth,N,g);const{email:F}=yield bo(_.auth,N);F!==v.email&&(yield v.reload())})).apply(this,arguments)}function Xd(v,g,_){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&$a(E.auth,F,_);const{email:X}=yield os(E.auth,F);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function xc(v,g){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function wu(v,g){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,$.m9)(v),F={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},X=yield ut(E,xc(E.auth,F));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const Me=E.providerData.find(({providerId:ht})=>"password"===ht);Me&&(Me.displayName=E.displayName,Me.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function eh(v,g){return Du((0,$.m9)(v),g,null)}function Eu(v,g){return Du((0,$.m9)(v),null,g)}function Du(v,g,_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(v,g,_){const{auth:E}=v,F={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(F.email=g),_&&(F.password=_);const X=yield ut(v,vo(E,F));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class To{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class Cu extends To{constructor(g,_,E,N){super(g,_,E),this.username=N}}class th extends To{constructor(g,_){super(g,"facebook.com",_)}}class Pc extends Cu{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Io extends To{constructor(g,_){super(g,"google.com",_)}}class no extends Cu{constructor(g,_,E){super(g,"twitter.com",_,E)}}function Tu(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Wa(v){var g,_;if(!v)return null;const{providerId:E}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},F=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const X=null===(_=null===(g=qt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new To(F,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new th(F,N);case"github.com":return new Pc(F,N);case"google.com":return new Io(F,N);case"twitter.com":return new no(F,N,v.screenName||null);case"custom":case"anonymous":return new To(F,null);default:return new To(F,E,N)}}(_)}class So{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new So("enroll",g)}static _fromMfaPendingCredential(g){return new So("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return So._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return So._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Za{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=yn(g),N=_.customData._serverResponse,F=(N.mfaInfo||[]).map(Me=>Ms._fromServerResponse(E,Me));te(N.mfaPendingCredential,E,"internal-error");const X=So._fromMfaPendingCredential(N.mfaPendingCredential);return new Za(X,F,function(){var Me=(0,u.Z)(function*(ht){const Tt=yield ht._process(E,X);delete N.mfaInfo,delete N.mfaPendingCredential;const Ut=Object.assign(Object.assign({},N),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(_.operationType){case"signIn":const pn=yield Pn._fromIdTokenResponse(E,_.operationType,Ut);return yield E._updateCurrentUser(pn.user),pn;case"reauthenticate":return te(_.user,E,"internal-error"),Pn._forOperation(_.user,_.operationType,Ut);default:Ge(E,"internal-error")}});return function(ht){return Me.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,u.Z)(function*(){return _.signInResolver(g)})()}}function Su(v,g){var _;const E=(0,$.m9)(v),N=g;return te(g.customData.operationType,E,"argument-error"),te(null===(_=N.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Za._fromError(E,N)}function Ml(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:start",tn(v,g))}class Lc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Ms._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Lc(g)}getSession(){var g=this;return(0,u.Z)(function*(){return So._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var E=this;return(0,u.Z)(function*(){const N=g,F=yield E.getSession(),X=yield ut(E.user,N._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(g){var _=this;return(0,u.Z)(function*(){const E="string"==typeof g?g:g.uid,N=yield _.user.getIdToken(),F=yield ut(_.user,function Fc(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(v,g))}(_.user.auth,{idToken:N,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==E),yield _.user._updateTokensIfNecessary(F);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const Os=new WeakMap;function Ol(v){const g=(0,$.m9)(v);return Os.has(g)||Os.set(g,Lc._fromUser(g)),Os.get(g)}const Ka="__sak";class rh{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ka,"1"),this.storage.removeItem(Ka),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Un=(()=>{class v extends rh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function io(){const v=(0,$.z$)();return H(v)||Ot(v)}()&&function Fi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const N=this.storage.getItem(E),F=this.localCache[E];N!==F&&_(E,F,N)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Me,ht,Tt)=>{this.notifyListeners(Me,Tt)});const N=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(N);if(_.newValue!==Me)null!==_.newValue?this.storage.setItem(N,_.newValue):this.storage.removeItem(N);else if(this.localCache[N]===_.newValue&&!E)return}const F=()=>{const Me=this.storage.getItem(N);!E&&this.localCache[N]===Me||this.notifyListeners(N,Me)},X=this.storage.getItem(N);!function Qt(){return(0,$.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const N=this.listeners[_];if(N)for(const F of Array.from(N))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var N=()=>super._set,F=this;return(0,u.Z)(function*(){yield N().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,N=this;return(0,u.Z)(function*(){const F=yield E().call(N,_);return N.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,N=this;return(0,u.Z)(function*(){yield E().call(N,_),delete N.localCache[_]})()}}return v.type="LOCAL",v})(),bt=(()=>{class v extends rh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return v.type="SESSION",v})();let Yn=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const N=new v(_);return this.receivers.push(N),N}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,u.Z)(function*(){const N=_,{eventId:F,eventType:X,data:Me}=N.data,ht=E.handlersMap[X];if(!(null==ht?void 0:ht.size))return;N.ports[0].postMessage({status:"ack",eventId:F,eventType:X});const Tt=Array.from(ht).map(function(){var pn=(0,u.Z)(function*(Lo){return Lo(N.origin,Me)});return function(Lo){return pn.apply(this,arguments)}}()),Ut=yield function En(v){return Promise.all(v.map(function(){var g=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(Tt);N.ports[0].postMessage({status:"done",eventId:F,eventType:X,response:Ut})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function kn(v="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return v+_}class Bc{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var N=this;return(0,u.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let X,Me;return new Promise((ht,Tt)=>{const Ut=kn("",20);F.port1.start();const pn=setTimeout(()=>{Tt(new Error("unsupported_event"))},E);Me={messageChannel:F,onMessage(Lo){const zi=Lo;if(zi.data.eventId===Ut)switch(zi.data.status){case"ack":clearTimeout(pn),X=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),ht(zi.data.response);break;default:clearTimeout(pn),clearTimeout(X),Tt(new Error("invalid_response"))}}},N.handlers.add(Me),F.port1.addEventListener("message",Me.onMessage),N.target.postMessage({eventType:g,eventId:Ut,data:_},[F.port2])}).finally(()=>{Me&&N.removeMessageHandler(Me)})})()}}function er(){return window}function Nu(){return void 0!==er().WorkerGlobalScope&&"function"==typeof er().importScripts}function ha(){return(ha=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Mu="firebaseLocalStorageDb",fa="firebaseLocalStorage",Ya="fbase_key";class fn{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function oo(v,g){return v.transaction([fa],g?"readwrite":"readonly").objectStore(fa)}function Kr(){const v=indexedDB.open(Mu,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(fa,{keyPath:Ya})}catch(N){_(N)}}),v.addEventListener("success",(0,u.Z)(function*(){const E=v.result;E.objectStoreNames.contains(fa)?g(E):(E.close(),yield function Qa(){const v=indexedDB.deleteDatabase(Mu);return new fn(v).toPromise()}(),g(yield Kr()))}))})}function Ao(v,g,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(v,g,_){const E=oo(v,!0).put({[Ya]:g,value:_});return new fn(E).toPromise()})).apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(v,g){const _=oo(v,!1).get(g),E=yield new fn(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function No(v,g){const _=oo(v,!0).delete(g);return new fn(_).toPromise()}const Yr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield Kr()),_.db})()}_withRetries(_){var E=this;return(0,u.Z)(function*(){let N=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(N++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Nu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=Yn._getInstance(function Rt(){return Nu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(N,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(N,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(N,F){return["keyChanged"]});return function(N,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var E,N;if(_.activeServiceWorker=yield function Rs(){return ha.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Bc(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(E=F[0])||void 0===E?void 0:E.fulfilled)&&(null===(N=F[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function ji(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Kr();return yield Ao(_,Ka,"1"),yield No(_,Ka),!0}catch(_){}return!1})()}_withPendingWrite(_){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var N=this;return(0,u.Z)(function*(){return N._withPendingWrite((0,u.Z)(function*(){return yield N._withRetries(F=>Ao(F,_,E)),N.localCache[_]=E,N.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,u.Z)(function*(){const N=yield E._withRetries(F=>function ao(v,g){return Ja.apply(this,arguments)}(F,_));return E.localCache[_]=N,N})()}_remove(_){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(N=>No(N,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const E=yield _._withRetries(X=>{const Me=oo(X,!1).getAll();return new fn(Me).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const N=[],F=new Set;for(const{fbase_key:X,value:Me}of E)F.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(Me)&&(_.notifyListeners(X,Me),N.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!F.has(X)&&(_.notifyListeners(X,null),N.push(X));return N})()}notifyListeners(_,E){this.localCache[_]=E;const N=this.listeners[_];if(N)for(const F of Array.from(N))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function pa(v,g){return on(v,"POST","/v2/accounts/mfaSignIn:start",tn(v,g))}function lr(){return(lr=(0,u.Z)(function*(v){return(yield on(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xu(v){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=N=>{const F=Oe("internal-error");F.customData=N,_(F)},E.type="text/javascript",E.charset="UTF-8",function Ps(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function jn(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ks=1e12;class Ti{constructor(g){this.auth=g,this.counter=ks,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new nr(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||ks;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ks))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,u.Z)(function*(){var E;return null===(E=_._widgets.get(g||ks))||void 0===E||E.execute(),""})()}}class nr{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;te(N,"argument-error",{appName:_}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cs(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sn=jn("rcb"),ga=new qe(3e4,6e4);class Hn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!er().grecaptcha}load(g,_=""){return te(function fp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(er().grecaptcha):new Promise((E,N)=>{const F=er().setTimeout(()=>{N(Oe(g,"network-request-failed"))},ga.get());er()[Sn]=()=>{er().clearTimeout(F),delete er()[Sn];const Me=er().grecaptcha;if(!Me)return void N(Oe(g,"internal-error"));const ht=Me.render;Me.render=(Tt,Ut)=>{const pn=ht(Tt,Ut);return this.counter++,pn},this.hostLanguage=_,E(Me)},xu(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Sn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),N(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!er().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pp{load(g){return(0,u.Z)(function*(){return new Ti(g)})()}clearedOneInstance(){}}const ih="recaptcha",Mo={theme:"light",type:"image"};class Lr{constructor(g,_=Object.assign({},Mo),E){this.parameters=_,this.type=ih,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;te(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pp:new Hn,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const X=Me=>{!Me||(g.tokenChangeListeners.delete(X),F(Me))};g.tokenChangeListeners.add(X),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=er()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){te(Fe()&&!Nu(),g.auth,"internal-error"),yield function gp(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Xa(v){return lr.apply(this,arguments)}(g.auth);te(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ds{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Xo._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Oo(v,g,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(v,g,_){const E=yn(v),N=yield tl(E,g,(0,$.m9)(_));return new ds(N,F=>Ar(E,F))})).apply(this,arguments)}function rr(v,g,_){return el.apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v);yield Eo(!1,E,"phone");const N=yield tl(E.auth,g,(0,$.m9)(_));return new ds(N,F=>Sl(E,F))})).apply(this,arguments)}function Rl(v,g,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v),N=yield tl(E.auth,g,(0,$.m9)(_));return new ds(N,F=>Wr(E,F))})).apply(this,arguments)}function tl(v,g,_){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(v,g,_){var E;const N=yield _.verify();try{let F;if(te("string"==typeof N,v,"argument-error"),te(_.type===ih,v,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const X=F.session;if("phoneNumber"in F)return te("enroll"===X.type,v,"internal-error"),(yield Ml(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{te("signin"===X.type,v,"internal-error");const Me=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return te(Me,v,"missing-multi-factor-info"),(yield pa(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield op(v,{phoneNumber:F.phoneNumber,recaptchaToken:N});return X}}finally{_._reset()}})).apply(this,arguments)}function Hi(v,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(v,g){yield _u((0,$.m9)(v),g)})).apply(this,arguments)}let nl=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=yn(_)}verifyPhoneNumber(_,E){return tl(this.auth,_,(0,$.m9)(E))}static credential(_,E){return Xo._fromVerification(_,E)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:N}=_;return E&&N?Xo._fromTokenResponse(E,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function pi(v,g){return g?ie(g):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ya extends Fr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ys(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Ys(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Ys(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Pu(v){return ra(v.auth,new ya(v),v.bypassAuthState)}function ku(v){const{auth:g,user:_}=v;return te(_,g,"internal-error"),wn(_,new ya(v),v.bypassAuthState)}function Fu(v){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(v){const{auth:g,user:_}=v;return te(_,g,"internal-error"),_u(_,new ya(v),v.bypassAuthState)})).apply(this,arguments)}class rl{constructor(g,_,E,N,F=!1){this.auth=g,this.resolver=E,this.user=N,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,u.Z)(function*(E,N){g.pendingPromise={resolve:E,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(E,N){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:N,postBody:F,tenantId:X,error:Me,type:ht}=g;if(Me)return void _.reject(Me);const Tt={auth:_.auth,requestUri:E,sessionId:N,tenantId:X||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ht)(Tt))}catch(Ut){_.reject(Ut)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Pu;case"linkViaPopup":case"linkViaRedirect":return Fu;case"reauthViaPopup":case"reauthViaRedirect":return ku;default:Ge(this.auth,"internal-error")}}resolve(g){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cr=new qe(2e3,1e4);function Lu(v,g,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(v,g,_){const E=yn(v);we(v,g,Ss);const N=pi(E,_);return new Pl(E,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function mp(v,g,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,Ss);const N=pi(E.auth,_);return new Pl(E.auth,"reauthViaPopup",g,N,E).executeNotNull()})).apply(this,arguments)}function va(v,g,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,Ss);const N=pi(E.auth,_);return new Pl(E.auth,"linkViaPopup",g,N,E).executeNotNull()})).apply(this,arguments)}let Pl=(()=>{class v extends rl{constructor(_,E,N,F,X){super(_,E,F,X),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const E=yield _.execute();return te(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,u.Z)(function*(){et(1===_.filter.length,"Popup operations only handle one event");const E=kn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(N=>{_.reject(N)}),_.resolver._isIframeWebStorageSupported(_.auth,N=>{N||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,N;this.pollId=(null===(N=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Cr.get())};_()}}return v.currentPopupAction=null,v})();const $i=new Map;class sh extends rl{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,u.Z)(function*(){let E=$i.get(_.auth._key());if(!E){try{const F=(yield function An(v,g){return Xr.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(F)}catch(N){E=()=>Promise.reject(N)}$i.set(_.auth._key(),E)}return _.bypassAuthState||$i.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const N=yield E.auth._redirectUserForId(g.eventId);if(N)return E.user=N,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Xr(){return(Xr=(0,u.Z)(function*(v,g){const _=Gc(g),E=ba(v);if(!(yield E._isAvailable()))return!1;const N="true"===(yield E._get(_));return yield E._remove(_),N})).apply(this,arguments)}function oh(v,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(v,g){return ba(v)._set(Gc(g),"true")})).apply(this,arguments)}function kl(){$i.clear()}function ba(v){return ie(v._redirectPersistence)}function Gc(v){return K("pendingRedirect",v.config.apiKey,v.name)}function C(v,g,_){return function I(v,g,_){return O.apply(this,arguments)}(v,g,_)}function O(){return(O=(0,u.Z)(function*(v,g,_){const E=yn(v);we(v,g,Ss);const N=pi(E,_);return yield oh(N,E),N._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function U(v,g,_){return function Q(v,g,_){return re.apply(this,arguments)}(v,g,_)}function re(){return(re=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,Ss);const N=pi(E.auth,_);yield oh(N,E.auth);const F=yield vr(E);return N._openRedirect(E.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function me(v,g,_){return function $e(v,g,_){return Nt.apply(this,arguments)}(v,g,_)}function Nt(){return(Nt=(0,u.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,Ss);const N=pi(E.auth,_);yield Eo(!1,E,g.providerId),yield oh(N,E.auth);const F=yield vr(E);return N._openRedirect(E.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function Ct(v,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,u.Z)(function*(v,g){return yield yn(v)._initializationPromise,St(v,g,!1)})).apply(this,arguments)}function St(v,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(v,g,_=!1){const E=yn(v),N=pi(E,g),X=yield new sh(E,N,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,g)),X})).apply(this,arguments)}function vr(v){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(v){const g=kn(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Gi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Fl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qi(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!qi(g)){const N=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,N))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ii(g))}saveEventToCache(g){this.cachedEventUids.add(Ii(g)),this.lastProcessedEventTime=Date.now()}}function Ii(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function qi({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ll(v){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,u.Z)(function*(v,g={}){return on(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Vu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_p=/^https?/;function ah(){return(ah=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Ll(v);for(const _ of g)try{if(Ro(_))return}catch(E){}Ge(v,"unauthorized-domain")})).apply(this,arguments)}function Ro(v){const g=he(),{protocol:_,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===E?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===E}if(!_p.test(_))return!1;if(Vu.test(v))return E===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(E)}const Bu=new qe(3e4,6e4);function yp(){const v=er().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Uu=null;function wm(v){return Uu=Uu||function h0(v){return new Promise((g,_)=>{var E,N,F;function X(){yp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{yp(),_(Oe(v,"network-request-failed"))},timeout:Bu.get()})}if(null===(N=null===(E=er().gapi)||void 0===E?void 0:E.iframes)||void 0===N?void 0:N.Iframe)g(gapi.iframes.getContext());else{if(!(null===(F=er().gapi)||void 0===F?void 0:F.load)){const Me=jn("iframefcb");return er()[Me]=()=>{gapi.load?X():_(Oe(v,"network-request-failed"))},xu(`https://apis.google.com/js/api.js?onload=${Me}`).catch(ht=>_(ht))}X()}}).catch(g=>{throw Uu=null,g})}(v),Uu}const Em=new qe(5e3,15e3),xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Po=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qc(v){const g=v.config;te(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?en(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},N=Po.get(v.config.apiHost);N&&(E.eid=N);const F=v._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,$.xO)(E).slice(1)}`}function ch(){return ch=(0,u.Z)(function*(v){const g=yield wm(v),_=er().gapi;return te(_,v,"internal-error"),g.open({where:document.body,url:qc(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},E=>new Promise(function(){var N=(0,u.Z)(function*(F,X){yield E.restyle({setHideOnLeave:!1});const Me=Oe(v,"network-request-failed"),ht=er().setTimeout(()=>{X(Me)},Em.get());function Tt(){er().clearTimeout(ht),F(E)}E.ping(Tt).then(Tt,()=>{X(Me)})});return function(F,X){return N.apply(this,arguments)}}()))}),ch.apply(this,arguments)}const Bl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ju{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function sl(v,g,_,E,N,F){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:E,v:R.SDK_VERSION,eventId:N};if(g instanceof Ss){g.setDefaultLanguage(v.languageCode),X.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(X.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ht,Tt]of Object.entries(F||{}))X[ht]=Tt}if(g instanceof Ua){const ht=g.getScopes().filter(Tt=>""!==Tt);ht.length>0&&(X.scopes=ht.join(","))}v.tenantId&&(X.tid=v.tenantId);const Me=X;for(const ht of Object.keys(Me))void 0===Me[ht]&&delete Me[ht];return`${function Tm({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,$.xO)(Me).slice(1)}`}const ph="webStorageSupport",co=class Fo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bt,this._completeRedirectFn=St}_openPopup(g,_,E,N){var F=this;return(0,u.Z)(function*(){var X;et(null===(X=F.eventManagers[g._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Me=sl(g,_,E,he(),N);return function hh(v,g,_,E=500,N=600){const F=Math.max((window.screen.availHeight-N)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let Me="";const ht=Object.assign(Object.assign({},Bl),{width:E.toString(),height:N.toString(),top:F,left:X}),Tt=(0,$.z$)().toLowerCase();_&&(Me=ue(Tt)?"_blank":_),V(Tt)&&(g=g||"http://localhost",ht.scrollbars="yes");const Ut=Object.entries(ht).reduce((Lo,[zi,Hl])=>`${Lo}${zi}=${Hl},`,"");if(function gr(v=(0,$.z$)()){var g;return Ot(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Tt)&&"_self"!==Me)return function ko(v,g){const _=document.createElement("a");_.href=v,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",Me),new ju(null);const pn=window.open(g||"",Me,Ut);te(pn,v,"popup-blocked");try{pn.focus()}catch(Lo){}return new ju(pn)}(g,Me,kn())})()}_openRedirect(g,_,E,N){var F=this;return(0,u.Z)(function*(){return yield F._originValidation(g),function so(v){er().location.href=v}(sl(g,_,E,he(),N)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:N,promise:F}=this.eventManagers[_];return N?Promise.resolve(N):(et(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,u.Z)(function*(){const E=yield function il(v){return ch.apply(this,arguments)}(g),N=new Gi(g);return E.register("authEvent",F=>(te(null==F?void 0:F.authEvent,g,"invalid-auth-event"),{status:N.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:N},_.iframes[g._key()]=E,N})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(ph,{type:ph},N=>{var F;const X=null===(F=null==N?void 0:N[0])||void 0===F?void 0:F[ph];void 0!==X&&_(!!X),Ge(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function bm(v){return ah.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Pr()||H()||Ot()}};class Hu extends class jl{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Hu(g)}_finalizeEnroll(g,_,E){return function ar(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:finalize",tn(v,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function lo(v,g){return on(v,"POST","/v2/accounts/mfaSignIn:finalize",tn(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vp=(()=>{class v{constructor(){}static assertion(_){return Hu._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var gh="@firebase/auth",bp="0.19.12";class mh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var N;g((null===(N=E)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Im(v){(0,R._registerComponent)(new ye.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),{apiKey:F,authDomain:X}=E.options;return((Me,ht)=>{te(F&&!F.includes(":"),"invalid-api-key",{appName:Me.name}),te(!(null==X?void 0:X.includes(":")),"argument-error",{appName:Me.name});const Tt={apiKey:F,authDomain:X,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sr(v)},Ut=new bl(Me,ht,Tt);return function Ce(v,g){const _=(null==g?void 0:g.persistence)||[],E=(Array.isArray(_)?_:[_]).map(ie);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(Ut,_),Ut})(E,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ye.wA("auth-internal",g=>{const _=yn(g.getProvider("auth").getImmediate());return new mh(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(gh,bp,function wp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(gh,bp,"esm2017")}("Browser")},2090:(pt,Ie,P)=>{P.d(Ie,{$s:()=>is,BH:()=>Re,G6:()=>nt,L:()=>pe,LL:()=>Fe,Lj:()=>Lt,Mn:()=>Qe,Sg:()=>Pe,UG:()=>De,US:()=>le,X3:()=>yt,ZB:()=>ee,ZR:()=>he,b$:()=>Oe,d:()=>Ne,eu:()=>oe,hl:()=>et,jU:()=>it,m9:()=>Et,ne:()=>mt,pd:()=>Sr,r3:()=>on,ru:()=>Ge,tV:()=>W,uI:()=>ge,vZ:()=>Ir,w1:()=>we,xO:()=>wi,xb:()=>Er,z$:()=>Be,zI:()=>ie,zd:()=>Dr});var u=P(5861);const ne=function(Z){const j=[];let K=0;for(let de=0;de<Z.length;de++){let k=Z.charCodeAt(de);k<128?j[K++]=k:k<2048?(j[K++]=k>>6|192,j[K++]=63&k|128):55296==(64512&k)&&de+1<Z.length&&56320==(64512&Z.charCodeAt(de+1))?(k=65536+((1023&k)<<10)+(1023&Z.charCodeAt(++de)),j[K++]=k>>18|240,j[K++]=k>>12&63|128,j[K++]=k>>6&63|128,j[K++]=63&k|128):(j[K++]=k>>12|224,j[K++]=k>>6&63|128,j[K++]=63&k|128)}return j},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,j){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let k=0;k<Z.length;k+=3){const V=Z[k],H=k+1<Z.length,ue=H?Z[k+1]:0,Ue=k+2<Z.length,Ke=Ue?Z[k+2]:0;let Ot=(15&ue)<<2|Ke>>6,Mn=63&Ke;Ue||(Mn=64,H||(Ot=64)),de.push(K[V>>2],K[(3&V)<<4|ue>>4],K[Ot],K[Mn])}return de.join("")},encodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Z):this.encodeByteArray(ne(Z),j)},decodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Z):function(Z){const j=[];let K=0,de=0;for(;K<Z.length;){const k=Z[K++];if(k<128)j[de++]=String.fromCharCode(k);else if(k>191&&k<224){const V=Z[K++];j[de++]=String.fromCharCode((31&k)<<6|63&V)}else if(k>239&&k<365){const Ue=((7&k)<<18|(63&Z[K++])<<12|(63&Z[K++])<<6|63&Z[K++])-65536;j[de++]=String.fromCharCode(55296+(Ue>>10)),j[de++]=String.fromCharCode(56320+(1023&Ue))}else{const V=Z[K++],H=Z[K++];j[de++]=String.fromCharCode((15&k)<<12|(63&V)<<6|63&H)}}return j.join("")}(this.decodeStringToByteArray(Z,j))},decodeStringToByteArray(Z,j){this.init_();const K=j?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let k=0;k<Z.length;){const V=K[Z.charAt(k++)],ue=k<Z.length?K[Z.charAt(k)]:0;++k;const Ke=k<Z.length?K[Z.charAt(k)]:64;++k;const lt=k<Z.length?K[Z.charAt(k)]:64;if(++k,null==V||null==ue||null==Ke||null==lt)throw Error();de.push(V<<2|ue>>4),64!==Ke&&(de.push(ue<<4&240|Ke>>2),64!==lt&&de.push(Ke<<6&192|lt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},pe=function(Z){return function(Z){const j=ne(Z);return le.encodeByteArray(j,!0)}(Z).replace(/\./g,"")},W=function(Z){try{return le.decodeString(Z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ee(Z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return j}for(const K in j)!j.hasOwnProperty(K)||!Ze(K)||(Z[K]=ee(Z[K],j[K]));return Z}function Ze(Z){return"__proto__"!==Z}class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,K)=>{this.resolve=j,this.reject=K})}wrapCallback(j){return(K,de)=>{K?this.reject(K):this.resolve(de),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(K):j(K,de))}}}function Pe(Z,j){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=j||"demo-project",k=Z.iat||0,V=Z.sub||Z.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const H=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:k,exp:k+3600,auth_time:k,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(H)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function it(){return"object"==typeof self&&self.self===self}function Ge(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Be().indexOf("Electron/")>=0}function we(){const Z=Be();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Qe(){return Be().indexOf("MSAppHost/")>=0}function nt(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){return"object"==typeof indexedDB}function oe(){return new Promise((Z,j)=>{try{let K=!0;const de="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(de);k.onsuccess=()=>{k.result.close(),K||self.indexedDB.deleteDatabase(de),Z(!0)},k.onupgradeneeded=()=>{K=!1},k.onerror=()=>{var V;j((null===(V=k.error)||void 0===V?void 0:V.message)||"")}}catch(K){j(K)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class he extends Error{constructor(j,K,de){super(K),this.code=j,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(j,K,de){this.service=j,this.serviceName=K,this.errors=de}create(j,...K){const de=K[0]||{},k=`${this.service}/${j}`,V=this.errors[j],H=V?function xt(Z,j){return Z.replace(Xt,(K,de)=>{const k=j[de];return null!=k?String(k):`<${de}?>`})}(V,de):"Error";return new he(k,`${this.serviceName}: ${H} (${k}).`,de)}}const Xt=/\{\$([^}]+)}/g;function on(Z,j){return Object.prototype.hasOwnProperty.call(Z,j)}function Er(Z){for(const j in Z)if(Object.prototype.hasOwnProperty.call(Z,j))return!1;return!0}function Ir(Z,j){if(Z===j)return!0;const K=Object.keys(Z),de=Object.keys(j);for(const k of K){if(!de.includes(k))return!1;const V=Z[k],H=j[k];if(ns(V)&&ns(H)){if(!Ir(V,H))return!1}else if(V!==H)return!1}for(const k of de)if(!K.includes(k))return!1;return!0}function ns(Z){return null!==Z&&"object"==typeof Z}function wi(Z){const j=[];for(const[K,de]of Object.entries(Z))Array.isArray(de)?de.forEach(k=>{j.push(encodeURIComponent(K)+"="+encodeURIComponent(k))}):j.push(encodeURIComponent(K)+"="+encodeURIComponent(de));return j.length?"&"+j.join("&"):""}function Dr(Z){const j={};return Z.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[k,V]=de.split("=");j[decodeURIComponent(k)]=decodeURIComponent(V)}}),j}function Sr(Z){const j=Z.indexOf("?");if(!j)return"";const K=Z.indexOf("#",j);return Z.substring(j,K>0?K:void 0)}function mt(Z,j){const K=new xr(Z,j);return K.subscribe.bind(K)}class xr{constructor(j,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{j(this)}).catch(de=>{this.error(de)})}next(j){this.forEachObserver(K=>{K.next(j)})}error(j){this.forEachObserver(K=>{K.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,K,de){let k;if(void 0===j&&void 0===K&&void 0===de)throw new Error("Missing Observer.");k=function un(Z,j){if("object"!=typeof Z||null===Z)return!1;for(const K of j)if(K in Z&&"function"==typeof Z[K])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:K,complete:de},void 0===k.next&&(k.next=Xn),void 0===k.error&&(k.error=Xn),void 0===k.complete&&(k.complete=Xn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(H){}}),this.observers.push(k),V}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,j)}sendOne(j,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{K(this.observers[j])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function is(Z,j=1e3,K=2){const de=j*Math.pow(K,Z),k=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+k)}function Et(Z){return Z&&Z._delegate?Z._delegate:Z}function zn(Z,j){return new Promise((K,de)=>{Z.onsuccess=k=>{K(k.target.result)},Z.onerror=k=>{var V;de(`${j}: ${null===(V=k.target.error)||void 0===V?void 0:V.message}`)}})}class Zt{constructor(j){this._db=j,this.objectStoreNames=this._db.objectStoreNames}transaction(j,K="readonly"){return new We(this._db.transaction.call(this._db,j,K))}createObjectStore(j,K){return new Te(this._db.createObjectStore(j,K))}close(){this._db.close()}}class We{constructor(j){this._transaction=j,this.complete=new Promise((K,de)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(j){return new Te(this._transaction.objectStore(j))}}class Te{constructor(j){this._store=j}index(j){return new st(this._store.index(j))}createIndex(j,K,de){return new st(this._store.createIndex(j,K,de))}get(j){return zn(this._store.get(j),"Error reading from IndexedDB")}put(j,K){return zn(this._store.put(j,K),"Error writing to IndexedDB")}delete(j){return zn(this._store.delete(j),"Error deleting from IndexedDB")}clear(){return zn(this._store.clear(),"Error clearing IndexedDB object store")}}class st{constructor(j){this._index=j}get(j){return zn(this._index.get(j),"Error reading from IndexedDB")}}function yt(Z,j,K){return new Promise((de,k)=>{try{const V=indexedDB.open(Z,j);V.onsuccess=H=>{de(new Zt(H.target.result))},V.onerror=H=>{var ue;k(`Error opening indexedDB: ${null===(ue=H.target.error)||void 0===ue?void 0:ue.message}`)},V.onupgradeneeded=H=>{K(new Zt(V.result),H.oldVersion,H.newVersion,new We(V.transaction))}}catch(V){k(`Error opening indexedDB: ${V.message}`)}})}function Lt(Z){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(Z){return new Promise((j,K)=>{try{const de=indexedDB.deleteDatabase(Z);de.onsuccess=()=>{j()},de.onerror=k=>{var V;K(`Error deleting indexedDB database "${Z}": ${null===(V=k.target.error)||void 0===V?void 0:V.message}`)}}catch(de){K(`Error deleting indexedDB database "${Z}": ${de.message}`)}})})).apply(this,arguments)}},3986:(pt,Ie,P)=>{var u=P(5e3);let $=null;function R(){return $}const le=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function pe(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let z=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ze(){return new z((0,u.LFG)(le))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(n){const e=(0,u.LFG)(le).location;return new Ge((0,u.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const it=new u.OlP("appBaseHref");let Ge=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Be(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Be(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(it,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Be(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Be(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(it,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe(te(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function Qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Re,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function we(){return new Ne((0,u.LFG)(ge),(0,u.LFG)(ce))}()},providedIn:"root"}),n})();function te(n){return n.replace(/\/index.html$/,"")}const nt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Percent=1]="Percent",et[et.Currency=2]="Currency",et[et.Scientific=3]="Scientific",et))(),ie=(()=>((ie=ie||{})[ie.Format=0]="Format",ie[ie.Standalone=1]="Standalone",ie))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),Ce=(()=>((Ce=Ce||{})[Ce.Short=0]="Short",Ce[Ce.Medium=1]="Medium",Ce[Ce.Long=2]="Long",Ce[Ce.Full=3]="Full",Ce))(),he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Group=1]="Group",he[he.List=2]="List",he[he.PercentSign=3]="PercentSign",he[he.PlusSign=4]="PlusSign",he[he.MinusSign=5]="MinusSign",he[he.Exponential=6]="Exponential",he[he.SuperscriptingExponent=7]="SuperscriptingExponent",he[he.PerMille=8]="PerMille",he[he.Infinity=9]="Infinity",he[he.NaN=10]="NaN",he[he.TimeSeparator=11]="TimeSeparator",he[he.CurrencyDecimal=12]="CurrencyDecimal",he[he.CurrencyGroup=13]="CurrencyGroup",he))();function an(n,e,t){const r=(0,u.cg1)(n),a=$n([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return $n(a,t)}function qe(n,e,t){const r=(0,u.cg1)(n),a=$n([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return $n(a,t)}function sn(n,e){return $n((0,u.cg1)(n)[u.wAp.DateFormat],e)}function tn(n,e){return $n((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function on(n,e){return $n((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function Vn(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(void 0===r){if(e===he.CurrencyDecimal)return t[u.wAp.NumberSymbols][he.Decimal];if(e===he.CurrencyGroup)return t[u.wAp.NumberSymbols][he.Group]}return r}function Sr(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $n(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function un(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Bn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gr={},yo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),_t=(()=>((_t=_t||{})[_t.FullYear=0]="FullYear",_t[_t.Month=1]="Month",_t[_t.Date=2]="Date",_t[_t.Hours=3]="Hours",_t[_t.Minutes=4]="Minutes",_t[_t.Seconds=5]="Seconds",_t[_t.FractionalSeconds=6]="FractionalSeconds",_t[_t.Day=7]="Day",_t))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function qr(n,e,t,r){let i=function ue(n){if(Ke(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return rs(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Bn))return function Ue(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,m,b),e}(r)}const e=new Date(n);if(!Ke(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Wt(t,e)||e;let f,c=[];for(;e;){if(f=yo.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const T=c.pop();if(!T)break;e=T}}let m=i.getTimezoneOffset();r&&(m=k(r,m),i=function H(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function V(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(k(e,i)-i))}(i,r,!0));let b="";return c.forEach(T=>{const A=function de(n){if(K[n])return K[n];let e;switch(n){case"G":case"GG":case"GGG":e=Zt(ut.Eras,ae.Abbreviated);break;case"GGGG":e=Zt(ut.Eras,ae.Wide);break;case"GGGGG":e=Zt(ut.Eras,ae.Narrow);break;case"y":e=Et(_t.FullYear,1,0,!1,!0);break;case"yy":e=Et(_t.FullYear,2,0,!0,!0);break;case"yyy":e=Et(_t.FullYear,3,0,!1,!0);break;case"yyyy":e=Et(_t.FullYear,4,0,!1,!0);break;case"Y":e=j(1);break;case"YY":e=j(2,!0);break;case"YYY":e=j(3);break;case"YYYY":e=j(4);break;case"M":case"L":e=Et(_t.Month,1,1);break;case"MM":case"LL":e=Et(_t.Month,2,1);break;case"MMM":e=Zt(ut.Months,ae.Abbreviated);break;case"MMMM":e=Zt(ut.Months,ae.Wide);break;case"MMMMM":e=Zt(ut.Months,ae.Narrow);break;case"LLL":e=Zt(ut.Months,ae.Abbreviated,ie.Standalone);break;case"LLLL":e=Zt(ut.Months,ae.Wide,ie.Standalone);break;case"LLLLL":e=Zt(ut.Months,ae.Narrow,ie.Standalone);break;case"w":e=Z(1);break;case"ww":e=Z(2);break;case"W":e=Z(1,!0);break;case"d":e=Et(_t.Date,1);break;case"dd":e=Et(_t.Date,2);break;case"c":case"cc":e=Et(_t.Day,1);break;case"ccc":e=Zt(ut.Days,ae.Abbreviated,ie.Standalone);break;case"cccc":e=Zt(ut.Days,ae.Wide,ie.Standalone);break;case"ccccc":e=Zt(ut.Days,ae.Narrow,ie.Standalone);break;case"cccccc":e=Zt(ut.Days,ae.Short,ie.Standalone);break;case"E":case"EE":case"EEE":e=Zt(ut.Days,ae.Abbreviated);break;case"EEEE":e=Zt(ut.Days,ae.Wide);break;case"EEEEE":e=Zt(ut.Days,ae.Narrow);break;case"EEEEEE":e=Zt(ut.Days,ae.Short);break;case"a":case"aa":case"aaa":e=Zt(ut.DayPeriods,ae.Abbreviated);break;case"aaaa":e=Zt(ut.DayPeriods,ae.Wide);break;case"aaaaa":e=Zt(ut.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=Zt(ut.DayPeriods,ae.Abbreviated,ie.Standalone,!0);break;case"bbbb":e=Zt(ut.DayPeriods,ae.Wide,ie.Standalone,!0);break;case"bbbbb":e=Zt(ut.DayPeriods,ae.Narrow,ie.Standalone,!0);break;case"B":case"BB":case"BBB":e=Zt(ut.DayPeriods,ae.Abbreviated,ie.Format,!0);break;case"BBBB":e=Zt(ut.DayPeriods,ae.Wide,ie.Format,!0);break;case"BBBBB":e=Zt(ut.DayPeriods,ae.Narrow,ie.Format,!0);break;case"h":e=Et(_t.Hours,1,-12);break;case"hh":e=Et(_t.Hours,2,-12);break;case"H":e=Et(_t.Hours,1);break;case"HH":e=Et(_t.Hours,2);break;case"m":e=Et(_t.Minutes,1);break;case"mm":e=Et(_t.Minutes,2);break;case"s":e=Et(_t.Seconds,1);break;case"ss":e=Et(_t.Seconds,2);break;case"S":e=Et(_t.FractionalSeconds,1);break;case"SS":e=Et(_t.FractionalSeconds,2);break;case"SSS":e=Et(_t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(qt.Short);break;case"ZZZZZ":e=Te(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(qt.Long);break;default:return null}return K[n]=e,e}(T);b+=A?A(i,t,m):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function rs(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wt(n,e){const t=function xt(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Gr[t]=Gr[t]||{},Gr[t][e])return Gr[t][e];let r="";switch(e){case"shortDate":r=sn(n,Ce.Short);break;case"mediumDate":r=sn(n,Ce.Medium);break;case"longDate":r=sn(n,Ce.Long);break;case"fullDate":r=sn(n,Ce.Full);break;case"shortTime":r=tn(n,Ce.Short);break;case"mediumTime":r=tn(n,Ce.Medium);break;case"longTime":r=tn(n,Ce.Long);break;case"fullTime":r=tn(n,Ce.Full);break;case"short":const i=Wt(n,"shortTime"),a=Wt(n,"shortDate");r=is(on(n,Ce.Short),[i,a]);break;case"medium":const c=Wt(n,"mediumTime"),f=Wt(n,"mediumDate");r=is(on(n,Ce.Medium),[c,f]);break;case"long":const m=Wt(n,"longTime"),b=Wt(n,"longDate");r=is(on(n,Ce.Long),[m,b]);break;case"full":const T=Wt(n,"fullTime"),A=Wt(n,"fullDate");r=is(on(n,Ce.Full),[T,A])}return r&&(Gr[t][e]=r),r}function is(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function qn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),a+c}function Et(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function zn(n,e){switch(n){case _t.FullYear:return e.getFullYear();case _t.Month:return e.getMonth();case _t.Date:return e.getDate();case _t.Hours:return e.getHours();case _t.Minutes:return e.getMinutes();case _t.Seconds:return e.getSeconds();case _t.FractionalSeconds:return e.getMilliseconds();case _t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===_t.Hours)0===f&&-12===t&&(f=12);else if(n===_t.FractionalSeconds)return function dn(n,e){return qn(n,3).substr(0,e)}(f,e);const m=Vn(c,he.MinusSign);return qn(f,e,m,r,i)}}function Zt(n,e,t=ie.Format,r=!1){return function(i,a){return function We(n,e,t,r,i,a){switch(t){case ut.Months:return qe(e,i,r)[n.getMonth()];case ut.Days:return an(e,i,r)[n.getDay()];case ut.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const b=function Ds(n){const e=(0,u.cg1)(n);return Sr(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?un(r):[un(r[0]),un(r[1])])}(e),T=function mt(n,e,t){const r=(0,u.cg1)(n);Sr(r);const a=$n([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return $n(a,t)||[]}(e,i,r),A=b.findIndex(x=>{if(Array.isArray(x)){const[B,G]=x,Y=c>=B.hours&&f>=B.minutes,_e=c<G.hours||c===G.hours&&f<G.minutes;if(B.hours<G.hours){if(Y&&_e)return!0}else if(Y||_e)return!0}else if(x.hours===c&&x.minutes===f)return!0;return!1});if(-1!==A)return T[A]}return function Xt(n,e,t){const r=(0,u.cg1)(n),a=$n([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return $n(a,t)}(e,i,r)[c<12?0:1];case ut.Eras:return function en(n,e){return $n((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,a=Vn(t,he.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+qn(c,2,a)+qn(Math.abs(i%60),2,a);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+qn(c,1,a);case qt.Long:return"GMT"+(i>=0?"+":"")+qn(c,2,a)+":"+qn(Math.abs(i%60),2,a);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+qn(c,2,a)+":"+qn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Vt(n){return rs(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Z(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=Vt(t),c=function Lt(n){const e=rs(n,0,1).getDay();return rs(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return qn(i,n,Vn(r,he.MinusSign))}}function j(n,e=!1){return function(t,r){return qn(Vt(t).getFullYear(),n,Vn(r,he.MinusSign),e)}}const K={};function k(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ke(n){return n instanceof Date&&!isNaN(n.valueOf())}const It=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yn(n,e,t,r,i){const c=function vn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],m=c[1]||"";t.posPre=f.substr(0,f.indexOf("#"));for(let T=0;T<m.length;T++){const A=m.charAt(T);"0"===A?t.minFrac=t.maxFrac=T+1:"#"===A?t.maxFrac=T+1:t.posSuf+=A}const b=f.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,a){const T=i.length-t.posPre.length-t.posSuf.length,A=a.indexOf("#");t.negPre=a.substr(0,A).replace(/'/g,""),t.negSuf=a.substr(A+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Er(n,e){return(0,u.cg1)(n)[u.wAp.NumberFormats][e]}(e,et.Currency),Vn(e,he.MinusSign));return c.minFrac=function Gn(n){let e;const t=nt[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function bl(n,e,t,r,i,a,c=!1){let f="",m=!1;if(isFinite(n)){let b=function Cs(n){let r,i,a,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],c=0;a<=f;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(b=function kr(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let T=e.minInt,A=e.minFrac,x=e.maxFrac;if(a){const ke=a.match(It);if(null===ke)throw new Error(`${a} is not a valid digit info`);const Ye=ke[1],Ve=ke[3],tt=ke[5];null!=Ye&&(T=Fr(Ye)),null!=Ve&&(A=Fr(Ve)),null!=tt?x=Fr(tt):null!=Ve&&A>x&&(x=A)}!function mr(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let A=c;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let A=1;A<c;A++)r[A]=0}if(f>=5)if(c-1<0){for(let A=0;A>c;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let m=0!==a;const b=e+n.integerLen,T=r.reduceRight(function(A,x,B,G){return G[B]=(x+=A)<10?x:x-10,m&&(0===G[B]&&B>=b?G.pop():m=!1),x>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(b,A,x);let B=b.digits,G=b.integerLen;const Y=b.exponent;let _e=[];for(m=B.every(ke=>!ke);G<T;G++)B.unshift(0);for(;G<0;G++)B.unshift(0);G>0?_e=B.splice(G,B.length):(_e=B,B=[0]);const je=[];for(B.length>=e.lgSize&&je.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)je.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&je.unshift(B.join("")),f=je.join(Vn(t,r)),_e.length&&(f+=Vn(t,i)+_e.join("")),Y&&(f+=Vn(t,he.Exponential)+"+"+Y)}else f=Vn(t,he.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,c,e,he.CurrencyGroup,he.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Fr(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class ss{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ss(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),Ks(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ks(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ks(n,e){n.context.$implicit=e.item}let Zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ko("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ko("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Cn{constructor(){this.$implicit=null,this.ngIf=null}}function Ko(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let as=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),n})();let gu=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",a,c){if(!function ea(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function Xn(n,e,t="en"){const r=function wi(n){return(0,u.cg1)(n)[u.wAp.Currencies]}(t)[n]||nt[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",c):i);try{return yn(function Cl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,f,r,a)}catch(m){throw function di(n,e){return new u.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(u.EJc,16))},n.\u0275pipe=u.Yjl({name:"currency",type:n,pure:!0}),n})();let zr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function ta(n){return"server"===n}let Mc=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Il((0,u.LFG)(le),window)}),n})();class Il{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Js(this.window.history)||Js(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Js(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Do extends class Eo extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){$||($=n)}(new Do)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yu(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function Xs(n){ra=ra||document.createElement("a"),ra.setAttribute("href",n);const e=ra.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ra,wn=null;const Ar=new u.OlP("TRANSITION_ID"),Sl=[{provide:u.ip1,useFactory:function or(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Ar,le,u.zs3],multi:!0}];class Ci{static init(){(0,u.VLi)(new Ci)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Wr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ns=new u.OlP("EventManagerPlugins");let Co=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ns),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ia{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Bi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ls=(()=>{class n extends Bi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ms),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ms))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ms(n){R().remove(n)}const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$a=/%COMP%/g;function Se(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Se(n,i,t):(i=i.replace($a,n),t.push(i))}return t}function Gt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Tn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Al(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new vu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new qa(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Se(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Co),u.LFG(ls),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Al{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Dt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Dt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gt(r)):this.eventManager.addEventListener(e,t,Gt(r))}}class vu extends Al{constructor(e,t,r,i){super(e),this.component=r;const a=Se(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Qd(n){return"_ngcontent-%COMP%".replace($a,n)}(i+"-"+r.id),this.hostAttr=function Ga(n){return"_nghost-%COMP%".replace($a,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class qa extends Al{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Se(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hp=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const bu=["alt","control","meta","shift"],la={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_r={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},us={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ua=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(bu.forEach(m=>{const b=r.indexOf(m);b>-1&&(r.splice(b,1),c+=m+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function ca(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&_r.hasOwnProperty(e)&&(e=_r[e]))}return la[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),bu.forEach(a=>{a!=i&&us[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const za=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function hi(){Do.makeCurrent(),Ci.init()},multi:!0},{provide:le,useFactory:function da(){return(0,u.RDi)(document),document},deps:[]}]),wu=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Xd(){return new u.qLn},deps:[]},{provide:Ns,useClass:hp,multi:!0,deps:[le,u.R0b,u.Lbi]},{provide:Ns,useClass:ua,multi:!0,deps:[le]},{provide:Tn,useClass:Tn,deps:[Co,ls,u.AFp]},{provide:u.FYo,useExisting:Tn},{provide:Bi,useExisting:ls},{provide:ls,useClass:ls,deps:[le]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Co,useClass:Co,deps:[Ns,u.R0b]},{provide:class In{},useClass:Wr,deps:[]}];let to=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Ar,useExisting:u.AFp},Sl]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:wu,imports:[zr,u.hGG]}),n})();"undefined"!=typeof window&&window;let io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(Vc),r},providedIn:"root"}),n})(),Vc=(()=>{class n extends io{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Au(n){return new Vc(n.get(le))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var Un=P(8996),yr=P(3269);function bt(...n){const e=(0,yr.yG)(n);return(0,Un.D)(n,e)}var En=P(7579);class Yn extends En.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var kn=P(8306);const{isArray:Bc}=Array,{getPrototypeOf:er,prototype:so,keys:Nu}=Object;function Rs(n){if(1===n.length){const e=n[0];if(Bc(e))return{args:e,keys:null};if(function ha(n){return n&&"object"==typeof n&&er(n)===so}(e)){const t=Nu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ji=P(4671),Rt=P(4004);const{isArray:Mu}=Array;function fa(n){return(0,Rt.U)(e=>function Uc(n,e){return Mu(e)?n(...e):n(e)}(n,e))}function Ya(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var fn=P(5403),oo=P(9672);function Ao(n,e,t){n?(0,oo.f)(t,n,e):e()}var fi=P(576);function ao(n,e){const t=(0,fi.m)(n)?n:()=>n,r=i=>i.error(t());return new kn.y(e?i=>e.schedule(r,0,i):r)}const No=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xs=P(8189);function Ru(...n){return function Ou(){return(0,xs.J)(1)}()((0,Un.D)(n,(0,yr.yG)(n)))}var Yr=P(8421);function pa(n){return new kn.y(e=>{(0,Yr.Xf)(n()).subscribe(e)})}var lo=P(515),Xa=P(727),lr=P(4482);function Ps(){return(0,lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,fn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xu extends kn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,fn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xa.w0.EMPTY)}return e}refCount(){return Ps()(this)}}function jn(n,e){return(0,lr.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,fn.x)(r,m=>{null==i||i.unsubscribe();let b=0;const T=a++;(0,Yr.Xf)(n(m,T)).subscribe(i=(0,fn.x)(r,A=>r.next(e?e(m,A,T,b++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var tr=P(5698);function Qr(...n){const e=(0,yr.yG)(n);return(0,lr.e)((t,r)=>{(e?Ru(n,t,e):Ru(n,t)).subscribe(r)})}function ks(n,e,t,r,i){return(a,c)=>{let f=t,m=e,b=0;a.subscribe((0,fn.x)(c,T=>{const A=b++;m=f?n(m,T,A):(f=!0,T),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}function Ti(n,e){return(0,lr.e)(ks(n,e,arguments.length>=2,!0))}function nr(n,e){return(0,lr.e)((t,r)=>{let i=0;t.subscribe((0,fn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function cs(n){return(0,lr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,fn.x)(t,void 0,void 0,c=>{a=(0,Yr.Xf)(n(c,cs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Sn=P(5577);function ga(n,e){return(0,fi.m)(e)?(0,Sn.z)(n,e,1):(0,Sn.z)(n,1)}function jc(n){return n<=0?()=>lo.E:(0,lr.e)((e,t)=>{let r=[];e.subscribe((0,fn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hn(n=fp){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,fn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fp(){return new No}function pp(n){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,fn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?nr((i,a)=>n(i,a,r)):ji.y,(0,tr.q)(1),t?pp(e):Hn(()=>new No))}var Lr=P(8505);class ds{constructor(e,t){this.id=e,this.url=t}}class Oo extends ds{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ma extends ds{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rr extends ds{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class el extends ds{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rl extends ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hc extends ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tl extends ds{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jr extends ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _a{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ya{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ku{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class rl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cr(n){return new rl(n)}const Lu="ngNavigationCancelingError";function Fs(n){const e=Error("NavigationCancelingError: "+n);return e[Lu]=!0,e}function xl(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function gi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Pl(n[i],e[i]))return!1;return!0}function Pl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function $c(n){return Array.prototype.concat.apply([],n)}function $i(n){return n.length>0?n[n.length-1]:null}function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Un.D)(Promise.resolve(n)):bt(n)}const uo={exact:function C(n,e,t){if(!Ct(n.segments,e.segments)||!Q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!C(n.children[r],e.children[r],t))return!1;return!0},subset:O},kl={exact:function Gc(n,e){return gi(n,e)},subset:function I(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Pl(n[t],e[t]))},ignored:()=>!0};function ba(n,e,t){return uo[t.paths](n.root,e.root,t.matrixParams)&&kl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O(n,e,t){return U(n,e,e.segments,t)}function U(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ct(i,t)||e.hasChildren()||!Q(i,t,r))}if(n.segments.length===t.length){if(!Ct(n.segments,t)||!Q(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!O(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ct(n.segments,i)&&Q(n.segments,i,r)&&n.children[Bt])&&U(n.children[Bt],e,a,r)}}function Q(n,e,t){return e.every((r,i)=>kl[t](n[i].parameters,r.parameters))}class re{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return vr.serialize(this)}}class me{constructor(e,t){this.segments=e,this.children=t,this.parent=null,An(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ls(this)}}class $e{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cr(this.parameters)),this._parameterMap}toString(){return Vu(this)}}function Ct(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class St{}class Vr{parse(e){const t=new wm(e);return new re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hs(e.root,!0)}`,r=function bm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ii(t)}=${Ii(i)}`).join("&"):`${Ii(t)}=${Ii(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function qi(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vr=new Vr;function Ls(n){return n.segments.map(e=>Vu(e)).join("/")}function hs(n,e){if(!n.hasChildren())return Ls(n);if(e){const t=n.children[Bt]?hs(n.children[Bt],!1):"",r=[];return An(n.children,(i,a)=>{a!==Bt&&r.push(`${a}:${hs(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Kt(n,e){let t=[];return An(n.children,(r,i)=>{i===Bt&&(t=t.concat(e(r,i)))}),An(n.children,(r,i)=>{i!==Bt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Bt?[hs(n.children[Bt],!1)]:[`${i}:${hs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${Ls(n)}/${t[0]}`:`${Ls(n)}/(${t.join("//")})`}}function Gi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ii(n){return Gi(n).replace(/%3B/gi,";")}function Fl(n){return Gi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(n){return decodeURIComponent(n)}function Vl(n){return Ll(n.replace(/\+/g,"%20"))}function Vu(n){return`${Fl(n.path)}${function _p(n){return Object.keys(n).map(e=>`;${Fl(e)}=${Fl(n[e])}`).join("")}(n.parameters)}`}const ah=/^[^\/()?;=#]+/;function Ro(n){const e=n.match(ah);return e?e[0]:""}const Bu=/^[^=?&#]+/,h0=/^[^&#]+/;class wm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new me(e,t)),r}parseSegment(){const e=Ro(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $e(Ll(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ro(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ro(this.remaining);i&&(r=i,this.capture(r))}e[Ll(t)]=Ll(r)}parseQueryParam(e){const t=function yp(n){const e=n.match(Bu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Uu(n){const e=n.match(h0);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Vl(t),a=Vl(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ro(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Bt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Bt]:new me([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Em{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uh(e,this._root).map(t=>t.value)}}function lh(n,e){if(n===e.value)return e;for(const t of e.children){const r=lh(n,t);if(r)return r}return null}function uh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uh(n,t);if(r.length)return r.unshift(e),r}return[]}class xo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Po(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qc extends Em{constructor(e,t){super(e),this.snapshot=t,ju(this,e)}toString(){return this.snapshot.toString()}}function il(n,e){const t=function ch(n,e){const c=new Ul([],{},{},"",{},Bt,e,null,n.root,-1,{});return new dh("",new xo(c,[]))}(n,e),r=new Yn([new $e("",{})]),i=new Yn({}),a=new Yn({}),c=new Yn({}),f=new Yn(""),m=new Bl(r,i,c,f,a,Bt,e,t.root);return m.snapshot=t.root,new qc(new xo(m,[]),t)}class Bl{constructor(e,t,r,i,a,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(e=>Cr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(e=>Cr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function zc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ul{constructor(e,t,r,i,a,c,f,m,b,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dh extends Em{constructor(e,t){super(t),this.url=e,ju(this,t)}toString(){return hh(this._root)}}function ju(n,e){e.value._routerState=n,e.children.forEach(t=>ju(n,t))}function hh(n){const e=n.children.length>0?` { ${n.children.map(hh).join(", ")} } `:"";return`${n.value}${e}`}function ko(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gi(e.params,t.params)||n.params.next(t.params),function va(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fh(n,e){const t=gi(n.params,e.params)&&function Nt(n,e){return Ct(n,e)&&n.every((t,r)=>gi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fh(n.parent,e.parent))}function sl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Tm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sl(n,r,i);return sl(n,r)})}(n,e,t);return new xo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>sl(n,f)),c}}const r=function ph(n){return new Bl(new Yn(n.url),new Yn(n.params),new Yn(n.queryParams),new Yn(n.fragment),new Yn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>sl(n,a));return new xo(r,i)}}function co(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jl(n){return"object"==typeof n&&null!=n&&n.outlets}function Hu(n,e,t,r,i){let a={};if(r&&An(r,(f,m)=>{a[m]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new re(t,a,i);const c=vp(n,e,t);return new re(c,a,i)}function vp(n,e,t){const r={};return An(n.children,(i,a)=>{r[a]=i===e?t:vp(i,e,t)}),new me(n.segments,r)}class gh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&co(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(jl);if(i&&i!==$i(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function v(n,e,t){if(n||(n=new me([],{})),0===n.segments.length&&n.hasChildren())return g(n,e,t);const r=function _(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(jl(f))break;const m=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!X(m,b,c))return a;r+=2}else{if(!X(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new me(n.segments.slice(0,r.pathIndex),{});return a.children[Bt]=new me(n.segments.slice(r.pathIndex),n.children),g(a,0,i)}return r.match&&0===i.length?new me(n.segments,{}):r.match&&!n.hasChildren()?E(n,e,t):r.match?g(n,0,i):E(n,e,t)}function g(n,e,t){if(0===t.length)return new me(n.segments,{});{const r=function f0(n){return jl(n[0])?n[0].outlets:{[Bt]:n}}(t),i={};return An(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=v(n.children[c],e,a))}),An(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new me(n.segments,i)}}function E(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(jl(a)){const m=N(a.outlets);return new me(r,m)}if(0===i&&co(t[0])){r.push(new $e(n.segments[e].path,F(t[0]))),i++;continue}const c=jl(a)?a.outlets[Bt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&co(f)?(r.push(new $e(c,F(f))),i+=2):(r.push(new $e(c,{})),i++)}return new me(r,{})}function N(n){const e={};return An(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=E(new me([],{}),0,t))}),e}function F(n){const e={};return An(n,(t,r)=>e[r]=`${t}`),e}function X(n,e,t){return n==t.path&&gi(e,t.parameters)}class ht{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ko(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Po(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),An(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Po(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Po(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Po(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new ku(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ya(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(ko(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),ko(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function Tt(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),m=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=m,c.outlet&&c.outlet.activateWith(i,m),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Ut{constructor(e,t){this.routes=e,this.module=t}}function pn(n){return"function"==typeof n}function zi(n){return n instanceof re}const Gu=Symbol("INITIAL_VALUE");function wa(){return jn(n=>function Qa(...n){const e=(0,yr.yG)(n),t=(0,yr.jO)(n),{args:r,keys:i}=Rs(n);if(0===r.length)return(0,Un.D)([],e);const a=new kn.y(function Kr(n,e,t=ji.y){return r=>{Ao(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)Ao(e,()=>{const b=(0,Un.D)(n[m],e);let T=!1;b.subscribe((0,fn.x)(r,A=>{a[m]=A,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ya(i,c):ji.y));return t?a.pipe(fa(t)):a}(n.map(e=>e.pipe((0,tr.q)(1),Qr(Gu)))).pipe(Ti((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==Gu?i:(a===Gu&&(r=!0),r||!1!==a&&c!==t.length-1&&!zi(a)?i:a),e)},Gu),nr(e=>e!==Gu),(0,Rt.U)(e=>zi(e)?e:!0===e),(0,tr.q)(1)))}class Ep{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $l,this.attachRef=null}}class $l{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ep,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let qu=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new Dp(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($l),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Dp{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bl?this.route:e===$l?this.childContexts:this.parent.get(e,t)}}let _h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[qu],encapsulation:2}),n})();function ol(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Cp(r,Am(e,r))}}function Cp(n,e){n.children&&ol(n.children,e)}function Am(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Nm(n){const e=n.children&&n.children.map(Nm),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=_h),t}function gn(n){return n.outlet||Bt}function Mm(n,e){const t=n.filter(r=>gn(r)===e);return t.push(...n.filter(r=>gn(r)!==e)),t}const p0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zc(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},p0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||xl)(t,n,e);if(!a)return Object.assign({},p0);const c={};An(a.posParams,(m,b)=>{c[b]=m.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function yh(n,e,t,r,i="corrected"){if(t.length>0&&function YD(n,e,t){return t.some(r=>Tp(n,e,r)&&gn(r)!==Bt)}(n,t,r)){const c=new me(e,function KD(n,e,t,r){const i={};i[Bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&gn(a)!==Bt){const c=new me([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[gn(a)]=c}return i}(n,e,r,new me(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function QD(n,e,t){return t.some(r=>Tp(n,e,r))}(n,t,r)){const c=new me(n.segments,function ZD(n,e,t,r,i,a){const c={};for(const f of r)if(Tp(n,t,f)&&!i[gn(f)]){const m=new me([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[gn(f)]=m}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new me(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Tp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function JD(n,e,t,r){return!!(gn(n)===r||r!==Bt&&Tp(e,t,n))&&("**"===n.path||Zc(e,n,t).matched)}function XD(n,e,t){return 0===e.length&&!n.children[t]}class Gl{constructor(e){this.segmentGroup=e||null}}class Si{constructor(e){this.urlTree=e}}function zu(n){return ao(new Gl(n))}function Om(n){return ao(new Si(n))}class Rm{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=yh(this.urlTree.root,[],[],this.config).segmentGroup,t=new me(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Bt).pipe((0,Rt.U)(a=>this.createUrlTree(xm(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cs(a=>{if(a instanceof Si)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Gl?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Bt).pipe((0,Rt.U)(i=>this.createUrlTree(xm(i),e.queryParams,e.fragment))).pipe(cs(i=>{throw i instanceof Gl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new me([],{[Bt]:e}):e;return new re(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Rt.U)(a=>new me([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Un.D)(i).pipe(ga(a=>{const c=r.children[a],f=Mm(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Rt.U)(m=>({segment:m,outlet:a})))}),Ti((a,c)=>(a[c.outlet]=c.segment,a),{}),function ih(n,e){const t=arguments.length>=2;return r=>r.pipe(n?nr((i,a)=>n(i,a,r)):ji.y,jc(1),t?pp(e):Hn(()=>new No))}())}expandSegment(e,t,r,i,a,c){return(0,Un.D)(r).pipe(ga(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(cs(b=>{if(b instanceof Gl)return bt(null);throw b}))),Mo(f=>!!f),cs((f,m)=>{if(f instanceof No||"EmptyError"===f.name)return XD(t,i,a)?bt(new me([],{})):zu(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return JD(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):zu(t):zu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Om(a):this.lineralizeSegments(r,a).pipe((0,Sn.z)(c=>{const f=new me(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:m,remainingSegments:b,positionalParamSegments:T}=Zc(t,i,a);if(!f)return zu(t);const A=this.applyRedirectCommands(m,i.redirectTo,T);return i.redirectTo.startsWith("/")?Om(A):this.lineralizeSegments(i,A).pipe((0,Sn.z)(x=>this.expandSegment(e,t,r,x.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?bt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Rt.U)(A=>(r._loadedConfig=A,new me(i,{})))):bt(new me(i,{}));const{matched:c,consumedSegments:f,remainingSegments:m}=Zc(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Sn.z)(T=>{const A=T.module,x=T.routes,{segmentGroup:B,slicedSegments:G}=yh(t,f,m,x),Y=new me(B.segments,B.children);if(0===G.length&&Y.hasChildren())return this.expandChildren(A,x,Y).pipe((0,Rt.U)(Ye=>new me(f,Ye)));if(0===x.length&&0===G.length)return bt(new me(f,{}));const _e=gn(r)===a;return this.expandSegment(A,Y,x,G,_e?Bt:a,!0).pipe((0,Rt.U)(ke=>new me(f.concat(ke.segments),ke.children)))})):zu(t)}getChildConfig(e,t,r){return t.children?bt(new Ut(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?bt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Sn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Rt.U)(a=>(t._loadedConfig=a,a))):function Ai(n){return ao(Fs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):bt(new Ut([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?bt(i.map(c=>{const f=e.get(c);let m;if(function Hl(n){return n&&pn(n.canLoad)}(f))m=f.canLoad(t,r);else{if(!pn(f))throw new Error("Invalid CanLoad guard");m=f(t,r)}return Xr(m)})).pipe(wa(),(0,Lr.b)(c=>{if(!zi(c))return;const f=Fs(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,Rt.U)(c=>!0===c)):bt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return bt(r);if(i.numberOfChildren>1||!i.children[Bt])return ao(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new re(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return An(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return An(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new me(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function xm(n){const e={};for(const r of Object.keys(n.children)){const a=xm(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function eC(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new me(n.segments.concat(e.segments),e.children)}return n}(new me(n.segments,e))}class _0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,t){this.component=e,this.route=t}}function tC(n,e,t){const r=n._root;return Wu(r,e?e._root:null,t,[r.value])}function Ip(n,e,t){const r=function nC(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Wu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Po(e);return n.children.forEach(c=>{(function rC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function iC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ct(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ct(n.url,e.url)||!gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fh(n,e)||!gi(n.queryParams,e.queryParams);default:return!fh(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new _0(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Wu(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new bh(f.outlet.component,c))}else c&&Zu(e,f,i),i.canActivateChecks.push(new _0(r)),Wu(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),An(a,(c,f)=>Zu(c,t.getContext(f),i)),i}function Zu(n,e,t){const r=Po(n),i=n.value;An(r,(a,c)=>{Zu(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new bh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class v0{}function b0(n){return new kn.y(e=>e.error(n))}class fC{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=yh(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Bt);if(null===t)return null;const r=new Ul([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new xo(r,t),a=new dh(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Dm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=Mm(e,a),m=this.processSegmentGroup(f,c,a);if(null===m)return null;r.push(...m)}const i=Pm(r);return function pC(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return XD(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!JD(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const B=r.length>0?$i(r).parameters:{};a=new Ul(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_C(e),gn(e),e.component,e,Ku(t),Vo(t)+r.length,yC(e))}else{const B=Zc(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,a=new Ul(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_C(e),gn(e),e.component,e,Ku(t),Vo(t)+c.length,yC(e))}const m=function gC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=yh(t,c,f,m.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const B=this.processChildren(m,b);return null===B?null:[new xo(a,B)]}if(0===m.length&&0===T.length)return[new xo(a,[])];const A=gn(e)===i,x=this.processSegment(m,b,T,A?Bt:i);return null===x?null:[new xo(a,x)]}}function mC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Pm(n){const e=[],t=new Set;for(const r of n){if(!mC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Pm(r.children);e.push(new xo(r.value,i))}return e.filter(r=>!t.has(r))}function Ku(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vo(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _C(n){return n.data||{}}function yC(n){return n.resolve||{}}function Ap(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Np(n){return jn(e=>{const t=n(e);return t?(0,Un.D)(t).pipe((0,Rt.U)(()=>e)):bt(e)})}class D0 extends class E0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Eh=new u.OlP("ROUTES");class Mp{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Rt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new Ut($c(c.injector.get(Eh,void 0,u.XFs.Self|u.XFs.Optional)).map(Nm),c)}),cs(a=>{throw t._loader$=void 0,a}));return t._loader$=new xu(i,()=>new En.x).pipe(Ps()),t._loader$}loadModuleFactory(e){return Xr(e()).pipe((0,Sn.z)(t=>t instanceof u.YKP?bt(t):(0,Un.D)(this.compiler.compileModuleAsync(t))))}}class sO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Kc(n){throw n}function Fm(n,e,t){return e.parse("/")}function Lm(n,e){return bt(null)}const bC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vs=(()=>{class n{constructor(t,r,i,a,c,f,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new En.x,this.errorHandler=Kc,this.malformedUriErrorHandler=Fm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lm,afterPreactivation:Lm},this.urlHandlingStrategy=new sO,this.routeReuseStrategy=new D0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const A=c.get(u.R0b);this.isNgZoneEnabled=A instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function oh(){return new re(new me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mp(c,f,x=>this.triggerEvent(new _a(x)),x=>this.triggerEvent(new nl(x))),this.routerState=il(this.currentUrlTree,this.rootComponentType),this.transitions=new Yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(nr(i=>0!==i.id),(0,Rt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),jn(i=>{let a=!1,c=!1;return bt(i).pipe((0,Lr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jn(f=>{const m=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return T0(f.source)&&(this.browserUrlTree=f.extractedUrl),bt(f).pipe(jn(A=>{const x=this.transitions.getValue();return r.next(new Oo(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),x!==this.transitions.getValue()?lo.E:Promise.resolve(A)}),function m0(n,e,t,r){return jn(i=>function vh(n,e,t,r,i){return new Rm(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Rt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Lr.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function w0(n,e,t,r,i){return(0,Sn.z)(a=>function hC(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new fC(n,e,t,r,i,a).recognize();return null===c?b0(new v0):bt(c)}catch(c){return b0(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Rt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Lr.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const x=new Rl(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(x)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:B,source:G,restoredState:Y,extras:_e}=f,je=new Oo(x,this.serializeUrl(B),G,Y);r.next(je);const ke=il(B,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},f),{targetSnapshot:ke,urlAfterRedirects:B,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),lo.E}),Np(f=>{const{targetSnapshot:m,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:x,replaceUrl:B}}=f;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!x,replaceUrl:!!B})}),(0,Lr.b)(f=>{const m=new Hc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,Rt.U)(f=>Object.assign(Object.assign({},f),{guards:tC(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function sC(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?bt(Object.assign(Object.assign({},t),{guardsResult:!0})):function oC(n,e,t,r){return(0,Un.D)(n).pipe((0,Sn.z)(i=>function dC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(f=>{const m=Ip(f,e,i);let b;if(function Sm(n){return n&&pn(n.canDeactivate)}(m))b=Xr(m.canDeactivate(n,e,t,r));else{if(!pn(m))throw new Error("Invalid CanDeactivate guard");b=Xr(m(n,e,t,r))}return b.pipe(Mo())})).pipe(wa()):bt(!0)}(i.component,i.route,t,e,r)),Mo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Sn.z)(f=>f&&function Lo(n){return"boolean"==typeof n}(f)?function Sp(n,e,t,r){return(0,Un.D)(e).pipe(ga(i=>Ru(function lC(n,e){return null!==n&&e&&e(new pi(n)),bt(!0)}(i.route.parent,r),function aC(n,e){return null!==n&&e&&e(new Pu(n)),bt(!0)}(i.route,r),function cC(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function y0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>pa(()=>bt(c.guards.map(m=>{const b=Ip(m,c.node,t);let T;if(function $u(n){return n&&pn(n.canActivateChild)}(b))T=Xr(b.canActivateChild(r,n));else{if(!pn(b))throw new Error("Invalid CanActivateChild guard");T=Xr(b(r,n))}return T.pipe(Mo())})).pipe(wa())));return bt(a).pipe(wa())}(n,i.path,t),function uC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bt(!0);const i=r.map(a=>pa(()=>{const c=Ip(a,e,t);let f;if(function Wc(n){return n&&pn(n.canActivate)}(c))f=Xr(c.canActivate(e,n));else{if(!pn(c))throw new Error("Invalid CanActivate guard");f=Xr(c(e,n))}return f.pipe(Mo())}));return bt(i).pipe(wa())}(n,i.route,t))),Mo(i=>!0!==i,!0))}(r,a,n,e):bt(f)),(0,Rt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Lr.b)(f=>{if(zi(f.guardsResult)){const b=Fs(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const m=new tl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),nr(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Np(f=>{if(f.guards.canActivateChecks.length)return bt(f).pipe((0,Lr.b)(m=>{const b=new Jr(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),jn(m=>{let b=!1;return bt(m).pipe(function iO(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return bt(t);let a=0;return(0,Un.D)(i).pipe(ga(c=>function Ea(n,e,t,r){return function km(n,e,t,r){const i=Ap(n);if(0===i.length)return bt({});const a={};return(0,Un.D)(i).pipe((0,Sn.z)(c=>function vC(n,e,t,r){const i=Ip(n,e,r);return Xr(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Lr.b)(f=>{a[c]=f}))),jc(1),(0,Sn.z)(()=>Ap(a).length===i.length?bt(a):lo.E))}(n._resolve,n,e,r).pipe((0,Rt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Dm(n,t).resolve),null)))}(c.route,r,n,e)),(0,Lr.b)(()=>a++),jc(1),(0,Sn.z)(c=>a===i.length?bt(t):lo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Lr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,Lr.b)(m=>{const b=new Hi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),Np(f=>{const{targetSnapshot:m,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:x,replaceUrl:B}}=f;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!x,replaceUrl:!!B})}),(0,Rt.U)(f=>{const m=function Cm(n,e,t){const r=sl(n,e._root,t?t._root:void 0);return new qc(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),(0,Lr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Rt.U)(r=>(new ht(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Lr.b)({next(){a=!0},complete(){a=!0}}),function gp(n){return(0,lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),cs(f=>{if(c=!0,function mp(n){return n&&n[Lu]}(f)){const m=zi(f.url);m||(this.navigated=!0,this.restoreHistory(i,!0));const b=new rr(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),m?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||T0(i.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new el(i.id,this.serializeUrl(i.extractedUrl),f);r.next(m);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return lo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const m=Object.assign({},c);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ol(t),this.config=t.map(Nm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,b=i||this.routerState.root,T=m?this.currentUrlTree.fragment:c;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function Fo(n,e,t,r,i){if(0===t.length)return Hu(e.root,e.root,e.root,r,i);const a=function bp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return An(a.outlets,(m,b)=>{f[b]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new gh(t,e,r)}(t);if(a.toRoot())return Hu(e.root,e.root,new me([],{}),r,i);const c=function wp(n,e,t){if(n.isAbsolute)return new mh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new mh(a,a===e.root,0)}const r=co(n.commands[0])?0:1;return function Im(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new mh(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?g(c.segmentGroup,c.index,a.commands):v(c.segmentGroup,c.index,a.commands);return Hu(e.root,c.segmentGroup,f,r,i)}(b,this.currentUrlTree,t,A,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=zi(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function wC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},bC):!1===r?Object.assign({},Vm):r,zi(t))return ba(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ba(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ma(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,m;if(this.disposed)return Promise.resolve(!1);let b,T,A;c?(b=c.resolve,T=c.reject,A=c.promise):A=new Promise((G,Y)=>{b=G,T=Y});const x=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):B=0,this.setTransition({id:x,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:T,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new rr(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function T0(n){return"imperative"!==n}let Op=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.commands=null,this.onChanges=new En.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Yc(this.skipLocationChange),replaceUrl:Yc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Vs),u.Y36(Bl),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function Yc(n){return""===n||!!n}class jm{}class S0{preload(e,t){return bt(null)}}let A0=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Mp(i,r,m=>t.triggerEvent(new _a(m)),m=>t.triggerEvent(new nl(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(nr(t=>t instanceof ma),ga(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Un.D)(i).pipe((0,xs.J)(),(0,Rt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?bt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Sn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vs),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(jm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Rp=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ma&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Fu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs=new u.OlP("ROUTER_CONFIGURATION"),$m=new u.OlP("ROUTER_FORROOT_GUARD"),N0=[Ne,{provide:St,useClass:Vr},{provide:Vs,useFactory:function qm(n,e,t,r,i,a,c={},f,m){const b=new Vs(null,n,e,t,r,i,$c(a));return f&&(b.urlHandlingStrategy=f),m&&(b.routeReuseStrategy=m),function R0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(T=>{var A,x;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(x=console.groupEnd)||void 0===x||x.call(console)}),b},deps:[St,$l,Ne,u.zs3,u.Sil,Eh,Bs,[class C0{},new u.FiY],[class wh{},new u.FiY]]},$l,{provide:Bl,useFactory:function xp(n){return n.routerState.root},deps:[Vs]},A0,S0,class Hm{preload(e,t){return t().pipe(cs(()=>bt(null)))}},{provide:Bs,useValue:{enableTracing:!1}}];function DC(){return new u.PXZ("Router",Vs)}let Dh=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[N0,Gm(t),{provide:$m,useFactory:O0,deps:[[Vs,new u.FiY,new u.tp0]]},{provide:Bs,useValue:r||{}},{provide:ge,useFactory:M0,deps:[ce,[new u.tBr(it),new u.FiY],Bs]},{provide:Rp,useFactory:CC,deps:[Vs,Mc,Bs]},{provide:jm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:S0},{provide:u.PXZ,multi:!0,useFactory:DC},[Qc,{provide:u.ip1,multi:!0,useFactory:x0,deps:[Qc]},{provide:Wm,useFactory:zm,deps:[Qc]},{provide:u.tb,multi:!0,useExisting:Wm}]]}}static forChild(t){return{ngModule:n,providers:[Gm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($m,8),u.LFG(Vs,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function CC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Rp(n,e,t)}function M0(n,e,t={}){return t.useHash?new Oe(n,e):new Ge(n,e)}function O0(n){return"guarded"}function Gm(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Eh,multi:!0,useValue:n}]}let Qc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new En.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Vs),c=this.injector.get(Bs);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Bs),i=this.injector.get(A0),a=this.injector.get(Rp),c=this.injector.get(Vs),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function x0(n){return n.appInitializer.bind(n)}function zm(n){return n.bootstrapListener.bind(n)}const Wm=new u.OlP("Router Initializer");let TC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-grid"]],decls:232,vars:0,consts:[["id","page-top"],[1,"presentacion"],["id","portfolio",1,"page-section","portfolio"],[1,"container"],[1,"divider-custom",2,"padding-top","5%"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4","mb-5"],["data-bs-toggle","modal","data-bs-target","#portfolioModal1",1,"portfolio-item","mx-auto"],[2,"text-align","center"],["data-bs-toggle","modal","data-bs-target","#portfolioModal2",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal3",1,"portfolio-item","mx-auto"],[1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal4",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal5",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal6",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal7",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal8",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal9",1,"portfolio-item","mx-auto"],[1,"divider-custom"],["id","portfolioModal1","tabindex","-1","aria-labelledby","portfolioModal1","aria-hidden","true",1,"portfolio-modal","modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center","pb-5"],[1,"col-lg-8"],[1,"portfolio-modal-title","text-secondary","text-uppercase","mb-0"],[1,"mb-4"],["data-bs-dismiss","modal","routerLink","/oportunidades",1,"btn"],[1,"fas","fa-info"],["id","portfolioModal2","tabindex","-1","aria-labelledby","portfolioModal2","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/mascotas",1,"btn"],["id","portfolioModal3","tabindex","-1","aria-labelledby","portfolioModal3","aria-hidden","true",1,"portfolio-modal","modal","fade"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el servivio de limpieza muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"],["id","portfolioModal4","tabindex","-1","aria-labelledby","portfolioModal4","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/fletes",1,"btn"],["id","portfolioModal5","tabindex","-1","aria-labelledby","portfolioModal5","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el servivio de consultoria, negocios y remodelacion.","target","_blank",1,"fab"],[1,"btn","fab","fa-whatsapp"],["id","portfolioModal6","tabindex","-1","aria-labelledby","portfolioModal6","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el servivio de Vidreria y cerramientos de aluminio.","target","_blank",1,"fab"],["id","portfolioModal7","tabindex","-1","aria-labelledby","portfolioModal7","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/refrigeracion",1,"btn"],["id","portfolioModal8","tabindex","-1","aria-labelledby","portfolioModal8","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/aires",1,"btn"],["id","portfolioModal9","tabindex","-1","aria-labelledby","portfolioModal9","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal",1,"btn"]],template:function(t,r){1&t&&(u.TgZ(0,"body",0)(1,"h2",1),u._uU(2," CNI cuenta con un acuerdo con estas empresas con la finalidad de brindarle soluciones a diferentes necesidades de mantenimiento, instalaciones, remodelaciones y compras de su empresa o de su hogar "),u.qZA(),u.TgZ(3,"section",2)(4,"div",3)(5,"div",4),u._UZ(6,"div",5),u.TgZ(7,"div",6),u._UZ(8,"i",7),u.qZA(),u._UZ(9,"div",5),u.qZA(),u.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div")(15,"h3"),u._uU(16,"OPORTUNIDADES"),u.qZA()()()()(),u.TgZ(17,"div",9)(18,"div",12)(19,"div",11)(20,"div")(21,"h3"),u._uU(22,"MASCOTAS"),u.qZA()()()()(),u.TgZ(23,"div",9)(24,"div",13)(25,"div",11)(26,"div")(27,"h3"),u._uU(28,"SIMOCA LIMP"),u.qZA()()()()(),u.TgZ(29,"div",9)(30,"div",14)(31,"div",15)(32,"div",11)(33,"div")(34,"h3"),u._uU(35,"MINI FLETES"),u.qZA()()()()()(),u.TgZ(36,"div",9)(37,"div",16)(38,"div",11)(39,"div")(40,"h3"),u._uU(41,"CONSULTORIA"),u.qZA()()()()(),u.TgZ(42,"div",9)(43,"div",17)(44,"div",11)(45,"div")(46,"h3"),u._uU(47,"VIDRIERIA"),u.qZA()()()()(),u.TgZ(48,"div",9)(49,"div",18)(50,"div",11)(51,"div")(52,"div")(53,"h3"),u._uU(54,"REFRIGERACION"),u.qZA()()()()()(),u.TgZ(55,"div",9)(56,"div",19)(57,"div",11)(58,"div")(59,"h3"),u._uU(60,"AIRES ACONDICIONADOS"),u.qZA()()()()(),u.TgZ(61,"div",9)(62,"div",20)(63,"div",11)(64,"div")(65,"h3"),u._uU(66,"REPARACION MAQUINAS"),u.qZA()()()()(),u.TgZ(67,"div",21),u._UZ(68,"div",5),u.TgZ(69,"div",6),u._UZ(70,"i",7),u.qZA(),u._UZ(71,"div",5),u.qZA()()()(),u.TgZ(72,"div",22)(73,"div",23)(74,"div",24)(75,"div",25),u._UZ(76,"button",26),u.qZA(),u.TgZ(77,"div",27)(78,"div",3)(79,"div",8)(80,"div",28)(81,"h2",29),u._uU(82," \xa1Aprovecha nuestras oportunidades! "),u.qZA(),u._UZ(83,"br"),u.TgZ(84,"p",30),u._uU(85," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia neque assumenda ipsam nihil, molestias magnam, recusandae quos quis inventore quisquam velit asperiores, vitae? Reprehenderit soluta, eos quod consequuntur itaque. Nam. "),u.qZA(),u.TgZ(86,"button",31),u._UZ(87,"i",32),u._uU(88," MAS INFORMACION "),u.qZA()()()()()()()(),u.TgZ(89,"div",33)(90,"div",23)(91,"div",24)(92,"div",25),u._UZ(93,"button",26),u.qZA(),u.TgZ(94,"div",27)(95,"div",3)(96,"div",8)(97,"div",28)(98,"h2",29),u._uU(99," \xa1Selecciona el producto, te lo llevamos! "),u.qZA(),u._UZ(100,"br"),u.TgZ(101,"p"),u._uU(102,"\xa1Selecciona el producto, te lo llevamos!"),u.qZA(),u.TgZ(103,"p",30),u._uU(104," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia neque assumenda ipsam nihil, molestias magnam, recusandae quos quis inventore quisquam velit asperiores, vitae? Reprehenderit soluta, eos quod consequuntur itaque. Nam. "),u.qZA(),u.TgZ(105,"button",34),u._UZ(106,"i",32),u._uU(107," MAS INFORMACION "),u.qZA()()()()()()()(),u.TgZ(108,"div",35)(109,"div",23)(110,"div",24)(111,"div",25),u._UZ(112,"button",26),u.qZA(),u.TgZ(113,"div",27)(114,"div",3)(115,"div",8)(116,"div",28)(117,"h2",29),u._uU(118," Servicio de limpieza "),u.qZA(),u._UZ(119,"br"),u.TgZ(120,"p",30),u._uU(121," Nuestra empresa se dedica al servicio de limpieza de oficinas laboratorios consorcios escuelas y finales de obra contamos con la maquinaria necesaria y el personal adecuado para realizar el trabajo tenemos experiencia de 6 a\xf1os en el rubro "),u.qZA(),u._UZ(122,"link",36),u.TgZ(123,"a",37)(124,"i",38),u._uU(125,"CONTACTANOS"),u.qZA()()()()()()()()(),u.TgZ(126,"div",39)(127,"div",23)(128,"div",24)(129,"div",25),u._UZ(130,"button",26),u.qZA(),u.TgZ(131,"div",27)(132,"div",3)(133,"div",8)(134,"div",28)(135,"h2",29),u._uU(136," Necesitas un flete "),u.qZA(),u._UZ(137,"br"),u.TgZ(138,"p",30),u._uU(139," Te estas mudando o compraste cosas que necesitas trasladar hasta tu casa, empresa o negocio, solo completa los cuadros de donde salis hasta donde deseas trasladar tu envio y te cotizamos al instante. "),u.qZA(),u.TgZ(140,"button",40),u._UZ(141,"i",32),u._uU(142," MAS INFORMACION "),u.qZA()()()()()()()(),u.TgZ(143,"div",41)(144,"div",23)(145,"div",24)(146,"div",25),u._UZ(147,"button",26),u.qZA(),u.TgZ(148,"div",27)(149,"div",3)(150,"div",8)(151,"div",28)(152,"h2",29),u._uU(153," Consultoria CNI "),u.qZA(),u._UZ(154,"br"),u.TgZ(155,"p",30),u._uU(156," \u2022Tenes un negocio o comercio y mermaron tus ventas, quieres una nueva imagen o no sabes como mejorar o fidelizar a tus clientes. Tu local necesita una refaccion? Nosotros te visitamos hacemos un estudio de tu caso y te sugerimos los cambios que deberias llevar a delante "),u.qZA(),u.TgZ(157,"p"),u._uU(158," \u2022 Nuestra visita para ver la factibilidad tiene un costo bajo, solo de $2000. Este costo se te cobra solo por el viaje y el tiempo de entrevista si vemos que es posible mejorar despues te proveemos un costo final. "),u.qZA(),u._UZ(159,"link",36),u.TgZ(160,"a",42)(161,"i",43),u._uU(162,"CONTACTANOS"),u.qZA()()()()()()()()(),u.TgZ(163,"div",44)(164,"div",23)(165,"div",24)(166,"div",25),u._UZ(167,"button",26),u.qZA(),u.TgZ(168,"div",27)(169,"div",3)(170,"div",8)(171,"div",28)(172,"h2",29),u._uU(173," Vidreria y cerramiento "),u.qZA(),u._UZ(174,"br"),u.TgZ(175,"p",30),u._uU(176," Vidrier\xeda Calder\xf3n venta de vidrios laminados aberturas mamparas de ba\xf1o frentes templados venta y reparaci\xf3n de mosquiteros "),u.qZA(),u._UZ(177,"link",36),u.TgZ(178,"a",45)(179,"i",38),u._uU(180,"CONTACTANOS"),u.qZA()()()()()()()()(),u.TgZ(181,"div",46)(182,"div",23)(183,"div",24)(184,"div",25),u._UZ(185,"button",26),u.qZA(),u.TgZ(186,"div",27)(187,"div",3)(188,"div",8)(189,"div",28)(190,"h2",29),u._uU(191," \xa1Selecciona el producto, te lo llevamos! "),u.qZA(),u._UZ(192,"br"),u.TgZ(193,"p",30),u._uU(194," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia neque assumenda ipsam nihil, molestias magnam, recusandae quos quis inventore quisquam velit asperiores, vitae? Reprehenderit soluta, eos quod consequuntur itaque. Nam. "),u.qZA(),u.TgZ(195,"button",47),u._UZ(196,"i",32),u._uU(197," MAS INFORMACION "),u.qZA()()()()()()()(),u.TgZ(198,"div",48)(199,"div",23)(200,"div",24)(201,"div",25),u._UZ(202,"button",26),u.qZA(),u.TgZ(203,"div",27)(204,"div",3)(205,"div",8)(206,"div",28)(207,"h2",29),u._uU(208," AIRES ACONDICIONADOS "),u.qZA(),u._UZ(209,"br"),u.TgZ(210,"p",30),u._uU(211," Nuestra empresa se dedica desde el a\xf1o 2008 a la instalacion de aire acondicionado tipo pared y split, unidades separadas ya sea en domicilios particulares o empresas, brindamos garantia de 6 meses por instalacion. Ofrecemos tambien abonos de mantenimiento una vez instalados los equipos y transcurridos los 6 meses de garantia "),u.qZA(),u.TgZ(212,"button",49),u._UZ(213,"i",32),u._uU(214," MAS INFORMACION "),u.qZA()()()()()()()(),u.TgZ(215,"div",50)(216,"div",23)(217,"div",24)(218,"div",25),u._UZ(219,"button",26),u.qZA(),u.TgZ(220,"div",27)(221,"div",3)(222,"div",8)(223,"div",28)(224,"h2",29),u._uU(225," Reparacion de maquinas en taller "),u.qZA(),u._UZ(226,"br"),u.TgZ(227,"p",30),u._uU(228," Nuestra empresa se dedica desde el a\xf1o 2008 a la instalacion de aires acondicionado tipo pared y split unidades separadas ya sea en domicilios particulares o empresas, brindamos garantia de 6 meses por instalacion. Ofrecemos tambien bonos de mantenimiento una vez instalados los equipos y transcurridos los 6 meses de garantia. "),u.qZA(),u.TgZ(229,"button",51),u._UZ(230,"i",32),u._uU(231," MAS INFORMACION "),u.qZA()()()()()()()()())},directives:[Op],styles:[""]}),n})(),P0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-grid")},directives:[TC],styles:[""]}),n})(),IC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-aires"]],decls:73,vars:0,consts:[[1,"container"],[1,"presentacion",2,"text-align","center"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],[2,"color","white"],[1,"row",2,"color","white"],[2,"text-align","center"],[1,"table","table-image"],["scope","col",2,"color","white"],[2,"color","white","font-size","larger"],[2,"color","white","font-size","larger","padding-left","15%"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado con la instalacion de aires acondicionados. %0D%0A Muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"]],template:function(t,r){1&t&&(u.TgZ(0,"body"),u._UZ(1,"br"),u.TgZ(2,"div",0)(3,"h2",1),u._uU(4," Productos de Refrigeracion "),u.qZA()(),u.TgZ(5,"div",2),u._UZ(6,"div",3),u.TgZ(7,"div",4),u._UZ(8,"i",5),u.qZA(),u._UZ(9,"div",3),u.qZA(),u.TgZ(10,"div")(11,"div")(12,"h3",6),u._uU(13,"Compra de productos de refrigeracion"),u.qZA(),u._UZ(14,"br")(15,"br"),u.TgZ(16,"div",0)(17,"label",7),u._uU(18,"Selecciona el producto, te lo llevamos!"),u.qZA(),u.TgZ(19,"div",8)(20,"div",9)(21,"table",10)(22,"thead")(23,"tr")(24,"th",11),u._uU(25,"Descripcion"),u.qZA(),u.TgZ(26,"th",11),u._uU(27,"Sobre piso"),u.qZA(),u.TgZ(28,"th",11),u._uU(29,"En vacio"),u.qZA()()(),u.TgZ(30,"tbody")(31,"tr")(32,"td",12),u._uU(33," 2200 a 3000 frigorias "),u.qZA(),u.TgZ(34,"td",12),u._uU(35,"$11.200"),u.qZA(),u.TgZ(36,"td",12),u._uU(37,"$16.000"),u.qZA()(),u.TgZ(38,"tr")(39,"td",12),u._uU(40," 3000 a 4500 frigorias "),u.qZA(),u.TgZ(41,"td",12),u._uU(42,"$11.900"),u.qZA(),u.TgZ(43,"td",12),u._uU(44,"$17.000"),u.qZA()(),u.TgZ(45,"tr")(46,"td",12),u._uU(47," 4500 a 6000 frigorias "),u.qZA(),u.TgZ(48,"td",12),u._uU(49,"$14.875"),u.qZA(),u.TgZ(50,"td",12),u._uU(51,"$6.000"),u.qZA()(),u.TgZ(52,"tr")(53,"td",12),u._uU(54," Revision + carga de gas "),u.qZA(),u.TgZ(55,"td",12),u._uU(56,"$6.000"),u.qZA(),u.TgZ(57,"td",12),u._uU(58,"$8.000"),u.qZA()(),u.TgZ(59,"tr")(60,"td",12),u._uU(61,"Visita"),u.qZA(),u.TgZ(62,"td",13),u._uU(63,"$600"),u.qZA(),u._UZ(64,"td",12),u.qZA()()()()()(),u.TgZ(65,"div",14),u._uU(66," >"),u._UZ(67,"link",15),u.TgZ(68,"a",16)(69,"i",17),u._uU(70,"CONSULTA STOCK"),u.qZA()()(),u._UZ(71,"br")(72,"br"),u.qZA()()())},styles:[""]}),n})(),Km=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),al=(()=>{class n extends Km{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Wi=new u.OlP("NgValueAccessor"),AC={provide:Wi,useExisting:(0,u.Gpc)(()=>Ch),multi:!0},NC=new u.OlP("CompositionEventMode");let Ch=(()=>{class n extends Km{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function k0(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(NC,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([AC]),u.qOj]}),n})();const ti=new u.OlP("NgValidators"),ql=new u.OlP("NgAsyncValidators");function V0(n){return function ei(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function Th(n){return null}function Ih(n){return null!=n}function ho(n){const e=(0,u.QGY)(n)?(0,Un.D)(n):n;return(0,u.CqO)(e),e}function e_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function j0(n,e){return e.map(t=>t(n))}function Da(n){return n.map(e=>function t_(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fp(n){return null!=n?function kp(n){if(!n)return null;const e=n.filter(Ih);return 0==e.length?null:function(t){return e_(j0(t,e))}}(Da(n)):null}function H0(n){return null!=n?function Lp(n){if(!n)return null;const e=n.filter(Ih);return 0==e.length?null:function(t){return function SC(...n){const e=(0,yr.jO)(n),{args:t,keys:r}=Rs(n),i=new kn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let m=c,b=c;for(let T=0;T<c;T++){let A=!1;(0,Yr.Xf)(t[T]).subscribe((0,fn.x)(a,x=>{A||(A=!0,b--),f[T]=x},()=>m--,void 0,()=>{(!m||!A)&&(b||a.next(r?Ya(r,f):f),a.complete())}))}});return e?i.pipe(fa(e)):i}(j0(t,e).map(ho)).pipe((0,Rt.U)(e_))}}(Da(n)):null}function n_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jc(n){return n?Array.isArray(n)?n:[n]:[]}function Xc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vp(n,e){const t=Jc(e);return Jc(n).forEach(i=>{Xc(t,i)||t.push(i)}),t}function Bp(n,e){return Jc(e).filter(t=>!Xc(n,t))}class RC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zl extends RC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zi extends RC{get formDirective(){return null}get path(){return null}}class $0{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let G0=(()=>{class n extends $0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zl,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),r_=(()=>{class n extends $0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Nh(n,e){Oh(n,e),e.valueAccessor.writeValue(n.value),function Zl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&K0(n,e)})}(n,e),function o_(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Z0(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&K0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function W0(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function td(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Oh(n,e){const t=function OC(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(n_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Sh(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(n_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();td(e._rawValidators,i),td(e._rawAsyncValidators,i)}function K0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function a_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Yu="VALID",sd="INVALID",Qu="PENDING",Yl="DISABLED";function Hp(n){return(Gp(n)?n.validators:n)||null}function VC(n){return Array.isArray(n)?Fp(n):n||null}function $p(n,e){return(Gp(e)?e.asyncValidators:n)||null}function l_(n){return Array.isArray(n)?H0(n):n||null}function Gp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const c_=n=>n instanceof qp;function fs(n){return(n=>n instanceof UC)(n)?n.value:n.getRawValue()}function J0(n,e){const t=c_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function X0(n,e){c_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class eb{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=VC(this._rawValidators),this._composedAsyncValidatorFn=l_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yu}get invalid(){return this.status===sd}get pending(){return this.status==Qu}get disabled(){return this.status===Yl}get enabled(){return this.status!==Yl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=VC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=l_(e)}addValidators(e){this.setValidators(Vp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bp(e,this._rawAsyncValidators))}hasValidator(e){return Xc(this._rawValidators,e)}hasAsyncValidator(e){return Xc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yu||this.status===Qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yl:Yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qu,this._hasOwnPendingAsyncValidator=!0;const t=ho(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function LC(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=c_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof fO)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Yl:this.errors?sd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qu)?Qu:this._anyControlsHaveStatus(sd)?sd:Yu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class UC extends eb{constructor(e=null,t,r){super(Hp(t),$p(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){a_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){a_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class qp extends eb{constructor(e,t,r){super(Hp(t),$p(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){X0(this,e),Object.keys(e).forEach(r=>{J0(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=fs(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class fO extends eb{constructor(e,t,r){super(Hp(t),$p(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){X0(this,e),e.forEach((r,i)=>{J0(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>fs(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const jC={provide:Zi,useExisting:(0,u.Gpc)(()=>od)},Ju=(()=>Promise.resolve(null))();let od=(()=>{class n extends Zi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new qp({},Fp(t),H0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ju.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ju.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ju.then(()=>{const r=this._findContainer(t.path),i=new qp({});(function Y0(n,e){Oh(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ju.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ju.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function id(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ti,10),u.Y36(ql,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([jC]),u.qOj]}),n})();const $C={provide:zl,useExisting:(0,u.Gpc)(()=>Ph)},d_=(()=>Promise.resolve(null))();let Ph=(()=>{class n extends zl{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new UC,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Kl(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Ch?t=a:function rd(n){return Object.getPrototypeOf(n.constructor)===al}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function xh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){d_.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;d_.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function ed(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi,9),u.Y36(ti,10),u.Y36(ql,10),u.Y36(Wi,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([$C]),u.qOj,u.TTD]}),n})(),h_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),qC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const yO={provide:Wi,useExisting:(0,u.Gpc)(()=>Qp),multi:!0};function ub(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Qp=(()=>{class n extends al{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=ub(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function cb(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([yO]),u.qOj]}),n})(),p_=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ub(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Qp,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const db={provide:Wi,useExisting:(0,u.Gpc)(()=>__),multi:!0};function g_(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let __=(()=>{class n extends al{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,c)=>{a._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const c=a;for(let f=0;f<c.length;f++){const b=this._getOptionValue(c[f].value);i.push(b)}}else{const c=r.options;for(let f=0;f<c.length;f++){const m=c[f];if(m.selected){const b=this._getOptionValue(m.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function ll(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([db]),u.qOj]}),n})(),hb=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(g_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(g_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(__,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),ul=(()=>{class n{constructor(){this._validator=Th}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Th,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const pb={provide:ti,useExisting:(0,u.Gpc)(()=>Vh),multi:!0};let Vh=(()=>{class n extends ul{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function y_(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>V0}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([pb]),u.qOj]}),n})(),XC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[qC]]}),n})(),Bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[XC]}),n})();var wb=P(1144);const rT=["addListener","removeListener"],iT=["addEventListener","removeEventListener"],sT=["on","off"];function mi(n,e,t,r){if((0,fi.m)(t)&&(r=t,t=void 0),r)return mi(n,e,t).pipe(fa(r));const[i,a]=function oT(n){return(0,fi.m)(n.addEventListener)&&(0,fi.m)(n.removeEventListener)}(n)?iT.map(c=>f=>n[c](e,f,t)):function EO(n){return(0,fi.m)(n.addListener)&&(0,fi.m)(n.removeListener)}(n)?rT.map(E_(n,e)):function Eb(n){return(0,fi.m)(n.on)&&(0,fi.m)(n.off)}(n)?sT.map(E_(n,e)):[];if(!i&&(0,wb.z)(n))return(0,Sn.z)(c=>mi(c,e,t))((0,Yr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new kn.y(c=>{const f=(...m)=>c.next(1<m.length?m:m[0]);return i(f),()=>a(f)})}function E_(n,e){return t=>r=>n[t](e,r)}var D_=P(4986),DO=P(3532);function Bh(n=0,e,t=D_.P){let r=-1;return null!=e&&((0,DO.K)(e)?t=e:r=e),new kn.y(i=>{let a=function CO(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:aT}=Array;function C_(n){return 1===n.length&&aT(n[0])?n[0]:n}function T_(...n){return 1===(n=C_(n)).length?(0,Yr.Xf)(n[0]):new kn.y(function TO(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Yr.Xf)(n[r]).subscribe((0,fn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))}var ps=P(5032);function Uh(...n){const e=(0,yr.jO)(n),t=C_(n);return t.length?new kn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,Yr.Xf)(t[c]).subscribe((0,fn.x)(r,f=>{if(i[c].push(f),i.every(m=>m.length)){const m=i.map(b=>b.shift());r.next(e?e(...m):m),i.some((b,T)=>!b.length&&a[T])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):lo.E}new kn.y(ps.Z);var I_=P(6451);function ur(n){return(0,lr.e)((e,t)=>{(0,Yr.Xf)(n).subscribe((0,fn.x)(t,()=>t.complete(),ps.Z)),!t.closed&&e.subscribe(t)})}function Cb(n,e){return n===e}function jh(...n){const e=(0,yr.jO)(n);return(0,lr.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,Yr.Xf)(n[m]).subscribe((0,fn.x)(r,b=>{a[m]=b,!f&&!c[m]&&(c[m]=!0,(f=c.every(ji.y))&&(c=null))},ps.Z));t.subscribe((0,fn.x)(r,m=>{if(f){const b=[m,...a];r.next(e?e(...b):b)}}))})}function Tb(n,e){return e?t=>Ru(e.pipe((0,tr.q)(1),function uT(){return(0,lr.e)((n,e)=>{n.subscribe((0,fn.x)(e,ps.Z))})}()),t.pipe(Tb(n))):(0,Sn.z)((t,r)=>n(t,r).pipe((0,tr.q)(1),function A_(n){return(0,Rt.U)(()=>n)}(t)))}var hT={left:"right",right:"left",bottom:"top",top:"bottom"};function Xp(n){return n.replace(/left|right|bottom|top/g,function(e){return hT[e]})}function Ta(n){return n.split("-")[0]}var eg={start:"end",end:"start"};function tc(n){return n.replace(/start|end/g,function(e){return eg[e]})}var Us="top",Ki="bottom",Uo="right",js="left",Hh="auto",gs=[Us,Ki,Uo,js],Ia="start",Nr="end",$h="viewport",Ni="popper",rc=gs.reduce(function(n,e){return n.concat([e+"-"+Ia,e+"-"+Nr])},[]),ic=[].concat(gs,[Hh]).reduce(function(n,e){return n.concat([e,e+"-"+Ia,e+"-"+Nr])},[]),Ab=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fo(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function sc(n){return n instanceof fo(n).Element||n instanceof Element}function Hs(n){return n instanceof fo(n).HTMLElement||n instanceof HTMLElement}function tg(n){return"undefined"!=typeof ShadowRoot&&(n instanceof fo(n).ShadowRoot||n instanceof ShadowRoot)}function cl(n){return((sc(n)?n.ownerDocument:n.document)||window.document).documentElement}var Ql=Math.max,ng=Math.min,oc=Math.round;function pd(n,e){void 0===e&&(e=!1);var t=n.getBoundingClientRect(),r=1,i=1;if(Hs(n)&&e){var a=n.offsetHeight,c=n.offsetWidth;c>0&&(r=oc(t.width)/c||1),a>0&&(i=oc(t.height)/a||1)}return{width:t.width/r,height:t.height/i,top:t.top/i,right:t.right/r,bottom:t.bottom/i,left:t.left/r,x:t.left/r,y:t.top/i}}function rg(n){var e=fo(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ig(n){return pd(cl(n)).left+rg(n).scrollLeft}function dl(n){return fo(n).getComputedStyle(n)}function Sa(n){return n?(n.nodeName||"").toLowerCase():null}function Gh(n){return"html"===Sa(n)?n:n.assignedSlot||n.parentNode||(tg(n)?n.host:null)||cl(n)}function M_(n){var e=dl(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function Mb(n){return["html","body","#document"].indexOf(Sa(n))>=0?n.ownerDocument.body:Hs(n)&&M_(n)?n:Mb(Gh(n))}function sg(n,e){var t;void 0===e&&(e=[]);var r=Mb(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),a=fo(r),c=i?[a].concat(a.visualViewport||[],M_(r)?r:[]):r,f=e.concat(c);return i?f:f.concat(sg(Gh(c)))}function pT(n){return["table","td","th"].indexOf(Sa(n))>=0}function og(n){return Hs(n)&&"fixed"!==dl(n).position?n.offsetParent:null}function qh(n){for(var e=fo(n),t=og(n);t&&pT(t)&&"static"===dl(t).position;)t=og(t);return t&&("html"===Sa(t)||"body"===Sa(t)&&"static"===dl(t).position)?e:t||function O_(n){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Hs(n)&&"fixed"===dl(n).position)return null;var i=Gh(n);for(tg(i)&&(i=i.host);Hs(i)&&["html","body"].indexOf(Sa(i))<0;){var a=dl(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(n)||e}function gT(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&tg(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ob(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Rb(n,e){return e===$h?Ob(function fT(n){var e=fo(n),t=cl(n),r=e.visualViewport,i=t.clientWidth,a=t.clientHeight,c=0,f=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,f=r.offsetTop)),{width:i,height:a,x:c+ig(n),y:f}}(n)):sc(e)?function IO(n){var e=pd(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(e):Ob(function Nb(n){var e,t=cl(n),r=rg(n),i=null==(e=n.ownerDocument)?void 0:e.body,a=Ql(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=Ql(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+ig(n),m=-r.scrollTop;return"rtl"===dl(i||t).direction&&(f+=Ql(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:c,x:f,y:m}}(cl(n)))}function gd(n){return n.split("-")[1]}function Jl(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Pb(n){var m,e=n.reference,t=n.element,r=n.placement,i=r?Ta(r):null,a=r?gd(r):null,c=e.x+e.width/2-t.width/2,f=e.y+e.height/2-t.height/2;switch(i){case Us:m={x:c,y:e.y-t.height};break;case Ki:m={x:c,y:e.y+e.height};break;case Uo:m={x:e.x+e.width,y:f};break;case js:m={x:e.x-t.width,y:f};break;default:m={x:e.x,y:e.y}}var b=i?Jl(i):null;if(null!=b){var T="y"===b?"height":"width";switch(a){case Ia:m[b]=m[b]-(e[T]/2-t[T]/2);break;case Nr:m[b]=m[b]+(e[T]/2-t[T]/2)}}return m}function kb(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function x_(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function md(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,a=e.boundary,c=void 0===a?"clippingParents":a,f=e.rootBoundary,m=void 0===f?$h:f,b=e.elementContext,T=void 0===b?Ni:b,A=e.altBoundary,x=void 0!==A&&A,B=e.padding,G=void 0===B?0:B,Y=kb("number"!=typeof G?G:x_(G,gs)),je=n.rects.popper,ke=n.elements[x?T===Ni?"reference":Ni:T],Ye=function SO(n,e,t){var r="clippingParents"===e?function xb(n){var e=sg(Gh(n)),r=["absolute","fixed"].indexOf(dl(n).position)>=0&&Hs(n)?qh(n):n;return sc(r)?e.filter(function(i){return sc(i)&&gT(i,r)&&"body"!==Sa(i)}):[]}(n):[].concat(e),i=[].concat(r,[t]),c=i.reduce(function(f,m){var b=Rb(n,m);return f.top=Ql(b.top,f.top),f.right=ng(b.right,f.right),f.bottom=ng(b.bottom,f.bottom),f.left=Ql(b.left,f.left),f},Rb(n,i[0]));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(sc(ke)?ke:ke.contextElement||cl(n.elements.popper),c,m),Ve=pd(n.elements.reference),tt=Pb({reference:Ve,element:je,strategy:"absolute",placement:i}),at=Ob(Object.assign({},je,tt)),vt=T===Ni?at:Ve,Ft={top:Ye.top-vt.top+Y.top,bottom:vt.bottom-Ye.bottom+Y.bottom,left:Ye.left-vt.left+Y.left,right:vt.right-Ye.right+Y.right},Qn=n.modifiersData.offset;if(T===Ni&&Qn){var Jn=Qn[i];Object.keys(Ft).forEach(function(fr){var ts=[Uo,Ki].indexOf(fr)>=0?1:-1,$r=[Us,Ki].indexOf(fr)>=0?"y":"x";Ft[fr]+=Jn[$r]*ts})}return Ft}const yT={name:"flip",enabled:!0,phase:"main",fn:function _T(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=void 0===i||i,c=t.altAxis,f=void 0===c||c,m=t.fallbackPlacements,b=t.padding,T=t.boundary,A=t.rootBoundary,x=t.altBoundary,B=t.flipVariations,G=void 0===B||B,Y=t.allowedAutoPlacements,_e=e.options.placement,je=Ta(_e),Ye=m||(je!==_e&&G?function Fb(n){if(Ta(n)===Hh)return[];var e=Xp(n);return[tc(n),e,tc(e)]}(_e):[Xp(_e)]),Ve=[_e].concat(Ye).reduce(function(xn,vl){return xn.concat(Ta(vl)===Hh?function mT(n,e){void 0===e&&(e={});var i=e.boundary,a=e.rootBoundary,c=e.padding,f=e.flipVariations,m=e.allowedAutoPlacements,b=void 0===m?ic:m,T=gd(e.placement),A=T?f?rc:rc.filter(function(G){return gd(G)===T}):gs,x=A.filter(function(G){return b.indexOf(G)>=0});0===x.length&&(x=A);var B=x.reduce(function(G,Y){return G[Y]=md(n,{placement:Y,boundary:i,rootBoundary:a,padding:c})[Ta(Y)],G},{});return Object.keys(B).sort(function(G,Y){return B[G]-B[Y]})}(e,{placement:vl,boundary:T,rootBoundary:A,padding:b,flipVariations:G,allowedAutoPlacements:Y}):vl)},[]),tt=e.rects.reference,at=e.rects.popper,vt=new Map,Ft=!0,Qn=Ve[0],Jn=0;Jn<Ve.length;Jn++){var fr=Ve[Jn],ts=Ta(fr),$r=gd(fr)===Ia,Zd=[Us,Ki].indexOf(ts)>=0,Kd=Zd?"width":"height",rt=md(e,{placement:fr,boundary:T,rootBoundary:A,altBoundary:x,padding:b}),ft=Zd?$r?Uo:js:$r?Ki:Us;tt[Kd]>at[Kd]&&(ft=Xp(ft));var Mt=Xp(ft),Jt=[];if(a&&Jt.push(rt[ts]<=0),f&&Jt.push(rt[ft]<=0,rt[Mt]<=0),Jt.every(function(xn){return xn})){Qn=fr,Ft=!1;break}vt.set(fr,Jt)}if(Ft)for(var _o=function(vl){var np=Ve.find(function(ui){var Zs=vt.get(ui);if(Zs)return Zs.slice(0,vl).every(function(Va){return Va})});if(np)return Qn=np,"break"},bi=G?3:1;bi>0&&"break"!==_o(bi);bi--);e.placement!==Qn&&(e.modifiersData[r]._skip=!0,e.placement=Qn,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zh(n,e,t){return Ql(n,ng(e,t))}function ag(n){var e=pd(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const Lb={name:"preventOverflow",enabled:!0,phase:"main",fn:function wT(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=void 0===i||i,c=t.altAxis,f=void 0!==c&&c,x=t.tether,B=void 0===x||x,G=t.tetherOffset,Y=void 0===G?0:G,_e=md(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),je=Ta(e.placement),ke=gd(e.placement),Ye=!ke,Ve=Jl(je),tt=function vT(n){return"x"===n?"y":"x"}(Ve),at=e.modifiersData.popperOffsets,vt=e.rects.reference,Ft=e.rects.popper,Qn="function"==typeof Y?Y(Object.assign({},e.rects,{placement:e.placement})):Y,Jn="number"==typeof Qn?{mainAxis:Qn,altAxis:Qn}:Object.assign({mainAxis:0,altAxis:0},Qn),fr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ts={x:0,y:0};if(at){if(a){var $r,Zd="y"===Ve?Us:js,Kd="y"===Ve?Ki:Uo,rt="y"===Ve?"height":"width",ft=at[Ve],Mt=ft+_e[Zd],Jt=ft-_e[Kd],Tr=B?-Ft[rt]/2:0,_o=ke===Ia?vt[rt]:Ft[rt],bi=ke===Ia?-Ft[rt]:-vt[rt],Zo=e.elements.arrow,xn=B&&Zo?ag(Zo):{width:0,height:0},vl=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},np=vl[Zd],ui=vl[Kd],Zs=zh(0,vt[rt],xn[rt]),Va=Ye?vt[rt]/2-Tr-Zs-np-Jn.mainAxis:_o-Zs-np-Jn.mainAxis,Cc=Ye?-vt[rt]/2+Tr+Zs+ui+Jn.mainAxis:bi+Zs+ui+Jn.mainAxis,rp=e.elements.arrow&&qh(e.elements.arrow),o2=null!=($r=null==fr?void 0:fr[Ve])?$r:0,y6=ft+Cc-o2,a2=zh(B?ng(Mt,ft+Va-o2-(rp?"y"===Ve?rp.clientTop||0:rp.clientLeft||0:0)):Mt,ft,B?Ql(Jt,y6):Jt);at[Ve]=a2,ts[Ve]=a2-ft}if(f){var l2,ip=at[tt],WD="y"===tt?"height":"width",u2=ip+_e["x"===Ve?Us:js],c2=ip-_e["x"===Ve?Ki:Uo],nO=-1!==[Us,js].indexOf(je),d2=null!=(l2=null==fr?void 0:fr[tt])?l2:0,h2=nO?u2:ip-vt[WD]-Ft[WD]-d2+Jn.altAxis,f2=nO?ip+vt[WD]+Ft[WD]-d2-Jn.altAxis:c2,p2=B&&nO?function bT(n,e,t){var r=zh(n,e,t);return r>t?t:r}(h2,ip,f2):zh(B?h2:u2,ip,B?f2:c2);at[tt]=p2,ts[tt]=p2-ip}e.modifiersData[r]=ts}},requiresIfExists:["offset"]},k_={name:"arrow",enabled:!0,phase:"main",fn:function P_(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,c=t.modifiersData.popperOffsets,f=Ta(t.placement),m=Jl(f),T=[js,Uo].indexOf(f)>=0?"height":"width";if(a&&c){var A=function(e,t){return kb("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:x_(e,gs))}(i.padding,t),x=ag(a),B="y"===m?Us:js,G="y"===m?Ki:Uo,Y=t.rects.reference[T]+t.rects.reference[m]-c[m]-t.rects.popper[T],_e=c[m]-t.rects.reference[m],je=qh(a),ke=je?"y"===m?je.clientHeight||0:je.clientWidth||0:0,at=ke/2-x[T]/2+(Y/2-_e/2),vt=zh(A[B],at,ke-x[T]-A[G]);t.modifiersData[r]=((e={})[m]=vt,e.centerOffset=vt-at,e)}},effect:function AO(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!gT(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bb(n,e,t){void 0===t&&(t=!1);var r=Hs(e),i=Hs(e)&&function Wh(n){var e=n.getBoundingClientRect(),t=oc(e.width)/n.offsetWidth||1,r=oc(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),a=cl(e),c=pd(n,i),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(r||!r&&!t)&&(("body"!==Sa(e)||M_(a))&&(f=function NO(n){return n!==fo(n)&&Hs(n)?function ET(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):rg(n)}(e)),Hs(e)?((m=pd(e,!0)).x+=e.clientLeft,m.y+=e.clientTop):a&&(m.x=ig(a))),{x:c.left+f.scrollLeft-m.x,y:c.top+f.scrollTop-m.y,width:c.width,height:c.height}}function F_(n){var e=new Map,t=new Set,r=[];function i(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(f){if(!t.has(f)){var m=e.get(f);m&&i(m)}}),r.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||i(a)}),r}function DT(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var CT={placement:"bottom",modifiers:[],strategy:"absolute"};function jb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function B_(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,a=void 0===i?CT:i;return function(f,m,b){void 0===b&&(b=a);var T={placement:"bottom",orderedModifiers:[],options:Object.assign({},CT,a),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},A=[],x=!1,B={state:T,setOptions:function(je){var ke="function"==typeof je?je(T.options):je;Y(),T.options=Object.assign({},a,T.options,ke),T.scrollParents={reference:sc(f)?sg(f):f.contextElement?sg(f.contextElement):[],popper:sg(m)};var Ye=function L_(n){var e=F_(n);return Ab.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function lg(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,T.options.modifiers)));return T.orderedModifiers=Ye.filter(function(fr){return fr.enabled}),function G(){T.orderedModifiers.forEach(function(_e){var ke=_e.options,Ve=_e.effect;if("function"==typeof Ve){var tt=Ve({state:T,name:_e.name,instance:B,options:void 0===ke?{}:ke});A.push(tt||function(){})}})}(),B.update()},forceUpdate:function(){if(!x){var je=T.elements,ke=je.reference,Ye=je.popper;if(jb(ke,Ye)){T.rects={reference:Bb(ke,qh(Ye),"fixed"===T.options.strategy),popper:ag(Ye)},T.reset=!1,T.placement=T.options.placement,T.orderedModifiers.forEach(function(fr){return T.modifiersData[fr.name]=Object.assign({},fr.data)});for(var tt=0;tt<T.orderedModifiers.length;tt++)if(!0!==T.reset){var at=T.orderedModifiers[tt],vt=at.fn,Ft=at.options;"function"==typeof vt&&(T=vt({state:T,options:void 0===Ft?{}:Ft,name:at.name,instance:B})||T)}else T.reset=!1,tt=-1}}},update:DT(function(){return new Promise(function(_e){B.forceUpdate(),_e(T)})}),destroy:function(){Y(),x=!0}};if(!jb(f,m))return B;function Y(){A.forEach(function(_e){return _e()}),A=[]}return B.setOptions(b).then(function(_e){!x&&b.onFirstUpdate&&b.onFirstUpdate(_e)}),B}}var Zh={passive:!0};const U_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function $b(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=void 0===i||i,c=r.resize,f=void 0===c||c,m=fo(e.elements.popper),b=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&b.forEach(function(T){T.addEventListener("scroll",t.update,Zh)}),f&&m.addEventListener("resize",t.update,Zh),function(){a&&b.forEach(function(T){T.removeEventListener("scroll",t.update,Zh)}),f&&m.removeEventListener("resize",t.update,Zh)}},data:{}},qb={name:"popperOffsets",enabled:!0,phase:"read",fn:function Gb(n){var e=n.state;e.modifiersData[n.name]=Pb({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var j_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wb(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,c=n.offsets,f=n.position,m=n.gpuAcceleration,b=n.adaptive,T=n.roundOffsets,A=n.isFixed,x=c.x,B=void 0===x?0:x,G=c.y,Y=void 0===G?0:G,_e="function"==typeof T?T({x:B,y:Y}):{x:B,y:Y};B=_e.x,Y=_e.y;var je=c.hasOwnProperty("x"),ke=c.hasOwnProperty("y"),Ye=js,Ve=Us,tt=window;if(b){var at=qh(t),vt="clientHeight",Ft="clientWidth";at===fo(t)&&"static"!==dl(at=cl(t)).position&&"absolute"===f&&(vt="scrollHeight",Ft="scrollWidth"),at=at,(i===Us||(i===js||i===Uo)&&a===Nr)&&(Ve=Ki,Y-=(A&&at===tt&&tt.visualViewport?tt.visualViewport.height:at[vt])-r.height,Y*=m?1:-1),i!==js&&(i!==Us&&i!==Ki||a!==Nr)||(Ye=Uo,B-=(A&&at===tt&&tt.visualViewport?tt.visualViewport.width:at[Ft])-r.width,B*=m?1:-1)}var $r,fr=Object.assign({position:f},b&&j_),ts=!0===T?function zb(n){var t=n.y,i=window.devicePixelRatio||1;return{x:oc(n.x*i)/i||0,y:oc(t*i)/i||0}}({x:B,y:Y}):{x:B,y:Y};return B=ts.x,Y=ts.y,Object.assign({},fr,m?(($r={})[Ve]=ke?"0":"",$r[Ye]=je?"0":"",$r.transform=(tt.devicePixelRatio||1)<=1?"translate("+B+"px, "+Y+"px)":"translate3d("+B+"px, "+Y+"px, 0)",$r):((e={})[Ve]=ke?Y+"px":"",e[Ye]=je?B+"px":"",e.transform="",e))}const Kb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Zb(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,a=t.adaptive,c=void 0===a||a,f=t.roundOffsets,m=void 0===f||f,T={placement:Ta(e.placement),variation:gd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Wb(Object.assign({},T,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:m})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Wb(Object.assign({},T,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Qb=[U_,qb,Kb,{name:"applyStyles",enabled:!0,phase:"write",fn:function H_(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!Hs(a)||!Sa(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(c){var f=i[c];!1===f?a.removeAttribute(c):a.setAttribute(c,!0===f?"":f)}))})},effect:function Yb(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},f=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(m,b){return m[b]="",m},{});!Hs(i)||!Sa(i)||(Object.assign(i.style,f),Object.keys(a).forEach(function(m){i.removeAttribute(m)}))})}},requires:["computeStyles"]}],Jb=B_({defaultModifiers:Qb});const Xb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ug(n){var e=n.state,r=n.name,i=n.options.offset,a=void 0===i?[0,0]:i,c=ic.reduce(function(T,A){return T[A]=function $_(n,e,t){var r=Ta(n),i=[js,Us].indexOf(r)>=0?-1:1,a="function"==typeof t?t(Object.assign({},e,{placement:n})):t,c=a[0],f=a[1];return c=c||0,f=(f||0)*i,[js,Uo].indexOf(r)>=0?{x:f,y:c}:{x:c,y:f}}(A,e.rects,a),T},{}),f=c[e.placement],b=f.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=f.x,e.modifiersData.popperOffsets.y+=b),e.modifiersData[r]=c}},TT=["*"],AT=["ngbDatepickerDayView",""],NT=["month"],l1=["year"];function MT(n,e){if(1&n&&(u.TgZ(0,"option",5),u._uU(1),u.qZA()),2&n){const t=e.$implicit,r=u.oxw();u.Q6J("value",t),u.uIk("aria-label",r.i18n.getMonthFullName(t,null==r.date?null:r.date.year)),u.xp6(1),u.Oqu(r.i18n.getMonthShortName(t,null==r.date?null:r.date.year))}}function u1(n,e){if(1&n&&(u.TgZ(0,"option",5),u._uU(1),u.qZA()),2&n){const t=e.$implicit,r=u.oxw();u.Q6J("value",t),u.xp6(1),u.Oqu(r.i18n.getYearNumerals(t))}}function c1(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngb-datepicker-navigation-select",7),u.NdJ("select",function(i){return u.CHM(t),u.oxw().select.emit(i)}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function _d(n,e){1&n&&u._UZ(0,"div",0)}function OT(n,e){1&n&&u._UZ(0,"div",0)}function RT(n,e){if(1&n&&(u.YNc(0,_d,1,0,"div",9),u.TgZ(1,"div",10),u._uU(2),u.qZA(),u.YNc(3,OT,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=u.oxw(2);u.Q6J("ngIf",r>0),u.xp6(2),u.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),u.xp6(1),u.Q6J("ngIf",r!==i.months.length-1)}}function d1(n,e){if(1&n&&u.YNc(0,RT,4,3,"ng-template",8),2&n){const t=u.oxw();u.Q6J("ngForOf",t.months)}}const xT=["defaultDayTemplate"],h1=["content"];function OO(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,a=e.disabled,c=e.focused;u.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",a)("focused",c)}}function q_(n,e){if(1&n&&(u.TgZ(0,"div",12),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit,r=u.oxw(2);u.xp6(1),u.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function z_(n,e){if(1&n&&(u.TgZ(0,"div",9),u.YNc(1,q_,2,1,"div",10),u._UZ(2,"ngb-datepicker-month",11),u.qZA()),2&n){const t=e.$implicit,r=u.oxw(2);u.xp6(1),u.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),u.xp6(1),u.Q6J("month",t.firstDate)}}function Aa(n,e){if(1&n&&u.YNc(0,z_,3,2,"div",8),2&n){const t=u.oxw();u.Q6J("ngForOf",t.model.months)}}function PT(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngb-datepicker-navigation",13),u.NdJ("navigate",function(i){return u.CHM(t),u.oxw().onNavigateEvent(i)})("select",function(i){return u.CHM(t),u.oxw().onNavigateDateSelect(i)}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function f1(n,e){}function Na(n,e){}function jo(n,e){if(1&n&&(u.TgZ(0,"div",5),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.i18n.getWeekLabel())}}function Ho(n,e){if(1&n&&(u.TgZ(0,"div",6),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function p1(n,e){if(1&n&&(u.TgZ(0,"div",2),u.YNc(1,jo,2,1,"div",3),u.YNc(2,Ho,2,1,"div",4),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.datepicker.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",t.viewModel.weekdays)}}function g1(n,e){if(1&n&&(u.TgZ(0,"div",11),u._uU(1),u.qZA()),2&n){const t=u.oxw(2).$implicit,r=u.oxw();u.xp6(1),u.Oqu(r.i18n.getWeekNumerals(t.number))}}function kT(n,e){}function FT(n,e){if(1&n&&u.YNc(0,kT,0,0,"ng-template",14),2&n){const t=u.oxw().$implicit,r=u.oxw(3);u.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function LT(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(i){const c=u.CHM(t).$implicit;return u.oxw(3).doSelect(c),i.preventDefault()}),u.YNc(1,FT,1,2,"ng-template",13),u.qZA()}if(2&n){const t=e.$implicit;u.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),u.Q6J("tabindex",t.tabindex),u.uIk("aria-label",t.ariaLabel),u.xp6(1),u.Q6J("ngIf",!t.hidden)}}function VT(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,g1,2,1,"div",9),u.YNc(2,LT,2,9,"div",10),u.qZA()),2&n){const t=u.oxw().$implicit,r=u.oxw();u.xp6(1),u.Q6J("ngIf",r.datepicker.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",t.days)}}function W_(n,e){1&n&&u.YNc(0,VT,3,2,"div",7),2&n&&u.Q6J("ngIf",!e.$implicit.collapsed)}const Kh=["dialog"];function ms(n){return parseInt(`${n}`,10)}function Xl(n){return"string"==typeof n}function Mr(n){return!isNaN(ms(n))}function ln(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function yd(n){return null!=n}function k1(n){return Mr(n)?`0${n}`.slice(-2):""}function J_(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function lc(n){return(n||document.body).getBoundingClientRect()}const V1={animation:!0,transitionTimerDelayMs:5},Qh=()=>{},{transitionTimerDelayMs:pI}=V1,Jh=new Map,Yi=(n,e,t,r)=>{let i=r.context||{};const a=Jh.get(e);if(a)switch(r.runningTransition){case"continue":return lo.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Jh.delete(e)}const c=t(e,r.animation,i)||Qh;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),bt(void 0).pipe(function L1(n){return e=>new kn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new En.x,m=new En.x,b=f.pipe(function Db(...n){return e=>Ru(e,bt(...n))}(!0));Jh.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const T=function fI(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=mi(e,"transitionend").pipe(ur(b),nr(({target:B})=>B===e));T_(Bh(T+pI).pipe(ur(b)),A,m).pipe(ur(b)).subscribe(()=>{Jh.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()};let Xh=(()=>{class n{constructor(){this.animation=V1.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),mI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),iy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class Ur{constructor(e,t,r){this.year=ln(e)?e:null,this.month=ln(t)?t:null,this.day=ln(r)?r:null}static from(e){return e instanceof Ur?e:e?new Ur(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function eu(n,e){return!function Y1(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function K1(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function pg(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function oy(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:a}=e;return!(null==n||i||a&&a(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function X1(n){return new Ur(n.getFullYear(),n.getMonth()+1,n.getDate())}function gg(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function SI(){return new AI}()},providedIn:"root"}),n})(),AI=(()=>{class n extends mg{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let a=gg(t),c=!0,f=a.getMonth();switch(r){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":f+=i,a.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":a.setDate(a.getDate()+i),c=!1;break;default:return t}return c&&a.getMonth()!==f&&a.setDate(0),X1(a)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=gg(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=gg(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return X1(new Date)}isValid(t){if(!(t&&ln(t.year)&&ln(t.month)&&ln(t.day)&&0!==t.year))return!1;const r=gg(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),tu=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ew(n){return new tw(n)}(u.LFG(u.soG)),r},providedIn:"root"}),n})(),tw=(()=>{class n extends tu{constructor(t){super(),this._locale=t,this._monthsShort=qe(t,ie.Standalone,ae.Abbreviated),this._monthsFull=qe(t,ie.Standalone,ae.Wide)}getWeekdayLabel(t,r){const i=an(this._locale,ie.Standalone,void 0===r?ae.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return qr(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ly=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(ln(i=ms(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(ln(i=ms(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const a=this.toValidDate(i,null);if(eu(this._state.maxDate,a))return{maxDate:a}},minDate:i=>{const a=this.toValidDate(i,null);if(eu(this._state.minDate,a))return{minDate:a}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const a=!0===i||!1===i?ae.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==a||this._state.weekdaysVisible!==c)return{weekdayWidth:a,weekdaysVisible:c}}},this._model$=new En.x,this._dateSelect$=new En.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:ae.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(nr(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(nr(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,a)=>Object.assign(Object.assign({},i),a),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&eu(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){oy(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||K1(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(eu(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&oy(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Ur.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:a,focusDate:c,focusVisible:f,disabled:m,outsideDays:b}=t;t.months.forEach(T=>{T.weeks.forEach(A=>{A.days.forEach(x=>{c&&(x.context.focused=c.equals(x.date)&&f),x.tabindex=!m&&c&&x.date.equals(c)&&c.month===T.number?0:-1,!0===m&&(x.context.disabled=!0),void 0!==a&&(x.context.selected=null!==a&&a.equals(x.date)),T.number!==x.date.month&&(x.hidden="hidden"===b||"collapsed"===b||i>1&&x.date.after(r[0].firstDate)&&x.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function Q1(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=pg(r.focusDate,r.minDate,r.maxDate),r.firstDate=pg(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=pg(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=pg(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function CI(n,e,t,r,i){const{displayMonths:a,months:c}=t,f=c.splice(0,c.length);return Array.from({length:a},(b,T)=>{const A=Object.assign(n.getNext(e,"m",T),{day:1});if(c[T]=null,!i){const x=f.findIndex(B=>B.firstDate.equals(A));-1!==x&&(c[T]=f.splice(x,1)[0])}return A}).forEach((b,T)=>{null===c[T]&&(c[T]=function TI(n,e,t,r,i={}){const{dayTemplateData:a,minDate:c,maxDate:f,firstDayOfWeek:m,markDisabled:b,outsideDays:T,weekdayWidth:A,weekdaysVisible:x}=t,B=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function II(n,e,t){const r=n.getDaysPerWeek(),i=new Ur(e.year,e.month,1),a=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+a-t)%r)}(n,e,m),x||(i.weekdays.length=0);for(let G=0;G<n.getWeeksPerMonth();G++){let Y=i.weeks[G];Y||(Y=i.weeks[G]={number:0,days:[],collapsed:!0});const _e=Y.days;for(let je=0;je<n.getDaysPerWeek();je++){0===G&&x&&(i.weekdays[je]=r.getWeekdayLabel(n.getWeekday(e),A));const ke=new Ur(e.year,e.month,e.day),Ye=n.getNext(ke),Ve=r.getDayAriaLabel(ke);let tt=!!(c&&ke.before(c)||f&&ke.after(f));!tt&&b&&(tt=b(ke,{month:i.number,year:i.year}));let at=ke.equals(B),vt=a?a(ke,{month:i.number,year:i.year}):void 0;null===i.firstDate&&ke.month===i.number&&(i.firstDate=ke),ke.month===i.number&&Ye.month!==i.number&&(i.lastDate=ke);let Ft=_e[je];Ft||(Ft=_e[je]={}),Ft.date=ke,Ft.context=Object.assign(Ft.context||{},{$implicit:ke,date:ke,data:vt,currentMonth:i.number,currentYear:i.year,disabled:tt,focused:!1,selected:!1,today:at}),Ft.tabindex=-1,Ft.ariaLabel=Ve,Ft.hidden=!1,e=Ye}Y.number=n.getWeekNumber(_e.map(je=>je.date),m),Y.collapsed="collapsed"===T&&_e[0].date.month!==i.number&&_e[_e.length-1].date.month!==i.number}return i}(n,b,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!oy(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function ay(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,a=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(a);for(let f=0;f<a;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function EI(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const a=i.findIndex(c=>c===t.month);i=i.slice(a)}if(r&&e.year===r.year){const a=i.findIndex(c=>c===r.month);i=i.slice(0,a+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function J1(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function DI(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mg),u.LFG(tu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var nu=(()=>{return(n=nu||(nu={}))[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",nu;var n})();let _g=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=ae.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function NI(){return new cy}()},providedIn:"root"}),n})(),cy=(()=>{class n extends uy{fromModel(t){return t&&ln(t.year)&&ln(t.month)&&ln(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&ln(t.year)&&ln(t.month)&&ln(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),dy=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&u.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:AT,decls:1,vars:1,template:function(t,r){1&t&&u._uU(0),2&t&&u.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),nw=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new u.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Ur(this.date.year,ms(t),1))}changeYear(t){this.select.emit(new Ur(ms(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu),u.Y36(u.Qsj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(u.Gf(NT,7,u.SBq),u.Gf(l1,7,u.SBq)),2&t){let i;u.iGM(i=u.CRH())&&(r.monthSelect=i.first),u.iGM(i=u.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(u.TgZ(0,"select",0,1),u.NdJ("change",function(a){return r.changeMonth(a.target.value)}),u.YNc(2,MT,2,3,"option",2),u.qZA(),u.TgZ(3,"select",3,4),u.NdJ("change",function(a){return r.changeYear(a.target.value)}),u.YNc(5,u1,2,2,"option",2),u.qZA()),2&t&&(u.Q6J("disabled",r.disabled),u.xp6(2),u.Q6J("ngForOf",r.months),u.xp6(1),u.Q6J("disabled",r.disabled),u.xp6(2),u.Q6J("ngForOf",r.years))},directives:[bn,p_,hb],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),hy=(()=>{class n{constructor(t){this.i18n=t,this.navigation=nu,this.months=[],this.navigate=new u.vpe,this.select=new u.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(a){return r.onClickPrev(a)}),u._UZ(2,"span",2),u.qZA()(),u.YNc(3,c1,1,4,"ngb-datepicker-navigation-select",3),u.YNc(4,d1,1,1,null,4),u.TgZ(5,"div",5)(6,"button",6),u.NdJ("click",function(a){return r.onClickNext(a)}),u._UZ(7,"span",2),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("disabled",r.prevDisabled),u.xp6(2),u.Q6J("ngIf",r.showSelect),u.xp6(1),u.Q6J("ngIf",!r.showSelect),u.xp6(2),u.Q6J("disabled",r.nextDisabled))},directives:[nw,Zn,bn],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Nn=(()=>{return(n=Nn||(Nn={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Nn;var n})();let MI=(()=>{class n{processKey(t,r){const{state:i,calendar:a}=r;switch(t.which){case Nn.PageUp:r.focusDate(a.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Nn.PageDown:r.focusDate(a.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Nn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Nn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Nn.ArrowLeft:r.focusDate(a.getPrev(i.focusedDate,"d",1));break;case Nn.ArrowUp:r.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case Nn.ArrowRight:r.focusDate(a.getNext(i.focusedDate,"d",1));break;case Nn.ArrowDown:r.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case Nn.Enter:case Nn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fy=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]]}),n})(),rw=(()=>{class n{constructor(t,r,i,a,c,f,m,b){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=b,this._controlValue=null,this._destroyed$=new En.x,this._publicState={},this.navigate=new u.vpe,this.dateSelect=new u.vpe,this.onChange=T=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(T=>this[T]=a[T]),t.dateSelect$.pipe(ur(this._destroyed$)).subscribe(T=>{this.dateSelect.emit(T)}),t.model$.pipe(ur(this._destroyed$)).subscribe(T=>{const A=T.firstDate,x=this.model?this.model.firstDate:null;this._publicState={maxDate:T.maxDate,minDate:T.minDate,firstDate:T.firstDate,lastDate:T.lastDate,focusedDate:T.focusDate,months:T.months.map(je=>je.firstDate)};let B=!1;if(!A.equals(x)&&(this.navigate.emit({current:x?{year:x.year,month:x.month}:null,next:{year:A.year,month:A.month},preventDefault:()=>B=!0}),B&&null!==x))return void this._service.open(x);const G=T.selectedDate,Y=T.focusDate,_e=this.model?this.model.focusDate:null;this.model=T,eu(G,this._controlValue)&&(this._controlValue=G,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(G))),eu(Y,_e)&&_e&&T.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Ur.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,tr.q)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Ur.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=mi(this._contentEl.nativeElement,"focusin"),r=mi(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,I_.T)(t,r).pipe(nr(({target:a,relatedTarget:c})=>!(J_(a,"ngb-dp-day")&&J_(c,"ngb-dp-day")&&i.contains(a)&&i.contains(c))),ur(this._destroyed$)).subscribe(({type:a})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===a})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:a}=t.startDate;K1(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case nu.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case nu.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Ur.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ly),u.Y36(mg),u.Y36(tu),u.Y36(_g),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(uy),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,fy,7),2&t){let a;u.iGM(a=u.CRH())&&(r.contentTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&(u.Gf(xT,7),u.Gf(h1,7)),2&t){let i;u.iGM(i=u.CRH())&&(r._defaultDayTemplate=i.first),u.iGM(i=u.CRH())&&(r._contentEl=i.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[u._Bn([{provide:Wi,useExisting:(0,u.Gpc)(()=>n),multi:!0},ly]),u.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(u.YNc(0,OO,1,5,"ng-template",null,0,u.W1O),u.YNc(2,Aa,1,1,"ng-template",null,1,u.W1O),u.TgZ(4,"div",2),u.YNc(5,PT,1,7,"ngb-datepicker-navigation",3),u.qZA(),u.TgZ(6,"div",4,5),u.YNc(8,f1,0,0,"ng-template",6),u.qZA(),u.YNc(9,Na,0,0,"ng-template",6)),2&t){const i=u.MAs(3);u.xp6(5),u.Q6J("ngIf","none"!==r.navigation),u.xp6(1),u.ekj("ngb-dp-months",!r.contentTemplate),u.xp6(2),u.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),u.xp6(1),u.Q6J("ngTemplateOutlet",r.footerTemplate)}},directives:function(){return[dy,iw,hy,bn,Zn,as]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})(),iw=(()=>{class n{constructor(t,r,i,a){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=a}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu),u.Y36(rw),u.Y36(MI),u.Y36(ly))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&u.NdJ("keydown",function(a){return r.onKeyDown(a)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(u.YNc(0,p1,3,2,"div",0),u.YNc(1,W_,1,1,"ng-template",1)),2&t&&(u.Q6J("ngIf",r.viewModel.weekdays.length>0),u.xp6(1),u.Q6J("ngForOf",r.viewModel.weeks))},directives:[Zn,bn,as],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})();const yg=(n,e)=>!!e&&e.some(t=>t.contains(n)),py=(n,e)=>!e||null!=function F1(n,e){return e&&void 0!==n.closest?n.closest(e):null}(n,e),OI="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function RI(n,e,t,r,i,a,c,f){t&&n.runOutsideAngular((n=>OI?()=>setTimeout(()=>n(),100):n)(()=>{const b=mi(e,"keydown").pipe(ur(i),nr(x=>x.which===Nn.Escape),(0,Lr.b)(x=>x.preventDefault())),T=mi(e,"mousedown").pipe((0,Rt.U)(x=>{const B=x.target;return 2!==x.button&&!yg(B,c)&&("inside"===t?yg(B,a)&&py(B,f):"outside"===t?!yg(B,a):py(B,f)||!yg(B,a))}),ur(i)),A=mi(e,"mouseup").pipe(jh(T),nr(([x,B])=>B),function cT(n,e=D_.z){const t=Bh(n,e);return Tb(()=>t)}(0),ur(i));T_([b.pipe((0,Rt.U)(x=>0)),A.pipe((0,Rt.U)(x=>1))]).subscribe(x=>n.run(()=>r(x)))}))}const ow=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rf(n){const e=Array.from(n.querySelectorAll(ow)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const aw=(n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=mi(e,"focusin").pipe(ur(t),(0,Rt.U)(a=>a.target));mi(e,"keydown").pipe(ur(t),nr(a=>a.which===Nn.Tab),jh(i)).subscribe(([a,c])=>{const[f,m]=rf(e);(c===f||c===e)&&a.shiftKey&&(m.focus(),a.preventDefault()),c===m&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&mi(e,"click").pipe(ur(t),jh(i),(0,Rt.U)(a=>a[1])).subscribe(a=>a.focus())})},bd=/\s+/,sf=/  +/gi,xI=/^start/,ZO=/^end/,lw=/-(top|left)$/,PI=/-(bottom|right)$/,FI=/^left/,LI=/^right/,uw=/^start/,cw=/^end/;function af({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(bd),i=t.findIndex(m=>"auto"===m);i>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(m){null==t.find(b=>-1!==b.search("^"+m))&&t.splice(i++,1,m)});const a=t.map(m=>function kI(n){return n.replace(xI,"left").replace(ZO,"right").replace(lw,"-start").replace(PI,"-end")}(m));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:m}){const b=new RegExp(e+"-[a-z]+","gi"),T=m.elements.popper,A=m.placement;let x=T.className;x=x.replace(b,""),x+=` ${function gy(n,e){let[t,r]=e.split("-");const i=t.replace(FI,"start").replace(LI,"end");let a=[i];if(r){let c=r;("left"===t||"right"===t)&&(c=c.replace(uw,"top").replace(cw,"bottom")),a.push(`${i}-${c}`)}return n&&(a=a.map(c=>`${n}-${c}`)),a.join(" ")}(e,A)}`,x=x.trim().replace(sf," "),T.className=x}},yT,Lb,k_,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function wd(n){return n}let my=(()=>{class n extends _g{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.restoreFocus=!0}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _y(n){return e=>(e.modifiers.push(Xb,{name:"offset",options:{offset:()=>n}}),e)}let hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function VI(){return new yy}()},providedIn:"root"}),n})(),yy=(()=>{class n extends hw{parse(t){if(null!=t){const r=t.trim().split("-");if(1===r.length&&Mr(r[0]))return{year:ms(r[0]),month:null,day:null};if(2===r.length&&Mr(r[0])&&Mr(r[1]))return{year:ms(r[0]),month:ms(r[1]),day:null};if(3===r.length&&Mr(r[0])&&Mr(r[1])&&Mr(r[2]))return{year:ms(r[0]),month:ms(r[1]),day:ms(r[2])}}return null}format(t){return t?`${t.year}-${Mr(t.month)?k1(t.month):""}-${Mr(t.day)?k1(t.day):""}`:""}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),fw=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A){this._parserFormatter=t,this._elRef=r,this._vcRef=i,this._renderer=a,this._ngZone=c,this._calendar=f,this._dateAdapter=m,this._document=b,this._changeDetector=T,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=function dw(){let n=null;return{createPopper(e){if(!n){let r=(e.updatePopperOptions||wd)(af(e));n=Jb(e.hostElement,e.targetElement,r)}},update(){n&&n.update()},setOptions(e){if(n){let r=(e.updatePopperOptions||wd)(af(e));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}(),this._destroyCloseHandlers$=new En.x,this.dateSelect=new u.vpe,this.navigate=new u.vpe,this.closed=new u.vpe,this._onChange=x=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(x=>this[x]=A[x]),this._zoneSubscription=c.onStable.subscribe(()=>this._positioning.update())}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:r}=t;if(null!=r){const i=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!i)return{ngbDate:{invalid:r}};if(this.minDate&&i.before(Ur.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&i.after(Ur.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,r=!1){const i=t!==this._inputValue;i&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(i||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let t;if(this._cRef=this._vcRef.createComponent(rw),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,aw(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>{var r;return null===(r=this._cRef)||void 0===r?void 0:r.instance.focus()}),t=Xl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.onStable.pipe((0,tr.q)(1)).subscribe(()=>{this._cRef&&this._positioning.createPopper({hostElement:t,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:_y([0,2])})}),this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;Xl(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus(),this._positioning.destroy()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){if((t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t))),t.datepickerClass){const{currentValue:r,previousValue:i}=t.datepickerClass;this._applyPopupClass(r,i)}t.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{void 0!==this[r]&&(t[r]=this[r])}),t.startDate=this.startDate||this._model}_applyPopupClass(t,r){var i;const a=null===(i=this._cRef)||void 0===i?void 0:i.location.nativeElement;a&&(t&&this._renderer.addClass(a,t),r&&this._renderer.removeClass(a,r))}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(r=>this.navigate.emit(r)),t.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(t){const r=this._parserFormatter.format(t);this._inputValue=r,this._renderer.setProperty(this._elRef.nativeElement,"value",r),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const r=t?new Ur(t.year,t.month,t.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),RI(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hw),u.Y36(u.SBq),u.Y36(u.s_b),u.Y36(u.Qsj),u.Y36(u.R0b),u.Y36(mg),u.Y36(uy),u.Y36(le),u.Y36(u.sBO),u.Y36(my))},n.\u0275dir=u.lG2({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.manualDateChange(a.target.value)})("change",function(a){return r.manualDateChange(a.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&t&&u.Ikx("disabled",r.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[u._Bn([{provide:Wi,useExisting:(0,u.Gpc)(()=>n),multi:!0},{provide:ti,useExisting:(0,u.Gpc)(()=>n),multi:!0},{provide:_g,useExisting:my}]),u.TTD]}),n})();new Date(1882,10,12),new Date(2174,10,25);let Dg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr,Bo]]}),n})(),Cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),Ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class iu{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let nS=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,tr.q)(1)).subscribe(()=>{Yi(this._zone,this._el.nativeElement,(t,r)=>{r&&lc(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Yi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Iy{close(e){}dismiss(e){}}class Tw{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new En.x,this._dismissed=new En.x,this._hidden=new En.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ur(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ur(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Q_(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():bt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Uh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ff=(()=>{return(n=ff||(ff={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",ff;var n})();let Iw=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new En.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new En.x,this.hidden=new En.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Xl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,tr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=Uh(Yi(this._zone,t,()=>t.classList.remove("show"),r),Yi(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};Uh(Yi(this._zone,this._elRef.nativeElement,(a,c)=>{c&&lc(a),a.classList.add("show")},t),Yi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{mi(t,"keydown").pipe(ur(this._closed$),nr(i=>i.which===Nn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(ff.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;mi(this._dialogEl.nativeElement,"mousedown").pipe(ur(this._closed$),(0,Lr.b)(()=>r=!1),jn(()=>mi(t,"mouseup").pipe(ur(this._closed$),(0,tr.q)(1))),nr(({target:i})=>t===i)).subscribe(()=>{r=!0}),mi(t,"click").pipe(ur(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(ff.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=rf(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Yi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(le),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(Kh,7),2&t){let i;u.iGM(i=u.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:TT,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Sw=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qi=(()=>{class n{constructor(t,r,i,a,c,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=c,this._ngZone=f,this._activeWindowCmptHasChanged=new En.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];aw(this._ngZone,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,a){const c=a.container instanceof HTMLElement?a.container:yd(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new Iy,b=this._getContentRef(t,a.injector||r,i,m,a);let T=!1!==a.backdrop?this._attachBackdrop(t,c):void 0,A=this._attachWindowComponent(t,c,b),x=new Tw(A,b,T,a.beforeDismiss);return this._registerModalRef(x),this._registerWindowCmpt(A),x.hidden.pipe((0,tr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=B=>{x.close(B)},m.dismiss=B=>{x.dismiss(B)},this._applyWindowOptions(A.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,a),T.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),x}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let a=t.resolveComponentFactory(nS).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,r,i){let c=t.resolveComponentFactory(Iw).create(this._injector,i.nodes);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{yd(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{yd(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,c){return i?i instanceof u.Rgc?this._createFromTemplateRef(i,a):Xl(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,c):new iu([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new iu([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new iu([[r]])}_createFromComponent(t,r,i,a,c){const f=t.resolveComponentFactory(i),m=u.zs3.create({providers:[{provide:Iy,useValue:a}],parent:r}),b=f.create(m),T=b.location.nativeElement;return c.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new iu([[T]],b.hostView,b)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(le),u.LFG(Sw),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cd=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rS=(()=>{class n{constructor(t,r,i,a){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=a}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(Qi),u.LFG(Cd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[rS]}),n})(),Ag=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),xw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),Py=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),Lw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),ky=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),Ly=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),Vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),Uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function yR(){return 100}});let Hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})(),By=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const zw=[ry,mI,iy,Z1,sy,Dg,Ty,Aw,Ag,By,xw,Py,Lw,ky,Ly,Vy,Uw,Hw];let mS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zw,ry,mI,iy,Z1,sy,Dg,Ty,Aw,Ag,By,xw,Py,Lw,ky,Ly,Vy,Uw,Hw]}),n})(),Ww=(()=>{class n{constructor(){}valorInputOirgen(t){this.mensajeOrigen=t}valorInputDestino(t){this.mensajeDestino=t}valorInputDisponibilidad(t){this.mensajeDia=t.day}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-fletes"]],decls:40,vars:6,consts:[[1,"container"],[1,"presentacion",2,"text-align","center"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],[1,"row",2,"color","white"],[2,"text-align","center"],["type","text","name","origen","placeholder","Origen direccion exacta","required","",1,"form-control",3,"ngModel","ngModelChange"],[2,"margin-top","16px"],["type","text","name","destino","placeholder","Destino direccion exacta","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12",2,"margin-top","16px"],[1,"input-group"],["placeholder","Selecciona disponibilidad","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn",2,"background-color","white",3,"click"],[1,"far","fa-calendar-minus"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"body"),u._UZ(1,"br"),u.TgZ(2,"div",0)(3,"h2",1),u._uU(4," Necesitas un flete "),u.qZA()(),u.TgZ(5,"div",2),u._UZ(6,"div",3),u.TgZ(7,"div",4),u._UZ(8,"i",5),u.qZA(),u._UZ(9,"div",3),u.qZA(),u.TgZ(10,"div")(11,"div")(12,"h3",6),u._uU(13,"Completa tus datos! "),u.qZA(),u._UZ(14,"br")(15,"br"),u.TgZ(16,"div",0),u._uU(17," > "),u.TgZ(18,"div",7)(19,"div",8)(20,"form")(21,"div")(22,"input",9),u.NdJ("ngModelChange",function(c){return r.modelOrigen=c})("ngModelChange",function(c){return r.valorInputOirgen(c)}),u.qZA()(),u.TgZ(23,"div",10)(24,"input",11),u.NdJ("ngModelChange",function(c){return r.modelDestino=c})("ngModelChange",function(c){return r.valorInputDestino(c)}),u.qZA()(),u.TgZ(25,"div",12)(26,"div",13)(27,"input",14,15),u.NdJ("ngModelChange",function(c){return r.model=c})("ngModelChange",function(c){return r.valorInputDisponibilidad(c)}),u.qZA(),u._UZ(29,"br"),u.TgZ(30,"button",16),u.NdJ("click",function(){return u.CHM(i),u.MAs(28).toggle()}),u._UZ(31,"i",17),u.qZA()()()()()()(),u.TgZ(32,"div",18),u._uU(33," >"),u._UZ(34,"link",19),u.TgZ(35,"a",20)(36,"i",21),u._uU(37,"CONSULTA COTIZACION"),u.qZA()()(),u._UZ(38,"br")(39,"br"),u.qZA()()()}2&t&&(u.xp6(22),u.Q6J("ngModel",r.modelOrigen),u.xp6(2),u.Q6J("ngModel",r.modelDestino),u.xp6(3),u.Q6J("ngModel",r.model),u.xp6(8),u.cQ8("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el siguiente viaje. %0D%0A Desde ",r.mensajeOrigen," hasta ",r.mensajeDestino," y mi disponibilidad la tengo el dia ",r.mensajeDia," de este mes. %0D%0A Muchas gracias.",u.LSH))},directives:[h_,r_,od,Ch,Vh,G0,Ph,fw],styles:[""]}),n})();var Fn=P(5813);function Uy(){return(0,lr.e)((n,e)=>{let t,r=!1;n.subscribe((0,fn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var ct,go=P(2011),fc=(P(5881),P(3942)),Ee=P(5861),Oa=P(9681),Mg=P(4859),pc=P(1877),nn=P(2090),_S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fl={},jy=jy||{},Ht=_S||self;function Hy(){}function gf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Id(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $y="closure_uid_"+(1e9*Math.random()>>>0),Kw=0;function Gy(n,e,t){return n.call.apply(n.bind,arguments)}function qy(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ni(n,e,t){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gy:qy).apply(null,arguments)}function Og(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ri(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function pl(){this.s=this.s,this.o=this.o}var bS={};pl.prototype.s=!1,pl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yS(n){return Object.prototype.hasOwnProperty.call(n,$y)&&n[$y]||(n[$y]=++Kw)}(this);delete bS[n]}},pl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wS=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},ES=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function Qw(n){return Array.prototype.concat.apply([],arguments)}function zy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Rg(n){return/^[\s\xa0]*$/.test(n)}var vs,DS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ys(n,e){return-1!=n.indexOf(e)}function Jw(n,e){return n<e?-1:n>e?1:0}e:{var CS=Ht.navigator;if(CS){var Xw=CS.userAgent;if(Xw){vs=Xw;break e}}vs=""}function Sd(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eE(n){const e={};for(const t in n)e[t]=n[t];return e}var tE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wy(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<tE.length;a++)t=tE[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function gl(n){return gl[" "](n),n}gl[" "]=Hy;var Ky,n,Zy=ys(vs,"Opera"),su=ys(vs,"Trident")||ys(vs,"MSIE"),rE=ys(vs,"Edge"),mf=rE||su,xg=ys(vs,"Gecko")&&!(ys(vs.toLowerCase(),"webkit")&&!ys(vs,"Edge"))&&!(ys(vs,"Trident")||ys(vs,"MSIE"))&&!ys(vs,"Edge"),Pg=ys(vs.toLowerCase(),"webkit")&&!ys(vs,"Edge");function TS(){var n=Ht.document;return n?n.documentMode:void 0}e:{var iE="",sE=(n=vs,xg?/rv:([^\);]+)(\)|;)/.exec(n):rE?/Edge\/([\d\.]+)/.exec(n):su?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pg?/WebKit\/(\S+)/.exec(n):Zy?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sE&&(iE=sE?sE[1]:""),su){var kg=TS();if(null!=kg&&kg>parseFloat(iE)){Ky=String(kg);break e}}Ky=iE}var IS={};var aE=Ht.document&&su&&(TS()||parseInt(Ky,10))||void 0,lE=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",Hy,e),Ht.removeEventListener("test",Hy,e)}catch(t){}return n}();function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function _f(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xg){e:{try{gl(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:AS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_f.Z.h.call(this)}}_i.prototype.h=function(){this.defaultPrevented=!0},ri(_f,_i);var AS={2:"touch",3:"pen",4:"mouse"};_f.prototype.h=function(){_f.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ad="closure_listenable_"+(1e6*Math.random()|0),Qy=0;function IR(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Qy,this.ca=this.fa=!1}function yf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Nd(n){this.src=n,this.g={},this.h=0}function Jy(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=wS(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(yf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xy(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}Nd.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Xy(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new IR(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var uE="closure_lm_"+(1e6*Math.random()|0),cE={};function dE(n,e,t,r,i){if(r&&r.once)return NS(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)dE(n,e[a],t,r,i);return null}return t=mE(t),n&&n[Ad]?n.N(e,t,Id(r)?!!r.capture:!!r,i):hE(n,e,t,!1,r,i)}function hE(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Id(i)?!!i.capture:!!i,f=pE(n);if(f||(n[uE]=f=new Nd(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function SR(){var e=RS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lE||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(OS(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function NS(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)NS(n,e[a],t,r,i);return null}return t=mE(t),n&&n[Ad]?n.O(e,t,Id(r)?!!r.capture:!!r,i):hE(n,e,t,!0,r,i)}function MS(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)MS(n,e[a],t,r,i);else r=Id(r)?!!r.capture:!!r,t=mE(t),n&&n[Ad]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xy(a=n.g[e],t,r,i))&&(yf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=pE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xy(e,t,r,i)),(t=-1<n?e[n]:null)&&fE(t))}function fE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ad])Jy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(OS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pE(e))?(Jy(t,n),0==t.h&&(t.src=null,e[uE]=null)):yf(n)}}}function OS(n){return n in cE?cE[n]:cE[n]="on"+n}function RS(n,e){if(n.ca)n=!0;else{e=new _f(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&fE(n),n=t.call(r,e)}return n}function pE(n){return(n=n[uE])instanceof Nd?n:null}var gE="__closure_events_fn_"+(1e9*Math.random()>>>0);function mE(n){return"function"==typeof n?n:(n[gE]||(n[gE]=function(e){return n.handleEvent(e)}),n[gE])}function yi(){pl.call(this),this.i=new Nd(this),this.P=this,this.I=null}function s(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var i=e;Wy(e=new _i(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=o(c,r,!0,e)&&i}if(i=o(c=e.g=n,r,!0,e)&&i,i=o(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=o(c=e.g=t[a],r,!1,e)&&i}function o(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,m=c.ia||c.src;c.fa&&Jy(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}ri(yi,pl),yi.prototype[Ad]=!0,yi.prototype.removeEventListener=function(n,e,t,r){MS(this,n,e,t,r)},yi.prototype.M=function(){if(yi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)yf(t[r]);delete n.g[e],n.h--}}this.I=null},yi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},yi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var l=Ht.JSON.stringify;function d(){var n=q;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var S,p=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new y,n=>n.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function w(n){Ht.setTimeout(()=>{throw n},0)}function D(n,e){S||function M(){var n=Ht.Promise.resolve(void 0);S=function(){n.then(J)}}(),L||(S(),L=!0),q.add(n,e)}var L=!1,q=new class h{constructor(){this.h=this.g=null}add(e,t){const r=p.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function J(){for(var n;n=d();){try{n.h.call(n.g)}catch(t){w(t)}var e=p;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}L=!1}function be(n,e){yi.call(this),this.h=n||1,this.g=e||Ht,this.j=ni(this.kb,this),this.l=Date.now()}function Le(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ze(n,e,t){if("function"==typeof n)t&&(n=ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function dt(n){n.g=ze(()=>{n.g=null,n.i&&(n.i=!1,dt(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ri(be,yi),(ct=be.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),s(this,"tick"),this.da&&(Le(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){be.Z.M.call(this),Le(this),delete this.g};class Ae extends pl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dt(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(n){pl.call(this),this.h=n,this.g={}}ri(wt,pl);var rn=[];function Dn(n,e,t,r){Array.isArray(t)||(t&&(rn[0]=t.toString()),t=rn);for(var i=0;i<t.length;i++){var a=dE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function bs(n){Sd(n.g,function(e,t){this.g.hasOwnProperty(t)&&fE(e)},n),n.g={}}function Ra(){this.g=!0}function ou(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return l(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}wt.prototype.M=function(){wt.Z.M.call(this),bs(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ra.prototype.Aa=function(){this.g=!1},Ra.prototype.info=function(){};var ml={},Fg=null;function Md(){return Fg=Fg||new yi}function Lg(n){_i.call(this,ml.Ma,n)}function iv(n){const e=Md();s(e,new Lg(e,n))}function AR(n,e){_i.call(this,ml.STAT_EVENT,n),this.stat=e}function $s(n){const e=Md();s(e,new AR(e,n))}function NR(n,e){_i.call(this,ml.Na,n),this.size=e}function sv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}ml.Ma="serverreachability",ri(Lg,_i),ml.STAT_EVENT="statevent",ri(AR,_i),ml.Na="timingevent",ri(NR,_i);var _E={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},MR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xS(){}function RR(){}xS.prototype.h=null;var FS,ov={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function PS(){_i.call(this,"d")}function kS(){_i.call(this,"c")}function yE(){}function av(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new wt(this),this.P=G2,this.W=new be(n=mf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xR}function xR(){this.i=null,this.g="",this.h=!1}ri(PS,_i),ri(kS,_i),ri(yE,xS),yE.prototype.g=function(){return new XMLHttpRequest},yE.prototype.i=function(){return{}},FS=new yE;var G2=45e3,LS={},vE={};function VS(n,e,t){n.K=1,n.v=CE(gc(e)),n.s=t,n.U=!0,PR(n,null)}function PR(n,e){n.F=Date.now(),lv(n),n.A=gc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),$R(t.h,"t",r),n.C=0,t=n.l.H,n.h=new xR,n.g=hx(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Ae(ni(n.Ia,n,n.g),n.O)),Dn(n.V,n.g,"readystatechange",n.gb),e=n.H?eE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),iv(1),function ev(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),m=0;m<f.length;m++){var b=f[m].split("=");if(1<b.length){var T=b[0];b=b[1];var A=T.split("_");c=2<=A.length&&"type"==A[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function kR(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function FR(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=q2(n,t),i==vE){4==e&&(n.o=4,$s(14),r=!1),ou(n.j,n.m,null,"[Incomplete Response]");break}if(i==LS){n.o=4,$s(15),ou(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ou(n.j,n.m,i,null),BS(n,i)}kR(n)&&i!=vE&&i!=LS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$s(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),YS(e),e.L=!0,$s(11))):(ou(n.j,n.m,t,"[Invalid Chunked Response]"),vf(n),uv(n))}function q2(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?vE:(t=Number(e.substring(t,r)),isNaN(t)?LS:(r+=1)+t>e.length?vE:(e=e.substr(r,t),n.C=r+t,e))}function lv(n){n.Y=Date.now()+n.P,LR(n,n.P)}function LR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sv(ni(n.eb,n),e)}function bE(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function uv(n){0==n.l.G||n.I||lx(n.l,n)}function vf(n){bE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Le(n.W),bs(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function BS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||HS(t.i,n)))if(t.I=n.N,!n.J&&HS(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=sv(ni(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ME(t),AE(t)}KS(t),$s(18)}if(1>=zR(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Ef(t,11)}else if((n.J||t.g==n)&&ME(t),!Rg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const A=b[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const x=b[5];null!=x&&"number"==typeof x&&0<x&&(t.K=r=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.i;!a.g&&(ys(G,"spdy")||ys(G,"quic")||ys(G,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&($S(a,a.h),a.h=null))}if(r.D){const Y=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.sa=Y,br(r.F,r.D,Y))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=dx(r,r.H?r.la:null,r.W),c.J){WR(r.i,c);var f=c,m=r.K;m&&f.setTimeout(m),f.B&&(bE(f),lv(f)),r.g=c}else ox(r);0<t.l.length&&NE(t)}else"stop"!=b[0]&&"close"!=b[0]||Ef(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Ef(t,7):WS(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}iv(4)}catch(b){}}function US(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gf(n)||"string"==typeof n)ES(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(gf(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function z2(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(gf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function Vg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Vg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function jS(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];bf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)bf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function bf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=av.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==mc(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const T=mc(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||mf||this.g&&(this.h.h||this.g.ga()||tx(this.g)))){this.I||4!=T||7==e||iv(8==e||0>=A?3:2),bE(this);var t=this.g.ba();this.N=t;t:if(kR(this)){var r=tx(this.g);n="";var i=r.length,a=4==mc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vf(this),uv(this);var c="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function tv(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rg(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,$s(12),vf(this),uv(this);break e}ou(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,BS(this,t)}this.U?(FR(this,T,c),mf&&this.i&&3==T&&(Dn(this.V,this.W,"tick",this.fb),this.W.start())):(ou(this.j,this.m,c,null),BS(this,c)),4==T&&vf(this),this.i&&!this.I&&(4==T?lx(this.l,this):(this.i=!1,lv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,$s(12)):(this.o=0,$s(13)),vf(this),uv(this)}}}catch(T){}},ct.fb=function(){if(this.g){var n=mc(this.g),e=this.g.ga();this.C<e.length&&(bE(this),FR(this,n,e),this.i&&4!=n&&lv(this))}},ct.cancel=function(){this.I=!0,vf(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(iv(3),$s(17)),vf(this),this.o=2,uv(this)):LR(this,this.Y-n)},(ct=Vg.prototype).R=function(){jS(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return jS(this),this.g.concat()},ct.get=function(n,e){return bf(this.h,n)?this.h[n]:e},ct.set=function(n,e){bf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var VR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof wf){this.g=void 0!==e?e:n.g,wE(this,n.j),this.s=n.s,EE(this,n.i),DE(this,n.m),this.l=n.l,e=n.h;var t=new hv;t.i=e.i,e.g&&(t.g=new Vg(e.g),t.h=e.h),BR(this,t),this.o=n.o}else n&&(t=String(n).match(VR))?(this.g=!!e,wE(this,t[1]||"",!0),this.s=cv(t[2]||""),EE(this,t[3]||"",!0),DE(this,t[4]),this.l=cv(t[5]||"",!0),BR(this,t[6]||"",!0),this.o=cv(t[7]||"")):(this.g=!!e,this.h=new hv(null,this.g))}function gc(n){return new wf(n)}function wE(n,e,t){n.j=t?cv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function EE(n,e,t){n.i=t?cv(e,!0):e}function DE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function BR(n,e,t){e instanceof hv?(n.h=e,function tV(n,e){e&&!n.j&&(Od(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(jR(this,r),$R(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=dv(e,X2)),n.h=new hv(e,n.g))}function br(n,e,t){n.h.set(e,t)}function CE(n){return br(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Y2),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Y2(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dv(e,UR,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dv(e,UR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(dv(t,"/"==t.charAt(0)?J2:Q2,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dv(t,eV)),n.join("")};var UR=/[#\/\?@]/g,Q2=/[#\?:]/g,J2=/[#\?]/g,X2=/[#\?@]/g,eV=/#/g;function hv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Od(n){n.g||(n.g=new Vg,n.h=0,n.i&&function W2(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jR(n,e){Od(n),e=Bg(n,e),bf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,bf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&jS(n)))}function HR(n,e){return Od(n),e=Bg(n,e),bf(n.g.h,e)}function $R(n,e,t){jR(n,e),0<t.length&&(n.i=null,n.g.set(Bg(n,e),zy(t)),n.h+=t.length)}function Bg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function GR(n){this.l=n||rV,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ea&&Ht.g.Ea()&&Ht.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=hv.prototype).add=function(n,e){Od(this),this.i=null,n=Bg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Od(this),this.g.forEach(function(t,r){ES(t,function(i){n.call(e,i,r,this)},this)},this)},ct.T=function(){Od(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},ct.R=function(n){Od(this);var e=[];if("string"==typeof n)HR(this,n)&&(e=Qw(e,this.g.get(Bg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Qw(e,n[t])}return e},ct.set=function(n,e){return Od(this),this.i=null,HR(this,n=Bg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var rV=10;function qR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zR(n){return n.h?1:n.g?n.g.size:0}function HS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $S(n,e){n.g?n.g.add(e):n.h=e}function WR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ZR(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return zy(n.i)}function GS(){}function iV(){this.g=new GS}function sV(n,e,t){const r=t||"";try{US(n,function(i,a){let c=i;Id(i)&&(c=l(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function TE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function fv(n){this.l=n.$b||null,this.j=n.ib||!1}function IE(n,e){yi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=qS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GR.prototype.cancel=function(){if(this.i=ZR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},GS.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},GS.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},ri(fv,xS),fv.prototype.g=function(){return new IE(this.l,this.j)},fv.prototype.i=function(n){return function(){return n}}({}),ri(IE,yi);var qS=0;function KR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function pv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gv(n)}function gv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=IE.prototype).open=function(n,e){if(this.readyState!=qS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gv(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pv(this)),this.readyState=qS},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gv(this)),this.g&&(this.readyState=3,gv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ht.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pv(this):gv(this),3==this.readyState&&KR(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,pv(this))},ct.Ta=function(n){this.g&&(this.response=n,pv(this))},ct.ha=function(){this.g&&pv(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(IE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aV=Ht.JSON.parse;function ii(n){yi.call(this),this.headers=new Vg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YR,this.K=this.L=!1}ri(ii,yi);var YR="",lV=/^https?$/i,uV=["POST","PUT"];function dV(n){return"content-type"==n.toLowerCase()}function QR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,JR(n),SE(n)}function JR(n){n.D||(n.D=!0,s(n,"complete"),s(n,"error"))}function XR(n){if(n.h&&void 0!==jy&&(!n.C[1]||4!=mc(n)||2!=n.ba()))if(n.v&&4==mc(n))ze(n.Fa,0,n);else if(s(n,"readystatechange"),4==mc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(VR)[1]||null;if(!i&&Ht.self&&Ht.self.location){var a=Ht.self.location.protocol;i=a.substr(0,a.length-1)}r=!lV.test(i?i.toLowerCase():"")}t=r}if(t)s(n,"complete"),s(n,"success");else{n.m=6;try{var c=2<mc(n)?n.g.statusText:""}catch(m){c=""}n.j=c+" ["+n.ba()+"]",JR(n)}}finally{SE(n)}}}function SE(n,e){if(n.g){ex(n);const t=n.g,r=n.C[0]?Hy:null;n.g=null,n.C=null,e||s(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function ex(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function mc(n){return n.g?n.g.readyState:0}function tx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case YR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function hV(n){let e="";return Sd(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):br(n,e,t))}function mv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function nx(n){this.za=0,this.l=[],this.h=new Ra,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mv("baseRetryDelayMs",5e3,n),this.$a=mv("retryDelaySeedMs",1e4,n),this.Ya=mv("forwardChannelMaxRetries",2,n),this.ra=mv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new GR(n&&n.concurrentRequestLimit),this.Ca=new iV,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function WS(n){if(rx(n),3==n.G){var e=n.V++,t=gc(n.F);br(t,"SID",n.J),br(t,"RID",e),br(t,"TYPE","terminate"),_v(n,t),(e=new av(n,n.h,e,void 0)).K=2,e.v=CE(gc(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=hx(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lv(e)}cx(n)}function AE(n){n.g&&(YS(n),n.g.cancel(),n.g=null)}function rx(n){AE(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),ME(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function ZS(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&NE(n)}function NE(n){qR(n.i)||n.m||(n.m=!0,D(n.Ha,n),n.C=0)}function ix(n,e){var t;t=e?e.m:n.V++;const r=gc(n.F);br(r,"SID",n.J),br(r,"RID",t),br(r,"AID",n.U),_v(n,r),n.o&&n.s&&zS(r,n.o,n.s),t=new av(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=sx(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),$S(n.i,t),VS(t,r,e)}function _v(n,e){n.j&&US({},function(t,r){br(e,r,t)})}function sx(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ni(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let b=i[m].h;const T=i[m].g;if(b-=a,0>b)a=Math.max(0,i[m].h-100),f=!1;else try{sV(T,c,"req"+b+"_")}catch(A){r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ox(n){n.g||n.u||(n.Y=1,D(n.Ga,n),n.A=0)}function KS(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=sv(ni(n.Ga,n),ux(n,n.A)),n.A++,0))}function YS(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function ax(n){n.g=new av(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=gc(n.oa);br(e,"RID","rpc"),br(e,"SID",n.J),br(e,"CI",n.N?"0":"1"),br(e,"AID",n.U),_v(n,e),br(e,"TYPE","xmlhttp"),n.o&&n.s&&zS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=CE(gc(e)),t.s=null,t.U=!0,PR(t,n)}function ME(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function lx(n,e){var t=null;if(n.g==e){ME(n),YS(n),n.g=null;var r=2}else{if(!HS(n.i,e))return;t=e.D,WR(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;s(r=Md(),new NR(r,t,e,i)),NE(n)}else ox(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function fV(n,e){return!(zR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=sv(ni(n.Ha,n,e),ux(n,n.C)),n.C++,0)))}(n,e)||2==r&&KS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ef(n,5);break;case 4:Ef(n,10);break;case 3:Ef(n,6);break;default:Ef(n,2)}}function ux(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ef(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ni(n.jb,n);t||(t=new wf("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||wE(t,"https"),CE(t)),function oV(n,e){const t=new Ra;if(Ht.Image){const r=new Image;r.onload=Og(TE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Og(TE,t,r,"TestLoadImage: error",!1,e),r.onabort=Og(TE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Og(TE,t,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $s(2);n.G=0,n.j&&n.j.va(e),cx(n),rx(n)}function cx(n){n.G=0,n.I=-1,n.j&&((0!=ZR(n.i).length||0!=n.l.length)&&(n.i.i.length=0,zy(n.l),n.l.length=0),n.j.ua())}function dx(n,e,t){let r=function Z2(n){return n instanceof wf?gc(n):new wf(n,void 0)}(t);if(""!=r.i)e&&EE(r,e+"."+r.i),DE(r,r.m);else{const i=Ht.location;r=function K2(n,e,t,r){var i=new wf(null,void 0);return n&&wE(i,n),e&&EE(i,e),t&&DE(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Sd(n.aa,function(i,a){br(r,a,i)}),t=n.sa,(e=n.D)&&t&&br(r,e,t),br(r,"VER",n.ma),_v(n,r),r}function hx(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ii(t&&n.Ba&&!n.qa?new fv({ib:!0}):n.qa)).L=n.H,e}function fx(){}function OE(){if(su&&!(10<=Number(aE)))throw Error("Environmental error: no available transport.")}function Go(n,e){yi.call(this),this.g=new nx(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Rg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ug(this)}function px(n){PS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function gx(){kS.call(this),this.status=1}function Ug(n){this.g=n}(ct=ii.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():FS.g(),this.C=function OR(n){return n.h||(n.h=n.i())}(this.u?this.u:FS),this.g.onreadystatechange=ni(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void QR(this,a)}n=t||"";const i=new Vg(this.headers);r&&US(r,function(a,c){i.set(c,a)}),r=function Yw(n){e:{var e=dV;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ht.FormData&&n instanceof Ht.FormData,!(0<=wS(uV,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ex(this),0<this.B&&((this.K=function cV(n){return su&&function SS(){return function nE(n){var e=IS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=DS(String(Ky)).split("."),t=DS("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Jw(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Jw(0==i[2].length,0==a[2].length)||Jw(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.pa,this)):this.A=ze(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){QR(this,a)}},ct.pa=function(){void 0!==jy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,s(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,s(this,"complete"),s(this,"abort"),SE(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),SE(this,!0)),ii.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?XR(this):this.cb())},ct.cb=function(){XR(this)},ct.ba=function(){try{return 2<mc(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),aV(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=nx.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new av(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=eE(a),Wy(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=sx(this,i,e),br(t=gc(this.F),"RID",n),br(t,"CVER",22),this.D&&br(t,"X-HTTP-Session-Id",this.D),_v(this,t),this.o&&a&&zS(t,this.o,a),$S(this.i,i),this.Ra&&br(t,"TYPE","init"),this.ja?(br(t,"$req",e),br(t,"SID","null"),i.$=!0,VS(i,t,null)):VS(i,t,e),this.G=2}}else 3==this.G&&(n?ix(this,n):0==this.l.length||qR(this.i)||ix(this))},ct.Ga=function(){if(this.u=null,ax(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=sv(ni(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$s(10),AE(this),ax(this))},ct.ab=function(){null!=this.v&&(this.v=null,AE(this),KS(this),$s(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),$s(2)):(this.h.info("Failed to ping google.com"),$s(1))},(ct=fx.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},OE.prototype.g=function(n,e){return new Go(n,e)},ri(Go,yi),Go.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),D(ni(n.hb,n,e))),$s(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=dx(n,null,n.W),NE(n)},Go.prototype.close=function(){WS(this.g)},Go.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ZS(this.g,e)}else this.v?((e={}).__data__=l(n),ZS(this.g,e)):ZS(this.g,n)},Go.prototype.M=function(){this.g.j=null,delete this.j,WS(this.g),delete this.g,Go.Z.M.call(this)},ri(px,PS),ri(gx,kS),ri(Ug,fx),Ug.prototype.xa=function(){s(this.g,"a")},Ug.prototype.wa=function(n){s(this.g,new px(n))},Ug.prototype.va=function(n){s(this.g,new gx(n))},Ug.prototype.ua=function(){s(this.g,"b")},OE.prototype.createWebChannel=OE.prototype.g,Go.prototype.send=Go.prototype.u,Go.prototype.open=Go.prototype.m,Go.prototype.close=Go.prototype.close,_E.NO_ERROR=0,_E.TIMEOUT=8,_E.HTTP_ERROR=6,MR.COMPLETE="complete",RR.EventType=ov,ov.OPEN="a",ov.CLOSE="b",ov.ERROR="c",ov.MESSAGE="d",yi.prototype.listen=yi.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.La,ii.prototype.getLastErrorCode=ii.prototype.Da,ii.prototype.getStatus=ii.prototype.ba,ii.prototype.getResponseJson=ii.prototype.Qa,ii.prototype.getResponseText=ii.prototype.ga,ii.prototype.send=ii.prototype.ea;var pV=fl.createWebChannelTransport=function(){return new OE},gV=fl.getStatEventTarget=function(){return Md()},QS=fl.ErrorCode=_E,mV=fl.EventType=MR,_V=fl.Event=ml,mx=fl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yV=fl.FetchXmlHttpFactory=fv,RE=fl.WebChannel=RR,vV=fl.XhrIo=ii;const _x="@firebase/firestore";class Ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let jg="9.6.11";const Rd=new pc.Yd("@firebase/firestore");function JS(){return Rd.logLevel}function He(n,...e){if(Rd.logLevel<=pc.in.DEBUG){const t=e.map(XS);Rd.debug(`Firestore (${jg}): ${n}`,...t)}}function si(n,...e){if(Rd.logLevel<=pc.in.ERROR){const t=e.map(XS);Rd.error(`Firestore (${jg}): ${n}`,...t)}}function yv(n,...e){if(Rd.logLevel<=pc.in.WARN){const t=e.map(XS);Rd.warn(`Firestore (${jg}): ${n}`,...t)}}function XS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${jg}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function $t(n,e){n||gt()}function ot(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ji.UNAUTHENTICATED))}shutdown(){}}class DV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class CV{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,Ee.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},m=b=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t("string"==typeof r.accessToken),new yx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new Ji(e)}}class TV{constructor(e,t,r){this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class IV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new TV(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SV{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t("string"==typeof t.token),this.p=t.token,new vx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class qo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function AV(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}qo.A=-1;class bx{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function Hg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function wx(n){return n+"\0"}class jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new jr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new jr(0,0))}static max(){return new Pt(new jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ex(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Df(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Dx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vv{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends vv{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const NV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends vv{construct(e,t,r){return new Oi(e,t,r)}static isValidIdentifier(e){return NV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Oi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new xe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new xe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new xe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(t)}static emptyPath(){return new Oi([])}}class $g{constructor(e){this.fields=e,e.sort(Oi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const OV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xd(n){if($t(!!n),"string"==typeof n){let e=0;const t=OV.exec(n);if($t(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Or(n.seconds),nanos:Or(n.nanos)}}function Or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cf(n){return"string"==typeof n?vi.fromBase64String(n):vi.fromUint8Array(n)}function eA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cx(n){const e=n.mapValue.fields.__previous_value__;return eA(e)?Cx(e):e}function bv(n){const e=xd(n.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}class RV{constructor(e,t,r,i,a,c,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class _c{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}function Tf(n){return null==n}function wv(n){return 0===n&&1/n==-1/0}function Tx(n){return"number"==typeof n&&Number.isInteger(n)&&!wv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(mn.fromString(e))}static fromName(e){return new Xe(mn.fromString(e).popFirst(5))}static empty(){return new Xe(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new mn(e.slice()))}}const Ix={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sx={nullValue:"NULL_VALUE"};function If(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eA(n)?4:Ox(n)?9:10:gt()}function au(n,e){if(n===e)return!0;const t=If(n);if(t!==If(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bv(n).isEqual(bv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=xd(r.timestampValue),c=xd(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Cf(n.bytesValue).isEqual(Cf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Or(r.geoPointValue.latitude)===Or(i.geoPointValue.latitude)&&Or(r.geoPointValue.longitude)===Or(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Or(r.integerValue)===Or(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Or(r.doubleValue),c=Or(i.doubleValue);return a===c?wv(a)===wv(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Hg(n.arrayValue.values||[],e.arrayValue.values||[],au);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Ex(a)!==Ex(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!au(a[f],c[f])))return!1;return!0}(n,e);default:return gt()}var i}function Ev(n,e){return void 0!==(n.values||[]).find(t=>au(t,e))}function Pd(n,e){if(n===e)return 0;const t=If(n),r=If(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Or(i.integerValue||i.doubleValue),f=Or(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Ax(n.timestampValue,e.timestampValue);case 4:return Ax(bv(n),bv(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Cf(i),f=Cf(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let m=0;m<c.length&&m<f.length;m++){const b=Yt(c[m],f[m]);if(0!==b)return b}return Yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Yt(Or(i.latitude),Or(a.latitude));return 0!==c?c:Yt(Or(i.longitude),Or(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let m=0;m<c.length&&m<f.length;++m){const b=Pd(c[m],f[m]);if(b)return b}return Yt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},f=Object.keys(c),m=a.fields||{},b=Object.keys(m);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const A=Yt(f[T],b[T]);if(0!==A)return A;const x=Pd(c[f[T]],m[b[T]]);if(0!==x)return x}return Yt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw gt()}}function Ax(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=xd(n),r=xd(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function Gg(n){return tA(n)}function tA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cf(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=tA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${tA(r.fields[f])}`;return a+"}"}(n.mapValue):gt();var e}function Sf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nA(n){return!!n&&"integerValue"in n}function Dv(n){return!!n&&"arrayValue"in n}function Nx(n){return!!n&&"nullValue"in n}function Mx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xE(n){return!!n&&"mapValue"in n}function Cv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Df(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ox(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xV(n){return"nullValue"in n?Sx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sf(_c.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function PV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sf(_c.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ix:gt()}function Rx(n,e){return void 0===n?e:void 0===e||Pd(n,e)>0?n:e}function xx(n,e){return void 0===n?e:void 0===e||Pd(n,e)<0?n:e}class ws{constructor(e){this.value=e}static empty(){return new ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cv(t)}setAll(e){let t=Oi.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Cv(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());xE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return au(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Df(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ws(Cv(this.value))}}function Px(n){const e=[];return Df(n.fields,(t,r)=>{const i=new Oi([t]);if(xE(r)){const a=Px(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new $g(e)}class cr{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new cr(e,0,Pt.min(),Pt.min(),ws.empty(),0)}static newFoundDocument(e,t,r){return new cr(e,1,t,Pt.min(),r,0)}static newNoDocument(e,t){return new cr(e,2,t,Pt.min(),ws.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,Pt.min(),ws.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class PE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function rA(n){return n.fields.find(e=>2===e.kind)}function Af(n){return n.fields.filter(e=>2!==e.kind)}PE.UNKNOWN_ID=-1;class kE{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tv(0,yc.min())}}function kx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(1e9===r?new jr(t+1,0):new jr(t,r));return new yc(i,Xe.empty(),e)}function kV(n){return new yc(n.readTime,n.key,-1)}class yc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yc(Pt.min(),Xe.empty(),-1)}static max(){return new yc(Pt.max(),Xe.empty(),-1)}}function FV(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}class LV{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.P=null}}function Fx(n,e=null,t=[],r=[],i=null,a=null,c=null){return new LV(n,e,t,r,i,a,c)}function Nf(n){const e=ot(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Gg(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gg(r)).join(",")),e.P=t}return e.P}function Iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!zV(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!au(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jx(n.startAt,e.startAt)&&jx(n.endAt,e.endAt)}function FE(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function LE(n,e){return n.filters.filter(t=>t instanceof Xi&&t.field.isEqual(e))}function Lx(n,e,t){let r,i=!0;for(const a of LE(n,e)){let c,f=!0;switch(a.op){case"<":case"<=":c=xV(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=Sx}Rx(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Rx(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function Vx(n,e,t){let r,i=!0;for(const a of LE(n,e)){let c,f=!0;switch(a.op){case">=":case">":c=PV(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=Ix}xx(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];xx(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Xi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new BV(e,t,r):"array-contains"===t?new HV(e,r):"in"===t?new $V(e,r):"not-in"===t?new GV(e,r):"array-contains-any"===t?new qV(e,r):new Xi(e,t,r)}static V(e,t,r){return"in"===t?new UV(e,r):new jV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Pd(t,this.value)):null!==t&&If(this.value)===If(t)&&this.v(Pd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class BV extends Xi{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.v(t)}}class UV extends Xi{constructor(e,t){super(e,"in",t),this.keys=Bx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jV extends Xi{constructor(e,t){super(e,"not-in",t),this.keys=Bx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Bx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class HV extends Xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dv(t)&&Ev(t.arrayValue,this.value)}}class $V extends Xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ev(this.value.arrayValue,t)}}class GV extends Xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ev(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ev(this.value.arrayValue,t)}}class qV extends Xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ev(this.value.arrayValue,r))}}class kd{constructor(e,t){this.position=e,this.inclusive=t}}class qg{constructor(e,t="asc"){this.field=e,this.dir=t}}function zV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ux(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Xe.comparator(Xe.fromName(c.referenceValue),t.key):Pd(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!au(n.position[t],e.position[t]))return!1;return!0}class vc{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.D=null,this.C=null}}function Hx(n,e,t,r,i,a,c,f){return new vc(n,e,t,r,i,a,c,f)}function zg(n){return new vc(n)}function VE(n){return!Tf(n.limit)&&"F"===n.limitType}function BE(n){return!Tf(n.limit)&&"L"===n.limitType}function iA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function sA(n){for(const e of n.filters)if(e.S())return e.field;return null}function oA(n){return null!==n.collectionGroup}function Wg(n){const e=ot(n);if(null===e.D){e.D=[];const t=sA(e),r=iA(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new qg(t)),e.D.push(new qg(Oi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new qg(Oi.keyField(),a))}}}return e.D}function xa(n){const e=ot(n);if(!e.C)if("F"===e.limitType)e.C=Fx(e.path,e.collectionGroup,Wg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Wg(e))t.push(new qg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new kd(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new kd(e.startAt.position,!e.startAt.inclusive):null;e.C=Fx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function $x(n,e,t){return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sv(n,e){return Iv(xa(n),xa(e))&&n.limitType===e.limitType}function Gx(n){return`${Nf(xa(n))}|lt:${n.limitType}`}function aA(n){return`Query(target=${function VV(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Gg(r.value)}`;var r}).join(", ")}]`),Tf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Gg(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Gg(t)).join(",")),`Target(${e})`}(xa(n))}; limitType=${n.limitType})`}function lA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=Ux(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Wg(t),r)||t.endAt&&!function(i,a,c){const f=Ux(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Wg(t),r)));var t,r}function qx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zx(n){return(e,t)=>{let r=!1;for(const i of Wg(n)){const a=WV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function WV(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),m=c.data.field(i);return null!==f&&null!==m?Pd(f,m):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function Wx(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wv(e)?"-0":e}}function Zx(n){return{integerValue:""+n}}function Kx(n,e){return Tx(e)?Zx(e):Wx(n,e)}class UE{constructor(){this._=void 0}}function ZV(n,e,t){return n instanceof Zg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Mf?Qx(n,e):n instanceof Of?Jx(n,e):function(r,i){const a=Yx(r,i),c=Xx(a)+Xx(r.k);return nA(a)&&nA(r.k)?Zx(c):Wx(r.M,c)}(n,e)}function KV(n,e,t){return n instanceof Mf?Qx(n,e):n instanceof Of?Jx(n,e):t}function Yx(n,e){return n instanceof Kg?nA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Zg extends UE{}class Mf extends UE{constructor(e){super(),this.elements=e}}function Qx(n,e){const t=eP(e);for(const r of n.elements)t.some(i=>au(i,r))||t.push(r);return{arrayValue:{values:t}}}class Of extends UE{constructor(e){super(),this.elements=e}}function Jx(n,e){let t=eP(e);for(const r of n.elements)t=t.filter(i=>!au(i,r));return{arrayValue:{values:t}}}class Kg extends UE{constructor(e,t){super(),this.M=e,this.k=t}}function Xx(n){return Or(n.integerValue||n.doubleValue)}function eP(n){return Dv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Av{constructor(e,t){this.field=e,this.transform=t}}class QV{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class HE{}function JV(n,e,t){n instanceof Nv?function(r,i,a){const c=r.value.clone(),f=iP(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Rf?function(r,i,a){if(!jE(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=iP(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(rP(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function uA(n,e,t){var i;n instanceof Nv?function(r,i,a){if(!jE(r.precondition,i))return;const c=r.value.clone(),f=sP(r.fieldTransforms,a,i);c.setAll(f),i.convertToFoundDocument(nP(i),c).setHasLocalMutations()}(n,e,t):n instanceof Rf?function(r,i,a){if(!jE(r.precondition,i))return;const c=sP(r.fieldTransforms,a,i),f=i.data;f.setAll(rP(r)),f.setAll(c),i.convertToFoundDocument(nP(i),f).setHasLocalMutations()}(n,e,t):jE(n.precondition,i=e)&&i.convertToNoDocument(Pt.min())}function XV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Yx(r.transform,i||null);null!=a&&(null==t&&(t=ws.empty()),t.set(r.field,a))}return t||null}function tP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Hg(t,r,(i,a)=>function YV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Mf&&r instanceof Mf||t instanceof Of&&r instanceof Of?Hg(t.elements,r.elements,au):t instanceof Kg&&r instanceof Kg?au(t.k,r.k):t instanceof Zg&&r instanceof Zg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function nP(n){return n.isFoundDocument()?n.version:Pt.min()}class Nv extends HE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Rf extends HE{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function rP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iP(n,e,t){const r=new Map;$t(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,KV(c,f,t[i]))}return r}function sP(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,ZV(a,c,e))}return r}class Mv extends HE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class cA extends HE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class eB{constructor(e){this.count=e}}var ai,_n;function oP(n){switch(n){default:return gt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function aP(n){if(void 0===n)return si("GRPC error has no .code"),fe.UNKNOWN;switch(n){case ai.OK:return fe.OK;case ai.CANCELLED:return fe.CANCELLED;case ai.UNKNOWN:return fe.UNKNOWN;case ai.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ai.INTERNAL:return fe.INTERNAL;case ai.UNAVAILABLE:return fe.UNAVAILABLE;case ai.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ai.NOT_FOUND:return fe.NOT_FOUND;case ai.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ai.ABORTED:return fe.ABORTED;case ai.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ai.DATA_LOSS:return fe.DATA_LOSS;default:return gt()}}(_n=ai||(ai={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Fd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Df(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Dx(this.inner)}size(){return this.innerSize}}class Hr{constructor(e,t){this.comparator=e,this.root=t||es.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $E(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $E(this.root,e,this.comparator,!1)}getReverseIterator(){return new $E(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $E(this.root,e,this.comparator,!0)}}class $E{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:es.RED,this.left=null!=i?i:es.EMPTY,this.right=null!=a?a:es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new es(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return es.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new es(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lP(this.data.getIterator())}getIteratorFrom(e){return new lP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class lP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yg(n){return n.hasNext()?n.getNext():void 0}const tB=new Hr(Xe.comparator);function Pa(){return tB}const nB=new Hr(Xe.comparator);function dA(){return nB}function Ov(){return new Fd(n=>n.toString(),(n,e)=>n.isEqual(e))}const rB=new Hr(Xe.comparator),iB=new dr(Xe.comparator);function Rn(...n){let e=iB;for(const t of n)e=e.add(t);return e}const sB=new dr(Yt);function GE(){return sB}class Rv{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,xv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Rv(Pt.min(),r,GE(),Pa(),Rn())}}class xv{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new xv(vi.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class qE{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class uP{constructor(e,t){this.targetId=e,this.$=t}}class cP{constructor(e,t,r=vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dP{constructor(){this.B=0,this.L=fP(),this.U=vi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Rn(),t=Rn(),r=Rn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new xv(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=fP()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class oB{constructor(e){this.nt=e,this.st=new Map,this.it=Pa(),this.rt=hP(),this.ot=new dr(Yt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(FE(a))if(0===r){const c=new Xe(a.path);this.ct(t,c,cr.newNoDocument(c,Pt.min()))}else $t(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const f=this.wt(c);if(f){if(a.current&&FE(f.target)){const m=new Xe(f.target.path);null!==this.it.get(m)||this.It(c,m)||this.ct(c,m,cr.newNoDocument(m,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=Rn();this.rt.forEach((a,c)=>{let f=!0;c.forEachWhile(m=>{const b=this.wt(m);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new Rv(e,t,this.ot,this.it,r);return this.it=Pa(),this.rt=hP(),this.ot=new dr(Yt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new dP,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new dr(Yt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new dP),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function hP(){return new Hr(Xe.comparator)}function fP(){return new Hr(Xe.comparator)}const aB={asc:"ASCENDING",desc:"DESCENDING"},lB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class uB{constructor(e,t){this.databaseId=e,this.N=t}}function Pv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pP(n,e){return n.N?e.toBase64():e.toUint8Array()}function cB(n,e){return Pv(n,e.toTimestamp())}function Ri(n){return $t(!!n),Pt.fromTimestamp(function(e){const t=xd(e);return new jr(t.seconds,t.nanos)}(n))}function hA(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gP(n){const e=mn.fromString(n);return $t(CP(e)),e}function kv(n,e){return hA(n.databaseId,e.path)}function lu(n,e){const t=gP(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(_P(t))}function fA(n,e){return hA(n.databaseId,e)}function mP(n){const e=gP(n);return 4===e.length?mn.emptyPath():_P(e)}function Fv(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _P(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yP(n,e,t){return{name:kv(n,e),fields:t.value.mapValue.fields}}function vP(n,e,t){const r=lu(n,e.name),i=Ri(e.updateTime),a=new ws({mapValue:{fields:e.fields}}),c=cr.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Lv(n,e){let t;if(e instanceof Nv)t={update:yP(n,e.key,e.value)};else if(e instanceof Mv)t={delete:kv(n,e.key)};else if(e instanceof Rf)t={update:yP(n,e.key,e.data),updateMask:vB(e.fieldMask)};else{if(!(e instanceof cA))return gt();t={verify:kv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Zg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Of)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kg)return{fieldPath:a.field.canonicalString(),increment:c.k};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:cB(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),t;var i}function pA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?oi.updateTime(Ri(i.updateTime)):void 0!==i.exists?oi.exists(i.exists):oi.none():oi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?($t("REQUEST_TIME"===c.setToServerValue),f=new Zg):"appendMissingElements"in c?f=new Mf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Of(c.removeAllFromArray.values||[]):"increment"in c?f=new Kg(a,c.increment):gt();const m=Oi.fromServerFormat(c.fieldPath);return new Av(m,f)}(n,i)):[];var i;if(e.update){const i=lu(n,e.update.name),a=new ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new $g((e.updateMask.fieldPaths||[]).map(b=>Oi.fromServerFormat(b)));return new Rf(i,a,c,t,r)}return new Nv(i,a,t,r)}if(e.delete){const i=lu(n,e.delete);return new Mv(i,t)}if(e.verify){const i=lu(n,e.verify);return new cA(i,t)}return gt()}function bP(n,e){return{documents:[fA(n,e.path)]}}function wP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=fA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const b=m.map(T=>function(A){if("=="===A.op){if(Mx(A.value))return{unaryFilter:{field:Qg(A.field),op:"IS_NAN"}};if(Nx(A.value))return{unaryFilter:{field:Qg(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(Mx(A.value))return{unaryFilter:{field:Qg(A.field),op:"IS_NOT_NAN"}};if(Nx(A.value))return{unaryFilter:{field:Qg(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qg(A.field),op:mB(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(b=>{return{field:Qg((T=b).field),direction:gB(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(b=e.limit,n.N||Tf(b)?b:{value:b});var b,f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function EP(n){let e=mP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$t(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=DP(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new qg(Jg((A=T).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,Tf(A)?null:A}(t.limit));let m=null;var T;t.startAt&&(m=new kd((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new kd(T.values||[],!T.before)}(t.endAt)),Hx(e,i,c,a,f,"F",m,b)}function DP(n){return n?void 0!==n.unaryFilter?[yB(n)]:void 0!==n.fieldFilter?[_B(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>DP(e)).reduce((e,t)=>e.concat(t)):gt():[]}function gB(n){return aB[n]}function mB(n){return lB[n]}function Qg(n){return{fieldPath:n.canonicalString()}}function Jg(n){return Oi.fromServerFormat(n.fieldPath)}function _B(n){return Xi.create(Jg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}function yB(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Jg(n.unaryFilter.field);return Xi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Jg(n.unaryFilter.field);return Xi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jg(n.unaryFilter.field);return Xi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jg(n.unaryFilter.field);return Xi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}function vB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Gs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TP(e)),e=bB(n.get(t),e);return TP(e)}function bB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function TP(n){return n+"\x01\x01"}function uu(n){const e=n.length;if($t(e>=2),2===e)return $t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&gt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:gt()}a=c+2}return new mn(r)}const IP=["userId","batchId"];function zE(n,e){return[n,Gs(e)]}function SP(n,e,t){return[n,Gs(e),t]}const wB={},EB=["prefixPath","collectionGroup","readTime","documentId"],DB=["prefixPath","collectionGroup","documentId"],CB=["collectionGroup","readTime","prefixPath","documentId"],TB=["canonicalId","targetId"],IB=["targetId","path"],SB=["path","targetId"],AB=["collectionId","parent"],NB=["indexId","uid"],MB=["uid","sequenceNumber"],OB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RB=["indexId","uid","orderedDocumentKey"],xB=["userId","collectionPath","documentId"],PB=["userId","collectionPath","largestBatchId"],kB=["userId","collectionGroup","largestBatchId"],AP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FB=[...AP,"documentOverlays"],NP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LB=[...NP,"indexConfiguration","indexState","indexEntries"],MP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,r)=>{t(e)})}static reject(e){return new ve((t,r)=>{r(e)})}static waitFor(e){return new ve((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=ve.resolve(!1);for(const r of e)t=t.next(i=>i?ve.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class WE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Mi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Vv(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=gA(r.target.error);this.At.reject(new Vv(e,i))}}static open(e,t,r,i){try{return new WE(t,e.transaction(i,r))}catch(a){throw new Vv(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BB(t)}}class _l{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===_l.Vt((0,nn.z$)())&&si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),Pf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,nn.hl)())return!1;if(_l.St())return!0;const e=(0,nn.z$)(),t=_l.Vt(e),r=0<t&&t<10,i=_l.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Vv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new xe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new xe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Vv(e,f))},a.onupgradeneeded=c=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ee.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const m=WE.open(a.db,e,c?"readonly":"readwrite",r),b=i(m).next(T=>(m.Pt(),T)).catch(T=>(m.abort(T),ve.reject(T))).toPromise();return b.catch(()=>{}),yield m.Rt,b}catch(m){const b="FirebaseError"!==m.name&&f<3;if(He("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),a.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class VB{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Pf(this.Ft.delete())}}class Vv extends xe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xf(n){return"IndexedDbTransactionError"===n.name}class BB{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pf(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),Pf(this.store.add(e))}get(e){return Pf(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),Pf(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),Pf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ve((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ve((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new ve((r,i)=>{t.onerror=a=>{const c=gA(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new ve((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const m=new VB(f),b=t(f.primaryKey,f.value,m);if(b instanceof ve){const T=b.catch(A=>(m.done(),ve.reject(A)));r.push(T)}m.isDone?i():null===m.Lt?f.continue():f.continue(m.Lt)}}).next(()=>ve.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pf(n){return new ve((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=gA(r.target.error);t(i)}})}let RP=!1;function gA(n){const e=_l.Vt((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RP||(RP=!0,setTimeout(()=>{throw r},0)),r}}return n}class xP extends OP{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function xi(n,e){const t=ot(n);return _l.xt(t.Ht,e)}class mA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&JV(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&uA(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&uA(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&Hg(this.mutations,e.mutations,(t,r)=>tP(t,r))&&Hg(this.baseMutations,e.baseMutations,(t,r)=>tP(t,r))}}class _A{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$t(e.mutations.length===r.length);let i=rB;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new _A(e,t,r,i)}}class yA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ld{constructor(e,t,r,i,a=Pt.min(),c=Pt.min(),f=vi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class PP{constructor(e){this.Jt=e}}function kP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ZE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:kv(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Pv(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:kf(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:kf(e.version)}}var i,a;return r}function ZE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ff(n){const e=new jr(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function Xg(n,e){const t=(e.baseMutations||[]).map(a=>pA(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>pA(n.Jt,a)),i=jr.fromMillis(e.localWriteTimeMs);return new mA(e.batchId,i,t,r)}function Bv(n){const e=Ff(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ff(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?($t(1===(i=n.query).documents.length),r=xa(zg(mP(i.documents[0])))):r=xa(EP(n.query)),new Ld(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vi.fromBase64String(n.resumeToken))}function FP(n,e){const t=kf(e.snapshotVersion),r=kf(e.lastLimboFreeSnapshotVersion);let i;i=FE(e.target)?bP(n.Jt,e.target):wP(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function vA(n){const e=EP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$x(e,e.limit,"L"):e}function bA(n,e){return new yA(e.largestBatchId,pA(n.Jt,e.overlayMutation))}function LP(n,e){const t=e.path.lastSegment();return[n,Gs(e.path.popLast()),t]}class jB{getBundleMetadata(e,t){return VP(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ff(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return VP(e).put({bundleId:(r=t).id,createTime:kf(Ri(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return BP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:vA(i.bundledQuery),readTime:Ff(i.readTime)};var i})}saveNamedQuery(e,t){return BP(e).put({name:(r=t).name,readTime:kf(Ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function VP(n){return xi(n,"bundles")}function BP(n){return xi(n,"namedQueries")}class wA{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new wA(e,t.uid||"")}getOverlay(e,t){return Uv(e).get(LP(this.userId,t)).next(r=>r?bA(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new yA(t,c);i.push(this.Xt(e,f))}),ve.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Gs(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Uv(e).Qt("collectionPathOverlayIndex",f))}),ve.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Ov(),a=Gs(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Uv(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const m of f){const b=bA(this.M,m);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Ov();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Uv(e).Wt({index:"collectionGroupOverlayIndex",range:f},(m,b,T)=>{const A=bA(this.M,b);a.size()<i||A.largestBatchId===c?(a.set(A.getKey(),A),c=A.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return Uv(e).put(function(r,i,a){const[c,f,m]=LP(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lv(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Uv(n){return xi(n,"documentOverlays")}class Lf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Or(e.integerValue));else if("doubleValue"in e){const r=Or(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),wv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Cf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Ox(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):gt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Xe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function HB(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function UP(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=HB(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Lf.fe=new Lf;class $B{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=UP(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=UP(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class GB{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class qB{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class jv{constructor(){this.De=new $B,this.Ce=new GB(this.De),this.xe=new qB(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Vd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Vd(this.indexId,this.documentKey,this.arrayValue,r)}}function Vf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jP(n.arrayValue,e.arrayValue),0!==t?t:(t=jP(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function jP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zB{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=rA(e);if(void 0!==t&&!this.Be(t))return!1;const r=Af(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class WB{constructor(){this.qe=new EA}addToCollectionParentIndex(e,t){return this.qe.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getFieldIndex(e,t){return ve.resolve(null)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}updateCollectionGroup(e,t,r){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class EA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dr(mn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dr(mn.comparator)).toArray()}}const em=new Uint8Array(0);class ZB{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new EA,this.Ge=new Fd(r=>Nf(r),(r,i)=>Iv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Gs(i)};return HP(e).put(a)}return ve.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[wx(t),""],!1,!0);return HP(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(uu(c.parent))}return r})}addFieldIndex(e,t){const r=KE(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=KE(e),i=YE(e),a=Hv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hv(e);let i=!0;const a=new Map;return ve.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Rn();const f=[];return ve.forEach(a,(m,b)=>{var T;He("IndexedDbIndexManager",`Using index ${T=m,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Ye=>`${Ye.fieldPath}:${Ye.kind}`).join(",")}`} to execute ${Nf(t)}`);const A=function(Ye,Ve){const tt=rA(Ve);if(void 0===tt)return null;for(const at of LE(Ye,tt.fieldPath))switch(at.op){case"array-contains-any":return at.value.arrayValue.values||[];case"array-contains":return[at.value]}return null}(b,m),x=function(Ye,Ve){const tt=new Map;for(const at of Af(Ve))for(const vt of LE(Ye,at.fieldPath))switch(vt.op){case"==":case"in":tt.set(at.fieldPath.canonicalString(),vt.value);break;case"not-in":case"!=":return tt.set(at.fieldPath.canonicalString(),vt.value),Array.from(tt.values())}return null}(b,m),B=function(Ye,Ve){const tt=[];let at=!0;for(const vt of Af(Ve)){const Ft=0===vt.kind?Lx(Ye,vt.fieldPath,Ye.startAt):Vx(Ye,vt.fieldPath,Ye.startAt);if(!Ft.value)return null;tt.push(Ft.value),at&&(at=Ft.inclusive)}return new kd(tt,at)}(b,m),G=function(Ye,Ve){const tt=[];let at=!0;for(const vt of Af(Ve)){const Ft=0===vt.kind?Vx(Ye,vt.fieldPath,Ye.endAt):Lx(Ye,vt.fieldPath,Ye.endAt);if(!Ft.value)return null;tt.push(Ft.value),at&&(at=Ft.inclusive)}return new kd(tt,at)}(b,m),Y=this.je(m,b,B),_e=this.je(m,b,G),je=this.We(m,b,x),ke=this.ze(m.indexId,A,Y,!!B&&B.inclusive,_e,!!G&&G.inclusive,je);return ve.forEach(ke,Ye=>r.Gt(Ye,t.limit).next(Ve=>{Ve.forEach(tt=>{const at=Xe.fromSegments(tt.documentKey);c.has(at)||(c=c.add(at),f.push(at))})}))}).next(()=>f)}return ve.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,c,f){const m=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),b=m/(null!=t?t.length:1),T=[];for(let A=0;A<m;++A){const x=t?this.He(t[A/b]):em,B=r?this.Je(e,x,r[A%b],i):this.Ye(e),G=a?this.Xe(e,x,a[A%b],c):this.Ye(e+1);T.push(...this.createRange(B,G,f.map(Y=>this.Je(e,x,Y,!0))))}return T}Je(e,t,r,i){const a=new Vd(e,Xe.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Vd(e,Xe.empty(),t,r);return i?a.ke():a}Ye(e){return new Vd(e,Xe.empty(),em,em)}getFieldIndex(e,t){const r=new zB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const c=a.filter(f=>r.$e(f));return c.sort((f,m)=>m.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new jv;for(const i of Af(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);Lf.fe.Zt(a,c)}return r.Se()}He(e){const t=new jv;return Lf.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new jv;return Lf.fe.Zt(Sf(this.databaseId,t),r.Ne(function(i){const a=Af(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new jv);let a=0;for(const c of Af(e)){const f=r[a++];for(const m of i)if(this.en(t,c.fieldPath)&&Dv(f))i=this.nn(i,c,f);else{const b=m.Ne(c.kind);Lf.fe.Zt(f,b)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const m=new jv;m.seed(f.Se()),Lf.fe.Zt(c,m.Ne(t.kind)),a.push(m)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Xi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=KE(e),i=YE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return ve.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{c.push(function(b,T){const A=T?new Tv(T.sequenceNumber,new yc(Ff(T.readTime),new Xe(uu(T.documentKey)),T.largestBatchId)):Tv.empty(),x=b.fields.map(([B,G])=>new kE(Oi.fromServerFormat(B),G));return new PE(b.indexId,b.collectionGroup,x,A)}(f,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=KE(e),a=YE(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ve.forEach(f,m=>{return a.put({indexId:m.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:kf((x=r).readTime),documentKey:Gs(x.documentKey.path),largestBatchId:x.largestBatchId});var x})))}updateIndexEntries(e,t){const r=new Map;return ve.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ve.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ve.forEach(f,m=>this.on(e,i,m).next(b=>{const T=this.un(a,m);return b.isEqual(T)?ve.resolve():this.an(e,a,m,b,T)}))))})}cn(e,t,r,i){return Hv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Hv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Hv(e);let a=new dr(Vf);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,f)=>{a=a.add(new Vd(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new dr(Vf);const i=this.Ze(t,e);if(null==i)return r;const a=rA(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Dv(c))for(const f of c.arrayValue.values||[])r=r.add(new Vd(t.indexId,e.key,this.He(f),i))}else r=r.add(new Vd(t.indexId,e.key,em,i));return r}an(e,t,r,i,a){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,m,b,T,A){const x=f.getIterator(),B=m.getIterator();let G=Yg(x),Y=Yg(B);for(;G||Y;){let _e=!1,je=!1;if(G&&Y){const ke=b(G,Y);ke<0?je=!0:ke>0&&(_e=!0)}else null!=G?je=!0:_e=!0;_e?(T(Y),Y=Yg(B)):je?(A(G),G=Yg(x)):(G=Yg(x),Y=Yg(B))}}(i,a,Vf,f=>{c.push(this.cn(e,t,r,f))},f=>{c.push(this.hn(e,t,r,f))}),ve.waitFor(c)}rn(e){let t=1;return YE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Vf(c,f)).filter((c,f,m)=>!f||0!==Vf(c,m[f-1]));const i=[];i.push(e);for(const c of r){const f=Vf(c,e),m=Vf(c,t);if(0===f)i[0]=e.ke();else if(f>0&&m<0)i.push(c),i.push(c.ke());else if(m>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,em,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,em,[]]));return a}}function HP(n){return xi(n,"collectionParents")}function Hv(n){return xi(n,"indexEntries")}function KE(n){return xi(n,"indexConfiguration")}function YE(n){return xi(n,"indexState")}const $P={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function GP(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=r.Wt({range:c},(T,A,x)=>(f++,x.delete()));a.push(m.next(()=>{$t(1===f)}));const b=[];for(const T of t.mutations){const A=SP(e,T.key.path,t.batchId);a.push(i.delete(A)),b.push(T.key)}return ve.waitFor(a).next(()=>b)}function QE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class DA{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){$t(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new DA(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=tm(e),c=Bd(e);return c.add({}).next(f=>{$t("number"==typeof f);const m=new mA(f,t,r,i),b=function(x,B,G){const Y=G.baseMutations.map(je=>Lv(x.Jt,je)),_e=G.mutations.map(je=>Lv(x.Jt,je));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:Y,mutations:_e}}(this.M,this.userId,m),T=[];let A=new dr((x,B)=>Yt(x.canonicalString(),B.canonicalString()));for(const x of i){const B=SP(this.userId,x.key.path,f);A=A.add(x.key.path.popLast()),T.push(c.put(b)),T.push(a.put(B,wB))}return A.forEach(x=>{T.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.ln[f]=m.keys()}),ve.waitFor(T).next(()=>m)})}lookupMutationBatch(e,t){return Bd(e).get(t).next(r=>r?($t(r.userId===this.userId),Xg(this.M,r)):null)}fn(e,t){return this.ln[t]?ve.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Bd(e).Wt({index:"userMutationsIndex",range:i},(c,f,m)=>{f.userId===this.userId&&($t(f.batchId>=r),a=Xg(this.M,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Xg(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return tm(e).Wt({range:i},(c,f,m)=>{const[b,T,A]=c,x=uu(T);if(b===this.userId&&t.path.isEqual(x))return Bd(e).get(A).next(B=>{if(!B)throw gt();$t(B.userId===this.userId),a.push(Xg(this.M,B))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(Yt);const i=[];return t.forEach(a=>{const c=zE(this.userId,a.path),f=IDBKeyRange.lowerBound(c),m=tm(e).Wt({range:f},(b,T,A)=>{const[x,B,G]=b,Y=uu(B);x===this.userId&&a.path.isEqual(Y)?r=r.add(G):A.done()});i.push(m)}),ve.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=zE(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new dr(Yt);return tm(e).Wt({range:c},(m,b,T)=>{const[A,x,B]=m,G=uu(x);A===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(B)):T.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Bd(e).get(a).next(c=>{if(null===c)throw gt();$t(c.userId===this.userId),r.push(Xg(this.M,c))}))}),ve.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return GP(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ve.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return tm(e).Wt({range:r},(a,c,f)=>{if(a[0]===this.userId){const m=uu(a[1]);i.push(m)}else f.done()}).next(()=>{$t(0===i.length)})})}containsKey(e,t){return qP(e,this.userId,t)}wn(e){return zP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qP(n,e,t){const r=zE(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return tm(n).Wt({range:a,jt:!0},(f,m,b)=>{const[T,A,x]=f;T===e&&A===i&&(c=!0),b.done()}).next(()=>c)}function Bd(n){return xi(n,"mutations")}function tm(n){return xi(n,"documentMutations")}function zP(n){return xi(n,"mutationQueues")}class Bf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Bf(0)}static yn(){return new Bf(-1)}}class KB{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Bf(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Pt.fromTimestamp(new jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nm(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>($t(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return nm(e).Wt((c,f)=>{const m=Bv(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>ve.waitFor(a)).next(()=>i)}forEachTarget(e,t){return nm(e).Wt((r,i)=>{const a=Bv(i);t(a)})}pn(e){return WP(e).get("targetGlobalKey").next(t=>($t(null!==t),t))}In(e,t){return WP(e).put("targetGlobalKey",t)}Tn(e,t){return nm(e).put(FP(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Nf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return nm(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,m)=>{const b=Bv(f);Iv(t,b.target)&&(a=b,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ud(e);return t.forEach(c=>{const f=Gs(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ve.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ud(e);return ve.forEach(t,a=>{const c=Gs(a.path);return ve.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ud(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ud(e);let a=Rn();return i.Wt({range:r,jt:!0},(c,f,m)=>{const b=uu(c[1]),T=new Xe(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Gs(t.path),i=IDBKeyRange.bound([r],[wx(r)],!1,!0);let a=0;return Ud(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],m,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return nm(e).get(t).next(r=>r?Bv(r):null)}}function nm(n){return xi(n,"targets")}function WP(n){return xi(n,"targetGlobal")}function Ud(n){return xi(n,"targetDocuments")}function Uf(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Ee.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==MP)throw n;He("LocalStore","Unexpectedly lost primary lease")}),CA.apply(this,arguments)}function ZP([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class YB{constructor(e){this.An=e,this.buffer=new dr(ZP),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ZP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QB{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;He("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ee.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){xf(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Uf(i)}yield t.Sn(e)}))}}class JB{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ve.resolve(qo.A);const r=new YB(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve($P)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$P):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,c,f,m,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(b=Date.now(),JS()<=pc.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${A} documents in `+(b-m)+`ms\nTotal Duration: ${b-T}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class XB{constructor(e,t){this.db=e,this.garbageCollector=new JB(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return JE(e,r)}removeReference(e,t,r){return JE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return JE(e,t)}On(e,t){return function(r,i){let a=!1;return zP(r).zt(c=>qP(r,c,i).next(f=>(f&&(a=!0),ve.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(c,f)=>{if(f<=t){const m=this.On(e,c).next(b=>{if(!b)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Pt.min()),Ud(e).delete([0,Gs(c.path)])))});i.push(m)}}).next(()=>ve.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return JE(e,t)}Mn(e,t){const r=Ud(e);let i,a=qo.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:m,sequenceNumber:b})=>{0===c?(a!==qo.A&&t(new Xe(uu(i)),a),a=b,i=m):a=qo.A}).next(()=>{a!==qo.A&&t(new Xe(uu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function JE(n,e){return Ud(n).put((r=n.currentSequenceNumber,{targetId:0,path:Gs(e.path),sequenceNumber:r}));var r}class KP{constructor(){this.changes=new Fd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eU{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return jf(e).put(r)}removeEntry(e,t,r){return jf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ZE(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=cr.newInvalidDocument(t);return jf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only($v(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:cr.newInvalidDocument(t)};return jf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only($v(t))},(i,a)=>{r={document:this.$n(t,a),size:QE(a)}}).next(()=>r)}getEntries(e,t){let r=Pa();return this.Ln(e,t,(i,a)=>{const c=this.$n(i,a);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=Pa(),i=new Hr(Xe.comparator);return this.Ln(e,t,(a,c)=>{const f=this.$n(a,c);r=r.insert(a,f),i=i.insert(a,QE(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return ve.resolve();let i=new dr(JP);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound($v(i.first()),$v(i.last())),c=i.getIterator();let f=c.getNext();return jf(e).Wt({index:"documentKeyIndex",range:a},(m,b,T)=>{const A=Xe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&JP(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?T.Ut($v(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),ZE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jf(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=Pa();for(const m of c){const b=this.$n(Xe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Pa();const c=QP(t,r),f=QP(t,yc.max());return jf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(m,b,T)=>{const A=this.$n(Xe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(A.key,A),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new tU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return YP(e).get("remoteDocumentGlobalKey").next(t=>($t(!!t),t))}Fn(e,t){return YP(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function UB(n,e){let t;if(e.document)t=vP(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=Ff(e.noDocument.readTime);t=cr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=Xe.fromSegments(e.unknownDocument.path),i=Ff(e.unknownDocument.version);t=cr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new jr(r[0],r[1]);return Pt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return cr.newInvalidDocument(e)}}class tU extends KP{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Fd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new dr((a,c)=>Yt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const m=kP(this.Kn.M,c);i=i.add(a.path.popLast()),r+=QE(m)-f.size,t.push(this.Kn.addEntry(e,a,m))}else if(r-=f.size,this.trackRemovals){const m=kP(this.Kn.M,c.convertToNoDocument(Pt.min()));t.push(this.Kn.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),ve.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function YP(n){return xi(n,"remoteDocumentGlobal")}function jf(n){return xi(n,"remoteDocumentsV14")}function $v(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QP(n,e){const t=e.documentKey.path.toArray();return[n,ZE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function JP(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Yt(t[a],r[a]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class nU{constructor(e){this.M=e}kt(e,t,r,i){const a=new WE("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IP,{unique:!0}),f.createObjectStore("documentMutations"),XP(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ve.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),XP(e)),c=c.next(()=>function(f){const m=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,m){return m.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IP,{unique:!0});const T=m.store("mutations"),A=b.map(x=>T.put(x));return ve.waitFor(A)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(a))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:xB});m.createIndex("collectionPathOverlayIndex",PB,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",kB,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:EB});m.createIndex("documentKeyIndex",DB),m.createIndex("collectionGroupIndex",CB)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:NB}).createIndex("sequenceNumberIndex",MB,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:OB}).createIndex("documentKeyIndex",RB,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=QE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ve.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>ve.forEach(f,m=>{$t(m.userId===a.userId);const b=Xg(this.M,m);return GP(e,a.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,f)=>{const m=new mn(c),b=[0,Gs(m)];a.push(t.get(b).next(T=>T?ve.resolve():t.put({targetId:0,path:Gs(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ve.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:AB});const r=t.store("collectionParents"),i=new EA,a=c=>{if(i.add(c)){const f=c.lastSegment(),m=c.popLast();return r.put({collectionId:f,parent:Gs(m)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const m=new mn(c);return a(m.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,m],b)=>{const T=uu(f);return a(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Bv(i),c=FP(this.M,a);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const f=t.store("remoteDocumentsV14"),m=(b=c,b.document?new Xe(mn.fromString(b.document.name).popFirst(5)):b.noDocument?Xe.fromSegments(b.noDocument.path):b.unknownDocument?Xe.fromSegments(b.unknownDocument.path):gt()).path.toArray();var b;const T={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(T))}).next(()=>ve.waitFor(i))}}function XP(n){n.createObjectStore("targetDocuments",{keyPath:IB}).createIndex("documentTargetsIndex",SB,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TB,{unique:!0}),n.createObjectStore("targetGlobal")}const TA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class IA{constructor(e,t,r,i,a,c,f,m,b,T,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=c,this.document=f,this.Xn=b,this.Zn=T,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=x=>Promise.resolve(),!IA.vt())throw new xe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XB(this,i),this.hs=t+"main",this.M=new PP(m),this.ls=new _l(this.hs,this.ts,new nU(this.M)),this.fs=new KB(this.referenceDelegate,this.M),this.ds=new eU(this.M),this._s=new jB,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,TA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new qo(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ee.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(xf(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Gv(e).get("owner").next(t=>ve.resolve(this.bs(t)))}Vs(e){return XE(e).delete(this.clientId)}vs(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=xi(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ds(a,18e5),f=a.filter(m=>-1===c.indexOf(m));return ve.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ve.resolve(!0):Gv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,TA);return!1}}return!(!this.networkEnabled||!this.inForeground)||XE(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new xP(t,qo.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>XE(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return DA.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new ZB(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return wA.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.ts)?LB:13===c?NP:12===c?FB:11===c?AP:void gt();var c;let f;return this.ls.runTransaction(e,i,a,m=>(f=new xP(m,this.es?this.es.next():qo.A),"readwrite-primary"===t?this.Es(f).next(b=>!!b||this.As(f)).next(b=>{if(!b)throw si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(fe.FAILED_PRECONDITION,MP);return r(f)}).next(b=>this.Ps(f).next(()=>b)):this.$s(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}$s(e){return Gv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(fe.FAILED_PRECONDITION,TA)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gv(e).put("owner",t)}static vt(){return _l.vt()}Rs(e){const t=Gv(e);return t.get("owner").next(r=>this.bs(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ve.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(si(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return si("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){si("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gv(n){return xi(n,"owner")}function XE(n){return xi(n,"clientMetadata")}function SA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class rU{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):oA(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Xe(t)).next(r=>{let i=dA();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=dA();return this.indexManager.getCollectionParents(e,i).next(c=>ve.forEach(c,f=>{const m=(b=t,T=f.child(i),new vc(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.zs(e,m,r).next(b=>{b.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const f of c.mutations){const m=f.key;let b=i.get(m);null==b&&(b=cr.newInvalidDocument(m),i=i.insert(m,b)),uA(f,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(m))}}).next(()=>(i.forEach((a,c)=>{lA(t,c)||(i=i.remove(a))}),i))}}class AA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Rn(),i=Rn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new AA(e,t.fromCache,r,i)}}class ek{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const c=this.ei(t,a);return(VE(t)||BE(t))&&this.ni(t.limitType,c,i,r)?this.ti(e,t):(JS()<=pc.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aA(t)),this.Zs.Qs(e,t,kx(r,-1)).next(f=>(c.forEach(m=>{f=f.insert(m.key,m)}),f)))});var a}ei(e,t){let r=new dr(zx(e));return t.forEach((i,a)=>{lA(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return JS()<=pc.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",aA(t)),this.Zs.Qs(e,t,yc.min())}}class iU{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new Hr(Yt),this.ri=new Fd(a=>Nf(a),Iv),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new rU(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function tk(n,e,t,r){return new iU(n,e,t,r)}function nk(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Ee.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let m=Rn();for(const b of i){c.push(b.batchId);for(const T of b.mutations)m=m.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)m=m.add(T.key)}return t.ci.Ks(r,m).next(b=>({hi:b,removedBatchIds:c,addedBatchIds:f}))})})}),NA.apply(this,arguments)}function sU(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,f,m,b){const T=m.batch,A=T.keys();let x=ve.resolve();return A.forEach(B=>{x=x.next(()=>b.getEntry(f,B)).next(G=>{const Y=m.docVersions.get(B);$t(null!==Y),G.version.compareTo(Y)<0&&(T.applyToRemoteDocument(G,m),G.isValidDocument()&&(G.setReadTime(m.commitVersion),b.addEntry(G)))})}),x.next(()=>c.Bs.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function rk(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function oU(n,e){const t=ot(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((b,T)=>{const A=i.get(T);if(!A)return;f.push(t.fs.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.fs.addMatchingKeys(a,b.addedDocuments,T)));let x=A.withSequenceNumber(a.currentSequenceNumber);var B,G,Y;e.targetMismatches.has(T)?x=x.withResumeToken(vi.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,r)),i=i.insert(T,x),G=x,Y=b,(0===(B=A).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,x))});let m=Pa();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(ik(a,c,e.documentUpdates).next(b=>{m=b})),!r.isEqual(Pt.min())){const b=t.fs.getLastRemoteSnapshotVersion(a).next(T=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return ve.waitFor(f).next(()=>c.apply(a)).next(()=>t.ci.Gs(a,m)).next(()=>m)}).then(a=>(t.ii=i,a))}function ik(n,e,t){let r=Rn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Pa();return t.forEach((c,f)=>{const m=i.get(c);f.isNoDocument()&&f.version.isEqual(Pt.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):He("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",f.version)}),a})}function aU(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function rm(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,ve.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new Ld(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function im(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,Ee.Z)(function*(n,e,t){const r=ot(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!xf(c))throw c;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),MA.apply(this,arguments)}function eD(n,e,t){const r=ot(n);let i=Pt.min(),a=Rn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,b){const T=ot(f),A=T.ri.get(b);return void 0!==A?ve.resolve(T.ii.get(A)):T.fs.getTargetData(m,b)}(r,c,xa(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{a=m})}).next(()=>r.si.Qs(c,e,t?i:Pt.min(),t?a:Rn())).next(f=>(ak(r,qx(e),f),{documents:f,li:a})))}function sk(n,e){const t=ot(n),r=ot(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function ok(n,e){const t=ot(n),r=t.oi.get(e)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,kx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ak(t,e,i),i))}function ak(n,e,t){let r=Pt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function OA(){return OA=(0,Ee.Z)(function*(n,e,t,r){const i=ot(n);let a=Rn(),c=Pa();for(const b of t){const T=e.fi(b.metadata.name);b.document&&(a=a.add(T));const A=e.di(b);A.setReadTime(e._i(b.metadata.readTime)),c=c.insert(T,A)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),m=yield rm(i,(b=r,xa(zg(mn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>ik(b,f,c).next(T=>(f.apply(b),T)).next(T=>i.fs.removeMatchingKeysForTargetId(b,m.targetId).next(()=>i.fs.addMatchingKeys(b,a,m.targetId)).next(()=>i.ci.Gs(b,T)).next(()=>T)))}),OA.apply(this,arguments)}function uU(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,Ee.Z)(function*(n,e,t=Rn()){const r=yield rm(n,xa(vA(e.bundledQuery))),i=ot(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Ri(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(vi.EMPTY_BYTE_STRING,c);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),RA.apply(this,arguments)}class cU{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return ve.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Ri(r.createTime)}),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:vA(r.bundledQuery),readTime:Ri(r.readTime)}),ve.resolve();var r}}class dU{constructor(){this.overlays=new Hr(Xe.comparator),this.gi=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),ve.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),ve.resolve()}getOverlaysForCollection(e,t,r){const i=Ov(),a=t.length+1,c=new Xe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,b=m.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Hr((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=a.get(b.largestBatchId);null===T&&(T=Ov(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=Ov(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return ve.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new yA(t,r));let a=this.gi.get(t);void 0===a&&(a=Rn(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class xA{constructor(){this.yi=new dr(Pi.pi),this.Ii=new dr(Pi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Pi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Pi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Xe(new mn([])),r=new Pi(t,e),i=new Pi(t,e+1),a=[];return this.Ii.forEachInRange([r,i],c=>{this.Ai(c),a.push(c.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Xe(new mn([])),r=new Pi(t,e),i=new Pi(t,e+1);let a=Rn();return this.Ii.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Pi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Xe.comparator(e.key,t.key)||Yt(e.vi,t.vi)}static Ti(e,t){return Yt(e.vi,t.vi)||Xe.comparator(e.key,t.key)}}class hU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new dr(Pi.pi)}checkEmpty(e){return ve.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const c=new mA(a,t,r,i);this.Bs.push(c);for(const f of i)this.Di=this.Di.add(new Pi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ve.resolve(c)}lookupMutationBatch(e,t){return ve.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return ve.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ve.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pi(t,0),i=new Pi(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],c=>{const f=this.Ci(c.vi);a.push(f)}),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(Yt);return t.forEach(i=>{const a=new Pi(i,0),c=new Pi(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,c],f=>{r=r.add(f.vi)})}),ve.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const c=new Pi(new Xe(a),0);let f=new dr(Yt);return this.Di.forEachWhile(m=>{const b=m.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(m.vi)),!0)},c),ve.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){$t(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return ve.forEach(t.mutations,i=>{const a=new Pi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Pi(t,0),i=this.Di.firstAfterOrEqual(r);return ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ve.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class fU{constructor(e){this.Mi=e,this.docs=new Hr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ve.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let r=Pa();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cr.newInvalidDocument(i))}),ve.resolve(r)}getAllFromCollection(e,t,r){let i=Pa();const a=new Xe(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||FV(kV(m),r)<=0||(i=i.insert(m.key,m.mutableCopy()))}return ve.resolve(i)}getAllFromCollectionGroup(e,t,r,i){gt()}Oi(e,t){return ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new pU(this)}getSize(e){return ve.resolve(this.size)}}class pU extends KP{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),ve.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class gU{constructor(e){this.persistence=e,this.Fi=new Fd(t=>Nf(t),Iv),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new xA,this.targetCount=0,this.Li=Bf.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),ve.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Bf(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Tn(t),ve.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ve.waitFor(a).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return ve.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),ve.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ve.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return ve.resolve(r)}containsKey(e,t){return ve.resolve(this.Bi.containsKey(t))}}class mU{constructor(e,t){this.Ui={},this.overlays={},this.es=new qo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new gU(this),this.indexManager=new WB,this.ds=new fU(r=>this.referenceDelegate.qi(r)),this.M=new PP(t),this._s=new cU(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new hU(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new _U(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return ve.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class _U extends OP{constructor(e){super(),this.currentSequenceNumber=e}}class PA{constructor(e){this.persistence=e,this.ji=new xA,this.Wi=null}static zi(e){return new PA(e)}get Hi(){if(this.Wi)return this.Wi;throw gt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),ve.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),ve.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Hi,r=>{const i=Xe.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,Pt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return ve.or([()=>ve.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function lk(n,e){return`firestore_clients_${n}_${e}`}function uk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kA(n,e){return`firestore_targets_${n}_${e}`}class tD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new xe(i.error.code,i.error.message))),c?new tD(e,t,i.state,a):(si("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new xe(r.error.code,r.error.message))),a?new qv(e,r.state,i):(si("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=GE();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Tx(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new nD(e,a):(si("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class FA{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new FA(t.clientId,t.onlineState):(si("SharedClientState",`Failed to parse online state: ${e}`),null)}}class LA{constructor(){this.activeTargetIds=GE()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VA{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Hr(Yt),this.started=!1,this.rr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=lk(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new LA),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(lk(e.persistenceKey,i));if(a){const c=nD.Yi(i,a);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kA(this.persistenceKey,e));if(r){const i=qv.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let c=qo.A;if(null!=a)try{const f=JSON.parse(a);$t("number"==typeof f),c=f}catch(f){si("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==qo.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new tD(this.currentUser,e,t,r),a=uk(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=uk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=kA(this.persistenceKey,e),a=new qv(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return nD.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return tD.Yi(new Ji(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return qv.Yi(i,t)}mr(e){return FA.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),c=[],f=[];return a.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Fr(c,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=GE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class ck{constructor(){this.$r=new LA,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new LA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yU{Lr(e){}shutdown(){}}class dk{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class bU{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class wU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const c=this.uo(e,t);He("RestConnection","Sending: ",c,r);const f={};return this.ao(f,i,a),this.co(e,c,f,r).then(m=>(He("RestConnection","Received: ",m),m),m=>{throw yv("RestConnection",`${e} failed with error: `,m,"url: ",c,"request:",r),m})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${vU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,c)=>{const f=new vV;f.listenOnce(mV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case QS.NO_ERROR:const b=f.getResponseJson();He("Connection","XHR received:",JSON.stringify(b)),a(b);break;case QS.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),c(new xe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case QS.HTTP_ERROR:const T=f.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const x=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(G)>=0?G:fe.UNKNOWN}(A.status);c(new xe(x,A.message))}else c(new xe(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(fe.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(i);f.send(t,"POST",m,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pV(),c=gV(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new yV({})),this.ao(f.initMessageHeaders,t,r),(0,nn.uI)()||(0,nn.b$)()||(0,nn.d)()||(0,nn.w1)()||(0,nn.Mn)()||(0,nn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const m=i.join("");He("Connection","Creating WebChannel: "+m,f);const b=a.createWebChannel(m,f);let T=!1,A=!1;const x=new bU({Wr:G=>{A?He("Connection","Not sending because WebChannel is closed:",G):(T||(He("Connection","Opening WebChannel transport."),b.open(),T=!0),He("Connection","WebChannel sending:",G),b.send(G))},zr:()=>b.close()}),B=(G,Y,_e)=>{G.listen(Y,je=>{try{_e(je)}catch(ke){setTimeout(()=>{throw ke},0)}})};return B(b,RE.EventType.OPEN,()=>{A||He("Connection","WebChannel transport opened.")}),B(b,RE.EventType.CLOSE,()=>{A||(A=!0,He("Connection","WebChannel transport closed"),x.no())}),B(b,RE.EventType.ERROR,G=>{A||(A=!0,yv("Connection","WebChannel transport errored:",G),x.no(new xe(fe.UNAVAILABLE,"The operation could not be completed")))}),B(b,RE.EventType.MESSAGE,G=>{var Y;if(!A){const _e=G.data[0];$t(!!_e);const je=_e,ke=je.error||(null===(Y=je[0])||void 0===Y?void 0:Y.error);if(ke){He("Connection","WebChannel received error:",ke);const Ye=ke.status;let Ve=function(at){const vt=ai[at];if(void 0!==vt)return aP(vt)}(Ye),tt=ke.message;void 0===Ve&&(Ve=fe.INTERNAL,tt="Unknown error status: "+Ye+" with message "+ke.message),A=!0,x.no(new xe(Ve,tt)),b.close()}else He("Connection","WebChannel received:",_e),x.so(_e)}}),B(c,_V.STAT_EVENT,G=>{G.stat===mx.PROXY?He("Connection","Detected buffering proxy"):G.stat===mx.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.eo()},0),x}}function hk(){return"undefined"!=typeof window?window:null}function rD(){return"undefined"!=typeof document?document:null}function zv(n){return new uB(n,!0)}class BA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class fk{constructor(e,t,r,i,a,c,f,m){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new BA(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Ee.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new xe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,Ee.Z)(function*(){e.state=0,e.start()}))}Ko(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EU extends fk{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function hB(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:gt(),i=e.targetChange.targetIds||[],a=function(m,b){return m.N?($t(void 0===b||"string"==typeof b),vi.fromBase64String(b||"")):($t(void 0===b||b instanceof Uint8Array),vi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const b=void 0===m.code?fe.UNKNOWN:aP(m.code);return new xe(b,m.message||"")}(c);t=new cP(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=lu(n,r.document.name),a=Ri(r.document.updateTime),c=new ws({mapValue:{fields:r.document.fields}}),f=cr.newFoundDocument(i,a,c);t=new qE(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=lu(n,r.document),a=r.readTime?Ri(r.readTime):Pt.min(),c=cr.newNoDocument(i,a);t=new qE([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=lu(n,r.document);t=new qE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,a=new eB(r.count||0);t=new uP(r.targetId,a)}}var m;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Pt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?Ri(a.readTime):Pt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Fv(this.M),t.addTarget=function(i,a){let c;const f=a.target;return c=FE(f)?{documents:bP(i,f)}:{query:wP(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=pP(i,a.resumeToken):a.snapshotVersion.compareTo(Pt.min())>0&&(c.readTime=Pv(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function pB(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Fv(this.M),t.removeTarget=e,this.Fo(t)}}class DU extends fk{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function fB(n,e){return n&&n.length>0?($t(void 0!==e),n.map(t=>function(r,i){let a=Ri(r.updateTime?r.updateTime:i);return a.isEqual(Pt.min())&&(a=Ri(i)),new QV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.Yo(r,t)}return $t(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Fv(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lv(this.M,r))};this.Fo(t)}}class CU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(fe.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(fe.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class TU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(si(t),this.iu=!1):He("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class IU{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{r.enqueueAndForget((0,Ee.Z)(function*(){var m;jd(c)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ee.Z)(function*(b){const T=ot(b);T.fu.add(4),yield sm(T),T.wu.set("Unknown"),T.fu.delete(4),yield Wv(T)}),function(b){return m.apply(this,arguments)})(c))}))}),this.wu=new TU(r,i)}}function Wv(n){return UA.apply(this,arguments)}function UA(){return UA=(0,Ee.Z)(function*(n){if(jd(n))for(const e of n.du)yield e(!0)}),UA.apply(this,arguments)}function sm(n){return jA.apply(this,arguments)}function jA(){return jA=(0,Ee.Z)(function*(n){for(const e of n.du)yield e(!1)}),jA.apply(this,arguments)}function iD(n,e){const t=ot(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),GA(t)?$A(t):am(t).xo()&&HA(t,e))}function Zv(n,e){const t=ot(n),r=am(t);t.lu.delete(e),r.xo()&&pk(t,e),0===t.lu.size&&(r.xo()?r.Mo():jd(t)&&t.wu.set("Unknown"))}function HA(n,e){n.mu.Z(e.targetId),am(n).jo(e)}function pk(n,e){n.mu.Z(e),am(n).Wo(e)}function $A(n){n.mu=new oB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),am(n).start(),n.wu.ru()}function GA(n){return jd(n)&&!am(n).Co()&&n.lu.size>0}function jd(n){return 0===ot(n).fu.size}function gk(n){n.mu=void 0}function SU(n){return qA.apply(this,arguments)}function qA(){return qA=(0,Ee.Z)(function*(n){n.lu.forEach((e,t)=>{HA(n,e)})}),qA.apply(this,arguments)}function AU(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Ee.Z)(function*(n,e){gk(n),GA(n)?(n.wu.au(e),$A(n)):n.wu.set("Unknown")}),zA.apply(this,arguments)}function NU(n,e,t){return WA.apply(this,arguments)}function WA(){return WA=(0,Ee.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof cP&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sD(n,r)}else if(e instanceof qE?n.mu.ut(e):e instanceof uP?n.mu._t(e):n.mu.ht(e),!t.isEqual(Pt.min()))try{const r=yield rk(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.mu.yt(a);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.lu.get(m);b&&i.lu.set(m,b.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const m=i.lu.get(f);if(!m)return;i.lu.set(f,m.withResumeToken(vi.EMPTY_BYTE_STRING,m.snapshotVersion)),pk(i,f);const b=new Ld(m.target,f,1,m.sequenceNumber);HA(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield sD(n,r)}var r}),WA.apply(this,arguments)}function sD(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ee.Z)(function*(n,e,t){if(!xf(e))throw e;n.fu.add(1),yield sm(n),n.wu.set("Offline"),t||(t=()=>rk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Wv(n)}))}),ZA.apply(this,arguments)}function mk(n,e){return e().catch(t=>sD(n,t,e))}function om(n){return KA.apply(this,arguments)}function KA(){return KA=(0,Ee.Z)(function*(n){const e=ot(n),t=Hd(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;MU(e);)try{const i=yield aU(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,OU(e,i)}catch(i){yield sD(e,i)}_k(e)&&yk(e)}),KA.apply(this,arguments)}function MU(n){return jd(n)&&n.hu.length<10}function OU(n,e){n.hu.push(e);const t=Hd(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function _k(n){return jd(n)&&!Hd(n).Co()&&n.hu.length>0}function yk(n){Hd(n).start()}function RU(n){return YA.apply(this,arguments)}function YA(){return YA=(0,Ee.Z)(function*(n){Hd(n).Zo()}),YA.apply(this,arguments)}function xU(n){return QA.apply(this,arguments)}function QA(){return QA=(0,Ee.Z)(function*(n){const e=Hd(n);for(const t of n.hu)e.Jo(t.mutations)}),QA.apply(this,arguments)}function PU(n,e,t){return JA.apply(this,arguments)}function JA(){return JA=(0,Ee.Z)(function*(n,e,t){const r=n.hu.shift(),i=_A.from(r,e,t);yield mk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield om(n)}),JA.apply(this,arguments)}function kU(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Ee.Z)(function*(n,e){var t;e&&Hd(n).Ho&&(yield(t=(0,Ee.Z)(function*(r,i){if(oP(a=i.code)&&a!==fe.ABORTED){const c=r.hu.shift();Hd(r).ko(),yield mk(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield om(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),_k(n)&&yk(n)}),XA.apply(this,arguments)}function vk(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,Ee.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=jd(t);t.fu.add(3),yield sm(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Wv(t)}),eN.apply(this,arguments)}function tN(n,e){return nN.apply(this,arguments)}function nN(){return nN=(0,Ee.Z)(function*(n,e){const t=ot(n);e?(t.fu.delete(2),yield Wv(t)):e||(t.fu.add(2),yield sm(t),t.wu.set("Unknown"))}),nN.apply(this,arguments)}function am(n){return n.gu||(n.gu=function(e,t,r){const i=ot(e);return i.eu(),new EU(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:SU.bind(null,n),Yr:AU.bind(null,n),Qo:NU.bind(null,n)}),n.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.gu.ko(),GA(n)?$A(n):n.wu.set("Unknown")):(yield n.gu.stop(),gk(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Hd(n){return n.yu||(n.yu=function(e,t,r){const i=ot(e);return i.eu(),new DU(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:RU.bind(null,n),Yr:kU.bind(null,n),Xo:xU.bind(null,n),Yo:PU.bind(null,n)}),n.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.yu.ko(),yield om(n)):(yield n.yu.stop(),n.hu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class rN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new rN(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(n,e){if(si("AsyncQueue",`${e}: ${n}`),xf(n))return new xe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class um{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=dA(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new um(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof um)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new um;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bk{constructor(){this.pu=new Hr(Xe.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):gt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class cm{constructor(e,t,r,i,a,c,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new cm(e,t,um.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class FU{constructor(){this.Tu=void 0,this.listeners=[]}}class LU{constructor(){this.queries=new Fd(e=>Gx(e),Sv),this.onlineState="Unknown",this.Eu=new Set}}function iN(n,e){return sN.apply(this,arguments)}function sN(){return sN=(0,Ee.Z)(function*(n,e){const t=ot(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new FU),i)try{a.Tu=yield t.onListen(r)}catch(c){const f=lm(c,`Initialization of query '${aA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&lN(t)}),sN.apply(this,arguments)}function oN(n,e){return aN.apply(this,arguments)}function aN(){return aN=(0,Ee.Z)(function*(n,e){const t=ot(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),aN.apply(this,arguments)}function VU(n,e){const t=ot(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Ru(i)&&(r=!0);c.Tu=i}}r&&lN(t)}function BU(n,e,t){const r=ot(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function lN(n){n.Eu.forEach(e=>{e.next()})}class uN{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new cm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=cm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class UU{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class wk{constructor(e){this.M=e}fi(e){return lu(this.M,e)}di(e){return e.metadata.exists?vP(this.M,e.document,!1):cr.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Ri(e)}}class jU{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ek(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=mn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new wk(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Rn()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function lU(n,e,t,r){return OA.apply(this,arguments)}(e.localStore,new wk(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield uU(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function Ek(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Dk{constructor(e){this.key=e}}class Ck{constructor(e){this.key=e}}class Tk{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Rn(),this.mutatedKeys=Rn(),this.Uu=zx(e),this.qu=new um(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new bk,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m=VE(this.query)&&i.size===this.query.limit?i.last():null,b=BE(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const x=i.get(T),B=lA(this.query,A)?A:null,G=!!x&&this.mutatedKeys.has(x.key),Y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;x&&B?x.data.isEqual(B.data)?G!==Y&&(r.track({type:3,doc:B}),_e=!0):this.ju(x,B)||(r.track({type:2,doc:B}),_e=!0,(m&&this.Uu(B,m)>0||b&&this.Uu(B,b)<0)&&(f=!0)):!x&&B?(r.track({type:0,doc:B}),_e=!0):x&&!B&&(r.track({type:1,doc:x}),_e=!0,(m||b)&&(f=!0)),_e&&(B?(c=c.add(B),a=Y?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),VE(this.query)||BE(this.query))for(;c.size>this.query.limit;){const T=VE(this.query)?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{qu:c,Qu:r,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((b,T)=>function(A,x){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return B(A)-B(x)}(b.type,T.type)||this.Uu(b.doc,T.doc)),this.Wu(r);const c=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,m=f!==this.Bu;return this.Bu=f,0!==a.length||m?{snapshot:new cm(this.query,e.qu,i,a,e.mutatedKeys,0===f,m,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new bk,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Rn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new Ck(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new Dk(r))}),t}Yu(e){this.$u=e.li,this.Lu=Rn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return cm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class HU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $U{constructor(e){this.key=e,this.Zu=!1}}class GU{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new Fd(f=>Gx(f),Sv),this.na=new Map,this.sa=new Set,this.ia=new Hr(Xe.comparator),this.ra=new Map,this.oa=new xA,this.ua={},this.aa=new Map,this.ca=Bf.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function qU(n,e){return cN.apply(this,arguments)}function cN(){return cN=(0,Ee.Z)(function*(n,e){const t=xN(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const c=yield rm(t.localStore,xa(e));t.isPrimaryClient&&iD(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield dN(t,e,r,"current"===f)}return i}),cN.apply(this,arguments)}function dN(n,e,t,r){return hN.apply(this,arguments)}function hN(){return hN=(0,Ee.Z)(function*(n,e,t,r){n.la=(T,A,x)=>{return(B=(0,Ee.Z)(function*(G,Y,_e,je){let ke=Y.view.Gu(_e);ke.ni&&(ke=yield eD(G.localStore,Y.query,!1).then(({documents:tt})=>Y.view.Gu(tt,ke)));const Ye=je&&je.targetChanges.get(Y.targetId),Ve=Y.view.applyChanges(ke,G.isPrimaryClient,Ye);return EN(G,Y.targetId,Ve.Hu),Ve.snapshot}),function(G,Y,_e,je){return B.apply(this,arguments)})(n,T,A,x);var B};const i=yield eD(n.localStore,e,!0),a=new Tk(e,i.li),c=a.Gu(i.documents),f=xv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),m=a.applyChanges(c,n.isPrimaryClient,f);EN(n,t,m.Hu);const b=new HU(e,t,a);return n.ea.set(e,b),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),m.snapshot}),hN.apply(this,arguments)}function zU(n,e){return fN.apply(this,arguments)}function fN(){return fN=(0,Ee.Z)(function*(n,e){const t=ot(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!Sv(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield im(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zv(t.remoteStore,r.targetId),dm(t,r.targetId)}).catch(Uf))):(dm(t,r.targetId),yield im(t.localStore,r.targetId,!0))}),fN.apply(this,arguments)}function pN(){return pN=(0,Ee.Z)(function*(n,e,t){const r=PN(n);try{const i=yield function(a,c){const f=ot(a),m=jr.now(),b=c.reduce((A,x)=>A.add(x.key),Rn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ci.Ks(A,b).next(x=>{T=x;const B=[];for(const G of c){const Y=XV(G,T.get(G.key));null!=Y&&B.push(new Rf(G.key,Y,Px(Y.value.mapValue),oi.exists(!0)))}return f.Bs.addMutationBatch(A,m,B,c)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let m=a.ua[a.currentUser.toKey()];m||(m=new Hr(Yt)),m=m.insert(c,f),a.ua[a.currentUser.toKey()]=m}(r,i.batchId,t),yield bc(r,i.changes),yield om(r.remoteStore)}catch(i){const a=lm(i,"Failed to persist write");t.reject(a)}}),pN.apply(this,arguments)}function Ik(n,e){return gN.apply(this,arguments)}function gN(){return gN=(0,Ee.Z)(function*(n,e){const t=ot(n);try{const r=yield oU(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ra.get(a);c&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Zu=!0:i.modifiedDocuments.size>0?$t(c.Zu):i.removedDocuments.size>0&&($t(c.Zu),c.Zu=!1))}),yield bc(t,r,e)}catch(r){yield Uf(r)}}),gN.apply(this,arguments)}function Sk(n,e,t){const r=ot(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,c)=>{const f=c.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=ot(a);f.onlineState=c;let m=!1;f.queries.forEach((b,T)=>{for(const A of T.listeners)A.Au(c)&&(m=!0)}),m&&lN(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ZU(n,e,t){return mN.apply(this,arguments)}function mN(){return mN=(0,Ee.Z)(function*(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let c=new Hr(Xe.comparator);c=c.insert(a,cr.newNoDocument(a,Pt.min()));const f=Rn().add(a),m=new Rv(Pt.min(),new Map,new dr(Yt),c,f);yield Ik(r,m),r.ia=r.ia.remove(a),r.ra.delete(e),DN(r)}else yield im(r.localStore,e,!1).then(()=>dm(r,e,t)).catch(Uf)}),mN.apply(this,arguments)}function KU(n,e){return _N.apply(this,arguments)}function _N(){return _N=(0,Ee.Z)(function*(n,e){const t=ot(n),r=e.batch.batchId;try{const i=yield sU(t.localStore,e);wN(t,r,null),bN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield bc(t,i)}catch(i){yield Uf(i)}}),_N.apply(this,arguments)}function YU(n,e,t){return yN.apply(this,arguments)}function yN(){return yN=(0,Ee.Z)(function*(n,e,t){const r=ot(n);try{const i=yield function(a,c){const f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return f.Bs.lookupMutationBatch(m,c).next(T=>($t(null!==T),b=T.keys(),f.Bs.removeMutationBatch(m,T))).next(()=>f.Bs.performConsistencyCheck(m)).next(()=>f.ci.Ks(m,b))})}(r.localStore,e);wN(r,e,t),bN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield bc(r,i)}catch(i){yield Uf(i)}}),yN.apply(this,arguments)}function vN(){return vN=(0,Ee.Z)(function*(n,e){const t=ot(n);jd(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=ot(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=lm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),vN.apply(this,arguments)}function bN(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function wN(n,e,t){const r=ot(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function dm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||Ak(n,r)})}function Ak(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Zv(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),DN(n))}function EN(n,e,t){for(const r of t)r instanceof Dk?(n.oa.addReference(r.key,e),JU(n,r)):r instanceof Ck?(He("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||Ak(n,r.key)):gt()}function JU(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(He("SyncEngine","New document in limbo: "+t),n.sa.add(r),DN(n))}function DN(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Xe(mn.fromString(e)),r=n.ca.next();n.ra.set(r,new $U(t)),n.ia=n.ia.insert(t,r),iD(n.remoteStore,new Ld(xa(zg(t.path)),r,2,qo.A))}}function bc(n,e,t){return CN.apply(this,arguments)}function CN(){return CN=(0,Ee.Z)(function*(n,e,t){const r=ot(n),i=[],a=[],c=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,m)=>{c.push(r.la(m,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=AA.Ys(m.targetId,b);a.push(T)}}))}),yield Promise.all(c),r.ta.Qo(i),yield(f=(0,Ee.Z)(function*(m,b){const T=ot(m);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ve.forEach(b,x=>ve.forEach(x.Hs,B=>T.persistence.referenceDelegate.addReference(A,x.targetId,B)).next(()=>ve.forEach(x.Js,B=>T.persistence.referenceDelegate.removeReference(A,x.targetId,B)))))}catch(A){if(!xf(A))throw A;He("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const x=A.targetId;if(!A.fromCache){const B=T.ii.get(x),Y=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.ii=T.ii.insert(x,Y)}}}),function(m,b){return f.apply(this,arguments)})(r.localStore,a))}),CN.apply(this,arguments)}function XU(n,e){return TN.apply(this,arguments)}function TN(){return TN=(0,Ee.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield nk(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(c=>{c.forEach(f=>{f.reject(new xe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bc(t,r.hi)}var i}),TN.apply(this,arguments)}function ej(n,e){const t=ot(n),r=t.ra.get(e);if(r&&r.Zu)return Rn().add(r.key);{let i=Rn();const a=t.na.get(e);if(!a)return i;for(const c of a){const f=t.ea.get(c);i=i.unionWith(f.view.Ku)}return i}}function tj(n,e){return IN.apply(this,arguments)}function IN(){return IN=(0,Ee.Z)(function*(n,e){const t=ot(n),r=yield eD(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&EN(t,e.targetId,i.Hu),i}),IN.apply(this,arguments)}function nj(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,Ee.Z)(function*(n,e){const t=ot(n);return ok(t.localStore,e).then(r=>bc(t,r))}),SN.apply(this,arguments)}function rj(n,e,t,r){return AN.apply(this,arguments)}function AN(){return AN=(0,Ee.Z)(function*(n,e,t,r){const i=ot(n),a=yield function(c,f){const m=ot(c),b=ot(m.Bs);return m.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.fn(T,f).next(A=>A?m.ci.Ks(T,A):ve.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield om(i.remoteStore):"acknowledged"===t||"rejected"===t?(wN(i,e,r||null),bN(i,e),f=e,ot(ot(i.localStore).Bs)._n(f)):gt(),yield bc(i,a)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),AN.apply(this,arguments)}function NN(){return NN=(0,Ee.Z)(function*(n,e){const t=ot(n);if(xN(t),PN(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Nk(t,r.toArray());t.ha=!0,yield tN(t.remoteStore,!0);for(const a of i)iD(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(dm(t,c),im(t.localStore,c,!0))),Zv(t.remoteStore,c)}),yield i,yield Nk(t,r),function(a){const c=ot(a);c.ra.forEach((f,m)=>{Zv(c.remoteStore,m)}),c.oa.bi(),c.ra=new Map,c.ia=new Hr(Xe.comparator)}(t),t.ha=!1,yield tN(t.remoteStore,!1)}}),NN.apply(this,arguments)}function Nk(n,e,t){return MN.apply(this,arguments)}function MN(){return MN=(0,Ee.Z)(function*(n,e,t){const r=ot(n),i=[],a=[];for(const c of e){let f;const m=r.na.get(c);if(m&&0!==m.length){f=yield rm(r.localStore,xa(m[0]));for(const b of m){const T=r.ea.get(b),A=yield tj(r,T);A.snapshot&&a.push(A.snapshot)}}else{const b=yield sk(r.localStore,c);f=yield rm(r.localStore,b),yield dN(r,Mk(b),c,!1)}i.push(f)}return r.ta.Qo(a),i}),MN.apply(this,arguments)}function Mk(n){return Hx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sj(n){const e=ot(n);return ot(ot(e.localStore).persistence).Fs()}function oj(n,e,t,r){return ON.apply(this,arguments)}function ON(){return ON=(0,Ee.Z)(function*(n,e,t,r){const i=ot(n);if(i.ha)return void He("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield ok(i.localStore,qx(a[0])),f=Rv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield bc(i,c,f);break}case"rejected":yield im(i.localStore,e,!0),dm(i,e,r);break;default:gt()}}),ON.apply(this,arguments)}function aj(n,e,t){return RN.apply(this,arguments)}function RN(){return RN=(0,Ee.Z)(function*(n,e,t){const r=xN(n);if(r.ha){for(const i of e){if(r.na.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const a=yield sk(r.localStore,i),c=yield rm(r.localStore,a);yield dN(r,Mk(a),c.targetId,!1),iD(r.remoteStore,c)}for(const i of t)r.na.has(i)&&(yield im(r.localStore,i,!1).then(()=>{Zv(r.remoteStore,i),dm(r,i)}).catch(Uf))}}),RN.apply(this,arguments)}function xN(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZU.bind(null,e),e.ta.Qo=VU.bind(null,e.eventManager),e.ta.fa=BU.bind(null,e.eventManager),e}function PN(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YU.bind(null,e),e}class Ok{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.M=zv(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return tk(this.persistence,new ek,e.initialUser,this.M)}wa(e){return new mU(PA.zi,this.M)}_a(e){return new ck}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rk extends Ok{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield PN(r.ya.syncEngine),yield om(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return tk(this.persistence,new ek,e.initialUser,this.M)}ma(e){return new QB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=SA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new IA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,hk(),rD(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new ck}}class uj extends Rk{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof VA&&(r.sharedClientState.syncEngine={Mr:rj.bind(null,i),Or:oj.bind(null,i),Fr:aj.bind(null,i),Fs:sj.bind(null,i),kr:nj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,Ee.Z)(function*(c){yield function ij(n,e){return NN.apply(this,arguments)}(r.ya.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}_a(e){const t=hk();if(!VA.vt(t))throw new xe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=SA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new VA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class kN{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Sk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=XU.bind(null,r.syncEngine),yield tN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LU}createDatastore(e){const t=zv(e.databaseInfo.databaseId),r=new wU(e.databaseInfo);return new CU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Sk(this.syncEngine,f,0),c=dk.vt()?new dk:new yU,new IU(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,m,b){const T=new GU(r,i,a,c,f,m);return b&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=ot(t);He("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield sm(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xk(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cj{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Mi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new UU(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Ee.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class dj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(a,c){const f=ot(a),m=Fv(f.M)+"/documents",b={documents:c.map(B=>kv(f.M,B))},T=yield f.ho("BatchGetDocuments",m,b),A=new Map;T.forEach(B=>{const G=function dB(n,e){return"found"in e?function(t,r){$t(!!r.found);const i=lu(t,r.found.name),a=Ri(r.found.updateTime),c=new ws({mapValue:{fields:r.found.fields}});return cr.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){$t(!!r.missing),$t(!!r.readTime);const i=lu(t,r.missing),a=Ri(r.readTime);return cr.newNoDocument(i,a)}(n,e):gt()}(f.M,B);A.set(G.key.toString(),G)});const x=[];return c.forEach(B=>{const G=A.get(B.toString());$t(!!G),x.push(G)}),x}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Xe.fromPath(i);e.mutations.push(new cA(a,e.precondition(a)))}),yield(r=(0,Ee.Z)(function*(i,a){const c=ot(i),f=Fv(c.M)+"/documents",m={writes:a.map(b=>Lv(c.M,b))};yield c.oo("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?oi.updateTime(t):oi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new xe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oi.updateTime(t)}return oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class hj{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new BA(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Ee.Z)(function*(){const t=new dj(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!Tf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!oP(t)}return!1}}class fj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ji.UNAUTHENTICATED,this.clientId=bx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ee.Z)(function*(f){He("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(He("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=lm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Pk(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(a){r.isEqual(a)||(yield nk(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),FN.apply(this,arguments)}function kk(n,e){return LN.apply(this,arguments)}function LN(){return LN=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield VN(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>vk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>vk(e.remoteStore,a)),n.onlineComponents=e}),LN.apply(this,arguments)}function VN(n){return BN.apply(this,arguments)}function BN(){return BN=(0,Ee.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield Pk(n,new Ok)),n.offlineComponents}),BN.apply(this,arguments)}function aD(n){return UN.apply(this,arguments)}function UN(){return UN=(0,Ee.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield kk(n,new kN)),n.onlineComponents}),UN.apply(this,arguments)}function Fk(n){return VN(n).then(e=>e.persistence)}function jN(n){return VN(n).then(e=>e.localStore)}function Lk(n){return aD(n).then(e=>e.remoteStore)}function HN(n){return aD(n).then(e=>e.syncEngine)}function hm(n){return $N.apply(this,arguments)}function $N(){return $N=(0,Ee.Z)(function*(n){const e=yield aD(n),t=e.eventManager;return t.onListen=qU.bind(null,e.syncEngine),t.onUnlisten=zU.bind(null,e.syncEngine),t}),$N.apply(this,arguments)}function Vk(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,a,c,f,m){const b=new oD({next:A=>{a.enqueueAndForget(()=>oN(i,T));const x=A.docs.has(c);!x&&A.fromCache?m.reject(new xe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&f&&"server"===f.source?m.reject(new xe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new uN(zg(c.path),b,{includeMetadataChanges:!0,Cu:!0});return iN(i,T)}(yield hm(n),n.asyncQueue,e,t,r)})),r.promise}function Bk(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,a,c,f,m){const b=new oD({next:A=>{a.enqueueAndForget(()=>oN(i,T)),A.fromCache&&"server"===f.source?m.reject(new xe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new uN(c,b,{includeMetadataChanges:!0,Cu:!0});return iN(i,T)}(yield hm(n),n.asyncQueue,e,t,r)})),r.promise}const Uk=new Map;function GN(n,e,t){if(!t)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jk(n,e,t,r){if(!0===e&&!0===r)throw new xe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hk(n){if(!Xe.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $k(n){if(Xe.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lD(n);throw new xe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Gk(n,e){if(e<=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qk({}),this._settingsFrozen=!1,e instanceof _c?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new xe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(i.options.projectId)}(e))}get app(){if(!this._app)throw new xe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new EV;switch(t.type){case"gapi":const r=t.client;return $t(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new IV(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Uk.get(e);t&&(He("ComponentProvider","Removing Datastore"),Uk.delete(e),t.terminate())}(this),Promise.resolve()}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Es{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class cu extends Es{constructor(e,t,r){super(e,t,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Xe(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function zk(n,e,...t){if(n=(0,nn.m9)(n),GN("collection","path",e),n instanceof Kv){const r=mn.fromString(e,...t);return $k(r),new cu(n,null,r)}{if(!(n instanceof hr||n instanceof cu))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return $k(r),new cu(n.firestore,null,r)}}function uD(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=bx.R()),GN("doc","path",e),n instanceof Kv){const r=mn.fromString(e,...t);return Hk(r),new hr(n,null,new Xe(r))}{if(!(n instanceof hr||n instanceof cu))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return Hk(r),new hr(n.firestore,n instanceof cu?n.converter:null,new Xe(r))}}function Wk(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof hr||n instanceof cu)&&(e instanceof hr||e instanceof cu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Zk(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof Es&&e instanceof Es&&n.firestore===e.firestore&&Sv(n._query,e._query)&&n.converter===e.converter}class Cj{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new BA(this,"async_queue_retry"),this.qa=()=>{const t=rD();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=rD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=rD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Mi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!xf(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,si("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=rN.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&gt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function qN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Tj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends Kv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Cj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Kk(this),this._firestoreClient.terminate()}}function Sj(n=(0,Oa.getApp)()){return(0,Oa._getProvider)(n,"firestore").getImmediate()}function li(n){return n._firestoreClient||Kk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Kk(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new RV(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new fj(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Yk(n,e,t){const r=new Mi;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Pk(n,t),yield kk(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function Qk(n){if(n._initialized||n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(vi.fromBase64String(e))}catch(t){throw new xe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new du(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hf{constructor(e){this._methodName=e}}class cD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const Fj=/^__.*__$/;class Lj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nv(e,this.data,t,this.fieldTransforms)}}class Jk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class dD{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new dD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return pD(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Xk(this.Xa)&&Fj.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Vj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||zv(e)}ac(e,t,r,i=!1){return new dD({Xa:e,methodName:t,uc:r,path:Oi.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function $f(n){const e=n._freezeSettings(),t=zv(n._databaseId);return new Vj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hD(n,e,t,r,i,a={}){const c=n.ac(a.merge||a.mergeFields?2:0,e,t,i);KN("Data must be an object, but it was:",c,r);const f=nF(r,c);let m,b;if(a.merge)m=new $g(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const x=YN(e,A,t);if(!c.contains(x))throw new xe(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);iF(T,x)||T.push(x)}m=new $g(T),b=c.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,b=c.fieldTransforms;return new Lj(new ws(f),m,b)}class Yv extends Hf{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yv}}function eF(n,e,t){return new dD({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class zN extends Hf{_toFieldTransform(e){return new Av(e.path,new Zg)}isEqual(e){return e instanceof zN}}class Bj extends Hf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=eF(this,e,!0),r=this.cc.map(a=>Gf(a,t)),i=new Mf(r);return new Av(e.path,i)}isEqual(e){return this===e}}class Uj extends Hf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=eF(this,e,!0),r=this.cc.map(a=>Gf(a,t)),i=new Of(r);return new Av(e.path,i)}isEqual(e){return this===e}}class jj extends Hf{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Kg(e.M,Kx(e.M,this.hc));return new Av(e.path,t)}isEqual(e){return this===e}}function WN(n,e,t,r){const i=n.ac(1,e,t);KN("Data must be an object, but it was:",i,r);const a=[],c=ws.empty();Df(r,(m,b)=>{const T=fD(e,m,t);b=(0,nn.m9)(b);const A=i.sc(T);if(b instanceof Yv)a.push(T);else{const x=Gf(b,A);null!=x&&(a.push(T),c.set(T,x))}});const f=new $g(a);return new Jk(c,f,i.fieldTransforms)}function ZN(n,e,t,r,i,a){const c=n.ac(1,e,t),f=[YN(e,r,t)],m=[i];if(a.length%2!=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)f.push(YN(e,a[x])),m.push(a[x+1]);const b=[],T=ws.empty();for(let x=f.length-1;x>=0;--x)if(!iF(b,f[x])){const B=f[x];let G=m[x];G=(0,nn.m9)(G);const Y=c.sc(B);if(G instanceof Yv)b.push(B);else{const _e=Gf(G,Y);null!=_e&&(b.push(B),T.set(B,_e))}}const A=new $g(b);return new Jk(T,A,c.fieldTransforms)}function tF(n,e,t,r=!1){return Gf(t,n.ac(r?4:3,e))}function Gf(n,e){if(rF(n=(0,nn.m9)(n)))return KN("Unsupported field value:",e,n),nF(n,e);if(n instanceof Hf)return function(t,r){if(!Xk(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=Gf(c,r.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kx(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=jr.fromDate(t);return{timestampValue:Pv(r.M,i)}}if(t instanceof jr){const i=new jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pv(r.M,i)}}if(t instanceof cD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:pP(r.M,t._byteString)};if(t instanceof hr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${lD(t)}`)}(n,e)}function nF(n,e){const t={};return Dx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Df(n,(r,i)=>{const a=Gf(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function rF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jr||n instanceof cD||n instanceof du||n instanceof hr||n instanceof Hf)}function KN(n,e,t){if(!rF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lD(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function YN(n,e,t){if((e=(0,nn.m9)(e))instanceof wc)return e._internalPath;if("string"==typeof e)return fD(n,e);throw pD("Field path arguments must be of type string or ",n,!1,void 0,t)}const Hj=new RegExp("[~\\*/\\[\\]]");function fD(n,e,t){if(e.search(Hj)>=0)throw pD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wc(...e.split("."))._internalPath}catch(r){throw pD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pD(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new xe(fe.INVALID_ARGUMENT,f+n+m)}function iF(n,e){return n.some(t=>t.isEqual(e))}class Qv{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $j extends Qv{data(){return super.data()}}function gD(n,e){return"string"==typeof e?fD(n,e):e instanceof wc?e._internalPath:e._delegate._internalPath}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ec extends Qv{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Jv extends Ec{data(e={}){return super.data(e)}}class $d{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Jv(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Jv(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Jv(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,b=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:Gj(c.type),doc:f,oldIndex:m,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function sF(n,e){return n instanceof Ec&&e instanceof Ec?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $d&&e instanceof $d&&n._firestore===e._firestore&&Zk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function oF(n){if(BE(n)&&0===n.explicitOrderBy.length)throw new xe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xv{}function Gd(n,...e){for(const t of e)n=t._apply(n);return n}class qj extends Xv{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=$f(e.firestore),r=function(i,a,c,f,m,b,T){let A;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){hF(T,b);const B=[];for(const G of T)B.push(dF(f,i,G));A={arrayValue:{values:B}}}else A=dF(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||hF(T,b),A=tF(c,"where",T,"in"===b||"not-in"===b);const x=Xi.create(m,b,A);return function(B,G){if(G.S()){const _e=sA(B);if(null!==_e&&!_e.isEqual(G.field))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${G.field.toString()}'`);const je=iA(B);null!==je&&fF(0,G.field,je)}const Y=function(_e,je){for(const ke of _e.filters)if(je.indexOf(ke.op)>=0)return ke.op;return null}(B,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==Y)throw new xe(fe.INVALID_ARGUMENT,Y===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${Y.toString()}' filters.`)}(i,x),x}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Es(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new vc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Wj extends Xv{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new qg(i,a);return function(f,m){if(null===iA(f)){const b=sA(f);null!==b&&fF(0,b,m.field)}}(r,c),c}(e._query,this.lc,this._c);return new Es(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new vc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class aF extends Xv{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Es(e.firestore,e.converter,$x(e._query,this.wc,this.mc))}}class lF extends Xv{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=cF(e,this.type,this.gc,this.yc);return new Es(e.firestore,e.converter,(i=t,new vc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class uF extends Xv{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=cF(e,this.type,this.gc,this.yc);return new Es(e.firestore,e.converter,(i=t,new vc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function cF(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof Qv)return function(i,a,c,f,m){if(!f)throw new xe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of Wg(i))if(T.field.isKeyField())b.push(Sf(a,f.key));else{const A=f.data.field(T.field);if(eA(A))throw new xe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const x=T.field.canonicalString();throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}b.push(A)}return new kd(b,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=$f(n.firestore);return function(a,c,f,m,b,T){const A=a.explicitOrderBy;if(b.length>A.length)throw new xe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let B=0;B<b.length;B++){const G=b[B];if(A[B].field.isKeyField()){if("string"!=typeof G)throw new xe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof G}`);if(!oA(a)&&-1!==G.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${G}' contains a slash.`);const Y=a.path.child(mn.fromString(G));if(!Xe.isDocumentKey(Y))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const _e=new Xe(Y);x.push(Sf(c,_e))}else{const Y=tF(f,m,G);x.push(Y)}}return new kd(x,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function dF(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oA(e)&&-1!==t.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!Xe.isDocumentKey(r))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sf(n,new Xe(r))}if(t instanceof hr)return Sf(n,t._key);throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lD(t)}.`)}function hF(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fF(n,e,t){if(!t.isEqual(e))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class QN{convertValue(e,t="none"){switch(If(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){const r={};return Df(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new cD(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cx(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bv(e));default:return null}}convertTimestamp(e){const t=xd(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);$t(CP(r));const i=new _c(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(t)||si(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function mD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class t3 extends QN{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class pF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$f(e)}set(e,t,r){this._verifyNotCommitted();const i=qd(e,this._firestore),a=mD(i.converter,t,r),c=hD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,oi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=qd(e,this._firestore);let c;return c="string"==typeof(t=(0,nn.m9)(t))||t instanceof wc?ZN(this._dataReader,"WriteBatch.update",a._key,t,r,i):WN(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qd(e,this._firestore);return this._mutations=this._mutations.concat(new Mv(t._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qd(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new xe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zf extends QN{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function gF(n,e,t){n=hn(n,hr);const r=hn(n.firestore,wr),i=mD(n.converter,e,t);return fm(r,[hD($f(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,oi.none())])}function mF(n,e,t,...r){n=hn(n,hr);const i=hn(n.firestore,wr),a=$f(i);let c;return c="string"==typeof(e=(0,nn.m9)(e))||e instanceof wc?ZN(a,"updateDoc",n._key,e,t,r):WN(a,"updateDoc",n._key,e),fm(i,[c.toMutation(n._key,oi.exists(!0))])}function _F(n,...e){var t,r,i;n=(0,nn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||qN(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(qN(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let m,b,T;if(n instanceof hr)b=hn(n.firestore,wr),T=zg(n._key.path),m={next:A=>{e[c]&&e[c](JN(b,n,A))},error:e[c+1],complete:e[c+2]};else{const A=hn(n,Es);b=hn(A.firestore,wr),T=A._query;const x=new zf(b);m={next:B=>{e[c]&&e[c](new $d(b,x,A,B))},error:e[c+1],complete:e[c+2]},oF(n._query)}return function(A,x,B,G){const Y=new oD(G),_e=new uN(x,Y,B);return A.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return iN(yield hm(A),_e)})),()=>{Y.Ia(),A.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return oN(yield hm(A),_e)}))}}(li(b),T,f,m)}function fm(n,e){return function(t,r){const i=new Mi;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function WU(n,e,t){return pN.apply(this,arguments)}(yield HN(t),r,i)})),i.promise}(li(n),e)}function JN(n,e,t){const r=t.docs.get(e._key),i=new zf(n);return new Ec(n,i,e._key,r,new qf(t.hasPendingWrites,t.fromCache),e.converter)}class d3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=$f(e)}get(e){const t=qd(e,this._firestore),r=new t3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gt();const a=i[0];if(a.isFoundDocument())return new Qv(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Qv(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const i=qd(e,this._firestore),a=mD(i.converter,t,r),c=hD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=qd(e,this._firestore);let c;return c="string"==typeof(t=(0,nn.m9)(t))||t instanceof wc?ZN(this._dataReader,"Transaction.update",a._key,t,r,i):WN(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=qd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qd(e,this._firestore),r=new zf(this._firestore);return super.get(e).then(i=>new Ec(this._firestore,r,t._key,i._document,new qf(!1,!1),t.converter))}}function XN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vF(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function bF(){if(!function MV(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){jg=Oa.SDK_VERSION,(0,Oa._registerComponent)(new Mg.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new wr(i,new CV(t.getProvider("auth-internal")),new SV(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Oa.registerVersion)(_x,"3.4.8",n),(0,Oa.registerVersion)(_x,"3.4.8","esm2017")}();class e0{constructor(e){this._delegate=e}static fromBase64String(e){return bF(),new e0(du.fromBase64String(e))}static fromUint8Array(e){return vF(),new e0(du.fromUint8Array(e))}toBase64(){return bF(),this._delegate.toBase64()}toUint8Array(){return vF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eM(n){return function b3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class w3{enableIndexedDbPersistence(e,t){return function Aj(n,e){Qk(n=hn(n,wr));const t=li(n),r=n._freezeSettings(),i=new kN;return Yk(t,i,new Rk(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Nj(n){Qk(n=hn(n,wr));const e=li(n),t=n._freezeSettings(),r=new kN;return Yk(e,r,new uj(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Mj(n){if(n._initialized&&!n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!_l.vt())return Promise.resolve();const i=r+"main";yield _l.delete(i)}),function(r){return t.apply(this,arguments)})(SA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _c||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Ej(n,e,t,r={}){var i;const a=(n=hn(n,Kv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&yv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Ji.MOCK_USER;else{c=(0,nn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ji(m)}n._authCredentials=new DV(new yx(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Rj(n){return function pj(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield Fk(n),t=yield Lk(n);return e.setNetworkEnabled(!0),function(r){const i=ot(r);return i.fu.delete(0),Wv(i)}(t)}))}(li(n=hn(n,wr)))}(this._delegate)}disableNetwork(){return function xj(n){return function gj(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield Fk(n),t=yield Lk(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const a=ot(i);a.fu.add(0),yield sm(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(li(n=hn(n,wr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,jk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Oj(n){return function(e){const t=new Mi;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function QU(n,e){return vN.apply(this,arguments)}(yield HN(e),t)})),t.promise}(li(n=hn(n,wr)))}(this._delegate)}onSnapshotsInSync(e){return function c3(n,e){return function yj(n,e){const t=new oD(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield hm(n),i=t,ot(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield hm(n),i=t,void ot(r).Eu.delete(i);var r,i}))}}(li(n=hn(n,wr)),qN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pm(this,zk(this._delegate,e))}catch(t){throw qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,uD(this._delegate,e))}catch(t){throw qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zs(this,function Dj(n,e){if(n=hn(n,Kv),GN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(n,null,(t=e,new vc(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function h3(n,e){return function vj(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(i=n,aD(i).then(a=>a.datastore));var i;new hj(n.asyncQueue,r,e,t).run()})),t.promise}(li(n=hn(n,wr)),t=>e(new d3(n,t)))}(this._delegate,t=>e(new EF(this,t)))}batch(){return li(this._delegate),new DF(new pF(this._delegate,e=>fm(this._delegate,e)))}loadBundle(e){return function Pj(n,e){const t=li(n=hn(n,wr)),r=new Tj;return function bj(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,b){if(m instanceof Uint8Array)return xk(m,b);if(m instanceof ArrayBuffer)return xk(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new cj(m,c);var m}(t,zv(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function lj(n,e,t){const r=ot(n);var i;(i=(0,Ee.Z)(function*(a,c,f){try{const m=yield c.getMetadata();if(yield function(x,B){const G=ot(x),Y=Ri(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",_e=>G._s.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(Y)>=0)}(a.localStore,m))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(x=m).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);f._updateProgress(Ek(m));const b=new jU(m,a.localStore,c.M);let T=yield c.da();for(;T;){const x=yield b.ku(T);x&&f._updateProgress(x),T=yield c.da()}const A=yield b.complete();return yield bc(a,A.Fu,void 0),yield function(x,B){const G=ot(x);return G.persistence.runTransaction("Save bundle","readwrite",Y=>G._s.saveBundleMetadata(Y,B))}(a.localStore,m),f._completeWith(A.progress),Promise.resolve(A.Ou)}catch(m){return yv("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var x}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield HN(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function kj(n,e){return function wj(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const i=ot(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield jN(n),e)}))}(li(n=hn(n,wr)),e).then(t=>t?new Es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zs(this,t):null)}}class _D extends QN{constructor(e){super(),this.firestore=e}convertBytes(e){return new e0(new du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class EF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}get(e){const t=Zf(e);return this._delegate.get(t).then(r=>new t0(this._firestore,new Ec(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Zf(e);return r?(XN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Zf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}}class DF{constructor(e){this._delegate=e}set(e,t,r){const i=Zf(e);return r?(XN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Zf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Jv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new n0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Wf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Wf(e,new _D(e),t),i.set(t,a)),a}}Wf.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new hr(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new ka(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new pm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pm(this.firestore,zk(this._delegate,e))}catch(t){throw qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof hr&&Wk(this._delegate,e)}set(e,t){t=XN("DocumentReference.set",t);try{return t?gF(this._delegate,e,t):gF(this._delegate,e)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?mF(this._delegate,e):mF(this._delegate,e,t,...r)}catch(i){throw qs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function l3(n){return fm(hn(n.firestore,wr),[new Mv(n._key,oi.none())])}(this._delegate)}onSnapshot(...e){const t=CF(e),r=TF(e,i=>new t0(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _F(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function r3(n){n=hn(n,hr);const e=hn(n.firestore,wr),t=li(e),r=new zf(e);return function mj(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,a,c){try{const f=yield function(m,b){const T=ot(m);return T.persistence.runTransaction("read document","readonly",A=>T.ci.Ls(A,b))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new xe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=lm(f,`Failed to get document '${a} from cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield jN(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ec(e,r,n._key,i,new qf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function i3(n){n=hn(n,hr);const e=hn(n.firestore,wr);return Vk(li(e),n._key,{source:"server"}).then(t=>JN(e,n,t))}(this._delegate):function n3(n){n=hn(n,hr);const e=hn(n.firestore,wr);return Vk(li(e),n._key).then(t=>JN(e,n,t))}(this._delegate),t.then(r=>new t0(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function qs(n,e,t){return n.message=n.message.replace(e,t),n}function CF(n){for(const e of n)if("object"==typeof e&&!eM(e))return e;return{}}function TF(n,e){var t,r;let i;return i=eM(n[0])?n[0]:eM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class t0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sF(this._delegate,e._delegate)}}class n0 extends t0{data(e){const t=this._delegate.data(e);return function wV(n,e){n||gt()}(void 0!==t),t}}class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}where(e,t,r){try{return new zs(this.firestore,Gd(this._delegate,function zj(n,e,t){const r=e,i=gD("where",n);return new qj(i,r,t)}(e,t,r)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zs(this.firestore,Gd(this._delegate,function Zj(n,e="asc"){const t=e,r=gD("orderBy",n);return new Wj(r,t)}(e,t)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zs(this.firestore,Gd(this._delegate,function Kj(n){return Gk("limit",n),new aF("limit",n,"F")}(e)))}catch(t){throw qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zs(this.firestore,Gd(this._delegate,function Yj(n){return Gk("limitToLast",n),new aF("limitToLast",n,"L")}(e)))}catch(t){throw qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zs(this.firestore,Gd(this._delegate,function Qj(...n){return new lF("startAt",n,!0)}(...e)))}catch(t){throw qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zs(this.firestore,Gd(this._delegate,function Jj(...n){return new lF("startAfter",n,!1)}(...e)))}catch(t){throw qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zs(this.firestore,Gd(this._delegate,function Xj(...n){return new uF("endBefore",n,!1)}(...e)))}catch(t){throw qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zs(this.firestore,Gd(this._delegate,function e3(...n){return new uF("endAt",n,!0)}(...e)))}catch(t){throw qs(t,"endAt()","Query.endAt()")}}isEqual(e){return Zk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function o3(n){n=hn(n,Es);const e=hn(n.firestore,wr),t=li(e),r=new zf(e);return function _j(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,a,c){try{const f=yield eD(i,a,!0),m=new Tk(a,f.li),b=m.Gu(f.documents),T=m.applyChanges(b,!1);c.resolve(T.snapshot)}catch(f){const m=lm(f,`Failed to execute query '${a} against cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield jN(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $d(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function a3(n){n=hn(n,Es);const e=hn(n.firestore,wr),t=li(e),r=new zf(e);return Bk(t,n._query,{source:"server"}).then(i=>new $d(e,r,n,i))}(this._delegate):function s3(n){n=hn(n,Es);const e=hn(n.firestore,wr),t=li(e),r=new zf(e);return oF(n._query),Bk(t,n._query).then(i=>new $d(e,r,n,i))}(this._delegate),t.then(r=>new tM(this.firestore,new $d(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=CF(e),r=TF(e,i=>new tM(this.firestore,new $d(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _F(this._delegate,t,r)}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}class D3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new n0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new n0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new D3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new n0(this._firestore,r))})}isEqual(e){return sF(this._delegate,e._delegate)}}class pm extends zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?uD(this._delegate):uD(this._delegate,e))}catch(t){throw qs(t,"doc()","CollectionReference.doc()")}}add(e){return function u3(n,e){const t=hn(n.firestore,wr),r=uD(n),i=mD(n.converter,e);return fm(t,[hD($f(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,oi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return Wk(this._delegate,e._delegate)}withConverter(e){return new pm(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function Zf(n){return hn(n,hr)}class nM{constructor(...e){this._delegate=new wc(...e)}static documentId(){return new nM(Oi.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof wc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function p3(){return new zN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kf(e)}static delete(){const e=function f3(){return new Yv("deleteField")}();return e._methodName="FieldValue.delete",new Kf(e)}static arrayUnion(...e){const t=function g3(...n){return new Bj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Kf(t)}static arrayRemove(...e){const t=function m3(...n){return new Uj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Kf(t)}static increment(e){const t=function _3(n){return new jj("increment",n)}(e);return t._methodName="FieldValue.increment",new Kf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const C3={Firestore:wF,GeoPoint:cD,Timestamp:jr,Blob:e0,Transaction:EF,WriteBatch:DF,DocumentReference:ka,DocumentSnapshot:t0,Query:zs,QueryDocumentSnapshot:n0,QuerySnapshot:tM,CollectionReference:pm,FieldPath:nM,FieldValue:Kf,setLogLevel:function E3(n){!function bV(n){Rd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function I3(n){(function T3(n,e){n.INTERNAL.registerComponent(new Mg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},C3)))})(n,(e,t)=>new wF(e,t,new w3)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(fc.Z);var yD=P(5363),S3=P(6063);class A3 extends En.x{constructor(e=1/0,t=1/0,r=S3.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var N3=P(3099);function IF(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,N3.B)({connector:()=>new A3(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function SF(n,e){return(0,fi.m)(e)?jn(()=>n,e):jn(()=>n)}var rM=P(9468),Yf=P(5867);class gm{constructor(e){return e}}class AF{constructor(){return(0,Yf.C6)()}}const iM=new u.OlP("angularfire2._apps"),O3={provide:gm,useFactory:function M3(n){return n&&1===n.length?n[0]:new gm((0,Yf.Mq)())},deps:[[new u.FiY,iM]]},R3={provide:AF,deps:[[new u.FiY,iM]]};function x3(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gm(r)}}let P3=(()=>{class n{constructor(t){(0,Yf.KN)("angularfire",Fn.q4.full,"core"),(0,Yf.KN)("angularfire",Fn.q4.full,"app"),(0,Yf.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[O3,R3]}),n})();function k3(n,...e){return{ngModule:P3,providers:[{provide:iM,useFactory:x3(n),multi:!0,deps:[u.R0b,u.zs3,Fn.HU,...e]}]}}const F3=(0,Fn.u3)(Yf.ZF,!0),NF=new Map,L3={activated:!1,tokenObservers:[]},V3={initialized:!1,enabled:!1};function ki(n){return NF.get(n)||L3}function yl(n,e){NF.set(n,e)}function vD(){return V3}class $3{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function G3(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ws=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OF(n){if(!ki(n).activated)throw Ws.create("use-before-activation",{appName:n.name})}function aM(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(A){throw Ws.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==c.status)throw Ws.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw Ws.create("fetch-parse-error",{originalErrorMessage:A.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(m[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),lM.apply(this,arguments)}function K3(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const r0="firebase-app-check-store";let ED=null;function xF(){return ED||(ED=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ws.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(r0,{keyPath:"compositeKey"})}}catch(t){e(Ws.create("storage-open",{originalErrorMessage:t.message}))}}),ED)}function uM(){return uM=(0,Ee.Z)(function*(n,e){const r=(yield xF()).transaction(r0,"readwrite"),a=r.objectStore(r0).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var b;f(Ws.create("storage-set",{originalErrorMessage:null===(b=m.target.error)||void 0===b?void 0:b.message}))}})}),uM.apply(this,arguments)}const s0=new pc.Yd("@firebase/app-check");function LF(n,e){return(0,nn.hl)()?function X3(n,e){return function PF(n,e){return uM.apply(this,arguments)}(function FF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{s0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VF(){return vD().enabled}function BF(){return fM.apply(this,arguments)}function fM(){return fM=(0,Ee.Z)(function*(){const n=vD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),fM.apply(this,arguments)}const sH={error:"UNKNOWN_ERROR"};function oH(n){return nn.US.encodeString(JSON.stringify(n),!1)}function DD(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Ee.Z)(function*(n,e=!1){const t=n.app;OF(t);const r=ki(t);let a,i=r.token;if(!i){const m=yield r.cachedTokenPromise;m&&CD(m)&&(i=m)}if(!e&&i&&CD(i))return{token:i.token};let f,c=!1;if(VF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=aM(K3(t,yield BF()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const m=yield r.exchangeTokenPromise;return yield LF(t,m),yl(t,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(m=>(r.exchangeTokenPromise=void 0,m)),c=!0),i=yield r.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?s0.warn(m.message):s0.error(m),a=m}return i?(f={token:i.token},yl(t,Object.assign(Object.assign({},r),{token:i})),yield LF(t,i)):f=lH(a),c&&jF(t,f),f}),pM.apply(this,arguments)}function mM(n,e){const t=ki(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),yl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function UF(n){const{app:e}=n,t=ki(e);let r=t.tokenRefresher;r||(r=function aH(n){const{app:e}=n;return new $3((0,Ee.Z)(function*(){let r;if(r=ki(e).token?yield DD(n,!0):yield DD(n),r.error)throw r.error}),()=>!0,()=>{const t=ki(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),yl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function jF(n,e){const t=ki(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function CD(n){return n.expireTimeMillis-Date.now()>0}function lH(n){return{token:oH(sH),error:n}}class uH{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ki(this.app);for(const t of e)mM(this.app,t.next);return Promise.resolve()}}const KF="app-check-internal";!function DH(){(0,Oa._registerComponent)(new Mg.wA("app-check",n=>function cH(n,e){return new uH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KF).initialize()})),(0,Oa._registerComponent)(new Mg.wA(KF,n=>function dH(n){return{getToken:e=>DD(n,e),addTokenListener:e=>function gM(n,e,t,r){const{app:i}=n,a=ki(i),c={next:t,error:r,type:e};if(yl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&CD(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),UF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>UF(n))}(n,"INTERNAL",e),removeTokenListener:e=>mM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oa.registerVersion)("@firebase/app-check","0.5.7")}();class ID{constructor(){return(0,Fn.vb)("app-check")}}"undefined"!=typeof window&&window,P(127);const QF=new u.OlP("angularfire2.auth.use-emulator"),JF=new u.OlP("angularfire2.auth.settings"),XF=new u.OlP("angularfire2.auth.tenant-id"),eL=new u.OlP("angularfire2.auth.langugage-code"),tL=new u.OlP("angularfire2.auth.use-device-language"),nL=new u.OlP("angularfire.auth.persistence"),rL=(n,e,t,r,i,a,c,f)=>(0,go.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))m.settings[b]=T;return f&&m.setPersistence(f),m},[t,r,i,a,c,f]);let iL=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A,x,B){const G=new En.x,Y=bt(void 0).pipe((0,yD.Q)(c.outsideAngular),jn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,Rt.U)(()=>(0,go.on)(t,a,r)),(0,Rt.U)(_e=>rL(_e,a,f,b,T,A,m,x)),IF({bufferSize:1,refCount:!1}));if(ta(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Y.pipe(Mo()).subscribe();const je=Y.pipe(jn(Ve=>Ve.getRedirectResult().then(tt=>tt,()=>null)),Fn.iC,IF({bufferSize:1,refCount:!1})),ke=Y.pipe(jn(Ve=>new kn.y(tt=>({unsubscribe:a.runOutsideAngular(()=>Ve.onAuthStateChanged(at=>tt.next(at),at=>tt.error(at),()=>tt.complete()))})))),Ye=Y.pipe(jn(Ve=>new kn.y(tt=>({unsubscribe:a.runOutsideAngular(()=>Ve.onIdTokenChanged(at=>tt.next(at),at=>tt.error(at),()=>tt.complete()))}))));this.authState=je.pipe(SF(ke),(0,rM.R)(c.outsideAngular),(0,yD.Q)(c.insideAngular)),this.user=je.pipe(SF(Ye),(0,rM.R)(c.outsideAngular),(0,yD.Q)(c.insideAngular)),this.idToken=this.user.pipe(jn(Ve=>Ve?(0,Un.D)(Ve.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(jn(Ve=>Ve?(0,Un.D)(Ve.getIdTokenResult()):bt(null))),this.credential=(0,I_.T)(je,G,this.authState.pipe(nr(Ve=>!Ve))).pipe((0,Rt.U)(Ve=>(null==Ve?void 0:Ve.user)?Ve:null),(0,rM.R)(c.outsideAngular),(0,yD.Q)(c.insideAngular))}return(0,go.pX)(this,Y,a,{spy:{apply:(_e,je,ke)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&ke.then(Ye=>G.next(Ye))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(go.Dh),u.LFG(go.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Fn.HU),u.LFG(QF,8),u.LFG(JF,8),u.LFG(XF,8),u.LFG(eL,8),u.LFG(tL,8),u.LFG(nL,8),u.LFG(ID,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function sL(n,e){return function NH(n,e=D_.z){return new kn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function wM(n,e){return sL(n,e).pipe((0,Rt.U)(t=>({payload:t,type:"query"})))}function SD(n,e){return wM(n,e).pipe(Qr(void 0),Uy(),(0,Rt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const m=i.find(T=>T.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function oL(n,e,t){return SD(n,t).pipe(Ti((r,i)=>function OH(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function RH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return EM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return EM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return EM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function S_(n,e=ji.y){return n=null!=n?n:Cb,(0,lr.e)((t,r)=>{let i,a=!0;t.subscribe((0,fn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,Rt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function EM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function aL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class lL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=SD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Rt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Qr(void 0),Uy(),nr(([r,i])=>i.length>0||!r),(0,Rt.U)(([r,i])=>i),Fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ti((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aL(e);return oL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return wM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Fn.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(Fn.iC)}add(e){return this.ref.add(e)}doc(e){return new uL(this.ref.doc(e),this.afs)}}class uL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=cL(r,t);return new lL(i,a,this.afs)}snapshotChanges(){return function MH(n,e){return sL(n,e).pipe(Qr(void 0),Uy(),(0,Rt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Un.D)(this.ref.get(e)).pipe(Fn.iC)}}class xH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?SD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),nr(t=>t.length>0),Fn.iC):SD(this.query,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ti((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aL(e);return oL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return wM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Fn.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(Fn.iC)}}const PH=new u.OlP("angularfire2.enableFirestorePersistence"),kH=new u.OlP("angularfire2.firestore.persistenceSettings"),FH=new u.OlP("angularfire2.firestore.settings"),LH=new u.OlP("angularfire2.firestore.use-emulator");function cL(n,e=(t=>t)){return{query:e(n),ref:n}}let VH=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A,x,B,G,Y,_e,je,ke){this.schedulers=m;const Ye=(0,go.on)(t,f,r),Ve=T;A&&rL(Ye,f,x,G,Y,_e,B,je),[this.firestore,this.persistenceEnabled$]=(0,go.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const tt=f.runOutsideAngular(()=>Ye.firestore());if(a&&tt.settings(a),Ve&&tt.useEmulator(...Ve),i&&!ta(c)){const at=()=>{try{return(0,Un.D)(tt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(vt){return"undefined"!=typeof console&&console.warn(vt),bt(!1)}};return[tt,f.runOutsideAngular(at)]}return[tt,bt(!1)]},[a,Ve,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=cL(i,r),f=this.schedulers.ngZone.run(()=>a);return new lL(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new xH(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new uL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(go.Dh),u.LFG(go.xv,8),u.LFG(PH,8),u.LFG(FH,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Fn.HU),u.LFG(kH,8),u.LFG(LH,8),u.LFG(iL,8),u.LFG(QF,8),u.LFG(JF,8),u.LFG(XF,8),u.LFG(eL,8),u.LFG(tL,8),u.LFG(nL,8),u.LFG(ID,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dL=(()=>{class n{constructor(t){this.firestore=t}getProductosMascotaService(){return this.firestore.collection("productosBD").snapshotChanges()}getProductosRefrigeracionService(){return this.firestore.collection("productosRefrigeracionBD").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(VH))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hL{}const Dc="*";function UH(n,e){return{type:7,name:n,definitions:e,options:{}}}function fL(n,e=null){return{type:4,styles:e,timings:n}}function pL(n,e=null){return{type:2,steps:n,options:e}}function o0(n){return{type:6,styles:n,offset:null}}function jH(n,e,t){return{type:0,name:n,styles:e,options:t}}function gL(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function mL(n){Promise.resolve(null).then(n)}class a0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _L{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?mL(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const HH=["overlay"];function $H(n,e){1&n&&u._UZ(0,"div")}function GH(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,$H,1,0,"div",6),u.qZA()),2&n){const t=u.oxw(2);u.Tol(t.spinner.class),u.Udp("color",t.spinner.color),u.xp6(1),u.Q6J("ngForOf",t.spinner.divArray)}}function qH(n,e){if(1&n&&(u._UZ(0,"div",7),u.ALo(1,"safeHtml")),2&n){const t=u.oxw(2);u.Q6J("innerHTML",u.lcZ(1,1,t.template),u.oJD)}}function zH(n,e){if(1&n&&(u.TgZ(0,"div",1,2),u.YNc(2,GH,2,5,"div",3),u.YNc(3,qH,2,3,"div",4),u.TgZ(4,"div",5),u.Hsn(5),u.qZA()()),2&n){const t=u.oxw();u.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),u.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),u.xp6(2),u.Q6J("ngIf",!t.template),u.xp6(1),u.Q6J("ngIf",t.template),u.xp6(1),u.Udp("z-index",t.spinner.zIndex)}}const WH=["*"],ZH={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},TM="primary";class Qf{constructor(e){Object.assign(this,e)}static create(e){return(null==(null==e?void 0:e.type)||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Qf(e)}}let IM=(()=>{class n{constructor(){this.spinnerObservable=new Yn(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(nr(r=>r&&r.name===t))}show(t=TM,r){return new Promise((i,a)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new Qf(Object.assign(Object.assign({},r),{show:!0}))),i(!0)):(this.spinnerObservable.next(new Qf({name:t,show:!0})),i(!0))},10)})}hide(t=TM,r=10){return new Promise((i,a)=>{setTimeout(()=>{this.spinnerObservable.next(new Qf({name:t,show:!1})),i(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KH=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(io,16))},n.\u0275pipe=u.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),YH=(()=>{class n{constructor(t,r,i){this.spinnerService=t,this.changeDetector=r,this.elementRef=i,this.disableAnimation=!1,this.spinner=new Qf,this.ngUnsubscribe=new En.x,this.setDefaultOptions=()=>{this.spinner=Qf.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=TM,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(ur(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const i=t[r];if(i.isFirstChange())return;void 0!==i.currentValue&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=ZH[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((a,c)=>c);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+t+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(IM),u.Y36(u.sBO),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&u.Gf(HH,5),2&t){let i;u.iGM(i=u.CRH())&&(r.spinnerDOM=i.first)}},hostBindings:function(t,r){1&t&&u.NdJ("keydown",function(a){return r.handleKeyboardEvent(a)},!1,u.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[u.TTD],ngContentSelectors:WH,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(u.F$t(),u.YNc(0,zH,6,12,"div",0)),2&t&&u.Q6J("ngIf",r.spinner.show)},directives:[Zn,bn],pipes:[KH],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[UH("fadeIn",[jH("in",o0({opacity:1})),gL(":enter",[o0({opacity:0}),fL(300)]),gL(":leave",fL(200,o0({opacity:0})))])]},changeDetection:0}),n})(),QH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zr]]}),n})();function JH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td",29),u._UZ(2,"img",30),u.qZA(),u.TgZ(3,"td",31),u._uU(4),u.qZA(),u.TgZ(5,"td",31),u._uU(6),u.ALo(7,"currency"),u.qZA(),u.TgZ(8,"input",32),u.NdJ("change",function(i){return u.CHM(t),u.oxw().onChangeCheck(i)}),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(4),u.hij(" ",t.nombre," "),u.xp6(2),u.hij(" ",u.lcZ(7,4,t.precio)," "),u.xp6(2),u.Q6J("checked",!1)("value",t.nombre)}}let XH=(()=>{class n{constructor(t,r){this._productosMascotasService=t,this.spinner=r,this.mensajeProducto=[],this.productosMascotas=[]}ngOnInit(){this.getProductosMascotas(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}getProductosMascotas(){this._productosMascotasService.getProductosMascotaService().subscribe(t=>{this.productosMascotas=[],t.forEach(r=>{this.productosMascotas.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}onChangeCheck(t){1==t.target.checked?this.mensajeProducto.push(t.target.value):this.mensajeProducto.splice(this.mensajeProducto.indexOf(t.target.value),1),console.log(this.mensajeProducto.toString())}onItemChange(t){console.log(" Value is : ",t)}valorInput(t){this.mensajeDia=t.day,this.mensajeMes=t.month}valorInputName(t){this.mensajeNombre=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dL),u.Y36(IM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mascotas"]],decls:73,vars:9,consts:[[1,"container"],[2,"text-align","center"],["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[1,"d-flex","justify-content-center"],[1,"form"],[2,"justify-content","center"],[2,"text-align","CENTER"],[2,"color","white"],["type","text","name","name","placeholder","Nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12",2,"margin-top","16px"],[1,"input-group"],["placeholder","Selecciona disponibilidad","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn",2,"background-color","white",3,"click"],[1,"far","fa-calendar-minus"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"color","white","text-align","CENTER"],[1,"row",2,"color","white"],[1,"col-12"],[1,"table","table-image"],["scope","col",2,"color","white","text-align","center"],[4,"ngFor","ngForOf"],[1,"w-25"],["src","https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/sheep-5.jpg","alt","Sheep",1,"img-fluid","img-thumbnail"],[2,"color","white","font-size","larger","text-align","center"],["type","checkbox",1,"form-check-input",2,"border-color","white","margin-top","110%",3,"checked","value","change"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"body"),u._UZ(1,"br"),u.TgZ(2,"div",0)(3,"h2",1),u._uU(4,"Traslado de mascotas"),u.qZA(),u._UZ(5,"br"),u.TgZ(6,"div"),u._UZ(7,"ngx-spinner",2),u.qZA(),u._UZ(8,"br"),u.TgZ(9,"tr")(10,"td")(11,"div",3)(12,"form",4)(13,"div",5)(14,"h3",6),u._uU(15,"Lavado y traslado"),u.qZA(),u._UZ(16,"br"),u.TgZ(17,"label",7),u._uU(18,"Ingresa tu nombre y disponibilidad"),u.qZA(),u.TgZ(19,"div")(20,"input",8),u.NdJ("ngModelChange",function(c){return r.modelName=c})("ngModelChange",function(c){return r.valorInputName(c)}),u.qZA()(),u.TgZ(21,"div",9)(22,"div",10)(23,"input",11,12),u.NdJ("ngModelChange",function(c){return r.model=c})("ngModelChange",function(c){return r.valorInput(c)}),u.qZA(),u._UZ(25,"br"),u.TgZ(26,"button",13),u.NdJ("click",function(){return u.CHM(i),u.MAs(24).toggle()}),u._UZ(27,"i",14),u.qZA()()(),u.TgZ(28,"div",15),u._uU(29," >"),u._UZ(30,"link",16),u.TgZ(31,"a",17)(32,"i",18),u._uU(33,"ENVIANOS TU CONSULTA"),u.qZA()()()()()()()(),u.TgZ(34,"tr")(35,"td")(36,"form")(37,"div",19),u._UZ(38,"div",20),u.TgZ(39,"div",21),u._UZ(40,"i",22),u.qZA(),u._UZ(41,"div",20),u.qZA(),u.TgZ(42,"div")(43,"div",0)(44,"h3",6),u._uU(45,"Compra de alimentos y envios"),u.qZA(),u._UZ(46,"br"),u.TgZ(47,"h3",23),u._uU(48," Selecciona el producto, te lo llevamos! "),u.qZA(),u._UZ(49,"br")(50,"br"),u.TgZ(51,"div",0)(52,"div",24)(53,"div",25)(54,"table",26)(55,"thead")(56,"tr")(57,"th",27),u._uU(58," Image "),u.qZA(),u.TgZ(59,"th",27),u._uU(60," Articulo "),u.qZA(),u.TgZ(61,"th",27),u._uU(62," Precio "),u.qZA()()(),u.TgZ(63,"tbody"),u.YNc(64,JH,9,6,"tr",28),u.qZA()()()()(),u.TgZ(65,"div",15),u._uU(66," >"),u._UZ(67,"link",16),u.TgZ(68,"a",17)(69,"i",18),u._uU(70,"CONSULTA STOCK"),u.qZA()()(),u._UZ(71,"br")(72,"br"),u.qZA()()()()()()()}2&t&&(u.xp6(20),u.Q6J("ngModel",r.modelName),u.xp6(3),u.Q6J("ngModel",r.model),u.xp6(8),u.cQ8("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, mi nombre es ",r.mensajeNombre," estoy interesado en el lavado de mi mascota el dia Fecha disponible: ",r.mensajeDia,"/",r.mensajeMes,"",u.LSH),u.xp6(33),u.Q6J("ngForOf",r.productosMascotas),u.xp6(4),u.cQ8("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el/los siguientes productos: %0D%0A ",r.mensajeProducto[0]," ",r.mensajeProducto[1]," ",r.mensajeProducto[2]," muchas gracias.",u.LSH))},directives:[YH,h_,r_,od,Ch,Vh,G0,Ph,fw,bn],pipes:[gu],styles:[""]}),n})(),e$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-oportunidades"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"oportunidades works!"),u.qZA())},styles:[""]}),n})();function t$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td",20),u._UZ(2,"img",21),u.qZA(),u.TgZ(3,"td",22),u._uU(4),u.qZA(),u.TgZ(5,"td",22),u._uU(6),u.ALo(7,"currency"),u.qZA(),u.TgZ(8,"input",23),u.NdJ("change",function(i){return u.CHM(t),u.oxw().onChangeCheck(i)}),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(4),u.hij(" ",t.descripcion," "),u.xp6(2),u.hij(" ",u.lcZ(7,4,t.precio)," "),u.xp6(2),u.Q6J("checked",!1)("value",t.nombre)}}const n$=[{path:"home",component:P0},{path:"",redirectTo:"home",pathMatch:"full"},{path:"mascotas",component:XH},{path:"fletes",component:Ww},{path:"refrigeracion",component:(()=>{class n{constructor(t,r){this._productosRefrigeracionService=t,this.spinner=r,this.productosRefrigeracion=[]}onChangeCheck(t){}valorInputName(t){}getProductosRefrigeracion(){this._productosRefrigeracionService.getProductosRefrigeracionService().subscribe(t=>{this.productosRefrigeracion=[],t.forEach(r=>{this.productosRefrigeracion.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}ngOnInit(){this.getProductosRefrigeracion(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dL),u.Y36(IM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-refrigeracion"]],decls:44,vars:1,consts:[[1,"container"],[1,"presentacion",2,"text-align","center"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],[2,"color","white"],[1,"row",2,"color","white"],[2,"text-align","center"],[1,"table","table-image"],["scope","col",2,"color","white","text-align","center"],[4,"ngFor","ngForOf"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el/los siguientes productos: %0D%0A muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"],[1,"w-25"],["src","https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/sheep-5.jpg","alt","Sheep",1,"img-fluid","img-thumbnail"],[2,"color","white","font-size","larger"],["type","checkbox",1,"form-check-input",2,"border-color","white","margin-top","110%",3,"checked","value","change"]],template:function(t,r){1&t&&(u.TgZ(0,"body"),u._UZ(1,"br"),u.TgZ(2,"div",0)(3,"h2",1),u._uU(4," Productos de Refrigeracion "),u.qZA()(),u.TgZ(5,"div",2)(6,"div",3)(7,"span",4),u._uU(8,"Loading..."),u.qZA()()(),u.TgZ(9,"div",5),u._UZ(10,"div",6),u.TgZ(11,"div",7),u._UZ(12,"i",8),u.qZA(),u._UZ(13,"div",6),u.qZA(),u.TgZ(14,"div")(15,"div")(16,"h3",9),u._uU(17,"Compra de productos de refrigeracion "),u.qZA(),u._UZ(18,"br")(19,"br"),u.TgZ(20,"div",0)(21,"label",10),u._uU(22,"Selecciona el producto, te lo llevamos!"),u.qZA(),u.TgZ(23,"div",11)(24,"div",12)(25,"table",13)(26,"thead")(27,"tr")(28,"th",14),u._uU(29," Image "),u.qZA(),u.TgZ(30,"th",14),u._uU(31," Articulo "),u.qZA(),u.TgZ(32,"th",14),u._uU(33," Precio "),u.qZA()()(),u.TgZ(34,"tbody"),u.YNc(35,t$,9,6,"tr",15),u.qZA()()()()(),u.TgZ(36,"div",16),u._uU(37," >"),u._UZ(38,"link",17),u.TgZ(39,"a",18)(40,"i",19),u._uU(41,"CONSULTA STOCK"),u.qZA()()(),u._UZ(42,"br")(43,"br"),u.qZA()()()),2&t&&(u.xp6(35),u.Q6J("ngForOf",r.productosRefrigeracion))},directives:[bn],pipes:[gu],styles:[""]}),n})()},{path:"oportunidades",component:e$},{path:"aires",component:IC},{path:"**",redirectTo:"home",pathMatch:"full"}];let r$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Dh.forRoot(n$)],Dh]}),n})(),i$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"navbar"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"nav")(2,"h1"),u._uU(3,"Negocios e inversiones"),u.qZA()()())},directives:[Cy],styles:[""]}),n})(),s$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:28,vars:0,consts:[[1,"footer","text-center"],[1,"row"],[1,"col-lg-4","mb-5","mb-lg-0"],[1,"text-uppercase","mb-4"],[1,"lead","mb-0"],["href","#!",1,"btn","btn-outline-light","btn-social","mx-1"],[1,"fab","fa-fw","fa-facebook-f"],[1,"fab","fa-fw","fa-twitter"],[1,"fab","fa-fw","fa-linkedin-in"],[1,"fab","fa-fw","fa-dribbble"],[1,"col-lg-4"],["href","http://startbootstrap.com"]],template:function(t,r){1&t&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h4",3),u._uU(4,"Location"),u.qZA(),u.TgZ(5,"p",4),u._uU(6," 2215 John Daniel Drive "),u._UZ(7,"br"),u._uU(8," Clark, MO 65243 "),u.qZA()(),u.TgZ(9,"div",2)(10,"h4",3),u._uU(11,"Around the Web"),u.qZA(),u.TgZ(12,"a",5),u._UZ(13,"i",6),u.qZA(),u.TgZ(14,"a",5),u._UZ(15,"i",7),u.qZA(),u.TgZ(16,"a",5),u._UZ(17,"i",8),u.qZA(),u.TgZ(18,"a",5),u._UZ(19,"i",9),u.qZA()(),u.TgZ(20,"div",10)(21,"h4",3),u._uU(22,"About Freelancer"),u.qZA(),u.TgZ(23,"p",4),u._uU(24," Freelance is a free to use, MIT licensed Bootstrap theme created by "),u.TgZ(25,"a",11),u._uU(26,"Start Bootstrap"),u.qZA(),u._uU(27," . "),u.qZA()()()())},styles:[""]}),n})(),o$=(()=>{class n{constructor(){this.title="project-cni"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[i$,qu,s$],styles:[""]}),n})();const SM_firebase={projectId:"cni-project-4bbcc",appId:"1:119158717211:web:d17ed3bbd63f4ad28cb1be",storageBucket:"cni-project-4bbcc.appspot.com",apiKey:"AIzaSyDWnHkmYoiifZZfNLOzl3dmbuJ92Bv6fWw",authDomain:"cni-project-4bbcc.firebaseapp.com",messagingSenderId:"119158717211"};P(573);class vL{constructor(){return(0,Fn.vb)("auth")}}class MM{constructor(e){return e}}const bL="firestore",OM=new u.OlP("angularfire2.firestore-instances");function h$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new MM(r)}}const f$={provide:class c${constructor(){return(0,Fn.vb)(bL)}},deps:[[new u.FiY,OM]]},p$={provide:MM,useFactory:function d$(n,e){const t=(0,Fn.JM)(bL,n,e);return t&&new MM(t)},deps:[[new u.FiY,OM],gm]};let g$=(()=>{class n{constructor(){(0,Yf.KN)("angularfire",Fn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[p$,f$]}),n})();function m$(n,...e){return{ngModule:g$,providers:[{provide:OM,useFactory:h$(n),multi:!0,deps:[u.R0b,u.zs3,Fn.HU,AF,[new u.FiY,vL],[new u.FiY,ID],...e]}]}}const _$=(0,Fn.u3)(Sj,!0),cn=!1;function wL(n){return new u.vHH(3e3,cn)}function Q$(){return"undefined"!=typeof window&&void 0!==window.document}function RM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zd(n){switch(n.length){case 0:return new a0;case 1:return n[0];default:return new _L(n)}}function EL(n,e,t,r,i={},a={}){const c=[],f=[];let m=-1,b=null;if(r.forEach(T=>{const A=T.offset,x=A==m,B=x&&b||{};Object.keys(T).forEach(G=>{let Y=G,_e=T[G];if("offset"!==G)switch(Y=e.normalizePropertyName(Y,c),_e){case"!":_e=i[G];break;case Dc:_e=a[G];break;default:_e=e.normalizeStyleValue(G,Y,_e,c)}B[Y]=_e}),x||f.push(B),b=B,m=A}),c.length)throw function U$(n){return new u.vHH(3502,cn)}();return f}function xM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&PM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&PM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&PM(t,"destroy",n)))}}function PM(n,e,t){const r=t.totalTime,a=kM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function kM(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function zo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function DL(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let FM=(n,e)=>!1,CL=(n,e,t)=>[],TL=null;function LM(n){const e=n.parentNode||n.host;return e===TL?null:e}(RM()||"undefined"!=typeof Element)&&(Q$()?(TL=(()=>document.documentElement)(),FM=(n,e)=>{for(;e;){if(e===n)return!0;e=LM(e)}return!1}):FM=(n,e)=>n.contains(e),CL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Jf=null,IL=!1;function SL(n){Jf||(Jf=function X$(){return"undefined"!=typeof document?document.body:null}()||{},IL=!!Jf.style&&"WebkitAppearance"in Jf.style);let e=!0;return Jf.style&&!function J$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Jf.style,!e&&IL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Jf.style)),e}const AL=FM,NL=CL;let ML=(()=>{class n{validateStyleProperty(t){return SL(t)}matchesElement(t,r){return!1}containsElement(t,r){return AL(t,r)}getParentElement(t){return LM(t)}query(t,r,i){return NL(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],m){return new a0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),VM=(()=>{class n{}return n.NOOP=new ML,n})();const BM="ng-enter",ND="ng-leave",MD="ng-trigger",OD=".ng-trigger",RL="ng-animating",UM=".ng-animating";function Xf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jM(parseFloat(e[1]),e[2])}function jM(n,e){return"s"===e?1e3*n:n}function RD(n,e,t){return n.hasOwnProperty("duration")?n:function nG(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(wL()),{duration:0,delay:0,easing:""};i=jM(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(a=jM(parseFloat(m),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function y$(){return new u.vHH(3100,cn)}()),f=!0),a<0&&(e.push(function v$(){return new u.vHH(3101,cn)}()),f=!0),f&&e.splice(m,0,wL())}return{duration:i,delay:a,easing:c}}(n,e,t)}function mm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Wd(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else mm(n,t);return t}function PL(n,e,t){return t?e+":"+t+";":""}function kL(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=PL(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=PL(0,sG(t),n.style[t]));n.setAttribute("style",e)}function hu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=$M(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),RM()&&kL(n))}function ep(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=$M(t);n.style[r]=""}),RM()&&kL(n))}function l0(n){return Array.isArray(n)?1==n.length?n[0]:pL(n):n}const HM=new RegExp("{{\\s*(.+?)\\s*}}","g");function FL(n){let e=[];if("string"==typeof n){let t;for(;t=HM.exec(n);)e.push(t[1]);HM.lastIndex=0}return e}function xD(n,e,t){const r=n.toString(),i=r.replace(HM,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function w$(n){return new u.vHH(3003,cn)}()),f=""),f.toString()});return i==r?n:i}function PD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const iG=/-+([a-z0-9])/g;function $M(n){return n.replace(iG,(...e)=>e[1].toUpperCase())}function sG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function E$(n){return new u.vHH(3004,cn)}()}}function LL(n,e){return window.getComputedStyle(n)[e]}function dG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function hG(n,e,t){if(":"==n[0]){const m=function fG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function F$(n){return new u.vHH(3016,cn)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function k$(n){return new u.vHH(3015,cn)}()),e;const i=r[1],a=r[2],c=r[3];e.push(VL(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(VL(c,i))}(r,t,e)):t.push(n),t}const VD=new Set(["true","1"]),BD=new Set(["false","0"]);function VL(n,e){const t=VD.has(n)||BD.has(n),r=VD.has(e)||BD.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?VD.has(n):BD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?VD.has(e):BD.has(e)),c&&f}}const pG=new RegExp("s*:selfs*,?","g");function GM(n,e,t,r){return new gG(n).build(e,t,r)}class gG{constructor(e){this._driver=e}build(e,t,r){const i=new yG(t);this._resetContextStyleTimingState(i);const a=Wo(this,l0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function C$(){return new u.vHH(3006,cn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,b=m.name;b.toString().split(/\s*,\s*/).forEach(T=>{m.name=T,a.push(this.visitState(m,t))}),m.name=b}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,c.push(m)}else t.errors.push(function T$(){return new u.vHH(3007,cn)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(UD(f)){const m=f;Object.keys(m).forEach(b=>{FL(m[b]).forEach(T=>{c.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(PD(a.values()),t.errors.push(function I$(n,e){return new u.vHH(3008,cn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wo(this,l0(e.animation),t);return{type:1,matchers:dG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:tp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wo(this,r,t)),options:tp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Wo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:tp(e.options)}}visitAnimate(e,t){const r=function bG(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return qM(RD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=qM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=RD(t,e);return qM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:o0({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=o0(b)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(c,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Dc?r.push(c):t.errors.push(function S$(n){return new u.vHH(3002,cn)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(UD(c)){const f=c,m=f.easing;if(m&&(a=m,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const m=t.collectedStyles[t.currentQuerySelector],b=m[f];let T=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function A$(n,e,t,r,i){return new u.vHH(3010,cn)}()),T=!1),a=b.startTime),T&&(m[f]={startTime:a,endTime:i}),t.options&&function rG(n,e,t){const r=e.params||{},i=FL(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function b$(n){return new u.vHH(3001,cn)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function N$(){return new u.vHH(3011,cn)}()),r;let a=0;const c=[];let f=!1,m=!1,b=0;const T=e.steps.map(je=>{const ke=this._makeStyleAst(je,t);let Ye=null!=ke.offset?ke.offset:function vG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(UD(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(UD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ke.styles),Ve=0;return null!=Ye&&(a++,Ve=ke.offset=Ye),m=m||Ve<0||Ve>1,f=f||Ve<b,b=Ve,c.push(Ve),ke});m&&t.errors.push(function M$(){return new u.vHH(3012,cn)}()),f&&t.errors.push(function O$(){return new u.vHH(3200,cn)}());const A=e.steps.length;let x=0;a>0&&a<A?t.errors.push(function R$(){return new u.vHH(3202,cn)}()):0==a&&(x=1/(A-1));const B=A-1,G=t.currentTime,Y=t.currentAnimateTimings,_e=Y.duration;return T.forEach((je,ke)=>{const Ye=x>0?ke==B?1:x*ke:c[ke],Ve=Ye*_e;t.currentTime=G+Y.delay+Ve,Y.duration=Ve,this._validateStyleAst(je,t),je.offset=Ye,r.styles.push(je)}),r}visitReference(e,t){return{type:8,animation:Wo(this,l0(e.animation),t),options:tp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:tp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:tp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function mG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(pG,"")),n=n.replace(/@\*/g,OD).replace(/@\w+/g,t=>OD+"-"+t.substr(1)).replace(/:animating/g,UM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,zo(t.collectedStyles,t.currentQuerySelector,{});const f=Wo(this,l0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:tp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function x$(){return new u.vHH(3013,cn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:RD(e.timings,t.errors,!0);return{type:12,animation:Wo(this,l0(e.animation),t),timings:r,options:null}}}class yG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function UD(n){return!Array.isArray(n)&&"object"==typeof n}function tp(n){return n?(n=mm(n)).params&&(n.params=function _G(n){return n?mm(n):null}(n.params)):n={},n}function qM(n,e,t){return{duration:n,delay:e,easing:t}}function zM(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class jD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const DG=new RegExp(":enter","g"),TG=new RegExp(":leave","g");function WM(n,e,t,r,i,a={},c={},f,m,b=[]){return(new IG).buildKeyframes(n,e,t,r,i,a,c,f,m,b)}class IG{buildKeyframes(e,t,r,i,a,c,f,m,b,T=[]){b=b||new jD;const A=new ZM(e,t,b,i,a,T,[]);A.options=m,A.currentTimeline.setStyles([c],null,A.errors,m),Wo(this,r,A);const x=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let G=x.length-1;G>=0;G--){const Y=x[G];if(Y.element===t){B=Y;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,m)}return x.length?x.map(B=>B.buildKeyframes()):[zM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Xf(r.duration):null,f=null!=r.delay?Xf(r.delay):null;return 0!==c&&e.forEach(m=>{const b=t.appendInstructionToTimeline(m,c,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Wo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=HD);const c=Xf(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Wo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Xf(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Wo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return RD(t.params?xD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*a),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Xf(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=HD);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,b);a&&A.delayNextStep(a),b===t.element&&(m=A.currentTimeline),Wo(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let m=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const T=t.currentTimeline;m&&T.delayNextStep(m);const A=T.currentTime;Wo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const HD={};class ZM{constructor(e,t,r,i,a,c,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new $D(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Xf(r.duration)),null!=r.delay&&(i.delay=Xf(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=xD(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new ZM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=HD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new SG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(DG,"."+this._enterClassName)).replace(TG,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&c.push(function P$(n){return new u.vHH(3014,cn)}()),f}}class $D{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $D(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Dc,this._currentKeyframe[t]=Dc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function AG(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Dc})):Wd(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const m=xD(c[f],a,r);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Dc),this._updateStyle(f,m)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const b=Wd(f,!0);Object.keys(b).forEach(T=>{const A=b[T];"!"==A?e.add(T):A==Dc&&t.add(T)}),r||(b.offset=m/this.duration),i.push(b)});const a=e.size?PD(e.values()):[],c=t.size?PD(t.values()):[];if(r){const f=i[0],m=mm(f);f.offset=0,m.offset=1,i=[f,m]}return zM(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class SG extends $D{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,m=Wd(e[0],!1);m.offset=0,a.push(m);const b=Wd(e[0],!1);b.offset=jL(f),a.push(b);const T=e.length-1;for(let A=1;A<=T;A++){let x=Wd(e[A],!1);x.offset=jL((t+x.offset*r)/c),a.push(x)}r=c,t=0,i="",e=a}return zM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function jL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class KM{}class NG extends KM{normalizePropertyName(e,t){return $M(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(MG[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function D$(n,e){return new u.vHH(3005,cn)}())}return c+a}}const MG=(()=>function OG(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function HL(n,e,t,r,i,a,c,f,m,b,T,A,x){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:m,preStyleProps:b,postStyleProps:T,totalTime:A,errors:x}}const YM={};class $L{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function RG(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,m,b,T){const A=[],x=this.ast.options&&this.ast.options.params||YM,G=this.buildStyles(r,f&&f.params||YM,A),Y=m&&m.params||YM,_e=this.buildStyles(i,Y,A),je=new Set,ke=new Map,Ye=new Map,Ve="void"===i,tt={params:Object.assign(Object.assign({},x),Y)},at=T?[]:WM(e,t,this.ast.animation,a,c,G,_e,tt,b,A);let vt=0;if(at.forEach(Qn=>{vt=Math.max(Qn.duration+Qn.delay,vt)}),A.length)return HL(t,this._triggerName,r,i,Ve,G,_e,[],[],ke,Ye,vt,A);at.forEach(Qn=>{const Jn=Qn.element,fr=zo(ke,Jn,{});Qn.preStyleProps.forEach($r=>fr[$r]=!0);const ts=zo(Ye,Jn,{});Qn.postStyleProps.forEach($r=>ts[$r]=!0),Jn!==t&&je.add(Jn)});const Ft=PD(je.values());return HL(t,this._triggerName,r,i,Ve,G,_e,at,Ft,ke,Ye,vt)}}class xG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=mm(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let m=c[f];m.length>1&&(m=xD(m,i,t));const b=this.normalizer.normalizePropertyName(f,t);m=this.normalizer.normalizeStyleValue(f,b,m,t),r[b]=m})}}),r}}class kG{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new xG(i.style,i.options&&i.options.params||{},r)}),GL(this.states,"true","1"),GL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new $L(e,i,this.states))}),this.fallbackTransition=function FG(n,e,t){return new $L(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function GL(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const LG=new jD;class VG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=GM(this._driver,t,r,[]);if(r.length)throw function j$(n){return new u.vHH(3503,cn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=EL(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=WM(this._driver,t,a,BM,ND,{},{},r,LG,i),c.forEach(T=>{const A=zo(f,T.element,{});T.postStyleProps.forEach(x=>A[x]=null)})):(i.push(function H$(){return new u.vHH(3300,cn)}()),c=[]),i.length)throw function $$(n){return new u.vHH(3504,cn)}();f.forEach((T,A)=>{Object.keys(T).forEach(x=>{T[x]=this._driver.computeStyle(A,x,Dc)})});const b=zd(c.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function G$(n){return new u.vHH(3301,cn)}();return t}listen(e,t,r,i){const a=kM(t,"","","");return xM(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const qL="ng-animate-queued",QM="ng-animate-disabled",$G=[],zL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class JM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ZG(n){return null!=n?n:null}(r?e.value:e),r){const a=mm(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const u0="void",XM=new JM(u0);class qG{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,La(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function q$(n,e){return new u.vHH(3302,cn)}();if(null==r||0==r.length)throw function z$(n){return new u.vHH(3303,cn)}();if(!function KG(n){return"start"==n||"done"==n}(r))throw function W$(n,e){return new u.vHH(3400,cn)}();const a=zo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=zo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(La(e,MD),La(e,MD+"-"+t),f[t]=XM),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(c);m>=0&&a.splice(m,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Z$(n){return new u.vHH(3401,cn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new eO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(La(e,MD),La(e,MD+"-"+t),this._engine.statesByElement.set(e,f={}));let m=f[t];const b=new JM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),f[t]=b,m||(m=XM),b.value!==u0&&m.value===b.value){if(!function JG(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(m.params,b.params)){const Y=[],_e=a.matchStyles(m.value,m.params,Y),je=a.matchStyles(b.value,b.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{ep(e,_e),hu(e,je)})}return}const x=zo(this._engine.playersByElement,e,[]);x.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let B=a.matchTransition(m.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:m,toState:b,player:c,isFallbackTransition:G}),G||(La(e,qL),c.onStart(()=>{_m(e,qL)})),c.onDone(()=>{let Y=this.players.indexOf(c);Y>=0&&this.players.splice(Y,1);const _e=this._engine.playersByElement.get(e);if(_e){let je=_e.indexOf(c);je>=0&&_e.splice(je,1)}}),this.players.push(c),x.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,OD,!0);r.forEach(i=>{if(i[Fa])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(m=>{if(c.set(m,a[m].value),this._triggers[m]){const b=this.trigger(e,m,u0,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&zd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const m=this._triggers[c].fallbackTransition,b=r[c]||XM,T=new JM(u0),A=new eO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:m,fromState:b,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Fa];(!a||a===zL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){La(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const m=kM(a,r.triggerName,r.fromState.value,r.toState.value);m._data=e,xM(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class zG{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new qG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const b=r.indexOf(m);r.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(GD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!GD(t))return;const a=t[Fa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),La(e,QM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_m(e,QM))}removeNode(e,t,r,i){if(GD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Fa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return GD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,OD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,UM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zd(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Fa];if(r&&r.setForRemoval){if(e[Fa]=zL,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(QM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)La(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?zd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function K$(n){return new u.vHH(3402,cn)}()}_flushAnimations(e,t){const r=new jD,i=[],a=new Map,c=[],f=new Map,m=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(rt=>{T.add(rt);const ft=this.driver.query(rt,".ng-animate-queued",!0);for(let Mt=0;Mt<ft.length;Mt++)T.add(ft[Mt])});const A=this.bodyNode,x=Array.from(this.statesByElement.keys()),B=KL(x,this.collectedEnterElements),G=new Map;let Y=0;B.forEach((rt,ft)=>{const Mt=BM+Y++;G.set(ft,Mt),rt.forEach(Jt=>La(Jt,Mt))});const _e=[],je=new Set,ke=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const ft=this.collectedLeaveElements[rt],Mt=ft[Fa];Mt&&Mt.setForRemoval&&(_e.push(ft),je.add(ft),Mt.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(Jt=>je.add(Jt)):ke.add(ft))}const Ye=new Map,Ve=KL(x,Array.from(je));Ve.forEach((rt,ft)=>{const Mt=ND+Y++;Ye.set(ft,Mt),rt.forEach(Jt=>La(Jt,Mt))}),e.push(()=>{B.forEach((rt,ft)=>{const Mt=G.get(ft);rt.forEach(Jt=>_m(Jt,Mt))}),Ve.forEach((rt,ft)=>{const Mt=Ye.get(ft);rt.forEach(Jt=>_m(Jt,Mt))}),_e.forEach(rt=>{this.processLeaveNode(rt)})});const tt=[],at=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(Mt=>{const Jt=Mt.player,Tr=Mt.element;if(tt.push(Jt),this.collectedEnterElements.length){const ui=Tr[Fa];if(ui&&ui.setForMove){if(ui.previousTriggersValues&&ui.previousTriggersValues.has(Mt.triggerName)){const Zs=ui.previousTriggersValues.get(Mt.triggerName),Va=this.statesByElement.get(Mt.element);Va&&Va[Mt.triggerName]&&(Va[Mt.triggerName].value=Zs)}return void Jt.destroy()}}const _o=!A||!this.driver.containsElement(A,Tr),bi=Ye.get(Tr),Zo=G.get(Tr),xn=this._buildInstruction(Mt,r,Zo,bi,_o);if(xn.errors&&xn.errors.length)return void at.push(xn);if(_o)return Jt.onStart(()=>ep(Tr,xn.fromStyles)),Jt.onDestroy(()=>hu(Tr,xn.toStyles)),void i.push(Jt);if(Mt.isFallbackTransition)return Jt.onStart(()=>ep(Tr,xn.fromStyles)),Jt.onDestroy(()=>hu(Tr,xn.toStyles)),void i.push(Jt);const vl=[];xn.timelines.forEach(ui=>{ui.stretchStartingKeyframe=!0,this.disabledNodes.has(ui.element)||vl.push(ui)}),xn.timelines=vl,r.append(Tr,xn.timelines),c.push({instruction:xn,player:Jt,element:Tr}),xn.queriedElements.forEach(ui=>zo(f,ui,[]).push(Jt)),xn.preStyleProps.forEach((ui,Zs)=>{const Va=Object.keys(ui);if(Va.length){let Cc=m.get(Zs);Cc||m.set(Zs,Cc=new Set),Va.forEach(rp=>Cc.add(rp))}}),xn.postStyleProps.forEach((ui,Zs)=>{const Va=Object.keys(ui);let Cc=b.get(Zs);Cc||b.set(Zs,Cc=new Set),Va.forEach(rp=>Cc.add(rp))})});if(at.length){const rt=[];at.forEach(ft=>{rt.push(function Y$(n,e){return new u.vHH(3505,cn)}())}),tt.forEach(ft=>ft.destroy()),this.reportError(rt)}const vt=new Map,Ft=new Map;c.forEach(rt=>{const ft=rt.element;r.has(ft)&&(Ft.set(ft,ft),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,vt))}),i.forEach(rt=>{const ft=rt.element;this._getPreviousPlayers(ft,!1,rt.namespaceId,rt.triggerName,null).forEach(Jt=>{zo(vt,ft,[]).push(Jt),Jt.destroy()})});const Qn=_e.filter(rt=>QL(rt,m,b)),Jn=new Map;ZL(Jn,this.driver,ke,b,Dc).forEach(rt=>{QL(rt,m,b)&&Qn.push(rt)});const ts=new Map;B.forEach((rt,ft)=>{ZL(ts,this.driver,new Set(rt),m,"!")}),Qn.forEach(rt=>{const ft=Jn.get(rt),Mt=ts.get(rt);Jn.set(rt,Object.assign(Object.assign({},ft),Mt))});const $r=[],Zd=[],Kd={};c.forEach(rt=>{const{element:ft,player:Mt,instruction:Jt}=rt;if(r.has(ft)){if(T.has(ft))return Mt.onDestroy(()=>hu(ft,Jt.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(Jt.totalTime),void i.push(Mt);let Tr=Kd;if(Ft.size>1){let bi=ft;const Zo=[];for(;bi=bi.parentNode;){const xn=Ft.get(bi);if(xn){Tr=xn;break}Zo.push(bi)}Zo.forEach(xn=>Ft.set(xn,Tr))}const _o=this._buildAnimation(Mt.namespaceId,Jt,vt,a,ts,Jn);if(Mt.setRealPlayer(_o),Tr===Kd)$r.push(Mt);else{const bi=this.playersByElement.get(Tr);bi&&bi.length&&(Mt.parentPlayer=zd(bi)),i.push(Mt)}}else ep(ft,Jt.fromStyles),Mt.onDestroy(()=>hu(ft,Jt.toStyles)),Zd.push(Mt),T.has(ft)&&i.push(Mt)}),Zd.forEach(rt=>{const ft=a.get(rt.element);if(ft&&ft.length){const Mt=zd(ft);rt.setRealPlayer(Mt)}}),i.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<_e.length;rt++){const ft=_e[rt],Mt=ft[Fa];if(_m(ft,ND),Mt&&Mt.hasAnimation)continue;let Jt=[];if(f.size){let _o=f.get(ft);_o&&_o.length&&Jt.push(..._o);let bi=this.driver.query(ft,UM,!0);for(let Zo=0;Zo<bi.length;Zo++){let xn=f.get(bi[Zo]);xn&&xn.length&&Jt.push(...xn)}}const Tr=Jt.filter(_o=>!_o.destroyed);Tr.length?YG(this,ft,Tr):this.processLeaveNode(ft)}return _e.length=0,$r.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const ft=this.players.indexOf(rt);this.players.splice(ft,1)}),rt.play()}),$r}elementContainsData(e,t){let r=!1;const i=t[Fa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const m=!a||a==u0;f.forEach(b=>{b.queued||!m&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const b=m.element,T=b!==a,A=zo(r,b,[]);this._getPreviousPlayers(b,T,c,f,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),A.push(B)})}ep(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,m=t.element,b=[],T=new Set,A=new Set,x=t.timelines.map(G=>{const Y=G.element;T.add(Y);const _e=Y[Fa];if(_e&&_e.removedBeforeQueried)return new a0(G.duration,G.delay);const je=Y!==m,ke=function QG(n){const e=[];return YL(n,e),e}((r.get(Y)||$G).map(vt=>vt.getRealPlayer())).filter(vt=>!!vt.element&&vt.element===Y),Ye=a.get(Y),Ve=c.get(Y),tt=EL(0,this._normalizer,0,G.keyframes,Ye,Ve),at=this._buildPlayer(G,tt,ke);if(G.subTimeline&&i&&A.add(Y),je){const vt=new eO(e,f,Y);vt.setRealPlayer(at),b.push(vt)}return at});b.forEach(G=>{zo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function WG(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),T.forEach(G=>La(G,RL));const B=zd(x);return B.onDestroy(()=>{T.forEach(G=>_m(G,RL)),hu(m,t.toStyles)}),A.forEach(G=>{zo(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new a0(e.duration,e.delay)}}class eO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new a0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>xM(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function GD(n){return n&&1===n.nodeType}function WL(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function ZL(n,e,t,r,i){const a=[];t.forEach(m=>a.push(WL(m)));const c=[];r.forEach((m,b)=>{const T={};m.forEach(A=>{const x=T[A]=e.computeStyle(b,A,i);(!x||0==x.length)&&(b[Fa]=GG,c.push(b))}),n.set(b,T)});let f=0;return t.forEach(m=>WL(m,a[f++])),c}function KL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let m=a.get(f);if(m)return m;const b=f.parentNode;return m=t.has(b)?b:i.has(b)?1:c(b),a.set(f,m),m}return e.forEach(f=>{const m=c(f);1!==m&&t.get(m).push(f)}),t}function La(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function _m(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function YG(n,e,t){zd(t).onDone(()=>n.processLeaveNode(e))}function YL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof _L?YL(r.players,e):e.push(r)}}function QL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class qD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new zG(e,t,r),this._timelineEngine=new VG(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const m=[],T=GM(this._driver,a,m,[]);if(m.length)throw function B$(n,e){return new u.vHH(3404,cn)}();f=function PG(n,e,t){return new kG(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=DL(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=DL(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let e6=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&hu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hu(this._element,this._initialStyles),this._endStyles&&(hu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ep(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ep(this._element,this._endStyles),this._endStyles=null),hu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function tO(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];t6(i)&&(e=e||{},e[i]=n[i])}return e}function t6(n){return"display"===n||"position"===n}class JL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:LL(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class n6{validateStyleProperty(e){return SL(e)}matchesElement(e,t){return!1}containsElement(e,t){return AL(e,t)}getParentElement(e){return LM(e)}query(e,t,r){return NL(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(m.easing=a);const b={},T=c.filter(x=>x instanceof JL);(function oG(n,e){return 0===n||0===e})(r,i)&&T.forEach(x=>{let B=x.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function aG(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(m){f[m]=LL(n,m)})}}return e}(e,t=t.map(x=>Wd(x,!1)),b);const A=function XG(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tO(e[0]),e.length>1&&(r=tO(e[e.length-1]))):e&&(t=tO(e)),t||r?new e6(n,t,r):null}(e,t);return new JL(e,t,m,A)}}let r6=(()=>{class n extends hL{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?pL(t):t;return XL(this._renderer,null,r,"register",[i]),new i6(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class i6 extends class BH{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new s6(this._id,e,t||{},this._renderer)}}class s6{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return XL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function XL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const e2="@.disabled";let o6=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new t2("",a,this.engine),this._rendererCache.set(a,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=T=>{Array.isArray(T)?T.forEach(m):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(m),new a6(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(qD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class t2{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==e2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class a6 extends t2{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==e2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function l6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function u6(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let c6=(()=>{class n extends qD{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le),u.LFG(VM),u.LFG(KM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const n2=new u.OlP("AnimationModuleType"),r2=[{provide:hL,useClass:r6},{provide:KM,useFactory:function d6(){return new NG}},{provide:qD,useClass:c6},{provide:u.FYo,useFactory:function h6(n,e,t){return new o6(n,e,t)},deps:[Tn,qD,u.R0b]}],s2=[{provide:VM,useFactory:()=>new n6},{provide:n2,useValue:"BrowserAnimations"},...r2],f6=[{provide:VM,useClass:ML},{provide:n2,useValue:"NoopAnimations"},...r2];let p6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?f6:s2}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:s2,imports:[to]}),n})(),g6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[o$]}),n.\u0275inj=u.cJS({providers:[],imports:[[k3(()=>F3(SM_firebase)),m$(()=>_$()),go.hO.initializeApp(SM_firebase),to,r$,mS,Bo,go.hO,p6,QH]]}),n})();(0,u.G48)(),za().bootstrapModule(g6).catch(n=>console.error(n))},5867:(pt,Ie,P)=>{P.d(Ie,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=P(9681);(0,u.registerVersion)("firebase","9.7.0","app")},127:(pt,Ie,P)=>{P.d(Ie,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(pt,Ie,P)=>{P.r(Ie);var u=P(5861),$=P(3942),R=P(573),se=P(2090),le=(P(9681),P(1877),P(4859));function ce(){return window}function z(){return(z=(0,u.Z)(function*(k,V,H){var ue;const{BuildInfo:Ue}=ce();(0,R.ap)(V.sessionId,"AuthEvent did not contain a session ID");const Ke=yield De(V.sessionId),It={};return(0,R.aq)()?It.ibi=Ue.packageName:(0,R.ar)()?It.apn=Ue.packageName:(0,R.as)(k,"operation-not-supported-in-this-environment"),Ue.displayName&&(It.appDisplayName=Ue.displayName),It.sessionId=Ke,(0,R.at)(k,H,V.type,void 0,null!==(ue=V.eventId)&&void 0!==ue?ue:void 0,It)})).apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(k){const{BuildInfo:V}=ce(),H={};(0,R.aq)()?H.iosBundleId=V.packageName:(0,R.ar)()?H.androidPackageName=V.packageName:(0,R.as)(k,"operation-not-supported-in-this-environment"),yield(0,R.au)(k,H)})).apply(this,arguments)}function Be(){return(Be=(0,u.Z)(function*(k,V,H){const{cordova:ue}=ce();let Ue=()=>{};try{yield new Promise((Ke,It)=>{let lt=null;function Ot(){var Qt;Ke();const Pr=null===(Qt=ue.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof Pr&&Pr(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function Mn(){lt||(lt=window.setTimeout(()=>{It((0,R.av)(k,"redirect-cancelled-by-user"))},2e3))}function gr(){"visible"===(null==document?void 0:document.visibilityState)&&Mn()}V.addPassiveListener(Ot),document.addEventListener("resume",Mn,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",gr,!1),Ue=()=>{V.removePassiveListener(Ot),document.removeEventListener("resume",Mn,!1),document.removeEventListener("visibilitychange",gr,!1),lt&&window.clearTimeout(lt)}})}finally{Ue()}})).apply(this,arguments)}function De(k){return it.apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(k){const V=Ge(k),H=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(H)).map(Ue=>Ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ge(k){if((0,R.ap)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(k);const V=new ArrayBuffer(k.length),H=new Uint8Array(V);for(let ue=0;ue<k.length;ue++)H[ue]=k.charCodeAt(ue);return H}class Ne extends R.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(V)),super.onEvent(V)}initialized(){var V=this;return(0,u.Z)(function*(){yield V.initPromise})()}}function te(k){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(k){const V=yield ie()._get(ae(k));return V&&(yield ie()._remove(ae(k))),V})).apply(this,arguments)}function oe(){const k=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const ue=Math.floor(Math.random()*V.length);k.push(V.charAt(ue))}return k.join("")}function ie(){return(0,R.ax)(R.b)}function ae(k){return(0,R.ay)("authEvent",k.config.apiKey,k.name)}function Fe(k){if(!(null==k?void 0:k.includes("?")))return{};const[V,...H]=k.split("?");return(0,se.zd)(H.join("?"))}function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.av)("no-auth-event")}}function tn(){var k;return(null===(k=null==self?void 0:self.location)||void 0===k?void 0:k.protocol)||null}function Vn(k=(0,se.z$)()){return!("file:"!==tn()&&"ionic:"!==tn()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function wi(){try{const k=self.localStorage,V=R.aG();if(k)return k.setItem(V,"1"),k.removeItem(V),!function ns(k=(0,se.z$)()){return function Rr(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ir(k=(0,se.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,se.hl)()}catch(k){return Dr()&&(0,se.hl)()}return!1}function Dr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sr(){return(function on(){return"http:"===tn()||"https:"===tn()}()||(0,se.ru)()||Vn())&&!function Er(){return(0,se.b$)()||(0,se.UG)()}()&&wi()&&!Dr()}function Ds(){return Vn()&&"undefined"!=typeof document}function xr(){return(xr=(0,u.Z)(function*(){return!!Ds()&&new Promise(k=>{const V=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),k(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},Xn=R.aw,Ei="persistence";function Bn(k){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(k){yield k._initializationPromise;const V=qt(),H=R.ay(Ei,k.config.apiKey,k.name);V&&V.setItem(H,k._getPersistence())})).apply(this,arguments)}function qt(){var k;try{return(null===(k=function $n(){return"undefined"!=typeof window?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch(V){return null}}const _t=R.aw;class ut{constructor(){this.browserResolver=R.ax(R.k),this.cordovaResolver=R.ax(class Xt{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aA}_initialize(V){var H=this;return(0,u.Z)(function*(){const ue=V._key();let Ue=H.eventManagers.get(ue);return Ue||(Ue=new Ne(V),H.eventManagers.set(ue,Ue),H.attachCallbackListeners(V,Ue)),Ue})()}_openPopup(V){(0,R.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,H,ue,Ue){var Ke=this;return(0,u.Z)(function*(){!function ge(k){var V,H,ue,Ue,Ke,It,lt,Ot,Mn,gr;const Qt=ce();(0,R.aw)("function"==typeof(null===(V=null==Qt?void 0:Qt.universalLinks)||void 0===V?void 0:V.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aw)(void 0!==(null===(H=null==Qt?void 0:Qt.BuildInfo)||void 0===H?void 0:H.packageName),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aw)("function"==typeof(null===(Ke=null===(Ue=null===(ue=null==Qt?void 0:Qt.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===Ke?void 0:Ke.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(Ot=null===(lt=null===(It=null==Qt?void 0:Qt.cordova)||void 0===It?void 0:It.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===Ot?void 0:Ot.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(gr=null===(Mn=null==Qt?void 0:Qt.cordova)||void 0===Mn?void 0:Mn.InAppBrowser)||void 0===gr?void 0:gr.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const It=yield Ke._initialize(V);yield It.initialized(),It.resetRedirect(),(0,R.aB)(),yield Ke._originValidation(V);const lt=function we(k,V,H=null){return{type:V,eventId:H,urlResponse:null,sessionId:oe(),postBody:null,tenantId:k.tenantId,error:(0,R.av)(k,"no-auth-event")}}(V,ue,Ue);yield function Qe(k,V){return ie()._set(ae(k),V)}(V,lt);const Ot=yield function W(k,V,H){return z.apply(this,arguments)}(V,lt,H),Mn=yield function Re(k){const{cordova:V}=ce();return new Promise(H=>{V.plugins.browsertab.isAvailable(ue=>{let Ue=null;ue?V.plugins.browsertab.openUrl(k):Ue=V.InAppBrowser.open(k,(0,R.ao)()?"_blank":"_system","location=yes"),H(Ue)})})}(Ot);return function Pe(k,V,H){return Be.apply(this,arguments)}(V,It,Mn)})()}_isIframeWebStorageSupported(V,H){throw new Error("Method not implemented.")}_originValidation(V){const H=V._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ee(k){return Ze.apply(this,arguments)}(V)),this.originValidationPromises[H]}attachCallbackListeners(V,H){const{universalLinks:ue,handleOpenURL:Ue,BuildInfo:Ke}=ce(),It=setTimeout((0,u.Z)(function*(){yield te(V),H.onEvent(qe())}),500),lt=function(){var gr=(0,u.Z)(function*(Qt){clearTimeout(It);const Pr=yield te(V);let Fi=null;Pr&&(null==Qt?void 0:Qt.url)&&(Fi=function et(k,V){var H,ue;const Ue=function he(k){const V=Fe(k),H=V.link?decodeURIComponent(V.link):void 0,ue=Fe(H).link,Ue=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Fe(Ue).link||Ue||ue||H||k}(V);if(Ue.includes("/__/auth/callback")){const Ke=Fe(Ue),It=Ke.firebaseError?function Ce(k){try{return JSON.parse(k)}catch(V){return null}}(decodeURIComponent(Ke.firebaseError)):null,lt=null===(ue=null===(H=null==It?void 0:It.code)||void 0===H?void 0:H.split("auth/"))||void 0===ue?void 0:ue[1],Ot=lt?(0,R.av)(lt):null;return Ot?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:Ot,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:Ue,postBody:null}}return null}(Pr,Qt.url)),H.onEvent(Fi||qe())});return function(Pr){return gr.apply(this,arguments)}}();void 0!==ue&&"function"==typeof ue.subscribe&&ue.subscribe(null,lt);const Ot=Ue,Mn=`${Ke.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var gr=(0,u.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(Mn)&&lt({url:Qt}),"function"==typeof Ot)try{Ot(Qt)}catch(Pr){console.error(Pr)}});return function(Qt){return gr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aA}_initialize(V){var H=this;return(0,u.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,H,ue,Ue){var Ke=this;return(0,u.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(V,H,ue,Ue)})()}_openRedirect(V,H,ue,Ue){var Ke=this;return(0,u.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(V,H,ue,Ue)})()}_isIframeWebStorageSupported(V,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,H)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Ds()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,u.Z)(function*(){if(V.underlyingResolver)return;const H=yield function mt(){return xr.apply(this,arguments)}();V.underlyingResolver=H?V.cordovaResolver:V.browserResolver})()}}function qr(k){return k.unwrap()}function Wt(k){return qn(k)}function qn(k){const{_tokenResponse:V}=k instanceof se.ZR?k.customData:k;if(!V)return null;if(!(k instanceof se.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return R.P.credentialFromResult(k);const H=V.providerId;if(!H||H===R.o.PASSWORD)return null;let ue;switch(H){case R.o.GOOGLE:ue=R.N;break;case R.o.FACEBOOK:ue=R.M;break;case R.o.GITHUB:ue=R.Q;break;case R.o.TWITTER:ue=R.V;break;default:const{oauthIdToken:Ue,oauthAccessToken:Ke,oauthTokenSecret:It,pendingToken:lt,nonce:Ot}=V;return Ke||It||Ue||lt?lt?H.startsWith("saml.")?R.aJ._create(H,lt):R.I._fromParams({providerId:H,signInMethod:H,pendingToken:lt,idToken:Ue,accessToken:Ke}):new R.T(H).credential({idToken:Ue,accessToken:Ke,rawNonce:Ot}):null}return k instanceof se.ZR?ue.credentialFromError(k):ue.credentialFromResult(k)}function dn(k,V){return V.catch(H=>{throw H instanceof se.ZR&&function is(k,V){var H;const ue=null===(H=V.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Zt(k,R.am(k,V));else if(ue){const Ue=qn(V),Ke=V;Ue&&(Ke.credential=Ue,Ke.tenantId=ue.tenantId||void 0,Ke.email=ue.email||void 0,Ke.phoneNumber=ue.phoneNumber||void 0)}}(k,H),H}).then(H=>{const Ue=H.user;return{operationType:H.operationType,credential:Wt(H),additionalUserInfo:R.ak(H),user:We.getOrCreate(Ue)}})}function Et(k,V){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(k,V){const H=yield V;return{verificationId:H.verificationId,confirm:ue=>dn(k,H.confirm(ue))}})).apply(this,arguments)}class Zt{constructor(V,H){this.resolver=H,this.auth=function rs(k){return k.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return dn(qr(this.auth),this.resolver.resolveSignIn(V))}}class We{constructor(V){this._delegate=V,this.multiFactor=R.an(V)}static getOrCreate(V){return We.USER_MAP.has(V)||We.USER_MAP.set(V,new We(V)),We.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var H=this;return(0,u.Z)(function*(){return dn(H.auth,R.Y(H._delegate,V))})()}linkWithPhoneNumber(V,H){var ue=this;return(0,u.Z)(function*(){return Et(ue.auth,R.l(ue._delegate,V,H))})()}linkWithPopup(V){var H=this;return(0,u.Z)(function*(){return dn(H.auth,R.d(H._delegate,V,ut))})()}linkWithRedirect(V){var H=this;return(0,u.Z)(function*(){return yield Bn(R.aC(H.auth)),R.g(H._delegate,V,ut)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var H=this;return(0,u.Z)(function*(){return dn(H.auth,R.Z(H._delegate,V))})()}reauthenticateWithPhoneNumber(V,H){return Et(this.auth,R.r(this._delegate,V,H))}reauthenticateWithPopup(V){return dn(this.auth,R.e(this._delegate,V,ut))}reauthenticateWithRedirect(V){var H=this;return(0,u.Z)(function*(){return yield Bn(R.aC(H.auth)),R.h(H._delegate,V,ut)})()}sendEmailVerification(V){return R.aa(this._delegate,V)}unlink(V){var H=this;return(0,u.Z)(function*(){return yield R.aj(H._delegate,V),H})()}updateEmail(V){return R.af(this._delegate,V)}updatePassword(V){return R.ag(this._delegate,V)}updatePhoneNumber(V){return R.u(this._delegate,V)}updateProfile(V){return R.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,H){return R.ab(this._delegate,V,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}We.USER_MAP=new WeakMap;const Te=R.aw;let st=(()=>{class k{constructor(H,ue){if(this.app=H,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ue}=H.options;Te(Ue,"invalid-api-key",{appName:H.name}),Te(Ue,"invalid-api-key",{appName:H.name});const Ke="undefined"!=typeof window?ut:void 0;this._delegate=ue.initialize({options:{persistence:Lt(Ue,H.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(R.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?We.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,ue){R.E(this._delegate,H,ue)}applyActionCode(H){return R.a1(this._delegate,H)}checkActionCode(H){return R.a2(this._delegate,H)}confirmPasswordReset(H,ue){return R.a0(this._delegate,H,ue)}createUserWithEmailAndPassword(H,ue){var Ue=this;return(0,u.Z)(function*(){return dn(Ue._delegate,R.a4(Ue._delegate,H,ue))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return R.a9(this._delegate,H)}isSignInWithEmailLink(H){return R.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,u.Z)(function*(){Te(Sr(),H._delegate,"operation-not-supported-in-this-environment");const ue=yield R.j(H._delegate,ut);return ue?dn(H._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function en(k,V){(0,R.aC)(k)._logFramework(V)}(this._delegate,H)}onAuthStateChanged(H,ue,Ue){const{next:Ke,error:It,complete:lt}=yt(H,ue,Ue);return this._delegate.onAuthStateChanged(Ke,It,lt)}onIdTokenChanged(H,ue,Ue){const{next:Ke,error:It,complete:lt}=yt(H,ue,Ue);return this._delegate.onIdTokenChanged(Ke,It,lt)}sendSignInLinkToEmail(H,ue){return R.a6(this._delegate,H,ue)}sendPasswordResetEmail(H,ue){return R.$(this._delegate,H,ue||void 0)}setPersistence(H){var ue=this;return(0,u.Z)(function*(){let Ue;switch(function Gn(k,V){Xn(Object.values(un).includes(V),k,"invalid-persistence-type"),(0,se.b$)()?Xn(V!==un.SESSION,k,"unsupported-persistence-type"):(0,se.UG)()?Xn(V===un.NONE,k,"unsupported-persistence-type"):Dr()?Xn(V===un.NONE||V===un.LOCAL&&(0,se.hl)(),k,"unsupported-persistence-type"):Xn(V===un.NONE||wi(),k,"unsupported-persistence-type")}(ue._delegate,H),H){case un.SESSION:Ue=R.a;break;case un.LOCAL:Ue=(yield R.ax(R.i)._isAvailable())?R.i:R.b;break;case un.NONE:Ue=R.K;break;default:return R.as("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(Ue)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return dn(this._delegate,R.W(this._delegate))}signInWithCredential(H){return dn(this._delegate,R.X(this._delegate,H))}signInWithCustomToken(H){return dn(this._delegate,R._(this._delegate,H))}signInWithEmailAndPassword(H,ue){return dn(this._delegate,R.a5(this._delegate,H,ue))}signInWithEmailLink(H,ue){return dn(this._delegate,R.a8(this._delegate,H,ue))}signInWithPhoneNumber(H,ue){return Et(this._delegate,R.s(this._delegate,H,ue))}signInWithPopup(H){var ue=this;return(0,u.Z)(function*(){return Te(Sr(),ue._delegate,"operation-not-supported-in-this-environment"),dn(ue._delegate,R.c(ue._delegate,H,ut))})()}signInWithRedirect(H){var ue=this;return(0,u.Z)(function*(){return Te(Sr(),ue._delegate,"operation-not-supported-in-this-environment"),yield Bn(ue._delegate),R.f(ue._delegate,H,ut)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return R.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=un,k})();function yt(k,V,H){let ue=k;"function"!=typeof k&&({next:ue,error:V,complete:H}=k);const Ue=ue;return{next:It=>Ue(It&&We.getOrCreate(It)),error:V,complete:H}}function Lt(k,V){const H=function yo(k,V){const H=qt();if(!H)return[];const ue=R.ay(Ei,k,V);switch(H.getItem(ue)){case un.NONE:return[R.K];case un.LOCAL:return[R.i,R.a];case un.SESSION:return[R.a];default:return[]}}(k,V);if("undefined"!=typeof self&&!H.includes(R.i)&&H.push(R.i),"undefined"!=typeof window)for(const ue of[R.b,R.a])H.includes(ue)||H.push(ue);return H.includes(R.K)||H.push(R.K),H}class Vt{constructor(){this.providerId="phone",this._delegate=new R.P(qr($.Z.auth()))}static credential(V,H){return R.P.credential(V,H)}verifyPhoneNumber(V,H){return this._delegate.verifyPhoneNumber(V,H)}unwrap(){return this._delegate}}Vt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Vt.PROVIDER_ID=R.P.PROVIDER_ID;const Z=R.aw;class j{constructor(V,H,ue=$.Z.app()){var Ue;Z(null===(Ue=ue.options)||void 0===Ue?void 0:Ue.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new R.R(V,H,ue.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function de(k){k.INTERNAL.registerComponent(new le.wA("auth-compat",V=>{const H=V.getProvider("app-compat").getImmediate(),ue=V.getProvider("auth");return new st(H,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.L,FacebookAuthProvider:R.M,GithubAuthProvider:R.Q,GoogleAuthProvider:R.N,OAuthProvider:R.T,SAMLAuthProvider:R.U,PhoneAuthProvider:Vt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:j,TwitterAuthProvider:R.V,Auth:st,AuthCredential:R.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.2.12")}($.Z)},8306:(pt,Ie,P)=>{P.d(Ie,{y:()=>W});var u=P(930),$=P(727),R=P(8822),se=P(4671);var le=P(2416),ce=P(576),pe=P(2806);let W=(()=>{class Re{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const ge=new Re;return ge.source=this,ge.operator=Be,ge}subscribe(Be,ge,De){const it=function Ze(Re){return Re&&Re instanceof u.Lv||function ee(Re){return Re&&(0,ce.m)(Re.next)&&(0,ce.m)(Re.error)&&(0,ce.m)(Re.complete)}(Re)&&(0,$.Nn)(Re)}(Be)?Be:new u.Hp(Be,ge,De);return(0,pe.x)(()=>{const{operator:Ge,source:Oe}=this;it.add(Ge?Ge.call(it,Oe):Oe?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Be){try{return this._subscribe(Be)}catch(ge){Be.error(ge)}}forEach(Be,ge){return new(ge=z(ge))((De,it)=>{const Ge=new u.Hp({next:Oe=>{try{Be(Oe)}catch(Ne){it(Ne),Ge.unsubscribe()}},error:it,complete:De});this.subscribe(Ge)})}_subscribe(Be){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Be)}[R.L](){return this}pipe(...Be){return function ye(Re){return 0===Re.length?se.y:1===Re.length?Re[0]:function(Be){return Re.reduce((ge,De)=>De(ge),Be)}}(Be)(this)}toPromise(Be){return new(Be=z(Be))((ge,De)=>{let it;this.subscribe(Ge=>it=Ge,Ge=>De(Ge),()=>ge(it))})}}return Re.create=Pe=>new Re(Pe),Re})();function z(Re){var Pe;return null!==(Pe=null!=Re?Re:le.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(pt,Ie,P)=>{P.d(Ie,{x:()=>le});var u=P(8306),$=P(727);const se=(0,P(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),ye=P(2806);let le=(()=>{class pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ee=new ce(this,this);return ee.operator=z,ee}_throwIfClosed(){if(this.closed)throw new se}next(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(z)}})}error(z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ee,isStopped:Ze,observers:Re}=this;return ee||Ze?$.Lc:(this.currentObservers=null,Re.push(z),new $.w0(()=>{this.currentObservers=null,(0,ne.P)(Re,z)}))}_checkFinalizedStatuses(z){const{hasError:ee,thrownError:Ze,isStopped:Re}=this;ee?z.error(Ze):Re&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return pe.create=(W,z)=>new ce(W,z),pe})();class ce extends le{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ee||ee.call(z,W)}error(W){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ee||ee.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,ee;return null!==(ee=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==ee?ee:$.Lc}}},930:(pt,Ie,P)=>{P.d(Ie,{Hp:()=>Be,Lv:()=>ee});var u=P(576),$=P(727),R=P(2416),se=P(7849),ne=P(5032);const ye=pe("C",void 0,void 0);function pe(Oe,Ne,we){return{kind:Oe,value:Ne,error:we}}var W=P(3410),z=P(2806);class ee extends $.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,$.Nn)(Ne)&&Ne.add(this)):this.destination=Ge}static create(Ne,we,Qe){return new Be(Ne,we,Qe)}next(Ne){this.isStopped?it(function ce(Oe){return pe("N",Oe,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?it(function le(Oe){return pe("E",void 0,Oe)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?it(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function Re(Oe,Ne){return Ze.call(Oe,Ne)}class Pe{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:we}=this;if(we.next)try{we.next(Ne)}catch(Qe){ge(Qe)}}error(Ne){const{partialObserver:we}=this;if(we.error)try{we.error(Ne)}catch(Qe){ge(Qe)}else ge(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(we){ge(we)}}}class Be extends ee{constructor(Ne,we,Qe){let te;if(super(),(0,u.m)(Ne)||!Ne)te={next:null!=Ne?Ne:void 0,error:null!=we?we:void 0,complete:null!=Qe?Qe:void 0};else{let nt;this&&R.v.useDeprecatedNextContext?(nt=Object.create(Ne),nt.unsubscribe=()=>this.unsubscribe(),te={next:Ne.next&&Re(Ne.next,nt),error:Ne.error&&Re(Ne.error,nt),complete:Ne.complete&&Re(Ne.complete,nt)}):te=Ne}this.destination=new Pe(te)}}function ge(Oe){R.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Oe):(0,se.h)(Oe)}function it(Oe,Ne){const{onStoppedNotification:we}=R.v;we&&W.z.setTimeout(()=>we(Oe,Ne))}const Ge={closed:!0,next:ne.Z,error:function De(Oe){throw Oe},complete:ne.Z}},727:(pt,Ie,P)=>{P.d(Ie,{Lc:()=>ye,w0:()=>ne,Nn:()=>le});var u=P(576);const R=(0,P(3888).d)(pe=>function(z){pe(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ee,Ze)=>`${Ze+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var se=P(8737);class ne{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Re of z)Re.remove(this);else z.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(Re){W=Re instanceof R?Re.errors:[Re]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const Re of Ze)try{ce(Re)}catch(Pe){W=null!=W?W:[],Pe instanceof R?W=[...W,...Pe.errors]:W.push(Pe)}}if(W)throw new R(W)}}add(W){var z;if(W&&W!==this)if(this.closed)ce(W);else{if(W instanceof ne){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,se.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,se.P)(z,W),W instanceof ne&&W._removeParent(this)}}ne.EMPTY=(()=>{const pe=new ne;return pe.closed=!0,pe})();const ye=ne.EMPTY;function le(pe){return pe instanceof ne||pe&&"closed"in pe&&(0,u.m)(pe.remove)&&(0,u.m)(pe.add)&&(0,u.m)(pe.unsubscribe)}function ce(pe){(0,u.m)(pe)?pe():pe.unsubscribe()}},2416:(pt,Ie,P)=>{P.d(Ie,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Ie,P)=>{P.d(Ie,{E:()=>$});const $=new(P(8306).y)(ne=>ne.complete())},8996:(pt,Ie,P)=>{P.d(Ie,{D:()=>Ne});var u=P(8421),$=P(5363),R=P(9468),ye=P(8306),ce=P(2202),pe=P(576),W=P(9672);function ee(we,Qe){if(!we)throw new Error("Iterable cannot be null");return new ye.y(te=>{(0,W.f)(te,Qe,()=>{const nt=we[Symbol.asyncIterator]();(0,W.f)(te,Qe,()=>{nt.next().then(et=>{et.done?te.complete():te.next(et.value)})},0,!0)})})}var Ze=P(3670),Re=P(8239),Pe=P(1144),Be=P(6495),ge=P(2206),De=P(4532),it=P(3260);function Ne(we,Qe){return Qe?function Oe(we,Qe){if(null!=we){if((0,Ze.c)(we))return function se(we,Qe){return(0,u.Xf)(we).pipe((0,R.R)(Qe),(0,$.Q)(Qe))}(we,Qe);if((0,Pe.z)(we))return function le(we,Qe){return new ye.y(te=>{let nt=0;return Qe.schedule(function(){nt===we.length?te.complete():(te.next(we[nt++]),te.closed||this.schedule())})})}(we,Qe);if((0,Re.t)(we))return function ne(we,Qe){return(0,u.Xf)(we).pipe((0,R.R)(Qe),(0,$.Q)(Qe))}(we,Qe);if((0,ge.D)(we))return ee(we,Qe);if((0,Be.T)(we))return function z(we,Qe){return new ye.y(te=>{let nt;return(0,W.f)(te,Qe,()=>{nt=we[ce.h](),(0,W.f)(te,Qe,()=>{let et,oe;try{({value:et,done:oe}=nt.next())}catch(ie){return void te.error(ie)}oe?te.complete():te.next(et)},0,!0)}),()=>(0,pe.m)(null==nt?void 0:nt.return)&&nt.return()})}(we,Qe);if((0,it.L)(we))return function Ge(we,Qe){return ee((0,it.Q)(we),Qe)}(we,Qe)}throw(0,De.z)(we)}(we,Qe):(0,u.Xf)(we)}},8421:(pt,Ie,P)=>{P.d(Ie,{Xf:()=>Ze});var u=P(655),$=P(1144),R=P(8239),se=P(8306),ne=P(3670),ye=P(2206),le=P(4532),ce=P(6495),pe=P(3260),W=P(576),z=P(7849),ee=P(8822);function Ze(Oe){if(Oe instanceof se.y)return Oe;if(null!=Oe){if((0,ne.c)(Oe))return function Re(Oe){return new se.y(Ne=>{const we=Oe[ee.L]();if((0,W.m)(we.subscribe))return we.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,$.z)(Oe))return function Pe(Oe){return new se.y(Ne=>{for(let we=0;we<Oe.length&&!Ne.closed;we++)Ne.next(Oe[we]);Ne.complete()})}(Oe);if((0,R.t)(Oe))return function Be(Oe){return new se.y(Ne=>{Oe.then(we=>{Ne.closed||(Ne.next(we),Ne.complete())},we=>Ne.error(we)).then(null,z.h)})}(Oe);if((0,ye.D)(Oe))return De(Oe);if((0,ce.T)(Oe))return function ge(Oe){return new se.y(Ne=>{for(const we of Oe)if(Ne.next(we),Ne.closed)return;Ne.complete()})}(Oe);if((0,pe.L)(Oe))return function it(Oe){return De((0,pe.Q)(Oe))}(Oe)}throw(0,le.z)(Oe)}function De(Oe){return new se.y(Ne=>{(function Ge(Oe,Ne){var we,Qe,te,nt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(we=(0,u.KL)(Oe);!(Qe=yield we.next()).done;)if(Ne.next(Qe.value),Ne.closed)return}catch(et){te={error:et}}finally{try{Qe&&!Qe.done&&(nt=we.return)&&(yield nt.call(we))}finally{if(te)throw te.error}}Ne.complete()})})(Oe,Ne).catch(we=>Ne.error(we))})}},6451:(pt,Ie,P)=>{P.d(Ie,{T:()=>ye});var u=P(8189),$=P(8421),R=P(515),se=P(3269),ne=P(8996);function ye(...le){const ce=(0,se.yG)(le),pe=(0,se._6)(le,1/0),W=le;return W.length?1===W.length?(0,$.Xf)(W[0]):(0,u.J)(pe)((0,ne.D)(W,ce)):R.E}},5403:(pt,Ie,P)=>{P.d(Ie,{x:()=>$});var u=P(930);function $(se,ne,ye,le,ce){return new R(se,ne,ye,le,ce)}class R extends u.Lv{constructor(ne,ye,le,ce,pe,W){super(ne),this.onFinalize=pe,this.shouldUnsubscribe=W,this._next=ye?function(z){try{ye(z)}catch(ee){ne.error(ee)}}:super._next,this._error=ce?function(z){try{ce(z)}catch(ee){ne.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(z){ne.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(pt,Ie,P)=>{P.d(Ie,{U:()=>R});var u=P(4482),$=P(5403);function R(se,ne){return(0,u.e)((ye,le)=>{let ce=0;ye.subscribe((0,$.x)(le,pe=>{le.next(se.call(ne,pe,ce++))}))})}},8189:(pt,Ie,P)=>{P.d(Ie,{J:()=>R});var u=P(5577),$=P(4671);function R(se=1/0){return(0,u.z)($.y,se)}},5577:(pt,Ie,P)=>{P.d(Ie,{z:()=>ce});var u=P(4004),$=P(8421),R=P(4482),se=P(9672),ne=P(5403),le=P(576);function ce(pe,W,z=1/0){return(0,le.m)(W)?ce((ee,Ze)=>(0,u.U)((Re,Pe)=>W(ee,Re,Ze,Pe))((0,$.Xf)(pe(ee,Ze))),z):("number"==typeof W&&(z=W),(0,R.e)((ee,Ze)=>function ye(pe,W,z,ee,Ze,Re,Pe,Be){const ge=[];let De=0,it=0,Ge=!1;const Oe=()=>{Ge&&!ge.length&&!De&&W.complete()},Ne=Qe=>De<ee?we(Qe):ge.push(Qe),we=Qe=>{Re&&W.next(Qe),De++;let te=!1;(0,$.Xf)(z(Qe,it++)).subscribe((0,ne.x)(W,nt=>{null==Ze||Ze(nt),Re?Ne(nt):W.next(nt)},()=>{te=!0},void 0,()=>{if(te)try{for(De--;ge.length&&De<ee;){const nt=ge.shift();Pe?(0,se.f)(W,Pe,()=>we(nt)):we(nt)}Oe()}catch(nt){W.error(nt)}}))};return pe.subscribe((0,ne.x)(W,Ne,()=>{Ge=!0,Oe()})),()=>{null==Be||Be()}}(ee,Ze,pe,z)))}},5363:(pt,Ie,P)=>{P.d(Ie,{Q:()=>se});var u=P(9672),$=P(4482),R=P(5403);function se(ne,ye=0){return(0,$.e)((le,ce)=>{le.subscribe((0,R.x)(ce,pe=>(0,u.f)(ce,ne,()=>ce.next(pe),ye),()=>(0,u.f)(ce,ne,()=>ce.complete(),ye),pe=>(0,u.f)(ce,ne,()=>ce.error(pe),ye)))})}},3099:(pt,Ie,P)=>{P.d(Ie,{B:()=>ye});var u=P(8996),$=P(5698),R=P(7579),se=P(930),ne=P(4482);function ye(ce={}){const{connector:pe=(()=>new R.x),resetOnError:W=!0,resetOnComplete:z=!0,resetOnRefCountZero:ee=!0}=ce;return Ze=>{let Re=null,Pe=null,Be=null,ge=0,De=!1,it=!1;const Ge=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Oe=()=>{Ge(),Re=Be=null,De=it=!1},Ne=()=>{const we=Re;Oe(),null==we||we.unsubscribe()};return(0,ne.e)((we,Qe)=>{ge++,!it&&!De&&Ge();const te=Be=null!=Be?Be:pe();Qe.add(()=>{ge--,0===ge&&!it&&!De&&(Pe=le(Ne,ee))}),te.subscribe(Qe),Re||(Re=new se.Hp({next:nt=>te.next(nt),error:nt=>{it=!0,Ge(),Pe=le(Oe,W,nt),te.error(nt)},complete:()=>{De=!0,Ge(),Pe=le(Oe,z),te.complete()}}),(0,u.D)(we).subscribe(Re))})(Ze)}}function le(ce,pe,...W){return!0===pe?(ce(),null):!1===pe?null:pe(...W).pipe((0,$.q)(1)).subscribe(()=>ce())}},9468:(pt,Ie,P)=>{P.d(Ie,{R:()=>$});var u=P(4482);function $(R,se=0){return(0,u.e)((ne,ye)=>{ye.add(R.schedule(()=>ne.subscribe(ye),se))})}},5698:(pt,Ie,P)=>{P.d(Ie,{q:()=>se});var u=P(515),$=P(4482),R=P(5403);function se(ne){return ne<=0?()=>u.E:(0,$.e)((ye,le)=>{let ce=0;ye.subscribe((0,R.x)(le,pe=>{++ce<=ne&&(le.next(pe),ne<=ce&&le.complete())}))})}},8505:(pt,Ie,P)=>{P.d(Ie,{b:()=>ne});var u=P(576),$=P(4482),R=P(5403),se=P(4671);function ne(ye,le,ce){const pe=(0,u.m)(ye)||le||ce?{next:ye,error:le,complete:ce}:ye;return pe?(0,$.e)((W,z)=>{var ee;null===(ee=pe.subscribe)||void 0===ee||ee.call(pe);let Ze=!0;W.subscribe((0,R.x)(z,Re=>{var Pe;null===(Pe=pe.next)||void 0===Pe||Pe.call(pe,Re),z.next(Re)},()=>{var Re;Ze=!1,null===(Re=pe.complete)||void 0===Re||Re.call(pe),z.complete()},Re=>{var Pe;Ze=!1,null===(Pe=pe.error)||void 0===Pe||Pe.call(pe,Re),z.error(Re)},()=>{var Re,Pe;Ze&&(null===(Re=pe.unsubscribe)||void 0===Re||Re.call(pe)),null===(Pe=pe.finalize)||void 0===Pe||Pe.call(pe)}))}):se.y}},4408:(pt,Ie,P)=>{P.d(Ie,{o:()=>ne});var u=P(727);class $ extends u.w0{constructor(le,ce){super()}schedule(le,ce=0){return this}}const R={setInterval(ye,le,...ce){const{delegate:pe}=R;return(null==pe?void 0:pe.setInterval)?pe.setInterval(ye,le,...ce):setInterval(ye,le,...ce)},clearInterval(ye){const{delegate:le}=R;return((null==le?void 0:le.clearInterval)||clearInterval)(ye)},delegate:void 0};var se=P(8737);class ne extends ${constructor(le,ce){super(le,ce),this.scheduler=le,this.work=ce,this.pending=!1}schedule(le,ce=0){if(this.closed)return this;this.state=le;const pe=this.id,W=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(W,pe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(W,this.id,ce),this}requestAsyncId(le,ce,pe=0){return R.setInterval(le.flush.bind(le,this),pe)}recycleAsyncId(le,ce,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ce;R.clearInterval(ce)}execute(le,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(le,ce);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ce){let W,pe=!1;try{this.work(le)}catch(z){pe=!0,W=z||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:le,scheduler:ce}=this,{actions:pe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(pe,this),null!=le&&(this.id=this.recycleAsyncId(ce,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Ie,P)=>{P.d(Ie,{v:()=>R});var u=P(6063);class ${constructor(ne,ye=$.now){this.schedulerActionCtor=ne,this.now=ye}schedule(ne,ye=0,le){return new this.schedulerActionCtor(this,ne).schedule(le,ye)}}$.now=u.l.now;class R extends ${constructor(ne,ye=$.now){super(ne,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ye}=this;if(this._active)return void ye.push(ne);let le;this._active=!0;do{if(le=ne.execute(ne.state,ne.delay))break}while(ne=ye.shift());if(this._active=!1,le){for(;ne=ye.shift();)ne.unsubscribe();throw le}}}},4986:(pt,Ie,P)=>{P.d(Ie,{P:()=>se,z:()=>R});var u=P(4408);const R=new(P(7565).v)(u.o),se=R},6063:(pt,Ie,P)=>{P.d(Ie,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(pt,Ie,P)=>{P.d(Ie,{z:()=>u});const u={setTimeout($,R,...se){const{delegate:ne}=u;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout($,R,...se):setTimeout($,R,...se)},clearTimeout($){const{delegate:R}=u;return((null==R?void 0:R.clearTimeout)||clearTimeout)($)},delegate:void 0}},2202:(pt,Ie,P)=>{P.d(Ie,{h:()=>$});const $=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Ie,P)=>{P.d(Ie,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Ie,P)=>{P.d(Ie,{_6:()=>ye,jO:()=>se,yG:()=>ne});var u=P(576),$=P(3532);function R(le){return le[le.length-1]}function se(le){return(0,u.m)(R(le))?le.pop():void 0}function ne(le){return(0,$.K)(R(le))?le.pop():void 0}function ye(le,ce){return"number"==typeof R(le)?le.pop():ce}},8737:(pt,Ie,P)=>{function u($,R){if($){const se=$.indexOf(R);0<=se&&$.splice(se,1)}}P.d(Ie,{P:()=>u})},3888:(pt,Ie,P)=>{function u($){const se=$(ne=>{Error.call(ne),ne.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ie,{d:()=>u})},2806:(pt,Ie,P)=>{P.d(Ie,{O:()=>se,x:()=>R});var u=P(2416);let $=null;function R(ne){if(u.v.useDeprecatedSynchronousErrorHandling){const ye=!$;if(ye&&($={errorThrown:!1,error:null}),ne(),ye){const{errorThrown:le,error:ce}=$;if($=null,le)throw ce}}else ne()}function se(ne){u.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ne)}},9672:(pt,Ie,P)=>{function u($,R,se,ne=0,ye=!1){const le=R.schedule(function(){se(),ye?$.add(this.schedule(null,ne)):this.unsubscribe()},ne);if($.add(le),!ye)return le}P.d(Ie,{f:()=>u})},4671:(pt,Ie,P)=>{function u($){return $}P.d(Ie,{y:()=>u})},1144:(pt,Ie,P)=>{P.d(Ie,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(pt,Ie,P)=>{P.d(Ie,{D:()=>$});var u=P(576);function $(R){return Symbol.asyncIterator&&(0,u.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(pt,Ie,P)=>{function u($){return"function"==typeof $}P.d(Ie,{m:()=>u})},3670:(pt,Ie,P)=>{P.d(Ie,{c:()=>R});var u=P(8822),$=P(576);function R(se){return(0,$.m)(se[u.L])}},6495:(pt,Ie,P)=>{P.d(Ie,{T:()=>R});var u=P(2202),$=P(576);function R(se){return(0,$.m)(null==se?void 0:se[u.h])}},8239:(pt,Ie,P)=>{P.d(Ie,{t:()=>$});var u=P(576);function $(R){return(0,u.m)(null==R?void 0:R.then)}},3260:(pt,Ie,P)=>{P.d(Ie,{L:()=>se,Q:()=>R});var u=P(655),$=P(576);function R(ne){return(0,u.FC)(this,arguments,function*(){const le=ne.getReader();try{for(;;){const{value:ce,done:pe}=yield(0,u.qq)(le.read());if(pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{le.releaseLock()}})}function se(ne){return(0,$.m)(null==ne?void 0:ne.getReader)}},3532:(pt,Ie,P)=>{P.d(Ie,{K:()=>$});var u=P(576);function $(R){return R&&(0,u.m)(R.schedule)}},4482:(pt,Ie,P)=>{P.d(Ie,{A:()=>$,e:()=>R});var u=P(576);function $(se){return(0,u.m)(null==se?void 0:se.lift)}function R(se){return ne=>{if($(ne))return ne.lift(function(ye){try{return se(ye,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Ie,P)=>{function u(){}P.d(Ie,{Z:()=>u})},7849:(pt,Ie,P)=>{P.d(Ie,{h:()=>R});var u=P(2416),$=P(3410);function R(se){$.z.setTimeout(()=>{const{onUnhandledError:ne}=u.v;if(!ne)throw se;ne(se)})}},4532:(pt,Ie,P)=>{function u($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>u})},655:(pt,Ie,P)=>{function se(oe,ie){var ae={};for(var Ce in oe)Object.prototype.hasOwnProperty.call(oe,Ce)&&ie.indexOf(Ce)<0&&(ae[Ce]=oe[Ce]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(Ce=Object.getOwnPropertySymbols(oe);he<Ce.length;he++)ie.indexOf(Ce[he])<0&&Object.prototype.propertyIsEnumerable.call(oe,Ce[he])&&(ae[Ce[he]]=oe[Ce[he]])}return ae}function ce(oe,ie,ae,Ce){return new(ae||(ae=Promise))(function(Fe,xt){function Xt(en){try{qe(Ce.next(en))}catch(pr){xt(pr)}}function an(en){try{qe(Ce.throw(en))}catch(pr){xt(pr)}}function qe(en){en.done?Fe(en.value):function he(Fe){return Fe instanceof ae?Fe:new ae(function(xt){xt(Fe)})}(en.value).then(Xt,an)}qe((Ce=Ce.apply(oe,ie||[])).next())})}function ge(oe){return this instanceof ge?(this.v=oe,this):new ge(oe)}function De(oe,ie,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,Ce=ae.apply(oe,ie||[]),Fe=[];return he={},xt("next"),xt("throw"),xt("return"),he[Symbol.asyncIterator]=function(){return this},he;function xt(Ln){Ce[Ln]&&(he[Ln]=function(sn){return new Promise(function(tn,on){Fe.push([Ln,sn,tn,on])>1||Xt(Ln,sn)})})}function Xt(Ln,sn){try{!function an(Ln){Ln.value instanceof ge?Promise.resolve(Ln.value.v).then(qe,en):pr(Fe[0][2],Ln)}(Ce[Ln](sn))}catch(tn){pr(Fe[0][3],tn)}}function qe(Ln){Xt("next",Ln)}function en(Ln){Xt("throw",Ln)}function pr(Ln,sn){Ln(sn),Fe.shift(),Fe.length&&Xt(Fe[0][0],Fe[0][1])}}function Ge(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ie=oe[Symbol.asyncIterator];return ie?ie.call(oe):(oe=function ee(oe){var ie="function"==typeof Symbol&&Symbol.iterator,ae=ie&&oe[ie],Ce=0;if(ae)return ae.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ce>=oe.length&&(oe=void 0),{value:oe&&oe[Ce++],done:!oe}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ae={},Ce("next"),Ce("throw"),Ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Ce(Fe){ae[Fe]=oe[Fe]&&function(xt){return new Promise(function(Xt,an){!function he(Fe,xt,Xt,an){Promise.resolve(an).then(function(qe){Fe({value:qe,done:Xt})},xt)}(Xt,an,(xt=oe[Fe](xt)).done,xt.value)})}}}P.d(Ie,{FC:()=>De,KL:()=>Ge,_T:()=>se,mG:()=>ce,qq:()=>ge})},5e3:(pt,Ie,P)=>{P.d(Ie,{$8M:()=>tr,$Z:()=>Bb,AFp:()=>fS,ALo:()=>zI,AaK:()=>ce,CHM:()=>Jd,CRH:()=>tS,CZH:()=>Vw,CqO:()=>qb,EJc:()=>_R,EiD:()=>Cp,EpF:()=>$b,F$t:()=>Qb,F4k:()=>Gb,FYo:()=>lw,FiY:()=>Gi,G48:()=>bS,Gf:()=>Ty,GfV:()=>uw,Gpc:()=>z,Hsn:()=>Jb,Ikx:()=>R1,JOm:()=>Ea,JVY:()=>Hu,L6k:()=>vp,LAX:()=>bp,LFG:()=>$e,LSH:()=>Zc,Lbi:()=>gR,MAs:()=>rg,MGl:()=>ug,NdJ:()=>j_,OlP:()=>Hn,Oqu:()=>Z_,PXZ:()=>_S,Q6J:()=>F_,QGY:()=>U_,Qsj:()=>PI,QtT:()=>_g,R0b:()=>Ma,RDi:()=>Js,Rgc:()=>ru,SBq:()=>sf,SDv:()=>tw,Sil:()=>bR,Suo:()=>iu,TTD:()=>ea,TgZ:()=>lg,Tol:()=>f1,Udp:()=>q_,VKq:()=>$I,VLi:()=>go,W1O:()=>Sw,WLB:()=>GI,X6Q:()=>vS,XFs:()=>mt,Xpm:()=>Vt,Y36:()=>Wh,YKP:()=>BI,YNc:()=>oc,Yjl:()=>Ue,Yz7:()=>sn,ZZ4:()=>Qy,_Bn:()=>iw,_UZ:()=>Ub,_Vd:()=>rf,_c5:()=>dE,_uU:()=>b1,aQg:()=>Nd,c2e:()=>mR,cJS:()=>on,cQ8:()=>G_,cg1:()=>x1,dDg:()=>Ww,deG:()=>fp,dqk:()=>Wt,eBb:()=>gh,eFA:()=>ct,ekj:()=>z_,evT:()=>Pm,g9A:()=>Vy,h0i:()=>lf,hGG:()=>hE,hij:()=>dg,iGM:()=>eS,ifc:()=>qt,ip1:()=>Ly,kEZ:()=>qI,kL8:()=>P1,lG2:()=>ue,lcZ:()=>df,mCW:()=>N,n5z:()=>xu,oAB:()=>k,oJD:()=>Mm,oxw:()=>Yb,pB0:()=>mh,pQV:()=>nu,q3G:()=>gn,q4F:()=>cw,qLn:()=>Sp,qOj:()=>jh,qZA:()=>V_,qzn:()=>co,s9C:()=>$_,sBO:()=>Qw,sIi:()=>Ki,s_b:()=>Ey,soG:()=>jw,tBr:()=>hs,tb:()=>gS,tp0:()=>qi,uIk:()=>N_,vHH:()=>Pe,vpe:()=>_s,wAp:()=>At,xp6:()=>Jm,yhl:()=>jl,z2F:()=>Gy,z3N:()=>Fo,zSh:()=>ul,zs3:()=>Bo});var u=P(7579),$=P(727),R=P(8306),se=P(6451),ne=P(3099);function ye(s){for(let o in s)if(s[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=ye({__forward_ref__:ye});function z(s){return s.__forward_ref__=z,s.toString=function(){return ce(this())},s}function ee(s){return Ze(s)?s():s}function Ze(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===z}class Pe extends Error{constructor(o,l){super(function Be(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function Ne(s,o){const l=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${De(s)} found${l}`)}function qe(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function on(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vn(s){return Er(s,wi)||Er(s,Sr)}function Er(s,o){return s.hasOwnProperty(o)?s[o]:null}function ns(s){return s&&(s.hasOwnProperty(Dr)||s.hasOwnProperty(Ds))?s[Dr]:null}const wi=ye({\u0275prov:ye}),Dr=ye({\u0275inj:ye}),Sr=ye({ngInjectableDef:ye}),Ds=ye({ngInjectorDef:ye});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let xr;function un(s){const o=xr;return xr=s,o}function Xn(s,o,l){const d=Vn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&mt.Optional?null:void 0!==o?o:void Ne(ce(s),"Injector")}function Gn(s){return{toString:s}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const _t="undefined"!=typeof globalThis&&globalThis,ut="undefined"!=typeof window&&window,qr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=_t||"undefined"!=typeof global&&global||ut||qr,dn={},Et=[],zn=ye({\u0275cmp:ye}),Zt=ye({\u0275dir:ye}),We=ye({\u0275pipe:ye}),Te=ye({\u0275mod:ye}),st=ye({\u0275fac:ye}),yt=ye({__NG_ELEMENT_ID__:ye});let Lt=0;function Vt(s){return Gn(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Et,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||Et,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return d.id+=Lt++,d.inputs=H(s.inputs,l),d.outputs=H(s.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(j):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(K):null,d})}function j(s){return Ke(s)||function It(s){return s[Zt]||null}(s)}function K(s){return function lt(s){return s[We]||null}(s)}const de={};function k(s){return Gn(()=>{const o={type:s.type,bootstrap:s.bootstrap||Et,declarations:s.declarations||Et,imports:s.imports||Et,exports:s.exports||Et,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function H(s,o){if(null==s)return dn;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}const ue=Vt;function Ue(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ke(s){return s[zn]||null}function Ot(s,o){const l=s[Te]||null;if(!l&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return l}function ci(s){return Array.isArray(s)&&"object"==typeof s[1]}function os(s){return Array.isArray(s)&&!0===s[1]}function El(s){return 0!=(8&s.flags)}function Yo(s){return 2==(2&s.flags)}function Qo(s){return 1==(1&s.flags)}function Li(s){return null!==s.template}function pu(s){return 0!=(512&s[2])}function Di(s,o){return s.hasOwnProperty(st)?s[st]:null}class gu{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function ea(){return Cl}function Cl(s){return s.type.prototype.ngOnChanges&&(s.setInput=ja),Yd}function Yd(){const s=Vi(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===dn)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function ja(s,o,l,d){const h=Vi(s)||function As(s,o){return s[zr]=o}(s,{previous:dn,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[l],D=y[w];p[w]=new gu(D&&D.currentValue,o,y===dn),s[d]=o}ea.ngInherit=!0;const zr="__ngSimpleChanges__";function Vi(s){return s[zr]||null}let Il;function Js(s){Il=s}function wo(){return void 0!==Il?Il:"undefined"!=typeof document?document:void 0}function In(s){return!!s.listen}const Eo={createRenderer:(s,o)=>wo()};function wn(s){for(;Array.isArray(s);)s=s[0];return s}function Xs(s,o){return wn(o[s])}function Ar(s,o){return wn(o[s.index])}function Sl(s,o){return s.data[o]}function Ci(s,o){return s[o]}function Wr(s,o){const l=o[s];return ci(l)?l:l[0]}function Ns(s){return 4==(4&s[2])}function Co(s){return 128==(128&s[2])}function Bi(s,o){return null==o?null:s[o]}function ls(s){s[18]=0}function Ms(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Dt={lFrame:Cu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oa(){return Dt.bindingsEnabled}function Se(){return Dt.lFrame.lView}function Gt(){return Dt.lFrame.tView}function Jd(s){return Dt.lFrame.contextLView=s,s[8]}function Tn(){let s=Al();for(;null!==s&&64===s.type;)s=s.parent;return s}function Al(){return Dt.lFrame.currentTNode}function eo(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Ui(s,o){const l=Dt.lFrame;l.currentTNode=s,l.isParent=o}function vu(){return Dt.lFrame.isParent}function qa(){Dt.lFrame.isParent=!1}function aa(){return Dt.isInCheckNoChangesMode}function la(s){Dt.isInCheckNoChangesMode=s}function _r(){const s=Dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function us(){return Dt.lFrame.bindingIndex}function ca(){return Dt.lFrame.bindingIndex++}function hi(s){const o=Dt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function da(s){Dt.lFrame.inI18n=s}function xc(s,o){const l=Dt.lFrame;l.bindingIndex=l.bindingRootIndex=s,wu(o)}function wu(s){Dt.lFrame.currentDirectiveIndex=s}function eh(){return Dt.lFrame.currentQueryIndex}function Eu(s){Dt.lFrame.currentQueryIndex=s}function Du(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Nl(s,o,l){if(l&mt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&mt.Host||(h=Du(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Dt.lFrame=To();return d.currentTNode=o,d.lView=s,!0}function Wa(s){const o=To(),l=s[1];Dt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function To(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?Cu(s):o}function Cu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function th(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Pc=th;function Io(){const s=th();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Zr(){return Dt.lFrame.selectedIndex}function ro(s){Dt.lFrame.selectedIndex=s}function Kn(){const s=Dt.lFrame;return Sl(s.tView,s.selectedIndex)}function Za(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function Su(s,o,l){Fc(s,o,3,l)}function Ml(s,o,l,d){(3&s[2])===l&&Fc(s,o,l,d)}function ar(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Fc(s,o,l,d){const p=null!=d?d:-1,y=o.length-1;let w=0;for(let D=void 0!==d?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=d&&w>=d)break}else o[D]<0&&(s[18]+=65536),(w<p||-1==p)&&(Lc(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Lc(s,o,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Ol{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function bt(s,o,l){const d=In(s);let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],w=l[h++],D=l[h++];d?s.setAttribute(o,w,D,y):o.setAttributeNS(y,w,D)}else{const y=p,w=l[++h];Yn(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function En(s){return 3===s||4===s||6===s}function Yn(s){return 64===s.charCodeAt(0)}function kn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Bc(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Bc(s,o,l,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function er(s){return-1!==s}function so(s){return 32767&s}function Rs(s,o){let l=function Nu(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let ha=!0;function ji(s){const o=ha;return ha=s,o}let fa=0;function fn(s,o){const l=Qa(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,oo(d.data,s),oo(o,null),oo(d.blueprint,null));const h=Kr(s,o),p=s.injectorIndex;if(er(h)){const y=so(h),w=Rs(h,o),D=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|D[y+S]}return o[p+8]=h,p}function oo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Qa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Kr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Ao(s,o,l){!function Ya(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(yt)&&(d=l[yt]),null==d&&(d=l[yt]=fa++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function ao(s,o,l){if(l&mt.Optional)return s;Ne(o,"NodeInjector")}function Ja(s,o,l,d){if(l&mt.Optional&&void 0===d&&(d=null),0==(l&(mt.Self|mt.Host))){const h=s[9],p=un(void 0);try{return h?h.get(o,d,l&mt.Optional):Xn(o,d,l&mt.Optional)}finally{un(p)}}return ao(d,o,l)}function No(s,o,l,d=mt.Default,h){if(null!==s){const p=function lo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yt)?s[yt]:void 0;return"number"==typeof o?o>=0?255&o:Ou:o}(l);if("function"==typeof p){if(!Nl(o,s,d))return d&mt.Host?ao(h,l,d):Ja(o,l,d,h);try{const y=p(d);if(null!=y||d&mt.Optional)return y;Ne(l)}finally{Pc()}}else if("number"==typeof p){let y=null,w=Qa(s,o),D=-1,S=d&mt.Host?o[16][6]:null;for((-1===w||d&mt.SkipSelf)&&(D=-1===w?Kr(s,o):o[w+8],-1!==D&&lr(d,!1)?(y=o[1],w=so(D),o=Rs(D,o)):w=-1);-1!==w;){const M=o[1];if(Xa(p,w,M.data)){const L=Ru(w,o,l,y,d,S);if(L!==xs)return L}D=o[w+8],-1!==D&&lr(d,o[1].data[w+8]===S)&&Xa(p,w,o)?(y=M,w=so(D),o=Rs(D,o)):w=-1}}}return Ja(o,l,d,h)}const xs={};function Ou(){return new Ps(Tn(),Se())}function Ru(s,o,l,d,h,p){const y=o[1],w=y.data[s+8],M=Yr(w,y,l,null==d?Yo(w)&&ha:d!=y&&0!=(3&w.type),h&mt.Host&&p===w);return null!==M?pa(o,y,M,w):xs}function Yr(s,o,l,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,D=s.directiveStart,M=p>>20,q=h?w+M:s.directiveEnd;for(let J=d?w:w+M;J<q;J++){const be=y[J];if(J<D&&l===be||J>=D&&be.type===l)return J}if(h){const J=y[D];if(J&&Li(J)&&J.type===l)return D}return null}function pa(s,o,l,d){let h=s[l];const p=o.data;if(function Ka(s){return s instanceof Ol}(h)){const y=h;y.resolving&&function it(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${l}`)}(De(p[l]));const w=ji(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?un(y.injectImpl):null;Nl(s,d,mt.Default);try{h=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function So(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Cl(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==D&&un(D),ji(w),y.resolving=!1,Pc()}}return h}function Xa(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function lr(s,o){return!(s&mt.Self||s&mt.Host&&o)}class Ps{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return No(this._tNode,this._lView,o,d,l)}}function xu(s){return Gn(()=>{const o=s.prototype.constructor,l=o[st]||jn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[st]||jn(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function jn(s){return Ze(s)?()=>{const o=jn(ee(s));return o&&o()}:Di(s)}function tr(s){return function fi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(En(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(Tn(),s)}const ks="__parameters__";function Sn(s,o,l){return Gn(()=>{const d=function cs(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(D,S,M){const L=D.hasOwnProperty(ks)?D[ks]:Object.defineProperty(D,ks,{value:[]})[ks];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(y),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Hn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=sn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fp=new Hn("AnalyzeForEntryComponents");function Jr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Jr(d,o)):o!==s&&o.push(d)}return o}function Hi(s,o){s.forEach(l=>Array.isArray(l)?Hi(l,o):o(l))}function _a(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function nl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function pi(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Cr(s,o,l){let d=Fs(s,o);return d>=0?s[1|d]=l:(d=~d,function ku(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Lu(s,o){const l=Fs(s,o);if(l>=0)return s[1|l]}function Fs(s,o){return function xl(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const uo={},kl="__NG_DI_FLAG__",ba="ngTempTokenPath",C=/\n/gm,O="__source",U=ye({provide:String,useValue:ye});let Q;function re(s){const o=Q;return Q=s,o}function me(s,o=mt.Default){if(void 0===Q)throw new Pe(203,"");return null===Q?Xn(s,void 0,o):Q.get(s,o&mt.Optional?null:void 0,o)}function $e(s,o=mt.Default){return(function $n(){return xr}()||me)(ee(s),o)}const Ct=$e;function Kt(s){const o=[];for(let l=0;l<s.length;l++){const d=ee(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Pe(900,"");let h,p=mt.Default;for(let y=0;y<d.length;y++){const w=d[y],D=Vr(w);"number"==typeof D?-1===D?h=w.token:p|=D:h=w}o.push($e(h,p))}else o.push($e(d))}return o}function St(s,o){return s[kl]=o,s.prototype[kl]=o,s}function Vr(s){return s[kl]}const hs=St(Sn("Inject",s=>({token:s})),-1),Gi=St(Sn("Optional"),8),qi=St(Sn("SkipSelf"),4);let Po,zc;function il(s){var o;return(null===(o=function qc(){if(void 0===Po&&(Po=null,Wt.trustedTypes))try{Po=Wt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Po}())||void 0===o?void 0:o.createHTML(s))||s}function dh(s){var o;return(null===(o=function Ul(){if(void 0===zc&&(zc=null,Wt.trustedTypes))try{zc=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return zc}())||void 0===o?void 0:o.createHTML(s))||s}class ko{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fh extends ko{getTypeName(){return"HTML"}}class Cm extends ko{getTypeName(){return"Style"}}class sl extends ko{getTypeName(){return"Script"}}class Tm extends ko{getTypeName(){return"URL"}}class ph extends ko{getTypeName(){return"ResourceURL"}}function Fo(s){return s instanceof ko?s.changingThisBreaksApplicationSecurity:s}function co(s,o){const l=jl(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function jl(s){return s instanceof ko&&s.getTypeName()||null}function Hu(s){return new fh(s)}function vp(s){return new Cm(s)}function gh(s){return new sl(s)}function bp(s){return new Tm(s)}function mh(s){return new ph(s)}function wp(s){const o=new f0(s);return function v(){try{return!!(new window.DOMParser).parseFromString(il(""),"text/html")}catch(s){return!1}}()?new Im(o):o}class Im{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(il(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class f0{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=il(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=il(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,E=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function N(s){return(s=String(s)).match(g)||s.match(E)?s:"unsafe:"+s}function F(s){return(s=String(s)).split(",").map(o=>N(o.trim())).join(", ")}function X(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Me(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const ht=X("area,br,col,hr,img,wbr"),Tt=X("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ut=X("rp,rt"),Hl=Me(ht,Me(Tt,X("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Me(Ut,X("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Me(Ut,Tt)),Wc=X("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$u=X("srcset"),wa=Me(Wc,$u,X("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),X("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ep=X("script,style,template");class $l{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Hl.hasOwnProperty(l))return this.sanitizedSomething=!0,!Ep.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!wa.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=p.value;Wc[w]&&(D=N(D)),$u[w]&&(D=F(D)),this.buf.push(" ",y,'="',_h(D),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Hl.hasOwnProperty(l)&&!ht.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(_h(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const qu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dp=/([^\#-~ |!])/g;function _h(s){return s.replace(/&/g,"&amp;").replace(qu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Dp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ol;function Cp(s,o){let l=null;try{ol=ol||wp(s);let d=o?String(o):"";l=ol.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=l.innerHTML,l=ol.getInertBodyElement(d)}while(d!==p);return il((new $l).sanitizeChildren(Am(l)||l))}finally{if(l){const d=Am(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Am(s){return"content"in s&&function Nm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var gn=(()=>((gn=gn||{})[gn.NONE=0]="NONE",gn[gn.HTML=1]="HTML",gn[gn.STYLE=2]="STYLE",gn[gn.SCRIPT=3]="SCRIPT",gn[gn.URL=4]="URL",gn[gn.RESOURCE_URL=5]="RESOURCE_URL",gn))();function Mm(s){const o=Gl();return o?dh(o.sanitize(gn.HTML,s)||""):co(s,"HTML")?dh(Fo(s)):Cp(wo(),ge(s))}function Zc(s){const o=Gl();return o?o.sanitize(gn.URL,s)||"":co(s,"URL")?Fo(s):N(ge(s))}function Gl(){const s=Se();return s&&s[12]}const g0="__ngContext__";function Ai(s,o){s[g0]=o}function Rm(s){const o=function vh(s){return s[g0]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Zu(s){return s.ngOriginalError}function oC(s,...o){s.error(...o)}class Sp{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function sC(s){return s&&s.ngErrorLogger||oC}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Zu(o);for(;l&&Zu(l);)l=Zu(l);return l||null}}const uC=/^>|^->|<!--|-->|--!>|<!-$/g,cC=/(<|>)/;const gC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function Pm(s){return s.ownerDocument}function Vo(s){return s instanceof Function?s():s}var Ea=(()=>((Ea=Ea||{})[Ea.Important=1]="Important",Ea[Ea.DashCase=2]="DashCase",Ea))();let km;function Ap(s,o){return km(s,o)}function wh(s){const o=s[3];return os(o)?o[3]:o}function Eh(s){return C0(s[13])}function Mp(s){return C0(s[4])}function C0(s){for(;null!==s&&!os(s);)s=s[4];return s}function Kc(s,o,l,d,h){if(null!=d){let p,y=!1;os(d)?p=d:ci(d)&&(y=!0,d=d[0]);const w=wn(d);0===s&&null!==l?null==h?$m(o,l,w):Bs(o,l,w,h||null,!0):1===s&&null!==l?Bs(o,l,w,h||null,!0):2===s?Wm(o,w,y):3===s&&o.destroyNode(w),null!=p&&function IC(s,o,l,d,h){const p=l[7];p!==wn(l)&&Kc(o,s,d,p,h);for(let w=10;w<l.length;w++){const D=l[w];Pp(D[1],D,s,o,d,p)}}(o,s,p,l,h)}}function Fm(s,o){return In(s)?s.createText(o):s.createTextNode(o)}function Lm(s,o,l){In(s)?s.setValue(o,l):o.textContent=l}function bC(s,o){return s.createComment(function v0(s){return s.replace(uC,o=>o.replace(cC,"\u200b$1\u200b"))}(o))}function Vm(s,o,l){if(In(s))return s.createElement(o,l);{const d=null!==l?function Mc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function I0(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Ms(h,-1)),l.splice(d,1)}function Um(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&I0(h,d),o>0&&(s[l-1][4]=d[4]);const p=nl(s,10+o);!function Vs(s,o){Pp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function jm(s,o){if(!(256&o[2])){const l=o[11];In(l)&&l.destroyNode&&Pp(s,o,l,3,null,null),function Op(s){let o=s[13];if(!o)return Hm(s[1],s);for(;o;){let l=null;if(ci(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)ci(o)&&Hm(o[1],o),o=o[3];null===o&&(o=s),ci(o)&&Hm(o[1],o),l=o&&o[4]}o=l}}(o)}}function Hm(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function A0(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Ol)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],D=p[y+1];try{D.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function S0(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):wn(o[y]),D=d[h=l[p+2]],S=l[p+3];"boolean"==typeof S?w.removeEventListener(l[p],D,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&In(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&os(o[3])){l!==o[3]&&I0(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function Rp(s,o,l){return EC(s,o.parent,l)}function EC(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return Ar(d,l)}function Bs(s,o,l,d,h){In(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function $m(s,o,l){In(s)?s.appendChild(o,l):o.appendChild(l)}function N0(s,o,l,d,h){null!==d?Bs(s,o,l,d,h):$m(s,o,l)}function Dh(s,o){return In(s)?s.parentNode(o):o.parentNode}function M0(s,o,l){return Gm(s,o,l)}function O0(s,o,l){return 40&s.type?Ar(s,l):null}let qm,Gm=O0;function R0(s,o){Gm=s,qm=o}function xp(s,o,l,d){const h=Rp(s,d,o),p=o[11],w=M0(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)N0(p,h,l[D],w,!1);else N0(p,h,l,w,!1);void 0!==qm&&qm(p,d,o,l,h)}function Qc(s,o){if(null!==o){const l=o.type;if(3&l)return Ar(o,s);if(4&l)return zm(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Qc(s,d);{const h=s[o.index];return os(h)?zm(-1,h):wn(h)}}if(32&l)return Ap(o,s)()||wn(s[o.index]);{const d=x0(s,o);return null!==d?Array.isArray(d)?d[0]:Qc(wh(s[16]),d):Qc(s,o.next)}}return null}function x0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function zm(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Qc(d,h)}return o[7]}function Wm(s,o,l){const d=Dh(s,o);d&&function DC(s,o,l,d){In(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}function Zm(s,o,l,d,h,p,y){for(;null!=l;){const w=d[l.index],D=l.type;if(y&&0===o&&(w&&Ai(wn(w),d),l.flags|=4),64!=(64&l.flags))if(8&D)Zm(s,o,l.child,d,h,p,!1),Kc(o,s,h,w,p);else if(32&D){const S=Ap(l,d);let M;for(;M=S();)Kc(o,s,h,M,p);Kc(o,s,h,w,p)}else 16&D?P0(s,o,d,l,h,p):Kc(o,s,h,w,p);l=y?l.projectionNext:l.next}}function Pp(s,o,l,d,h,p){Zm(l,d,s.firstChild,o,h,p,!1)}function P0(s,o,l,d,h,p){const y=l[16],D=y[6].projection[d.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)Kc(o,s,h,D[S],p);else Zm(s,o,D,y[3],h,p,!0)}function Km(s,o,l){In(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function al(s,o,l){In(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Wi(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const Ym="ng-template";function AC(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Wi(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function k0(s){return 4===s.type&&s.value!==Ym}function NC(s,o,l){return o===(4!==s.type||l?s.value:Ym)}function Ch(s,o,l){let d=4;const h=s.attrs||[],p=function MC(s){for(let o=0;o<s.length;o++)if(En(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&d){if(d=2|1&d,""!==D&&!NC(s,D,l)||""===D&&1===o.length){if(ei(d))return!1;y=!0}}else{const S=8&d?D:o[++w];if(8&d&&null!==s.attrs){if(!AC(s.attrs,S,l)){if(ei(d))return!1;y=!0}continue}const L=F0(8&d?"class":D,h,k0(s),l);if(-1===L){if(ei(d))return!1;y=!0;continue}if(""!==S){let q;q=L>p?"":h[L+1].toLowerCase();const J=8&d?q:null;if(J&&-1!==Wi(J,S,0)||2&d&&S!==q){if(ei(d))return!1;y=!0}}}}else{if(!y&&!ei(d)&&!ei(D))return!1;if(y&&ei(D))continue;y=!1,d=D|1&d}}return ei(d)||y}function ei(s){return 0==(1&s)}function F0(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function aO(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function ti(s,o,l=!1){for(let d=0;d<o.length;d++)if(Ch(s,o[d],l))return!0;return!1}function L0(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Qm(s,o){return s?":not("+o.trim()+")":o}function V0(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ei(y)&&(o+=Qm(p,h),h=""),d=y,p=p||!ei(d);l++}return""!==h&&(o+=Qm(p,h)),o}const jt={};function Jm(s){Xm(Gt(),Se(),Zr()+s,aa())}function Xm(s,o,l,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Su(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Ml(o,p,0,l)}ro(l)}function Ih(s,o){return s<<17|o<<2}function ho(s){return s>>17&32767}function t_(s){return 2|s}function Da(s){return(131068&s)>>2}function kp(s,o){return-131069&s|o<<2}function Lp(s){return 1|s}function Q0(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];Eu(h),y.contentQueries(2,o[p],p)}}}function nd(s,o,l,d,h,p,y,w,D,S){const M=o.blueprint.slice();return M[0]=h,M[2]=140|d,ls(M),M[3]=M[15]=s,M[8]=l,M[10]=y||s&&s[10],M[11]=w||s&&s[11],M[12]=D||s&&s[12]||null,M[9]=S||s&&s[9]||null,M[6]=p,M[16]=2==o.type?s[16]:M,M}function Rh(s,o,l,d,h){let p=s.data[o];if(null===p)p=xh(s,o,l,d,h),function Xd(){return Dt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=eo();p.injectorIndex=null===y?-1:y.injectorIndex}return Ui(p,!0),p}function xh(s,o,l,d,h){const p=Al(),y=vu(),D=s.data[o]=function Gp(s,o,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}function rd(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function id(s,o,l){Wa(o);try{const d=s.viewQuery;null!==d&&Yp(1,d,l);const h=s.template;null!==h&&FC(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Q0(s,o),s.staticViewQueries&&Yp(2,s.viewQuery,l);const p=s.components;null!==p&&function kC(s,o){for(let l=0;l<o.length;l++)WC(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Io()}}function Kl(s,o,l,d){const h=o[2];if(256==(256&h))return;Wa(o);const p=aa();try{ls(o),function ua(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&FC(s,o,l,2,d);const y=3==(3&h);if(!p)if(y){const S=s.preOrderCheckHooks;null!==S&&Su(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Ml(o,S,0,null),ar(o,0)}if(function zC(s){for(let o=Eh(s);null!==o;o=Mp(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],p=h[3];0==(1024&h[2])&&Ms(p,1),h[2]|=1024}}}(o),function sb(s){for(let o=Eh(s);null!==o;o=Mp(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Co(d)&&Kl(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Q0(s,o),!p)if(y){const S=s.contentCheckHooks;null!==S&&Su(o,S)}else{const S=s.contentHooks;null!==S&&Ml(o,S,1),ar(o,1)}!function Y0(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)ro(~h);else{const p=h,y=l[++d],w=l[++d];xc(y,p),w(2,o[p])}}}finally{ro(-1)}}(s,o);const w=s.components;null!==w&&function hO(s,o){for(let l=0;l<o.length;l++)ob(s,o[l])}(o,w);const D=s.viewQuery;if(null!==D&&Yp(2,D,d),!p)if(y){const S=s.viewCheckHooks;null!==S&&Su(o,S)}else{const S=s.viewHooks;null!==S&&Ml(o,S,2),ar(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ms(o[3],-1))}finally{Io()}}function a_(s,o,l,d){const h=o[10],p=!aa(),y=Ns(o);try{p&&!y&&h.begin&&h.begin(),y&&id(s,o,d),Kl(s,o,l,d)}finally{p&&!y&&h.end&&h.end()}}function FC(s,o,l,d,h){const p=Zr(),y=2&d;try{ro(-1),y&&o.length>20&&Xm(s,o,20,aa()),l(d,h)}finally{ro(p)}}function Yu(s,o,l){!oa()||(function pO(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||fn(l,o),Ai(d,o);const y=l.initialInputs;for(let w=h;w<p;w++){const D=s.data[w],S=Li(D);S&&h_(o,l,D);const M=pa(o,s,w,l);Ai(M,o),null!==y&&GC(0,w-h,M,D,0,y),S&&(Wr(l.index,o)[8]=M)}}(s,o,l,Ar(l,o)),128==(128&l.flags)&&function gO(s,o,l){const d=l.directiveStart,h=l.directiveEnd,y=l.index,w=function za(){return Dt.lFrame.currentDirectiveIndex}();try{ro(y);for(let D=d;D<h;D++){const S=s.data[D],M=o[D];wu(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&HC(S,M)}}finally{ro(-1),wu(w)}}(s,o,l))}function sd(s,o,l=Ar){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(o,s):s[y];s[h++]=w}}}function Qu(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Yl(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Yl(s,o,l,d,h,p,y,w,D,S){const M=20+d,L=M+h,q=function LC(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:jt);return l}(M,L),J="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:w,declTNode:o,data:q.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:J,incompleteFirstPass:!1}}function l_(s,o,l,d){const h=cb(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&Qp(s).push(d,h.length-1))}function u_(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function fs(s,o,l,d,h,p,y,w){const D=Ar(o,l);let M,S=o.inputs;!w&&null!=S&&(M=S[d])?(g_(s,l,M,d,h),Yo(o)&&function J0(s,o){const l=Wr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function BC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,In(p)?p.setProperty(D,d,h):Yn(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function Ju(s,o,l,d){let h=!1;if(oa()){const p=function mO(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];ti(l,y.selectors,!1)&&(h||(h=[]),Ao(fn(l,o),s,y.type),Li(y)?(nb(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===d?null:{"":-1};if(null!==p){h=!0,d_(l,s.data.length,p.length);for(let M=0;M<p.length;M++){const L=p[M];L.providersResolver&&L.providersResolver(L)}let w=!1,D=!1,S=rd(s,o,p.length,null);for(let M=0;M<p.length;M++){const L=p[M];l.mergedAttrs=kn(l.mergedAttrs,L.hostAttrs),Ph(s,l,o,S,L),$C(S,L,y),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const q=L.type.prototype;!w&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!D&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),S++}!function c_(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,D=null;for(let S=o.directiveStart;S<d;S++){const M=h[S],L=M.inputs,q=null===p||k0(o)?null:_O(L,p);y.push(q),w=u_(L,S,w),D=u_(M.outputs,S,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=D}(s,l)}y&&function rb(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Pe(-301,!1);d.push(o[h],p)}}}(l,d,y)}return l.mergedAttrs=kn(l.mergedAttrs,l.attrs),h}function od(s,o,l,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function tb(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=D&&w.push(D),w.push(d,h,y)}}function HC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function nb(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function $C(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Li(o)&&(l[""]=s)}}function d_(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Ph(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=Di(h.type)),y=new Ol(p,Li(h),null);s.blueprint[d]=y,l[d]=y,od(s,o,0,d,rd(s,l,h.hostVars,jt),h)}function h_(s,o,l){const d=Ar(o,s),h=Qu(l),p=s[10],y=Zp(s,nd(s,h,null,l.onPush?64:16,d,o,p,p.createRenderer(d,l),null,null));s[o.index]=y}function zp(s,o,l,d,h,p,y){if(null==p)In(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const w=null==y?ge(p):y(p,d||"",h);In(s)?s.setAttribute(o,h,w,l):l?o.setAttributeNS(l,h,w):o.setAttribute(h,w)}}function GC(s,o,l,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let D=0;D<y.length;){const S=y[D++],M=y[D++],L=y[D++];null!==w?d.setInput(l,L,S,M):l[M]=L}}}function _O(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function ib(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function ob(s,o){const l=Wr(o,s);if(Co(l)){const d=l[1];80&l[2]?Kl(d,l,d.template,l[8]):l[5]>0&&Wp(l)}}function Wp(s){for(let d=Eh(s);null!==d;d=Mp(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];Kl(y,p,y.template,p[8])}else p[5]>0&&Wp(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Wr(l[d],s);Co(h)&&h[5]>0&&Wp(h)}}function WC(s,o){const l=Wr(o,s),d=l[1];(function ab(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),id(d,l,l[8])}function Zp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function kh(s){for(;s;){s[2]|=64;const o=wh(s);if(pu(s)&&!o)return s;s=o}return null}function f_(s,o,l){const d=o[10];d.begin&&d.begin();try{Kl(s,o,s.template,l)}catch(h){throw db(o,h),h}finally{d.end&&d.end()}}function Kp(s){!function Fh(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=Rm(l),h=d[1];a_(h,d,h.template,l)}}(s[8])}function Yp(s,o,l){Eu(0),o(s,l)}const ub=(()=>Promise.resolve(null))();function cb(s){return s[7]||(s[7]=[])}function Qp(s){return s.cleanup||(s.cleanup=[])}function db(s,o){const l=s[9],d=l?l.get(Sp,null):null;d&&d.handleError(o)}function g_(s,o,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],D=o[y],S=s.data[y];null!==S.setInput?S.setInput(D,h,d,w):D[w]=h}}function m_(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=pe(h,w):2==p&&(d=pe(d,w+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const y_=new Hn("INJECTOR",-1);class v_{get(o,l=uo){if(l===uo){const d=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw d.name="NullInjectorError",d}return l}}const ul=new Hn("Set Injector scope."),Lh={},fb={};let b_;function w_(){return void 0===b_&&(b_=new v_),b_}function pb(s,o=null,l=null,d){const h=gb(s,o,l,d);return h._resolveInjectorDefTypes(),h}function gb(s,o=null,l=null,d){return new Vh(s,l,o||w_(),d)}class Vh{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&Hi(l,w=>this.processProvider(w,o,l)),Hi([o],w=>this.processInjectorType(w,[],p)),this.records.set(y_,Xu(void 0,this));const y=this.records.get(ul);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=uo,d=mt.Default){this.assertNotDestroyed();const h=re(this),p=un(void 0);try{if(!(d&mt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function XC(s){return"function"==typeof s||"object"==typeof s&&s instanceof Hn}(o)&&Vn(o);w=D&&this.injectableDefInScope(D)?Xu(Jp(o),Lh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&mt.Self?w_():this.parent).get(o,l=d&mt.Optional&&l===uo?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[ba]=y[ba]||[]).unshift(ce(o)),h)throw y;return function vr(s,o,l,d){const h=s[ba];throw o[O]&&h.unshift(o[O]),s.message=function Ls(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(C,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[ba]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{un(p),re(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,l,d){if(!(o=ee(o)))return!1;let h=ns(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=ns(p)),null==h)return!1;if(null!=h.imports&&!w){let M;d.push(y);try{Hi(h.imports,L=>{this.processInjectorType(L,l,d)&&(void 0===M&&(M=[]),M.push(L))})}finally{}if(void 0!==M)for(let L=0;L<M.length;L++){const{ngModule:q,providers:J}=M[L];Hi(J,be=>this.processProvider(be,q,J||Et))}}this.injectorDefTypes.add(y);const D=Di(y)||(()=>new y);this.records.set(y,Xu(D,Lh));const S=h.providers;if(null!=S&&!w){const M=o;Hi(S,L=>this.processProvider(L,M,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,l,d){let h=ec(o=ee(o))?o:ee(o&&o.provide);const p=function mb(s,o,l){return yb(s)?Xu(void 0,s.useValue):Xu(_b(s),Lh)}(o);if(ec(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Xu(void 0,Lh,!0),y.factory=()=>Kt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,l){return l.value===Lh&&(l.value=fb,l.value=l.factory()),"object"==typeof l.value&&l.value&&function wO(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ee(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Jp(s){const o=Vn(s),l=null!==o?o.factory:Di(s);if(null!==l)return l;if(s instanceof Hn)throw new Pe(204,!1);if(s instanceof Function)return function QC(s){const o=s.length;if(o>0)throw pi(o,"?"),new Pe(204,!1);const l=function Rr(s){const o=s&&(s[wi]||s[Sr]);if(o){const l=function Ir(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Pe(204,!1)}function _b(s,o,l){let d;if(ec(s)){const h=ee(s);return Di(h)||Jp(h)}if(yb(s))d=()=>ee(s.useValue);else if(function JC(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Kt(s.deps||[]));else if(function vb(s){return!(!s||!s.useExisting)}(s))d=()=>$e(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function bO(s){return!!s.deps}(s))return Di(h)||Jp(h);d=()=>new h(...Kt(s.deps))}return d}function Xu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function yb(s){return null!==s&&"object"==typeof s&&U in s}function ec(s){return"function"==typeof s}let Bo=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return pb({name:""},d,l,"");{const p=null!==(h=l.name)&&void 0!==h?h:"";return pb({name:p},l.parent,l.providers,p)}}}return s.THROW_IF_NOT_FOUND=uo,s.NULL=new v_,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>$e(y_)}),s.__NG_ELEMENT_ID__=-1,s})();function ur(s,o){Za(Rm(s)[1],Tn())}function jh(s){let o=function Cb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Li(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=A_(s.inputs),y.declaredInputs=A_(s.declaredInputs),y.outputs=A_(s.outputs);const w=h.hostBindings;w&&dT(s,w);const D=h.viewQuery,S=h.contentQueries;if(D&&Tb(s,D),S&&cT(s,S),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),Li(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===jh&&(l=!1)}}o=Object.getPrototypeOf(o)}!function uT(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=kn(h.hostAttrs,l=kn(l,h.hostAttrs))}}(d)}function A_(s){return s===dn?{}:s===Et?[]:s}function Tb(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function cT(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function dT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let eg=null;function tc(){if(!eg){const s=Wt.Symbol;if(s&&s.iterator)eg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(eg=d)}}}return eg}function Ki(s){return!!Hh(s)&&(Array.isArray(s)||!(s instanceof Map)&&tc()in s)}function Hh(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function gs(s,o,l){return s[o]=l}function Nr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function nc(s,o,l,d){const h=Nr(s,o,l);return Nr(s,o+1,d)||h}function $h(s,o,l,d,h){const p=nc(s,o,l,d);return Nr(s,o+2,h)||p}function N_(s,o,l,d){const h=Se();return Nr(h,ca(),o)&&(Gt(),function Ca(s,o,l,d,h,p){const y=Ar(s,o);zp(o[11],y,p,s.value,l,d,h)}(Kn(),h,s,o,l,d)),N_}function ic(s,o,l,d){return Nr(s,ca(),l)?o+ge(l)+d:jt}function oc(s,o,l,d,h,p,y,w){const D=Se(),S=Gt(),M=s+20,L=S.firstCreatePass?function ng(s,o,l,d,h,p,y,w,D){const S=o.consts,M=Rh(o,s,4,y||null,Bi(S,w));Ju(o,l,M,Bi(S,D)),Za(o,M);const L=M.tViews=Yl(2,M,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,S,D,o,l,d,h,p,y):S.data[M];Ui(L,!1);const q=D[11].createComment("");xp(S,D,q,L),Ai(q,D),Zp(D,D[M]=ib(q,D,q,L)),Qo(L)&&Yu(S,D,L),null!=y&&sd(D,L,w)}function rg(s){return Ci(function bu(){return Dt.lFrame.contextLView}(),20+s)}function Wh(s,o=mt.Default){const l=Se();return null===l?$e(s,o):No(Tn(),l,ee(s),o)}function Bb(){throw new Error("invalid")}function F_(s,o,l){const d=Se();return Nr(d,ca(),o)&&fs(Gt(),Kn(),d,s,o,d[11],l,!1),F_}function L_(s,o,l,d,h){const y=h?"class":"style";g_(s,l,o.inputs[y],y,d)}function lg(s,o,l,d){const h=Se(),p=Gt(),y=20+s,w=h[11],D=h[y]=Vm(w,o,function kc(){return Dt.lFrame.currentNamespace}()),S=p.firstCreatePass?function DT(s,o,l,d,h,p,y){const w=o.consts,S=Rh(o,s,2,h,Bi(w,p));return Ju(o,l,S,Bi(w,y)),null!==S.attrs&&m_(S,S.attrs,!1),null!==S.mergedAttrs&&m_(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,l,d):p.data[y];Ui(S,!0);const M=S.mergedAttrs;null!==M&&bt(w,D,M);const L=S.classes;null!==L&&al(w,D,L);const q=S.styles;return null!==q&&Km(w,D,q),64!=(64&S.flags)&&xp(p,h,D,S),0===function Oc(){return Dt.lFrame.elementDepthCount}()&&Ai(D,h),function sa(){Dt.lFrame.elementDepthCount++}(),Qo(S)&&(Yu(p,h,S),function jp(s,o,l){if(El(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}(p,S,h)),null!==d&&sd(h,S),lg}function V_(){let s=Tn();vu()?qa():(s=s.parent,Ui(s,!1));const o=s;!function Rc(){Dt.lFrame.elementDepthCount--}();const l=Gt();return l.firstCreatePass&&(Za(l,s),El(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Vc(s){return 0!=(16&s.flags)}(o)&&L_(l,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function vm(s){return 0!=(32&s.flags)}(o)&&L_(l,o,Se(),o.stylesWithoutHost,!1),V_}function Ub(s,o,l,d){return lg(s,o,l,d),V_(),Ub}function $b(){return Se()}function U_(s){return!!s&&"function"==typeof s.then}function Gb(s){return!!s&&"function"==typeof s.subscribe}const qb=Gb;function j_(s,o,l,d){const h=Se(),p=Gt(),y=Tn();return function Zb(s,o,l,d,h,p,y,w){const D=Qo(d),M=s.firstCreatePass&&Qp(s),L=o[8],q=cb(o);let J=!0;if(3&d.type||w){const ze=Ar(d,o),dt=w?w(ze):ze,Ae=q.length,wt=w?rn=>w(wn(rn[d.index])):d.index;if(In(l)){let rn=null;if(!w&&D&&(rn=function Wb(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=o[7],D=h[p+2];return w.length>D?w[D]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=p,rn.__ngLastListenerFn__=p,J=!1;else{p=H_(d,o,L,p,!1);const Dn=l.listen(dt,h,p);q.push(p,Dn),M&&M.push(h,wt,Ae,Ae+1)}}else p=H_(d,o,L,p,!0),dt.addEventListener(h,p,y),q.push(p),M&&M.push(h,wt,Ae,y)}else p=H_(d,o,L,p,!1);const be=d.outputs;let Le;if(J&&null!==be&&(Le=be[h])){const ze=Le.length;if(ze)for(let dt=0;dt<ze;dt+=2){const bs=o[Le[dt]][Le[dt+1]].subscribe(p),Ra=q.length;q.push(p,bs),M&&M.push(h,d.index,Ra,-(Ra+1))}}}(p,h,h[11],y,s,o,!!l,d),j_}function Kb(s,o,l,d){try{return!1!==l(d)}catch(h){return db(s,h),!1}}function H_(s,o,l,d,h){return function p(y){if(y===Function)return d;const w=2&s.flags?Wr(s.index,o):o;0==(32&o[2])&&kh(w);let D=Kb(o,0,d,y),S=p.__ngNextListenerFn__;for(;S;)D=Kb(o,0,S,y)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Yb(s=1){return function no(s){return(Dt.lFrame.contextLView=function Tu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function MO(s,o){let l=null;const d=function ql(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?ti(s,p,!0):L0(d,p))return h}else l=h}return l}function Qb(s){const o=Se()[16][6];if(!o.projection){const d=o.projection=pi(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?MO(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function Jb(s,o=0,l){const d=Se(),h=Gt(),p=Rh(h,20+s,16,null,l||null);null===p.projection&&(p.projection=o),qa(),64!=(64&p.flags)&&function TC(s,o,l){P0(o[11],0,o,l,Rp(s,l,o),M0(l.parent||o[6],l,o))}(h,d,p)}function $_(s,o,l){return ug(s,"",o,"",l),$_}function ug(s,o,l,d,h){const p=Se(),y=ic(p,o,l,d);return y!==jt&&fs(Gt(),Kn(),p,s,y,p[11],h,!1),ug}function G_(s,o,l,d,h,p,y,w,D){const S=Se(),M=function ld(s,o,l,d,h,p,y,w){const S=$h(s,us(),l,h,y);return hi(3),S?o+ge(l)+d+ge(h)+p+ge(y)+w:jt}(S,o,l,d,h,p,y,w);return M!==jt&&fs(Gt(),Kn(),S,s,M,S[11],D,!1),G_}function o1(s,o,l,d,h){const p=s[l+1],y=null===o;let w=d?ho(p):Da(p),D=!1;for(;0!==w&&(!1===D||y);){const M=s[w+1];ST(s[w],o)&&(D=!0,s[w+1]=d?Lp(M):t_(M)),w=d?ho(M):Da(M)}D&&(s[l+1]=d?t_(p):Lp(p))}function ST(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Fs(s,o)>=0}const Br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function a1(s){return s.substring(Br.key,Br.keyEnd)}function l1(s,o){const l=Br.textEnd;return l===o?-1:(o=Br.keyEnd=function OT(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Br.key=o,l),_d(s,o,l))}function _d(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function q_(s,o,l){return jo(s,o,l,!1),q_}function z_(s,o){return jo(s,o,null,!0),z_}function f1(s){!function Ho(s,o,l,d){const h=Gt(),p=hi(2);h.firstUpdatePass&&g1(h,null,p,d);const y=Se();if(l!==jt&&Nr(y,p,l)){const w=h.data[Zr()];if(v1(w,d)&&!p1(h,p)){let D=d?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(l=pe(D,l||"")),L_(h,w,y,l,d)}else!function UT(s,o,l,d,h,p,y,w){h===jt&&(h=Et);let D=0,S=0,M=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==M||null!==L;){const q=D<h.length?h[D+1]:void 0,J=S<p.length?p[S+1]:void 0;let Le,be=null;M===L?(D+=2,S+=2,q!==J&&(be=L,Le=J)):null===L||null!==M&&M<L?(D+=2,be=M):(S+=2,be=L,Le=J),null!==be&&_1(s,o,l,d,be,Le,y,w),M=D<h.length?h[D]:null,L=S<p.length?p[S]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function BT(s,o,l){if(null==l||""===l)return Et;const d=[],h=Fo(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,p)}}(Cr,Na,s,!0)}function Na(s,o){for(let l=function NT(s){return function c1(s){Br.key=0,Br.keyEnd=0,Br.value=0,Br.valueEnd=0,Br.textEnd=s.length}(s),l1(s,_d(s,0,Br.textEnd))}(o);l>=0;l=l1(o,l))Cr(s,a1(o),!0)}function jo(s,o,l,d){const h=Se(),p=Gt(),y=hi(2);p.firstUpdatePass&&g1(p,s,y,d),o!==jt&&Nr(h,y,o)&&_1(p,p.data[Zr()],h,h[11],s,h[y+1]=function jT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(Fo(s)))),s}(o,l),d,y)}function p1(s,o){return o>=s.expandoStartIndex}function g1(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[Zr()],y=p1(s,l);v1(p,d)&&null===o&&!y&&(o=!1),o=function kT(s,o,l,d){const h=function to(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Kh(l=W_(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=W_(h,s,o,l,d),null===p){let D=function FT(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Da(d))return s[ho(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=W_(null,s,o,D[1],d),D=Kh(D,o.attrs,d),function LT(s,o,l,d){s[ho(l?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else p=function VT(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Kh(d,s[p].hostAttrs,l);return Kh(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function TT(s,o,l,d,h,p){let y=p?o.classBindings:o.styleBindings,w=ho(y),D=Da(y);s[d]=l;let M,S=!1;if(Array.isArray(l)){const L=l;M=L[1],(null===M||Fs(L,M)>0)&&(S=!0)}else M=l;if(h)if(0!==D){const q=ho(s[w+1]);s[d+1]=Ih(q,w),0!==q&&(s[q+1]=kp(s[q+1],d)),s[w+1]=function j0(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Ih(w,0),0!==w&&(s[w+1]=kp(s[w+1],d)),w=d;else s[d+1]=Ih(D,0),0===w?w=d:s[D+1]=kp(s[D+1],d),D=d;S&&(s[d+1]=t_(s[d+1])),o1(s,M,d,!0),o1(s,M,d,!1),function IT(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Fs(p,o)>=0&&(l[d+1]=Lp(l[d+1]))}(o,M,s,d,p),y=Ih(w,D),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,d)}}function W_(s,o,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],d=Kh(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function Kh(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Cr(s,y,!!l||o[++p]))}return void 0===s?null:s}function _1(s,o,l,d,h,p,y,w){if(!(3&o.type))return;const D=s.data,S=D[w+1];cg(function Fp(s){return 1==(1&s)}(S)?y1(D,o,l,h,Da(S),y):void 0)||(cg(p)||function e_(s){return 2==(2&s)}(S)&&(p=y1(D,null,l,h,w,y)),function SC(s,o,l,d,h){const p=In(s);if(o)h?p?s.addClass(l,d):l.classList.add(d):p?s.removeClass(l,d):l.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Ea.DashCase;if(null==h)p?s.removeStyle(l,d,y):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=Ea.Important),p?s.setStyle(l,d,h,y):l.style.setProperty(d,h,w?"important":"")}}}(d,y,Xs(Zr(),l),h,p))}function y1(s,o,l,d,h,p){const y=null===o;let w;for(;h>0;){const D=s[h],S=Array.isArray(D),M=S?D[1]:D,L=null===M;let q=l[h+1];q===jt&&(q=L?Et:void 0);let J=L?Lu(q,d):M===d?q:void 0;if(S&&!cg(J)&&(J=Lu(D,d)),cg(J)&&(w=J,y))return w;const be=s[h+1];h=y?ho(be):Da(be)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=Lu(D,d))}return w}function cg(s){return void 0!==s}function v1(s,o){return 0!=(s.flags&(o?16:32))}function b1(s,o=""){const l=Se(),d=Gt(),h=s+20,p=d.firstCreatePass?Rh(d,h,1,o,null):d.data[h],y=l[h]=Fm(l[11],o);xp(d,l,y,p),Ui(p,!1)}function Z_(s){return dg("",s,""),Z_}function dg(s,o,l){const d=Se(),h=ic(d,s,o,l);return h!==jt&&function ll(s,o,l){const d=Xs(o,s);Lm(s[11],d,l)}(d,Zr(),h),dg}function R1(s,o,l){const d=Se();return Nr(d,ca(),o)&&fs(Gt(),Kn(),d,s,o,d[11],l,!0),R1}const ac=void 0;var kO=["en",[["a","p"],["AM","PM"],ac],[["AM","PM"],ac,ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ac,"{1} 'at' {0}",ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uI(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Yh={};function x1(s){const o=function dI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=cI(o);if(l)return l;const d=o.split("-")[0];if(l=cI(d),l)return l;if("en"===d)return kO;throw new Error(`Missing locale data for the locale "${s}".`)}function P1(s){return x1(s)[At.PluralCase]}function cI(s){return s in Yh||(Yh[s]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[s]),Yh[s]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const VO=["zero","one","two","few","many"],Y_="en-US",Xl={marker:"element"},Mr={marker:"ICU"};var ln=(()=>((ln=ln||{})[ln.SHIFT=2]="SHIFT",ln[ln.APPEND_EAGERLY=1]="APPEND_EAGERLY",ln[ln.COMMENT=2]="COMMENT",ln))();let Q_=Y_;function J_(s,o,l){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?O0(s,0,l):wn(l[h])}function F1(s,o,l,d,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,w=null;if(3&o.type||(w=y,y=h),null!==y&&0==(2&o.flags))for(let D=1;D<p.length;D++)Bs(s,y,l[p[D]],w,!1)}}function lc(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const d=s[l];L1(d)||UO(d,o)&&null===fI(d)&&V1(d,o.index)}}function L1(s){return!(64&s.type)}function UO(s,o){return L1(o)||s.index>o.index}function fI(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function V1(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(R0(J_,F1),s.insertBeforeIndex=o)}function Qh(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function Yi(s,o,l){const d=xh(s,l,64,null,null);return lc(o,d),d}function hg(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function B1(s){return s>>>17}function X_(s){return(131070&s)>>>1}let ef=0,uc=0;function H1(s,o,l,d){const h=l[11];let y,p=null;for(let w=0;w<o.length;w++){const D=o[w];if("string"==typeof D){const S=o[++w];null===l[S]&&(l[S]=Fm(h,D))}else if("number"==typeof D)switch(1&D){case 0:const S=B1(D);let M,L;if(null===p&&(p=S,y=Dh(h,d)),S===p?(M=d,L=y):(M=null,L=wn(l[S])),null!==L){const Le=X_(D);Bs(h,L,l[Le],M,!1);const dt=Qh(s,Le);if(null!==dt&&"object"==typeof dt){const Ae=hg(dt,l);null!==Ae&&H1(s,dt.create[Ae],l,l[dt.anchorIdx])}}break;case 1:const J=o[++w],be=o[++w];zp(h,Xs(D>>>1,l),null,null,J,be,null)}else switch(D){case Mr:const S=o[++w],M=o[++w];null===l[M]&&Ai(l[M]=bC(h,S),l);break;case Xl:const L=o[++w],q=o[++w];null===l[q]&&Ai(l[q]=Vm(h,L,null),l)}}}function ty(s,o,l,d,h){for(let p=0;p<l.length;p++){const y=l[p],w=l[++p];if(y&h){let D="";for(let S=p+1;S<=p+w;S++){const M=l[S];if("string"==typeof M)D+=M;else if("number"==typeof M)if(M<0)D+=ge(o[d-M]);else{const L=M>>>2;switch(3&M){case 1:const q=l[++S],J=l[++S],be=s.data[L];"string"==typeof be?zp(o[11],o[L],null,be,q,D,J):fs(s,be,o,q,D,o[11],J,!1);break;case 0:const Le=o[L];null!==Le&&Lm(o[11],Le,D);break;case 2:jO(s,Qh(s,L),o,D);break;case 3:ny(s,Qh(s,L),d,o)}}}}else{const D=l[p+1];if(D>0&&3==(3&D)){const M=Qh(s,D>>>2);o[M.currentCaseLViewIndex]<0&&ny(s,M,d,o)}}p+=w}}function ny(s,o,l,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let p=ef;h<0&&(h=d[o.currentCaseLViewIndex]=~h,p=-1),ty(s,d,o.update[h],l,p)}}function jO(s,o,l,d){const h=function HO(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const d=function ms(s,o){const l=P1(o)(parseInt(s,10)),d=VO[l];return void 0!==d?d:"other"}(o,function BO(){return Q_}());l=s.cases.indexOf(d),-1===l&&"other"!==d&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,d);if(hg(o,l)!==h&&(ry(s,o,l),l[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=l[o.anchorIdx];y&&H1(s,o.create[h],l,y)}}function ry(s,o,l){let d=hg(o,l);if(null!==d){const h=o.remove[d];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const w=Xs(y,l);null!==w&&Wm(l[11],w)}else ry(s,Qh(s,~y),l)}}}function $O(){const s=[];let l,d,o=-1;function p(w,D){o=0;const S=hg(w,D);d=null!==S?w.remove[S]:Et}function y(){if(o<d.length){const w=d[o++];return w>0?l[w]:(s.push(o,d),p(l[1].data[~w],l),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(w,D){for(l=D;s.length;)s.pop();return p(w.value,D),y}}const tf=/\ufffd(\d+):?\d*\ufffd/gi,zO=/\ufffd(\d+)\ufffd/,iy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,q1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,nf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fg=/\uE500/g;function z1(s,o,l,d,h,p,y){const w=rd(s,d,1,null);let D=w<<ln.SHIFT,S=eo();o===S&&(S=null),null===S&&(D|=ln.APPEND_EAGERLY),y&&(D|=ln.COMMENT,function vC(s){void 0===km&&(km=s())}($O)),h.push(D,null===p?"":p);const M=xh(s,w,y?32:1,null===p?"":p,null);lc(l,M);const L=M.index;return Ui(M,!1),null!==S&&o!==S&&function Jh(s,o){let l=s.insertBeforeIndex;null===l?(R0(J_,F1),l=s.insertBeforeIndex=[null,o]):(function et(s,o,l){s!=o&&qe(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(S,L),M}function vI(s,o,l,d,h,p,y){const w=y.match(tf),D=z1(s,o,l,p,d,w?null:y,!1);w&&vd(h,y,D.index,null,0,null)}function vd(s,o,l,d,h,p){const y=s.length,w=y+1;s.push(null,null);const D=y+2,S=o.split(tf);let M=0;for(let L=0;L<S.length;L++){const q=S[L];if(1&L){const J=h+parseInt(q,10);s.push(-1-J),M|=bI(J)}else""!==q&&s.push(q)}return s.push(l<<2|(d?1:0)),d&&s.push(d,p),s[y]=M,s[w]=s.length-D,M}function bI(s){return 1<<Math.min(s,31)}function wI(s){let o,p,l="",d=0,h=!1;for(;null!==(o=q1.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,h=!1):(l+=s.substring(d,o.index+o[0].length),p=o[1],h=!0);return l+=s.substr(d),l}function sy(s,o,l,d,h,p){let y=0;const w={type:h.type,currentCaseLViewIndex:rd(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function oy(s,o,l){s.push(bI(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,p),function pI(s,o,l){const d=s.data[o];null===d?s.data[o]=l:d.value=l}(s,p,w);const D=h.values;for(let S=0;S<D.length;S++){const M=D[S],L=[];for(let q=0;q<M.length;q++){const J=M[q];if("string"!=typeof J){const be=L.push(J)-1;M[q]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}y=K1(s,w,o,l,d,h.cases[S],M.join(""),L)|y}y&&function EI(s,o,l){s.push(o,1,l<<2|3)}(l,y,p)}function Ur(s){const o=[],l=[];let d=1,h=0;const p=eu(s=s.replace(iy,function(y,w,D){return d="select"===D?0:1,h=parseInt(w.substr(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const D=eu(p[y++]);o.length>l.length&&l.push(D)}return{type:d,mainBinding:h,cases:o,values:l}}function eu(s){if(!s)return[];let o=0;const l=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const w=p.index;if("}"==p[0]){if(l.pop(),0==l.length){const D=s.substring(o,w);iy.test(D)?d.push(Ur(D)):d.push(D),o=w+1}}else{if(0==l.length){const D=s.substring(o,w);d.push(D),o=w+1}l.push("{")}}const y=s.substring(o);return d.push(y),d}function K1(s,o,l,d,h,p,y,w){const D=[],S=[],M=[];o.cases.push(p),o.create.push(D),o.remove.push(S),o.update.push(M);const q=wp(wo()).getInertBodyElement(y),J=Am(q)||q;return J?Y1(s,o,l,d,D,S,M,J,h,w,0):0}function Y1(s,o,l,d,h,p,y,w,D,S,M){let L=0,q=w.firstChild;for(;q;){const J=rd(s,l,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const be=q,Le=be.tagName.toLowerCase();if(Hl.hasOwnProperty(Le)){ay(h,Xl,Le,D,J),s.data[J]=Le;const wt=be.attributes;for(let rn=0;rn<wt.length;rn++){const Dn=wt.item(rn),bs=Dn.name.toLowerCase();Dn.value.match(tf)?wa.hasOwnProperty(bs)&&vd(y,Dn.value,J,Dn.name,0,Wc[bs]?N:$u[bs]?F:null):DI(h,J,Dn)}L=Y1(s,o,l,d,h,p,y,q,J,S,M+1)|L,Q1(p,J,M)}break;case Node.TEXT_NODE:const ze=q.textContent||"",dt=ze.match(tf);ay(h,null,dt?"":ze,D,J),Q1(p,J,M),dt&&(L=vd(y,ze,J,null,0,null)|L);break;case Node.COMMENT_NODE:const Ae=zO.exec(q.textContent||"");if(Ae){const rn=S[parseInt(Ae[1],10)];ay(h,Mr,"",D,J),sy(s,l,d,D,rn,J),pg(p,J,M)}}q=q.nextSibling}return L}function Q1(s,o,l){0===l&&s.push(o)}function pg(s,o,l){0===l&&(s.push(~o),s.push(o))}function ay(s,o,l,d,h){null!==o&&s.push(o),s.push(l,h,function gI(s,o,l){return s|o<<17|l<<1}(0,d,h))}function DI(s,o,l){s.push(o<<1|1,l.name,l.value)}function ew(s,o,l=-1){const d=Gt(),h=Se(),p=20+s,y=Bi(d.consts,o),w=eo();d.firstCreatePass&&function yI(s,o,l,d,h,p){const y=eo(),w=[],D=[],S=[[]];h=function WO(s,o){if(function Z1(s){return-1===s}(o))return wI(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return wI(s.substring(l,d))}}(h,p);const M=function _I(s){return s.replace(fg," ")}(h).split(nf);for(let L=0;L<M.length;L++){let q=M[L];if(0==(1&L)){const J=eu(q);for(let be=0;be<J.length;be++){let Le=J[be];if(0==(1&be)){const ze=Le;""!==ze&&vI(s,y,S[0],w,D,l,ze)}else{const ze=Le;if("object"!=typeof ze)throw new Error(`Unable to parse ICU expression in "${h}" message.`);sy(s,l,D,o,ze,z1(s,y,S[0],l,w,"",!0).index)}}}else{const J=47===q.charCodeAt(0),Le=(q.charCodeAt(J?1:0),20+Number.parseInt(q.substring(J?2:1)));if(J)S.shift(),Ui(eo(),!1);else{const ze=Yi(s,S[0],Le);S.unshift([]),Ui(ze,!0)}}}s.data[d]={create:w,update:D}}(d,null===w?0:w.index,h,p,y,l);const D=d.data[p],M=EC(d,w===h[6]?null:w,h);(function ey(s,o,l,d){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],D=(y&ln.COMMENT)===ln.COMMENT,S=(y&ln.APPEND_EAGERLY)===ln.APPEND_EAGERLY,M=y>>>ln.SHIFT;let L=s[M];null===L&&(L=s[M]=D?h.createComment(w):Fm(h,w)),S&&null!==l&&Bs(h,l,L,d,!1)}})(h,D.create,M,w&&8&w.type?h[w.index]:null),da(!0)}function tw(s,o,l){ew(s,o,l),function tu(){da(!1)}()}function nu(s){return function U1(s){s&&(ef|=1<<Math.min(uc,31)),uc++}(Nr(Se(),ca(),s)),nu}function _g(s){!function j1(s,o,l){if(uc>0){const d=s.data[l];ty(s,o,Array.isArray(d)?d:d.update,us()-uc-1,ef)}ef=0,uc=0}(Gt(),Se(),s+20)}function cy(s,o,l,d,h){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)cy(s[p],o,l,d,h);else{const p=Gt(),y=Se();let w=ec(s)?s:ee(s.provide),D=_b(s);const S=Tn(),M=1048575&S.providerIndexes,L=S.directiveStart,q=S.providerIndexes>>20;if(ec(s)||!s.multi){const J=new Ol(D,h,Wh),be=hy(w,o,h?M:M+q,L);-1===be?(Ao(fn(S,y),p,w),dy(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(J),y.push(J)):(l[be]=J,y[be]=J)}else{const J=hy(w,o,M+q,L),be=hy(w,o,M,M+q),Le=J>=0&&l[J],ze=be>=0&&l[be];if(h&&!ze||!h&&!Le){Ao(fn(S,y),p,w);const dt=function rw(s,o,l,d,h){const p=new Ol(s,l,Wh);return p.multi=[],p.index=o,p.componentProviders=0,nw(p,h,d&&!l),p}(h?MI:Nn,l.length,h,d,D);!h&&ze&&(l[be].providerFactory=dt),dy(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(dt),y.push(dt)}else dy(p,s,J>-1?J:be,nw(l[h?be:J],D,!h&&d));!h&&d&&ze&&l[be].componentProviders++}}}function dy(s,o,l,d){const h=ec(o),p=function vO(s){return!!s.useClass}(o);if(h||p){const D=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=S.indexOf(l);-1===M?S.push(l,[d,D]):S[M+1].push(d,D)}else S.push(l,D)}}}function nw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function hy(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function Nn(s,o,l,d){return fy(this.multi,[])}function MI(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=pa(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),fy(h,p);for(let D=y;D<w.length;D++)p.push(w[D])}else p=[],fy(h,p);return p}function fy(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function iw(s,o=[]){return l=>{l.providersResolver=(d,h)=>function uy(s,o,l){const d=Gt();if(d.firstCreatePass){const h=Li(s);cy(l,d.data,d.blueprint,h,!0),cy(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class py{}class ow{resolveComponentFactory(o){throw function OI(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let rf=(()=>{class s{}return s.NULL=new ow,s})();function aw(){return bd(Tn(),Se())}function bd(s,o){return new sf(Ar(s,o))}let sf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=aw,s})();function xI(s){return s instanceof sf?s.nativeElement:s}class lw{}let PI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function FI(){const s=Se(),l=Wr(Tn().index,s);return function kI(s){return s[11]}(ci(l)?l:s)}(),s})(),LI=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class uw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const cw=new uw("13.3.5"),gy={};function af(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(wn(p)),os(p))for(let w=10;w<p.length;w++){const D=p[w],S=D[1].firstChild;null!==S&&af(D[1],D,S,d)}const y=l.type;if(8&y)af(s,o,l.child,d);else if(32&y){const w=Ap(l,o);let D;for(;D=w();)d.push(D)}else if(16&y){const w=x0(o,l);if(Array.isArray(w))d.push(...w);else{const D=wh(o[16]);af(D[1],D,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class wd{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return af(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(os(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Um(o,d),nl(l,d))}this._attachedToViewContainer=!1}jm(this._lView[1],this._lView)}onDestroy(o){l_(this._lView[1],this._lView,null,o)}markForCheck(){kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){f_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function lb(s,o,l){la(!0);try{f_(s,o,l)}finally{la(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function T0(s,o){Pp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class dw extends wd{constructor(o){super(o),this._view=o}detectChanges(){Kp(this._view)}checkNoChanges(){!function KC(s){la(!0);try{Kp(s)}finally{la(!1)}}(this._view)}get context(){return null}}class my extends rf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ke(o);return new yy(l,this.ngModule)}}function _y(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class yy extends py{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function B0(s){return s.map(V0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return _y(this.componentDef.inputs)}get outputs(){return _y(this.componentDef.outputs)}create(o,l,d,h){const p=(h=h||this.ngModule)?function hw(s,o){return{get:(l,d,h)=>{const p=s.get(l,gy,h);return p!==gy||d===gy?p:o.get(l,d,h)}}}(o,h.injector):o,y=p.get(lw,Eo),w=p.get(LI,null),D=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=d?function $p(s,o,l){if(In(s))return s.selectRootElement(o,l===qt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(D,d,this.componentDef.encapsulation):Vm(y.createRenderer(null,this.componentDef),S,function VI(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),L=this.componentDef.onPush?576:528,q=function Db(s,o){return{components:[],scheduler:s||gC,clean:ub,playerHandler:o||null,flags:0}}(),J=Yl(0,null,null,1,0,null,null,null,null,null),be=nd(null,J,q,L,null,null,y,D,w,p);let Le,ze;Wa(be);try{const dt=function Uh(s,o,l,d,h,p){const y=l[1];l[20]=s;const D=Rh(y,20,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(m_(D,S,!0),null!==s&&(bt(h,s,S),null!==D.classes&&al(h,s,D.classes),null!==D.styles&&Km(h,s,D.styles)));const M=d.createRenderer(s,o),L=nd(l,Qu(o),null,o.onPush?64:16,l[20],D,d,M,p||null,null);return y.firstCreatePass&&(Ao(fn(D,l),y,o.type),nb(y,D),d_(D,l.length,1)),Zp(l,L),l[20]=L}(M,this.componentDef,be,y,D);if(M)if(d)bt(D,M,["ng-version",cw.full]);else{const{attrs:Ae,classes:wt}=function U0(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!ei(h))break;h=p}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ae&&bt(D,M,Ae),wt&&wt.length>0&&al(D,M,wt.join(" "))}if(ze=Sl(J,20),void 0!==l){const Ae=ze.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const rn=l[wt];Ae.push(null!=rn?Array.from(rn):null)}}Le=function I_(s,o,l,d,h){const p=l[1],y=function jC(s,o,l){const d=Tn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Ph(s,d,o,rd(s,o,1,null),l));const h=pa(o,s,d.directiveStart,d);Ai(h,o);const p=Ar(d,o);return p&&Ai(p,o),h}(p,l,o);if(d.components.push(y),s[8]=y,h&&h.forEach(D=>D(y,o)),o.contentQueries){const D=Tn();o.contentQueries(1,y,D.directiveStart)}const w=Tn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ro(w.index),od(l[1],w,0,w.directiveStart,w.directiveEnd,o),HC(o,y)),y}(dt,this.componentDef,be,q,[ur]),id(J,be,null)}finally{Io()}return new KO(this.componentType,Le,bd(ze,be),be,ze)}}class KO extends class yg{}{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new dw(h),this.componentType=o}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class lf{}class BI{}const uf=new Map;class HI extends lf{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new my(this);const d=Ot(o);this._bootstrapComponents=Vo(d.bootstrap),this._r3Injector=gb(o,l,[{provide:lf,useValue:this},{provide:rf,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Bo.THROW_IF_NOT_FOUND,d=mt.Default){return o===Bo||o===lf||o===y_?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class vy extends BI{constructor(o){super(),this.moduleType=o,null!==Ot(o)&&function QO(s){const o=new Set;!function l(d){const h=Ot(d,!0),p=h.id;null!==p&&(function UI(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(p,uf.get(p),d),uf.set(p,d));const y=Vo(h.imports);for(const w of y)o.has(w)||(o.add(w),l(w))}(s)}(o)}create(o){return new HI(this.moduleType,o)}}function $I(s,o,l,d){return by(Se(),_r(),s,o,l,d)}function GI(s,o,l,d,h){return function vg(s,o,l,d,h,p,y){const w=o+l;return nc(s,w,h,p)?gs(s,w+2,y?d.call(y,h,p):d(h,p)):dc(s,w+2)}(Se(),_r(),s,o,l,d,h)}function qI(s,o,l,d,h,p){return function gw(s,o,l,d,h,p,y,w){const D=o+l;return $h(s,D,h,p,y)?gs(s,D+3,w?d.call(w,h,p,y):d(h,p,y)):dc(s,D+3)}(Se(),_r(),s,o,l,d,h,p)}function dc(s,o){const l=s[o];return l===jt?void 0:l}function by(s,o,l,d,h,p){const y=o+l;return Nr(s,y,h)?gs(s,y+1,p?d.call(p,h):d(h)):dc(s,y+1)}function zI(s,o){const l=Gt();let d;const h=s+20;l.firstCreatePass?(d=function cf(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const p=d.factory||(d.factory=Di(d.type)),y=un(Wh);try{const w=ji(!1),D=p();return ji(w),function pd(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Se(),h,D),D}finally{un(y)}}function df(s,o,l){const d=s+20,h=Se(),p=Ci(h,d);return function hf(s,o){return s[1].data[o].pure}(h,d)?by(h,_r(),o,p.transform,l,p):p.transform(l)}function hl(s){return o=>{setTimeout(s,void 0,o)}}const _s=class Ed extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,p,y;let w=o,D=l||(()=>null),S=d;if(o&&"object"==typeof o){const L=o;w=null===(h=L.next)||void 0===h?void 0:h.bind(L),D=null===(p=L.error)||void 0===p?void 0:p.bind(L),S=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(D=hl(D),w&&(w=hl(w)),S&&(S=hl(S)));const M=super.subscribe({next:w,error:D,complete:S});return o instanceof $.w0&&o.add(M),M}};function wg(){return this._results[tc()]()}class Eg{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=tc(),d=Eg.prototype;d[l]||(d[l]=wg)}get changes(){return this._changes||(this._changes=new _s)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Jr(o);(this._changesDetected=!function tl(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ru=(()=>{class s{}return s.__NG_ELEMENT_ID__=nR,s})();const hc=ru,yw=class extends hc{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=nd(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(l)),id(l,d,o),new wd(d)}};function nR(){return wy(Tn(),Se())}function wy(s,o){return 4&s.type?new yw(o,s,bd(s,o)):null}let Ey=(()=>{class s{}return s.__NG_ELEMENT_ID__=rR,s})();function rR(){return JI(Tn(),Se())}const iR=Ey,YI=class extends iR{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return bd(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const o=Kr(this._hostTNode,this._hostLView);if(er(o)){const l=Rs(o,this._hostLView),d=so(o);return new Ps(l[1].data[d+8],l)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=QI(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,p){const y=o&&!function Rl(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const L=l||{};w=L.index,d=L.injector,h=L.projectableNodes,p=L.ngModuleRef}const D=y?o:new yy(Ke(o)),S=d||this.parentInjector;if(!p&&null==D.ngModule){const q=(y?S:this.parentInjector).get(lf,null);q&&(p=q)}const M=D.create(S,h,void 0,p);return this.insert(M.hostView,w),M}insert(o,l){const d=o._lView,h=d[1];if(function ia(s){return os(s[3])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=d[3],q=new YI(L,L[6],L[3]);q.detach(q.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function Bm(s,o,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=o),d<p-10?(o[4]=l[h],_a(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function Yc(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,y,p);const w=zm(p,y),D=d[11],S=Dh(D,y[7]);return null!==S&&function wC(s,o,l,d,h,p){d[0]=h,d[6]=o,Pp(s,d,l,1,h,p)}(h,y[6],D,d,S,w),o.attachToViewContainerRef(),_a(vw(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=QI(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Um(this._lContainer,l);d&&(nl(vw(this._lContainer),l),jm(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Um(this._lContainer,l);return d&&null!=nl(vw(this._lContainer),l)?new wd(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function QI(s){return s[8]}function vw(s){return s[8]||(s[8]=[])}function JI(s,o){let l;const d=o[s.index];if(os(d))l=d;else{let h;if(8&s.type)h=wn(d);else{const p=o[11];h=p.createComment("");const y=Ar(s,o);Bs(p,Dh(p,y),h,function CC(s,o){return In(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=l=ib(d,o,h,s),Zp(o,l)}return new YI(l,s,o)}class bw{constructor(o){this.queryList=o,this.matches=null}clone(){return new bw(this.queryList)}setDirty(){this.queryList.setDirty()}}class ww{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new ww(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Iw(o,l).matches&&this.queries[l].setDirty()}}class XI{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Dg{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new Dg(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Dy{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Dy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,Cy(l,p)),this.matchTNodeWithReadOption(o,l,Yr(l,o,p,!1,!1))}else d===ru?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Yr(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===sf||h===Ey||h===ru&&4&l.type)this.addMatch(l.index,-2);else{const p=Yr(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Cy(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Dw(s,o,l,d){return-1===l?function Ew(s,o){return 11&s.type?bd(s,o):4&s.type?wy(s,o):null}(o,s):-2===l?function Cg(s,o,l){return l===sf?bd(o,s):l===ru?wy(o,s):l===Ey?JI(o,s):void 0}(s,o,d):pa(s,s[1],l,o)}function Cw(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let D=0;D<y.length;D+=2){const S=y[D];w.push(S<0?null:Dw(o,p[S],y[D+1],l.metadata.read))}h.matches=w}return h.matches}function Dd(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=Cw(s,o,h,l);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)d.push(y[w/2]);else{const S=p[w+1],M=o[-D];for(let L=10;L<M.length;L++){const q=M[L];q[17]===q[3]&&Dd(q[1],q,S,d)}if(null!==M[9]){const L=M[9];for(let q=0;q<L.length;q++){const J=L[q];Dd(J[1],J,S,d)}}}}}return d}function eS(s){const o=Se(),l=Gt(),d=eh();Eu(d+1);const h=Iw(l,d);if(s.dirty&&Ns(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Dd(l,o,d,[]):Cw(l,o,h,d);s.reset(p,xI),s.notifyOnChanges()}return!0}return!1}function Ty(s,o,l){const d=Gt();d.firstCreatePass&&(Tw(d,new XI(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Iy(d,Se(),o)}function iu(s,o,l,d){const h=Gt();if(h.firstCreatePass){const p=Tn();Tw(h,new XI(o,l,d),p.index),function ff(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Iy(h,Se(),l)}function tS(){return function nS(s,o){return s[19].queries[o].queryList}(Se(),eh())}function Iy(s,o,l){const d=new Eg(4==(4&l));l_(s,o,d,d.destroy),null===o[19]&&(o[19]=new ww),o[19].queries.push(new bw(d))}function Tw(s,o,l){null===s.queries&&(s.queries=new Dg),s.queries.track(new Dy(o,l))}function Iw(s,o){return s.queries.getByIndex(o)}function Sw(s,o){return wy(s,o)}function Fy(...s){}const Ly=new Hn("Application Initializer");let Vw=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Fy,this.reject=Fy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(U_(p))l.push(p);else if(qb(p)){const y=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)($e(Ly,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const fS=new Hn("AppId",{providedIn:"root",factory:function pS(){return`${Bw()}${Bw()}${Bw()}`}});function Bw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vy=new Hn("Platform Initializer"),gR=new Hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gS=new Hn("appBootstrapListener");let mR=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const jw=new Hn("LocaleId",{providedIn:"root",factory:()=>Ct(jw,mt.Optional|mt.SkipSelf)||function Uw(){return"undefined"!=typeof $localize&&$localize.locale||Y_}()}),_R=new Hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vR{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let bR=(()=>{class s{compileModuleSync(l){return new vy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=Vo(Ot(l).declarations).reduce((y,w)=>{const D=Ke(w);return D&&y.push(new yy(D)),y},[]);return new vR(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Hw=(()=>Promise.resolve(0))();function $w(s){"undefined"==typeof Zone?Hw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ma{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _s(!1),this.onMicrotaskEmpty=new _s(!1),this.onStable=new _s(!1),this.onError=new _s(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ER(){let s=Wt.requestAnimationFrame,o=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function TR(s){const o=()=>{!function CR(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Wt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qw(s),s.isCheckStableRunning=!0,Gw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return By(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),zw(s)}},onInvoke:(l,d,h,p,y,w,D)=>{try{return By(s),l.invoke(h,p,y,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),zw(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,qw(s),Gw(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ma.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ma.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,DR,Fy,Fy);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const DR={};function Gw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function By(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function zw(s){s._nesting--,Gw(s)}class mS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _s,this.onMicrotaskEmpty=new _s,this.onStable=new _s,this.onError=new _s}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let Ww=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ma.assertNotInAngularZone(),$w(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$w(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)($e(Ma))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),Fn=(()=>{class s{constructor(){this._applications=new Map,Zw.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Zw.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class Uy{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function go(s){Zw=s}let Zw=new Uy,fc=null;const Ee=new Hn("AllowMultipleToken"),Oa=new Hn("PlatformOnDestroy");class _S{constructor(o,l){this.name=o,this.token=l}}function ct(s,o,l=[]){const d=`Platform: ${o}`,h=new Hn(d);return(p=[])=>{let y=gf();if(!y||y.injector.get(Ee,!1)){const w=[...l,...p,{provide:h,useValue:!0}];s?s(w):function fl(s){if(fc&&!fc.get(Ee,!1))throw new Pe(400,"");fc=s;const o=s.get(Id),l=s.get(Vy,null);l&&l.forEach(d=>d())}(function Ht(s=[],o){return Bo.create({name:o,providers:[{provide:ul,useValue:"platform"},{provide:Oa,useValue:()=>fc=null},...s]})}(w,d))}return function jy(s){const o=gf();if(!o)throw new Pe(401,"");return o}()}}function gf(){var s;return null!==(s=null==fc?void 0:fc.get(Id))&&void 0!==s?s:null}let Id=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function yS(s,o){let l;return l="noop"===s?new mS:("zone.js"===s?void 0:s)||new Ma({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Ma,useValue:w}];return w.run(()=>{const S=Bo.create({providers:D,parent:this.injector,name:l.moduleType.name}),M=l.create(S),L=M.injector.get(Sp,null);if(!L)throw new Pe(402,"");return w.runOutsideAngular(()=>{const q=w.onError.subscribe({next:J=>{L.handleError(J)}});M.onDestroy(()=>{qy(this._modules,M),q.unsubscribe()})}),function $y(s,o,l){try{const d=l();return U_(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(L,w,()=>{const q=M.injector.get(Vw);return q.runInitializers(),q.donePromise.then(()=>(function k1(s){(function an(s,o){null==s&&qe(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Q_=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(jw,Y_)||Y_),this._moduleDoBootstrap(M),M))})})}bootstrapModule(l,d=[]){const h=Kw({},d);return function Mg(s,o,l){const d=new vy(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(Gy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Pe(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Oa,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)($e(Bo))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Kw(s,o){return Array.isArray(o)?o.reduce(Kw,s):Object.assign(Object.assign({},s),o)}let Gy=(()=>{class s{constructor(l,d,h,p){this._zone=l,this._injector=d,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new R.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new R.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ma.assertNotInAngularZone(),$w(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ma.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(y,w.pipe((0,ne.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Pe(405,"");let h;h=l instanceof py?l:this._injector.get(rf).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const p=function nn(s){return s.isBoundToModule}(h)?void 0:this._injector.get(lf),w=h.create(Bo.NULL,[],d||h.selector,p),D=w.location.nativeElement,S=w.injector.get(Ww,null),M=S&&w.injector.get(Fn);return S&&M&&M.registerApplication(D,S),w.onDestroy(()=>{this.detachView(w.hostView),qy(this.components,w),M&&M.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;qy(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(gS,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)($e(Ma),$e(Bo),$e(Sp),$e(Vw))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function qy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let ri=!0,pl=!1;function vS(){return pl=!0,ri}function bS(){if(pl)throw new Error("Cannot enable prod mode after platform setup.");ri=!1}let Qw=(()=>{class s{}return s.__NG_ELEMENT_ID__=zy,s})();function zy(s){return function Rg(s,o,l){if(Yo(s)&&!l){const d=Wr(s.index,o);return new wd(d,d)}return 47&s.type?new wd(o[16],o):null}(Tn(),Se(),16==(16&s))}class kg{constructor(){}supports(o){return Ki(o)}create(o){return new SS(o)}}const IS=(s,o)=>o;class SS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||IS}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<lE(d,h,p)?l:d,w=lE(y,h,p),D=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const S=w-h,M=D-h;if(S!=M){for(let q=0;q<S;q++){const J=q<p.length?p[q]:p[q]=0,be=J+q;M<=be&&be<S&&(p[q]=J+1)}p[y.previousIndex]=M-S}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ki(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function js(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[tc()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new Yy(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new aE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Yy{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class aE{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new oE,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lE(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class _i{constructor(){}supports(o){return o instanceof Map||Hh(o)}create(){return new _f}}class _f{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Hh(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new AS(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class AS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ad(){return new Qy([new kg])}let Qy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Ad()),deps:[[s,new qi,new Gi]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Pe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Ad}),s})();function yf(){return new Nd([new _i])}let Nd=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||yf()),deps:[[s,new qi,new Gi]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(d)return d;throw new Pe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:yf}),s})();const dE=ct(null,"core",[]);let hE=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)($e(Gy))},s.\u0275mod=k({type:s}),s.\u0275inj=on({}),s})()},3942:(pt,Ie,P)=>{P.d(Ie,{Z:()=>Pe});var u=P(2090),$=P(4859),R=P(9681),se=P(1877);class ne{constructor(ge,De){this._delegate=ge,this.firebase=De,(0,R._addComponent)(ge,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ge,De=R._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(ge);return!Ge.isInitialized()&&"EXPLICIT"===(null===(it=Ge.getComponent())||void 0===it?void 0:it.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:De})}_removeServiceInstance(ge,De=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(De)}_addComponent(ge){(0,R._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,R._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function pe(){const Be=function ce(Be){const ge={},De={__esModule:!0,initializeApp:function Oe(te,nt={}){const et=R.initializeApp(te,nt);if((0,u.r3)(ge,et.name))return ge[et.name];const oe=new Be(et,De);return ge[et.name]=oe,oe},app:Ge,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function we(te){const nt=te.name,et=nt.replace("-compat","");if(R._registerComponent(te)&&"PUBLIC"===te.type){const oe=(ie=Ge())=>{if("function"!=typeof ie[et])throw le.create("invalid-app-argument",{appName:nt});return ie[et]()};void 0!==te.serviceProps&&(0,u.ZB)(oe,te.serviceProps),De[et]=oe,Be.prototype[et]=function(...ie){return this._getService.bind(this,nt).apply(this,te.multipleInstances?ie:[])}}return"PUBLIC"===te.type?De[et]:null},removeApp:function it(te){delete ge[te]},useAsService:function Qe(te,nt){return"serverAuth"===nt?null:nt},modularAPIs:R}};function Ge(te){if(!(0,u.r3)(ge,te=te||R._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:te});return ge[te]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ne(){return Object.keys(ge).map(te=>ge[te])}}),Ge.App=Be,De}(ne);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(De){(0,u.ZB)(Be,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Be}(),z=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=W;!function Re(Be){(0,R.registerVersion)("@firebase/app-compat","0.1.23",Be)}()},9681:(pt,Ie,P)=>{P.r(Ie),P.d(Ie,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ns,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>pr,_addOrOverwriteComponent:()=>Ln,_apps:()=>qe,_clearComponents:()=>Vn,_components:()=>en,_getProvider:()=>tn,_registerComponent:()=>sn,_removeServiceInstance:()=>on,deleteApp:()=>Ds,getApp:()=>Dr,getApps:()=>Sr,initializeApp:()=>wi,onLog:()=>$n,registerVersion:()=>xr,setLogLevel:()=>un});var u=P(5861),$=P(4859),R=P(1877),se=P(2090);class ne{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ye(We){const Te=We.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(st)){const yt=st.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(st=>st).join(" ")}}const le="@firebase/app",pe=new R.Yd("@firebase/app"),Xt="[DEFAULT]",an={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qe=new Map,en=new Map;function pr(We,Te){try{We.container.addComponent(Te)}catch(st){pe.debug(`Component ${Te.name} failed to register with FirebaseApp ${We.name}`,st)}}function Ln(We,Te){We.container.addOrOverwriteComponent(Te)}function sn(We){const Te=We.name;if(en.has(Te))return pe.debug(`There were multiple attempts to register component ${Te}.`),!1;en.set(Te,We);for(const st of qe.values())pr(st,We);return!0}function tn(We,Te){const st=We.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),We.container.getProvider(Te)}function on(We,Te,st=Xt){tn(We,Te).clearInstance(st)}function Vn(){en.clear()}const Rr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ir{constructor(Te,st,yt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const ns="9.7.0";function wi(We,Te={}){"object"!=typeof Te&&(Te={name:Te});const st=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},Te),yt=st.name;if("string"!=typeof yt||!yt)throw Rr.create("bad-app-name",{appName:String(yt)});const Lt=qe.get(yt);if(Lt){if((0,se.vZ)(We,Lt.options)&&(0,se.vZ)(st,Lt.config))return Lt;throw Rr.create("duplicate-app",{appName:yt})}const Vt=new $.H0(yt);for(const j of en.values())Vt.addComponent(j);const Z=new Ir(We,st,Vt);return qe.set(yt,Z),Z}function Dr(We=Xt){const Te=qe.get(We);if(!Te)throw Rr.create("no-app",{appName:We});return Te}function Sr(){return Array.from(qe.values())}function Ds(We){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(We){const Te=We.name;qe.has(Te)&&(qe.delete(Te),yield Promise.all(We.container.getProviders().map(st=>st.delete())),We.isDeleted=!0)})).apply(this,arguments)}function xr(We,Te,st){var yt;let Lt=null!==(yt=an[We])&&void 0!==yt?yt:We;st&&(Lt+=`-${st}`);const Vt=Lt.match(/\s|\//),Z=Te.match(/\s|\//);if(Vt||Z){const j=[`Unable to register library "${Lt}" with version "${Te}":`];return Vt&&j.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Vt&&Z&&j.push("and"),Z&&j.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void pe.warn(j.join(" "))}sn(new $.wA(`${Lt}-version`,()=>({library:Lt,version:Te}),"VERSION"))}function $n(We,Te){if(null!==We&&"function"!=typeof We)throw Rr.create("invalid-log-argument");(0,R.Am)(We,Te)}function un(We){(0,R.Ub)(We)}const Gn="firebase-heartbeat-store";let Bn=null;function Gr(){return Bn||(Bn=(0,se.X3)("firebase-heartbeat-database",1,(We,Te)=>{0===Te&&We.createObjectStore(Gn)}).catch(We=>{throw Rr.create("storage-open",{originalErrorMessage:We.message})})),Bn}function qt(){return(qt=(0,u.Z)(function*(We){try{return(yield Gr()).transaction(Gn).objectStore(Gn).get(qr(We))}catch(Te){throw Rr.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function _t(We,Te){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(We,Te){try{const yt=(yield Gr()).transaction(Gn,"readwrite");return yield yt.objectStore(Gn).put(Te,qr(We)),yt.complete}catch(st){throw Rr.create("storage-set",{originalErrorMessage:st.message})}})).apply(this,arguments)}function qr(We){return`${We.name}!${We.options.appId}`}class is{constructor(Te){this.container=Te,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Et(st),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Te=this;return(0,u.Z)(function*(){const yt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=qn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Lt))return Te._heartbeatsCache.heartbeats.push({date:Lt,agent:yt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Vt=>{const Z=new Date(Vt.date).valueOf();return Date.now()-Z<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,u.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const st=qn(),{heartbeatsToSend:yt,unsentEntries:Lt}=function dn(We,Te=1024){const st=[];let yt=We.slice();for(const Lt of We){const Vt=st.find(Z=>Z.agent===Lt.agent);if(Vt){if(Vt.dates.push(Lt.date),zn(st)>Te){Vt.dates.pop();break}}else if(st.push({agent:Lt.agent,dates:[Lt.date]}),zn(st)>Te){st.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:st,unsentEntries:yt}}(Te._heartbeatsCache.heartbeats),Vt=(0,se.L)(JSON.stringify({version:2,heartbeats:yt}));return Te._heartbeatsCache.lastSentHeartbeatDate=st,Lt.length>0?(Te._heartbeatsCache.heartbeats=Lt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Vt})()}}function qn(){return(new Date).toISOString().substring(0,10)}class Et{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,u.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function yo(We){return qt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var st=this;return(0,u.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const Vt=yield st.read();return _t(st.app,{lastSentHeartbeatDate:null!==(yt=Te.lastSentHeartbeatDate)&&void 0!==yt?yt:Vt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var st=this;return(0,u.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const Vt=yield st.read();return _t(st.app,{lastSentHeartbeatDate:null!==(yt=Te.lastSentHeartbeatDate)&&void 0!==yt?yt:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Te.heartbeats]})}})()}}function zn(We){return(0,se.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Zt(We){sn(new $.wA("platform-logger",Te=>new ne(Te),"PRIVATE")),sn(new $.wA("heartbeat",Te=>new is(Te),"PRIVATE")),xr(le,"0.7.22",We),xr(le,"0.7.22","esm2017"),xr("fire-js","")}("")},4859:(pt,Ie,P)=>{P.d(Ie,{H0:()=>ce,wA:()=>R});var u=P(5861),$=P(2090);class R{constructor(W,z,ee){this.name=W,this.instanceFactory=z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const se="[DEFAULT]";class ne{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const ee=new $.BH;if(this.instancesDeferred.set(z,ee),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:z});Ze&&ee.resolve(Ze)}catch(Ze){}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const ee=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),Ze=null!==(z=null==W?void 0:W.optional)&&void 0!==z&&z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Re){if(Ze)return null;throw Re}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function le(pe){return"EAGER"===pe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch(z){}for(const[z,ee]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(z);try{const Re=this.getOrInitializeService({instanceIdentifier:Ze});ee.resolve(Re)}catch(Re){}}}}clearInstance(W=se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=se){return this.instances.has(W)}getOptions(W=se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:ee,options:z});for(const[Re,Pe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Re)&&Pe.resolve(Ze);return Ze}onInit(W,z){var ee;const Ze=this.normalizeInstanceIdentifier(z),Re=null!==(ee=this.onInitCallbacks.get(Ze))&&void 0!==ee?ee:new Set;Re.add(W),this.onInitCallbacks.set(Ze,Re);const Pe=this.instances.get(Ze);return Pe&&W(Pe,Ze),()=>{Re.delete(W)}}invokeOnInitCallbacks(W,z){const ee=this.onInitCallbacks.get(z);if(ee)for(const Ze of ee)try{Ze(W,z)}catch(Re){}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=W,pe===se?void 0:pe),options:z}),this.instances.set(W,ee),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch(Ze){}var pe;return ee||null}normalizeInstanceIdentifier(W=se){return this.component?this.component.multipleInstances?W:se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new ne(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Ie,P)=>{P.d(Ie,{Am:()=>pe,Ub:()=>ce,Yd:()=>le,in:()=>$});const u=[];var $=(()=>{return(W=$||($={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",$;var W})();const R={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},se=$.INFO,ne={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ye=(W,z,...ee)=>{if(z<W.logLevel)return;const Ze=(new Date).toISOString(),Re=ne[z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Re](`[${Ze}]  ${W.name}:`,...ee)};class le{constructor(z){this.name=z,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in $))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?R[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...z),this._logHandler(this,$.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...z),this._logHandler(this,$.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...z),this._logHandler(this,$.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...z),this._logHandler(this,$.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...z),this._logHandler(this,$.ERROR,...z)}}function ce(W){u.forEach(z=>{z.setLogLevel(W)})}function pe(W,z){for(const ee of u){let Ze=null;z&&z.level&&(Ze=R[z.level]),ee.userLogHandler=null===W?null:(Re,Pe,...Be)=>{const ge=Be.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(it){return null}}).filter(De=>De).join(" ");Pe>=(null!=Ze?Ze:Re.logLevel)&&W({level:$[Pe].toLowerCase(),message:ge,args:Be,type:Re.name})}}}},5861:(pt,Ie,P)=>{function u(R,se,ne,ye,le,ce,pe){try{var W=R[ce](pe),z=W.value}catch(ee){return void ne(ee)}W.done?se(z):Promise.resolve(z).then(ye,le)}function $(R){return function(){var se=this,ne=arguments;return new Promise(function(ye,le){var ce=R.apply(se,ne);function pe(z){u(ce,ye,le,pe,W,"next",z)}function W(z){u(ce,ye,le,pe,W,"throw",z)}pe(void 0)})}}P.d(Ie,{Z:()=>$})}},pt=>{pt(pt.s=3986)}]);