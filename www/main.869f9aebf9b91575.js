"use strict";(self.webpackChunkproject_cni=self.webpackChunkproject_cni||[]).push([[179],{2011:(mt,Ie,P)=>{P.d(Ie,{Dh:()=>ce,GT:()=>ve,cc:()=>xe,hO:()=>Ke,on:()=>W,pX:()=>ne,xv:()=>pe});var l=P(5e3),$=P(127),x=P(5813);mt=P.hmd(mt);const se=["ngOnDestroy"],ne=(De,st,Ge,Oe={})=>new Proxy(De,{get:(Ne,we)=>Ge.runOutsideAngular(()=>{var Je;if(De[we])return(null===(Je=null==Oe?void 0:Oe.spy)||void 0===Je?void 0:Je.get)&&Oe.spy.get(we,De[we]),De[we];if(se.indexOf(we)>-1)return()=>{};const te=st.toPromise().then(nt=>{const et=nt&&nt[we];return"function"==typeof et?et.bind(nt):et&&et.then?et.then(oe=>Ge.run(()=>oe)):Ge.run(()=>et)});return new Proxy(()=>{},{get:(nt,et)=>te[et],apply:(nt,et,oe)=>te.then(ie=>{var ae;const Ce=ie&&ie(...oe);return(null===(ae=null==Oe?void 0:Oe.spy)||void 0===ae?void 0:ae.apply)&&Oe.spy.apply(we,oe,Ce),Ce})})})}),ve=(De,st)=>{st.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Oe=>{Object.defineProperty(De.prototype,Oe,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Oe))})})};class le{constructor(st){return st}}const ce=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function W(De,st,Ge){const Ne="object"==typeof Ge&&Ge||{};Ne.name=Ne.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Je=$.Z.apps.filter(te=>te&&te.name===Ne.name)[0]||st.runOutsideAngular(()=>$.Z.initializeApp(De,Ne));try{JSON.stringify(De)!==JSON.stringify(Je.options)&&q("error",`${Je.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(te){}return new le(Je)}const q=(De,...st)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...st)},ee={provide:le,useFactory:W,deps:[ce,l.R0b,[new l.FiY,pe]]};let Ke=(()=>{class De{constructor(Ge){$.Z.registerVersion("angularfire",x.q4.full,"core"),$.Z.registerVersion("angularfire",x.q4.full,"app-compat"),$.Z.registerVersion("angular",l.q4F.full,Ge.toString())}static initializeApp(Ge,Oe){return{ngModule:De,providers:[{provide:ce,useValue:Ge},{provide:pe,useValue:Oe}]}}}return De.\u0275fac=function(Ge){return new(Ge||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[ee]}),De})();function xe(De,st,Ge,Oe,Ne){const[,we,Je]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===De)||[];if(we)return function Pe(De,st){try{return De.toString()===st.toString()}catch(Ge){return De===st}}(Ne,Je)||(ge("error",`${st} was already initialized on the ${Ge} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ne,was:Je})),we;{const te=Oe();return globalThis.\u0275AngularfireInstanceCache.push([De,te,Ne]),te}}const Ve=!!mt.hot,ge=(De,...st)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,Ie,P)=>{P.d(Ie,{q4:()=>il,iC:()=>so,HU:()=>Id,vb:()=>Kl,JM:()=>gg,u3:()=>Sd});var l=P(5e3),$=P(5867),x=P(5861),se=P(9681),ne=P(2090),ve=P(4859),le=P(1877);const ce="@firebase/installations",q="w:0.5.8",ee="FIS_v2",De=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(C){return C instanceof ne.ZR&&C.code.includes("request-failed")}function Ge({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Oe(C){return{token:C.token,requestStatus:2,expiresIn:oe(C.expiresIn),creationTime:Date.now()}}function Ne(C,I){return we.apply(this,arguments)}function we(){return(we=(0,x.Z)(function*(C,I){const U=(yield I.json()).error;return De.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function te(C,{refreshToken:I}){const O=Je(C);return O.append("Authorization",function ie(C){return`${ee} ${C}`}(I)),O}function nt(C){return et.apply(this,arguments)}function et(){return(et=(0,x.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function oe(C){return Number(C.replace("s","000"))}function ae(C,I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,x.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:O}){const U=Ge(C),Q=Je(C),re=I.getImmediate({optional:!0});if(re){const Ct=yield re.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const $e={method:"POST",headers:Q,body:JSON.stringify({fid:O,authVersion:ee,appId:C.appId,sdkVersion:q})},Mt=yield nt(()=>fetch(U,$e));if(Mt.ok){const Ct=yield Mt.json();return{fid:Ct.fid||O,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Oe(Ct.authToken)}}throw yield Ne("Create Installation",Mt)})).apply(this,arguments)}function fe(C){return new Promise(I=>{setTimeout(I,C)})}const kt=/^[cdef][\w-]{21}$/;function ln(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function ze(C){return function Fe(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return kt.test(O)?O:""}catch(C){return""}}function tn(C){return`${C.appName}!${C.appId}`}const dr=new Map;function kn(C,I){const O=tn(C);on(O,I),function Fn(C,I){const O=function Fr(){return!Cr&&"BroadcastChannel"in self&&(Cr=new BroadcastChannel("[Firebase] FID Change"),Cr.onmessage=C=>{on(C.data.key,C.data.fid)}),Cr}();O&&O.postMessage({key:C,fid:I}),function Or(){0===dr.size&&Cr&&(Cr.close(),Cr=null)}()}(O,I)}function on(C,I){const O=dr.get(C);if(O)for(const U of O)U(I)}let Cr=null;const Tr="firebase-installations-store";let xr=null;function _s(){return xr||(xr=(0,ne.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Tr)})),xr}function _t(C,I){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,x.Z)(function*(C,I){const O=tn(C),Q=(yield _s()).transaction(Tr,"readwrite"),re=Q.objectStore(Tr),_e=yield re.get(O);return yield re.put(I,O),yield Q.complete,(!_e||_e.fid!==I.fid)&&kn(C,I.fid),I})).apply(this,arguments)}function Hn(C){return un.apply(this,arguments)}function un(){return(un=(0,x.Z)(function*(C){const I=tn(C),U=(yield _s()).transaction(Tr,"readwrite");yield U.objectStore(Tr).delete(I),yield U.complete})).apply(this,arguments)}function er(C,I){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,x.Z)(function*(C,I){const O=tn(C),Q=(yield _s()).transaction(Tr,"readwrite"),re=Q.objectStore(Tr),_e=yield re.get(O),$e=I(_e);return void 0===$e?yield re.delete(O):yield re.put($e,O),yield Q.complete,$e&&(!_e||_e.fid!==$e.fid)&&kn(C,$e.fid),$e})).apply(this,arguments)}function $n(C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,x.Z)(function*(C){let I;const O=yield er(C.appConfig,U=>{const Q=Kr(U),re=_o(C,Q);return I=re.registrationPromise,re.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Kr(C){return Kt(C||{fid:ln(),registrationStatus:0})}function _o(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(De.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function qt(C,I){return yt.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ct(C)}:{installationEntry:I}}function yt(){return(yt=(0,x.Z)(function*(C,I){try{const O=yield ae(C,I);return _t(C.appConfig,O)}catch(O){throw st(O)&&409===O.customData.serverCode?yield Hn(C.appConfig):yield _t(C.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ct(C){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,x.Z)(function*(C){let I=yield ss(C.appConfig);for(;1===I.registrationStatus;)yield fe(100),I=yield ss(C.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield $n(C);return U||O}return I})).apply(this,arguments)}function ss(C){return er(C,I=>{if(!I)throw De.create("installation-not-found");return Kt(I)})}function Kt(C){return function os(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Gn(C,I){return dn.apply(this,arguments)}function dn(){return(dn=(0,x.Z)(function*({appConfig:C,heartbeatServiceProvider:I},O){const U=Et(C,O),Q=te(C,O),re=I.getImmediate({optional:!0});if(re){const Ct=yield re.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const $e={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:q,appId:C.appId}})},Mt=yield nt(()=>fetch(U,$e));if(Mt.ok)return Oe(yield Mt.json());throw yield Ne("Generate Auth Token",Mt)})).apply(this,arguments)}function Et(C,{fid:I}){return`${Ge(C)}/${I}/authTokens:generate`}function zn(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,x.Z)(function*(C,I=!1){let O;const U=yield er(C.appConfig,re=>{if(!jt(re))throw De.create("not-registered");const _e=re.authToken;if(!I&&Z(_e))return re;if(1===_e.requestStatus)return O=We(C,I),re;{if(!navigator.onLine)throw De.create("app-offline");const $e=K(re);return O=vt(C,$e),$e}});return O?yield O:U.authToken})).apply(this,arguments)}function We(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,x.Z)(function*(C,I){let O=yield ot(C.appConfig);for(;1===O.authToken.requestStatus;)yield fe(100),O=yield ot(C.appConfig);const U=O.authToken;return 0===U.requestStatus?zn(C,I):U})).apply(this,arguments)}function ot(C){return er(C,I=>{if(!jt(I))throw De.create("not-registered");return function he(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function vt(C,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,x.Z)(function*(C,I){try{const O=yield Gn(C,I),U=Object.assign(Object.assign({},I),{authToken:O});return yield _t(C.appConfig,U),O}catch(O){if(!st(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield _t(C.appConfig,U)}else yield Hn(C.appConfig);throw O}})).apply(this,arguments)}function jt(C){return void 0!==C&&2===C.registrationStatus}function Z(C){return 2===C.requestStatus&&!function j(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function K(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function V(){return(V=(0,x.Z)(function*(C){const I=C,{installationEntry:O,registrationPromise:U}=yield $n(I);return U?U.catch(console.error):zn(I).catch(console.error),O.fid})).apply(this,arguments)}function ue(){return(ue=(0,x.Z)(function*(C,I=!1){const O=C;return yield je(O),(yield zn(O,I)).token})).apply(this,arguments)}function je(C){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,x.Z)(function*(C){const{registrationPromise:I}=yield $n(C);I&&(yield I)})).apply(this,arguments)}function or(C){return De.create("missing-app-config-values",{valueName:C})}const kl="installations",Xe=C=>{const I=C.getProvider("app").getImmediate(),O=function Vi(C){if(!C||!C.options)throw or("App Configuration");if(!C.name)throw or("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!C.options[O])throw or(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Wt=C=>{const I=C.getProvider("app").getImmediate(),O=(0,se._getProvider)(I,kl).getImmediate();return{getId:()=>function k(C){return V.apply(this,arguments)}(O),getToken:Q=>function H(C){return ue.apply(this,arguments)}(O,Q)}};(function vn(){(0,se._registerComponent)(new ve.wA(kl,Xe,"PUBLIC")),(0,se._registerComponent)(new ve.wA("installations-internal",Wt,"PRIVATE"))})(),(0,se.registerVersion)(ce,"0.5.8"),(0,se.registerVersion)(ce,"0.5.8","esm2017");const Br="@firebase/remote-config",qn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lu{constructor(I,O,U,Q){this.client=I,this.storage=O,this.storageCache=U,this.logger=Q}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,Q=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var O=this;return(0,x.Z)(function*(){const[U,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(I.cacheMaxAgeMillis,U))return Q;I.eTag=Q&&Q.eTag;const re=yield O.client.fetch(I),_e=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&_e.push(O.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(_e),re})()}}function us(C=navigator){return C.languages&&C.languages[0]||C.language}class qs{constructor(I,O,U,Q,re,_e){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=U,this.projectId=Q,this.apiKey=re,this.appId=_e}fetch(I){var O=this;return(0,x.Z)(function*(){const[U,Q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),_e=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Mt={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:O.appId,language_code:us()},Ct={method:"POST",headers:$e,body:JSON.stringify(Mt)},Qt=fetch(_e,Ct),At=new Promise((xi,Wi)=>{I.signal.addEventListener(()=>{const Jl=new Error("The operation was aborted.");Jl.name="AbortError",Wi(Jl)})});let Hr;try{yield Promise.race([Qt,At]),Hr=yield Qt}catch(xi){let Wi="fetch-client-network";throw"AbortError"===xi.name&&(Wi="fetch-timeout"),qn.create(Wi,{originalErrorMessage:xi.message})}let mr=Hr.status;const Os=Hr.headers.get("ETag")||void 0;let ps,qi;if(200===Hr.status){let xi;try{xi=yield Hr.json()}catch(Wi){throw qn.create("fetch-client-parse",{originalErrorMessage:Wi.message})}ps=xi.entries,qi=xi.state}if("INSTANCE_STATE_UNSPECIFIED"===qi?mr=500:"NO_CHANGE"===qi?mr=304:("NO_TEMPLATE"===qi||"EMPTY_CONFIG"===qi)&&(ps={}),304!==mr&&200!==mr)throw qn.create("fetch-status",{httpStatus:mr});return{status:mr,eTag:Os,config:ps}})()}}class bs{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,x.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:U}){var Q=this;return(0,x.Z)(function*(){yield function fi(C,I){return new Promise((O,U)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),U(qn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const re=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function ig(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(re))throw re;const _e={throttleEndTimeMillis:Date.now()+(0,ne.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(_e),Q.attemptFetch(I,_e)}})()}}class og{constructor(I,O,U,Q,re){this.app=I,this._client=O,this._storageCache=U,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ja(C,I){const O=C.target.error||void 0;return qn.create(I,{originalErrorMessage:O&&O.message})}const sa="app_namespace_store";class dd{constructor(I,O,U,Q=function lg(){return new Promise((C,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{I(ja(U,"storage-open"))},O.onsuccess=U=>{C(U.target.result)},O.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(sa,{keyPath:"compositeKey"})}}catch(O){I(qn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,x.Z)(function*(){const U=yield O.openDbPromise;return new Promise((Q,re)=>{const $e=U.transaction([sa],"readonly").objectStore(sa),Mt=O.createCompositeKey(I);try{const Ct=$e.get(Mt);Ct.onerror=Qt=>{re(ja(Qt,"storage-get"))},Ct.onsuccess=Qt=>{const At=Qt.target.result;Q(At?At.value:void 0)}}catch(Ct){re(qn.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(I,O){var U=this;return(0,x.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((re,_e)=>{const Mt=Q.transaction([sa],"readwrite").objectStore(sa),Ct=U.createCompositeKey(I);try{const Qt=Mt.put({compositeKey:Ct,value:O});Qt.onerror=At=>{_e(ja(At,"storage-set"))},Qt.onsuccess=()=>{re()}}catch(Qt){_e(qn.create("storage-set",{originalErrorMessage:Qt&&Qt.message}))}})})()}delete(I){var O=this;return(0,x.Z)(function*(){const U=yield O.openDbPromise;return new Promise((Q,re)=>{const $e=U.transaction([sa],"readwrite").objectStore(sa),Mt=O.createCompositeKey(I);try{const Ct=$e.delete(Mt);Ct.onerror=Qt=>{re(ja(Qt,"storage-delete"))},Ct.onsuccess=()=>{Q()}}catch(Ct){re(qn.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class oa{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,x.Z)(function*(){const O=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),re=yield O;re&&(I.lastFetchStatus=re);const _e=yield U;_e&&(I.lastSuccessfulFetchTimestampMillis=_e);const $e=yield Q;$e&&(I.activeConfig=$e)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function hd(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,x.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}!function ug(){(0,se._registerComponent)(new ve.wA("remote-config",function C(I,{instanceIdentifier:O}){const U=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qn.create("registration-window");if(!(0,ne.hl)())throw qn.create("indexed-db-unavailable");const{projectId:re,apiKey:_e,appId:$e}=U.options;if(!re)throw qn.create("registration-project-id");if(!_e)throw qn.create("registration-api-key");if(!$e)throw qn.create("registration-app-id");const Mt=new dd($e,U.name,O=O||"firebase"),Ct=new oa(Mt),Qt=new le.Yd(Br);Qt.logLevel=le.in.ERROR;const At=new qs(Q,se.SDK_VERSION,O,re,_e,$e),Hr=new bs(At,Mt),mr=new Lu(Hr,Mt,Ct,Qt),Os=new og(U,mr,Ct,Mt,Qt);return function Wn(C){const I=(0,ne.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Os),Os},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Br,"0.3.7"),(0,se.registerVersion)(Br,"0.3.7","esm2017")}();const ws="/firebase-messaging-sw.js",Ha="/firebase-cloud-messaging-push-scope",Ni="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aa="google.c.a.c_id",Ul="google.c.a.c_l",$h="google.c.a.ts",$a="google.c.a.e";var Ui=(()=>{return(C=Ui||(Ui={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ui;var C})();function Es(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jl(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),Q=new Uint8Array(U.length);for(let re=0;re<U.length;++re)Q[re]=U.charCodeAt(re);return Q}const Ga="fcm_token_details_db",la="fcm_token_object_Store";function cg(C){return ua.apply(this,arguments)}function ua(){return ua=(0,x.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Ga))return null;let I=null;return(yield(0,ne.X3)(Ga,5,function(){var U=(0,x.Z)(function*(Q,re,_e,$e){var Mt;if(re<2||!Q.objectStoreNames.contains(la))return;const Ct=$e.objectStore(la),Qt=yield Ct.index("fcmSenderId").get(C);if(yield Ct.clear(),Qt)if(2===re){const At=Qt;if(!At.auth||!At.p256dh||!At.endpoint)return;I={token:At.fcmToken,createTime:null!==(Mt=At.createTime)&&void 0!==Mt?Mt:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:Es(At.vapidKey)}}}else if(3===re){const At=Qt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Es(At.auth),p256dh:Es(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Es(At.vapidKey)}}}else if(4===re){const At=Qt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Es(At.auth),p256dh:Es(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Es(At.vapidKey)}}}});return function(Q,re,_e,$e){return U.apply(this,arguments)}}())).close(),yield(0,ne.Lj)(Ga),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Vu(I)?I:null}),ua.apply(this,arguments)}function Vu(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Zs="firebase-messaging-store";let bo=null;function Bu(){return bo||(bo=(0,ne.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(Zs)})),bo}function Tn(C){return wo.apply(this,arguments)}function wo(){return(wo=(0,x.Z)(function*(C){const I=Ks(C),U=yield(yield Bu()).transaction(Zs).objectStore(Zs).get(I);if(U)return U;{const Q=yield cg(C.appConfig.senderId);if(Q)return yield Eo(C,Q),Q}})).apply(this,arguments)}function Eo(C,I){return bn.apply(this,arguments)}function bn(){return(bn=(0,x.Z)(function*(C,I){const O=Ks(C),Q=(yield Bu()).transaction(Zs,"readwrite");return yield Q.objectStore(Zs).put(I,O),yield Q.complete,I})).apply(this,arguments)}function Uu(C){return ca.apply(this,arguments)}function ca(){return(ca=(0,x.Z)(function*(C){const I=Ks(C),U=(yield Bu()).transaction(Zs,"readwrite");yield U.objectStore(Zs).delete(I),yield U.complete})).apply(this,arguments)}function Ks({appConfig:C}){return C.appId}const ar=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $l(C,I){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,x.Z)(function*(C,I){const O=yield cs(C),U=Dt(I),Q={method:"POST",headers:O,body:JSON.stringify(U)};let re;try{re=yield(yield fetch(ji(C.appConfig),Q)).json()}catch(_e){throw ar.create("token-subscribe-failed",{errorInfo:_e})}if(re.error)throw ar.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw ar.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Jr(C,I){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,x.Z)(function*(C,I){const O=yield cs(C),U=Dt(I.subscriptionOptions),Q={method:"PATCH",headers:O,body:JSON.stringify(U)};let re;try{re=yield(yield fetch(`${ji(C.appConfig)}/${I.token}`,Q)).json()}catch(_e){throw ar.create("token-update-failed",{errorInfo:_e})}if(re.error)throw ar.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw ar.create("token-update-no-token");return re.token})).apply(this,arguments)}function Do(C,I){return da.apply(this,arguments)}function da(){return(da=(0,x.Z)(function*(C,I){const U={method:"DELETE",headers:yield cs(C)};try{const re=yield(yield fetch(`${ji(C.appConfig)}/${I}`,U)).json();if(re.error)throw ar.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw ar.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function ji({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function cs(C){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,x.Z)(function*({appConfig:C,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Dt({p256dh:C,auth:I,endpoint:O,vapidKey:U}){const Q={web:{endpoint:O,auth:I,p256dh:C}};return U!==Ni&&(Q.web.applicationPubKey=U),Q}const za=6048e5;function pd(C){return ha.apply(this,arguments)}function ha(){return(ha=(0,x.Z)(function*(C){const I=yield zh(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:Es(I.getKey("auth")),p256dh:Es(I.getKey("p256dh"))},U=yield Tn(C.firebaseDependencies);if(U){if(Gl(U.subscriptionOptions,O))return Date.now()>=U.createTime+za?Gh(C,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield Do(C.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return Ae(C.firebaseDependencies,O)}return Ae(C.firebaseDependencies,O)})).apply(this,arguments)}function gd(C){return fa.apply(this,arguments)}function fa(){return(fa=(0,x.Z)(function*(C){const I=yield Tn(C.firebaseDependencies);I&&(yield Do(C.firebaseDependencies,I.token),yield Uu(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Gh(C,I){return qa.apply(this,arguments)}function qa(){return(qa=(0,x.Z)(function*(C,I){try{const O=yield Jr(C.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield Eo(C.firebaseDependencies,U),O}catch(O){throw yield gd(C),O}})).apply(this,arguments)}function Ae(C,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,x.Z)(function*(C,I){const U={token:yield $l(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Eo(C,U),U.token})).apply(this,arguments)}function zh(C,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,x.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jl(I)})})).apply(this,arguments)}function Gl(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Ys(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Hi(C,I){if(!I.notification)return;C.notification={};const O=I.notification.title;O&&(C.notification.title=O);const U=I.notification.body;U&&(C.notification.body=U);const Q=I.notification.image;Q&&(C.notification.image=Q)}(I,C),function ju(C,I){!I.data||(C.data=I.data)}(I,C),function Wa(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const O=I.fcmOptions.link;O&&(C.fcmOptions.link=O);const U=I.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(I,C),I}function dg(C){return"object"==typeof C&&!!C&&aa in C}function Hu(C,I){const O=[];for(let U=0;U<C.length;U++)O.push(C.charAt(U)),U<I.length&&O.push(I.charAt(U));return O.join("")}function ga(C){return ar.create("missing-app-config-values",{valueName:C})}Hu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pr{constructor(I,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function pa(C){if(!C||!C.options)throw ga("App Configuration Object");if(!C.name)throw ga("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const U of I)if(!O[U])throw ga(U);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function ds(C){return ma.apply(this,arguments)}function ma(){return(ma=(0,x.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ws,{scope:Ha}),C.swRegistration.update().catch(()=>{})}catch(I){throw ar.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function _a(C,I){return pi.apply(this,arguments)}function pi(){return(pi=(0,x.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield ds(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ar.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function qh(C,I){return ya.apply(this,arguments)}function ya(){return(ya=(0,x.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Ni)})).apply(this,arguments)}function Za(){return(Za=(0,x.Z)(function*(C,I){if(!navigator)throw ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ar.create("permission-blocked");return yield qh(C,null==I?void 0:I.vapidKey),yield _a(C,null==I?void 0:I.serviceWorkerRegistration),pd(C)})).apply(this,arguments)}function $u(C,I,O){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,x.Z)(function*(C,I,O){const U=Wh(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[aa],message_name:O[Ul],message_time:O[$h],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wh(C){switch(C){case Ui.NOTIFICATION_CLICKED:return"notification_open";case Ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zu(){return(zu=(0,x.Z)(function*(C,I){const O=I.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===Ui.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ys(O)):C.onMessageHandler.next(Ys(O)));const U=O.data;dg(U)&&"1"===U[$a]&&(yield $u(C,O.messageType,U))})).apply(this,arguments)}const zl="@firebase/messaging",Co=C=>{const I=new pr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Gu(C,I){return zu.apply(this,arguments)}(I,O)),I},qu=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:U=>function md(C,I){return Za.apply(this,arguments)}(I,U)}};function _d(){return To.apply(this,arguments)}function To(){return(To=(0,x.Z)(function*(){try{yield(0,ne.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zh(){(0,se._registerComponent)(new ve.wA("messaging",Co,"PUBLIC")),(0,se._registerComponent)(new ve.wA("messaging-internal",qu,"PRIVATE")),(0,se.registerVersion)(zl,"0.9.12"),(0,se.registerVersion)(zl,"0.9.12","esm2017")}();const Zu="analytics",yd="firebase_id",Ku="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ql="https://www.googletagmanager.com/gtag/js",lr=new le.Yd("@firebase/analytics");function vd(C){return Promise.all(C.map(I=>I.catch(O=>O)))}function bd(C,I){const O=document.createElement("script");O.src=`${ql}?l=${C}&id=${I}`,O.async=!0,document.head.appendChild(O)}function Wl(C,I,O,U,Q,re){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,x.Z)(function*(C,I,O,U,Q,re){const _e=U[Q];try{if(_e)yield I[_e];else{const Mt=(yield vd(O)).find(Ct=>Ct.measurementId===Q);Mt&&(yield I[Mt.appId])}}catch($e){lr.error($e)}C("config",Q,re)})).apply(this,arguments)}function Yh(C,I,O,U,Q){return eo.apply(this,arguments)}function eo(){return(eo=(0,x.Z)(function*(C,I,O,U,Q){try{let re=[];if(Q&&Q.send_to){let _e=Q.send_to;Array.isArray(_e)||(_e=[_e]);const $e=yield vd(O);for(const Mt of _e){const Ct=$e.find(At=>At.measurementId===Mt),Qt=Ct&&I[Ct.appId];if(!Qt){re=[];break}re.push(Qt)}}0===re.length&&(re=Object.values(I)),yield Promise.all(re),C("event",U,Q||{})}catch(re){lr.error(re)}})).apply(this,arguments)}function B_(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(ql))return I;return null}const gr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xn=new class Kn{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Ed(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function tr(C){return to.apply(this,arguments)}function to(){return(to=(0,x.Z)(function*(C){var I;const{appId:O,apiKey:U}=C,Q={method:"GET",headers:Ed(U)},re=Ku.replace("{app-id}",O),_e=yield fetch(re,Q);if(200!==_e.status&&304!==_e.status){let $e="";try{const Mt=yield _e.json();(null===(I=Mt.error)||void 0===I?void 0:I.message)&&($e=Mt.error.message)}catch(Mt){}throw gr.create("config-fetch-failed",{httpStatus:_e.status,responseMessage:$e})}return _e.json()})).apply(this,arguments)}function Qu(C){return Is.apply(this,arguments)}function Is(){return(Is=(0,x.Z)(function*(C,I=xn,O){const{appId:U,apiKey:Q,measurementId:re}=C.options;if(!U)throw gr.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:U};throw gr.create("no-api-key")}const _e=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Dd;return setTimeout((0,x.Z)(function*(){$e.abort()}),void 0!==O?O:6e4),va({appId:U,apiKey:Q,measurementId:re},_e,$e,I)})).apply(this,arguments)}function va(C,I,O){return $i.apply(this,arguments)}function $i(){return($i=(0,x.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:O},U,Q=xn){const{appId:re,measurementId:_e}=C;try{yield Pt(U,I)}catch($e){if(_e)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:re,measurementId:_e};throw $e}try{const $e=yield tr(C);return Q.deleteThrottleMetadata(re),$e}catch($e){if(!Ju($e)){if(Q.deleteThrottleMetadata(re),_e)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:re,measurementId:_e};throw $e}const Mt=503===Number($e.customData.httpStatus)?(0,ne.$s)(O,Q.intervalMillis,30):(0,ne.$s)(O,Q.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Mt,backoffCount:O+1};return Q.setThrottleMetadata(re,Ct),lr.debug(`Calling attemptFetch again in ${Mt} millis`),va(C,Ct,U,Q)}})).apply(this,arguments)}function Pt(C,I){return new Promise((O,U)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),U(gr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Ju(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Dd{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ba(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,x.Z)(function*(){if(!(0,ne.hl)())return lr.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(C){return lr.warn(gr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function no(){return(no=(0,x.Z)(function*(C,I,O,U,Q,re,_e){var $e;const Mt=Qu(C);Mt.then(mr=>{O[mr.measurementId]=mr.appId,C.options.measurementId&&mr.measurementId!==C.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mr=>lr.error(mr)),I.push(Mt);const Ct=ba().then(mr=>{if(mr)return U.getId()}),[Qt,At]=yield Promise.all([Mt,Ct]);B_()||bd(re,Qt.measurementId),Q("js",new Date);const Hr=null!==($e=null==_e?void 0:_e.config)&&void 0!==$e?$e:{};return Hr.origin="firebase",Hr.update=!0,null!=At&&(Hr[yd]=At),Q("config",Qt.measurementId,Hr),Qt.measurementId})).apply(this,arguments)}class Xa{constructor(I){this.app=I}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},So=[];const gi={};let Ao,Ss,ro="dataLayer",Xu=!1;function wa(C,I,O){!function ti(){const C=[];if((0,ne.ru)()&&C.push("This is a browser extension environment."),(0,ne.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),O=gr.create("invalid-analytics-context",{errorInfo:I});lr.warn(O.message)}}();const U=C.options.appId;if(!U)throw gr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw gr.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[U])throw gr.create("already-exists",{id:U});if(!Xu){!function Ts(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(ro);const{wrappedGtag:re,gtagCore:_e}=function wd(C,I,O,U,Q){let re=function(..._e){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function Yu(C,I,O,U){function re(){return(re=(0,x.Z)(function*(_e,$e,Mt){try{"event"===_e?yield Yh(C,I,O,$e,Mt):"config"===_e?yield Wl(C,I,O,U,$e,Mt):C("set",$e)}catch(Ct){lr.error(Ct)}})).apply(this,arguments)}return function Q(_e,$e,Mt){return re.apply(this,arguments)}}(re,C,I,O),{gtagCore:re,wrappedGtag:window[Q]}}(ei,So,gi,ro,"gtag");Ss=re,Ao=_e,Xu=!0}return ei[U]=function gn(C,I,O,U,Q,re,_e){return no.apply(this,arguments)}(C,So,gi,I,Ao,ro,O),new Xa(C)}function tl(){return(tl=(0,x.Z)(function*(C,I,O,U,Q){if(Q&&Q.global)C("event",O,U);else{const re=yield I;C("event",O,Object.assign(Object.assign({},U),{send_to:re}))}})).apply(this,arguments)}function In(){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,x.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}const No="@firebase/analytics";!function pg(){(0,se._registerComponent)(new ve.wA(Zu,(I,{options:O})=>wa(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new ve.wA("analytics-internal",function C(I){try{const O=I.getProvider(Zu).getImmediate();return{logEvent:(U,Q,re)=>function Qh(C,I,O,U){C=(0,ne.m9)(C),function io(C,I,O,U,Q){return tl.apply(this,arguments)}(Ss,ei[C.app.options.appId],I,O,U).catch(Q=>lr.error(Q))}(O,U,Q,re)}}catch(O){throw gr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(No,"0.7.8"),(0,se.registerVersion)(No,"0.7.8","esm2017")}();var fs=P(4408),Da=P(7565);const nl=new class ir extends Da.v{}(class Mo extends fs.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,O,U):I.flush(this)}});var Td=P(4986),rl=P(8306),ri=P(8505),Gi=P(9468),Ca=P(5363);const il=new l.GfV("7.3.0"),mi="__angularfire_symbol__analyticsIsSupportedValue",Ta="__angularfire_symbol__analyticsIsSupported",nc="__angularfire_symbol__remoteConfigIsSupportedValue",rc="__angularfire_symbol__remoteConfigIsSupported",ic="__angularfire_symbol__messagingIsSupportedValue",Ht="__angularfire_symbol__messagingIsSupported";function gg(C,I,O){if(I){if(1===I.length)return I[0];const re=I.filter(_e=>_e.app===O);if(1===re.length)return re[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ta]||(globalThis[Ta]=In().then(C=>globalThis[mi]=C).catch(()=>globalThis[mi]=!1)),globalThis[Ht]||(globalThis[Ht]=_d().then(C=>globalThis[ic]=C).catch(()=>globalThis[ic]=!1)),globalThis[rc]||(globalThis[rc]=hd().then(C=>globalThis[nc]=C).catch(()=>globalThis[nc]=!1));const Kl=(C,I)=>{const O=I?[I]:(0,$.C6)(),U=[];return O.forEach(Q=>{Q.container.getProvider(C).instances.forEach(_e=>{U.includes(_e)||U.push(_e)})}),U};function Ia(){}class _i{constructor(I,O=nl){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,U){const Q=this.zone;return this.delegate.schedule(function(_e){Q.runGuarded(()=>{I.apply(this,[_e])})},O,U)}}class Yl{constructor(I){this.zone=I,this.task=null}call(I,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ia,{},Ia,Ia)),O.pipe((0,ri.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Id=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new _i(Zone.current)),this.insideAngular=O.run(()=>new _i(Zone.current,Td.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function zi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Jh(C){return zi().ngZone.runOutsideAngular(()=>C())}function Sn(C){return zi().ngZone.run(()=>C())}function so(C){return zi(),function Ql(C){return function(O){return(O=O.lift(new Yl(C.ngZone))).pipe((0,Gi.R)(C.outsideAngular),(0,Ca.Q)(C.insideAngular))}}(zi())(C)}const Sa=(C,I)=>function(){const U=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),Sn(()=>C.apply(void 0,U))},Sd=(C,I)=>function(){let O;const U=arguments;for(let re=0;re<arguments.length;re++)"function"==typeof U[re]&&(I&&(O||(O=Sn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ia,{},Ia,Ia)))),U[re]=Sa(U[re],O));const Q=Jh(()=>C.apply(this,U));if(!I){if(Q instanceof rl.y){const re=zi();return Q.pipe((0,Gi.R)(re.outsideAngular),(0,Ca.Q)(re.insideAngular))}return Sn(()=>Q)}return Q instanceof rl.y?Q.pipe(so):Q instanceof Promise?Sn(()=>new Promise((re,_e)=>Q.then($e=>Sn(()=>re($e)),$e=>Sn(()=>_e($e))))):"function"==typeof Q&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),Q.apply(this,arguments)}:Sn(()=>Q)}},573:(mt,Ie,P)=>{P.d(Ie,{$:()=>pd,A:()=>q,E:()=>Wt,G:()=>Ur,I:()=>bs,K:()=>j,L:()=>Vl,M:()=>Bl,N:()=>aa,P:()=>il,Q:()=>Ul,R:()=>jr,T:()=>Ni,U:()=>Ui,V:()=>Es,W:()=>cg,X:()=>Rr,Y:()=>$l,Z:()=>Jr,_:()=>ji,a:()=>wt,a0:()=>gd,a1:()=>Gh,a2:()=>Ae,a3:()=>zh,a4:()=>Gl,a5:()=>Hi,a6:()=>ju,a7:()=>dg,a8:()=>Hu,a9:()=>ds,aA:()=>At,aB:()=>Ql,aC:()=>yn,aG:()=>xn,aJ:()=>$a,aa:()=>_a,ab:()=>qh,ae:()=>$u,af:()=>Wh,ag:()=>Gu,aj:()=>Zs,ak:()=>Wu,am:()=>Ku,an:()=>Wl,ao:()=>An,ap:()=>et,aq:()=>Rt,ar:()=>Ye,as:()=>Ge,at:()=>al,au:()=>Xl,av:()=>Oe,aw:()=>te,ax:()=>ie,ay:()=>K,az:()=>qi,b:()=>Vn,c:()=>sc,d:()=>Ia,e:()=>gg,f:()=>C,g:()=>_e,h:()=>U,i:()=>ti,j:()=>Ct,k:()=>oo,l:()=>ir,m:()=>yg,o:()=>ce,r:()=>Zl,s:()=>Mo,u:()=>Gi,z:()=>xe});var l=P(5861),$=P(2090),x=P(9681),se=P(655),ne=P(1877),ve=P(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xe=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pe=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new ne.Yd("@firebase/auth");function st(v,...g){De.logLevel<=ne.in.ERROR&&De.error(`Auth (${x.SDK_VERSION}): ${v}`,...g)}function Ge(v,...g){throw Je(v,...g)}function Oe(v,...g){return Je(v,...g)}function Ne(v,g,_){const E=Object.assign(Object.assign({},Pe()),{[g]:_});return new $.LL("auth","Firebase",E).create(g,{appName:v.name})}function we(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ge(v,"argument-error"),Ne(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(v,...g){if("string"!=typeof v){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(_,...E)}return Ve.create(v,...g)}function te(v,g,..._){if(!v)throw Je(g,..._)}function nt(v){const g="INTERNAL ASSERTION FAILED: "+v;throw st(g),new Error(g)}function et(v,g){v||nt(g)}const oe=new Map;function ie(v){et(v instanceof Function,"Expected a class definition");let g=oe.get(v);return g?(et(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,oe.set(v,g),g)}function fe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Fe(){return"http:"===kt()||"https:"===kt()}function kt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ze{constructor(g,_){this.shortDelay=g,this.longDelay=_,et(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function en(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fe()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tn(v,g){et(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class dr{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new ze(3e4,6e4);function nn(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function on(v,g,_,E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,g,_,E,M={}){return Cr(v,M,(0,l.Z)(function*(){let L={},X={};E&&("GET"===g?X=E:L={body:JSON.stringify(E)});const Me=(0,$.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),ft=yield v._getAdditionalHeaders();return ft["Content-Type"]="application/json",v.languageCode&&(ft["X-Firebase-Locale"]=v.languageCode),dr.fetch()(Si(v,v.config.apiHost,_,Me),Object.assign({method:g,headers:ft,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Cr(v,g,_){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(v,g,_){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},kn),g);try{const M=new Tr(v),L=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const X=yield L.json();if("needConfirmation"in X)throw xr(v,"account-exists-with-different-credential",X);if(L.ok&&!("errorMessage"in X))return X;{const Me=L.ok?X.errorMessage:X.error.message,[ft,It]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw xr(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===ft)throw xr(v,"email-already-in-use",X);const $t=E[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Ne(v,$t,It);Ge(v,$t)}}catch(M){if(M instanceof $.ZR)throw M;Ge(v,"network-request-failed")}})).apply(this,arguments)}function Or(v,g,_,E){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(v,g,_,E,M={}){const L=yield on(v,g,_,E,M);return"mfaPendingCredential"in L&&Ge(v,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Si(v,g,_,E){const M=`${g}${_}?${E}`;return v.config.emulator?tn(v.config,M):`${v.config.apiScheme}://${M}`}class Tr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Oe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xr(v,g,_){const E={appName:v.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=Oe(v,g,E);return M.customData._tokenResponse=_,M}function _t(){return(_t=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Lr(v,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function un(v,g){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ai(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Kr(){return(Kr=(0,l.Z)(function*(v,g=!1){const _=(0,$.m9)(v),E=yield _.getIdToken(g),M=qt(E);te(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,X=null==L?void 0:L.sign_in_provider;return{claims:M,token:E,authTime:Ai(_o(M.auth_time)),issuedAtTime:Ai(_o(M.iat)),expirationTime:Ai(_o(M.exp)),signInProvider:X||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function _o(v){return 1e3*Number(v)}function qt(v){const[g,_,E]=v.split(".");if(void 0===g||void 0===_||void 0===E)return st("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,$.tV)(_);return M?JSON.parse(M):(st("Failed to decode base64 JWT payload"),null)}catch(M){return st("Caught error parsing JWT payload as JSON",M),null}}function ct(v,g){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof $.ZR&&ss(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function ss({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Kt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class os{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ai(this.lastLoginAt),this.creationTime=Ai(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gn(v){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(v){var g;const _=v.auth,E=yield v.getIdToken(),M=yield ct(v,un(_,{idToken:E}));te(null==M?void 0:M.users.length,_,"internal-error");const L=M.users[0];v._notifyReloadListener(L);const X=(null===(g=L.providerUserInfo)||void 0===g?void 0:g.length)?We(L.providerUserInfo):[],Me=Yt(v.providerData,X),$t=!!v.isAnonymous&&!(v.email&&L.passwordHash||(null==Me?void 0:Me.length)),mn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Me,metadata:new os(L.createdAt,L.lastLoginAt),isAnonymous:$t};Object.assign(v,mn)})).apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(v){const g=(0,$.m9)(v);yield Gn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Yt(v,g){return[...v.filter(E=>!g.some(M=>M.providerId===E.providerId)),...g]}function We(v){return v.map(g=>{var{providerId:_}=g,E=(0,se._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ot(){return(ot=(0,l.Z)(function*(v,g){const _=yield Cr(v,{},(0,l.Z)(function*(){const E=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:L}=v.config,X=Si(v,M,"/v1/token",`key=${L}`),Me=yield v._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",dr.fetch()(X,{method:"POST",headers:Me,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){te(g.idToken,"internal-error"),te(void 0!==g.idToken,"internal-error"),te(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function yt(v){const g=qt(v);return te(g,"internal-error"),te(void 0!==g.exp,"internal-error"),te(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,l.Z)(function*(){return te(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:X}=yield function Te(v,g){return ot.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(M,L,Number(X))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:M,expirationTime:L}=_,X=new vt;return E&&(te("string"==typeof E,"internal-error",{appName:g}),X.refreshToken=E),M&&(te("string"==typeof M,"internal-error",{appName:g}),X.accessToken=M),L&&(te("number"==typeof L,"internal-error",{appName:g}),X.expirationTime=L),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Ut(v,g){te("string"==typeof v||void 0===v,"internal-error",{appName:g})}class jt{constructor(g){var{uid:_,auth:E,stsTokenManager:M}=g,L=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new os(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const E=yield ct(_,_.stsTokenManager.getToken(_.auth,g));return te(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function Ln(v){return Kr.apply(this,arguments)}(this,g)}reload(){return function Et(v){return zn.apply(this,arguments)}(this)}_assign(g){this!==g&&(te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new jt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,l.Z)(function*(){let M=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Gn(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield ct(g,function _s(v,g){return _t.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,M,L,X,Me,ft,It,$t;const mn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Fo=null!==(M=_.email)&&void 0!==M?M:void 0,Zi=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,iu=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Md=null!==(Me=_.tenantId)&&void 0!==Me?Me:void 0,dc=null!==(ft=_._redirectEventId)&&void 0!==ft?ft:void 0,W_=null!==(It=_.createdAt)&&void 0!==It?It:void 0,hc=null!==($t=_.lastLoginAt)&&void 0!==$t?$t:void 0,{uid:Aa,emailVerified:wg,isAnonymous:su,providerData:fc,stsTokenManager:Eg}=_;te(Aa&&Eg,g,"internal-error");const hf=vt.fromJSON(this.name,Eg);te("string"==typeof Aa,g,"internal-error"),Ut(mn,g.name),Ut(Fo,g.name),te("boolean"==typeof wg,g,"internal-error"),te("boolean"==typeof su,g,"internal-error"),Ut(Zi,g.name),Ut(iu,g.name),Ut(Md,g.name),Ut(dc,g.name),Ut(W_,g.name),Ut(hc,g.name);const ll=new jt({uid:Aa,auth:g,email:Fo,emailVerified:wg,displayName:mn,isAnonymous:su,photoURL:iu,phoneNumber:Zi,tenantId:Md,stsTokenManager:hf,createdAt:W_,lastLoginAt:hc});return fc&&Array.isArray(fc)&&(ll.providerData=fc.map(Dg=>Object.assign({},Dg))),dc&&(ll._redirectEventId=dc),ll}static _fromIdTokenResponse(g,_,E=!1){return(0,l.Z)(function*(){const M=new vt;M.updateFromServerResponse(_);const L=new jt({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:E});return yield Gn(L),L})()}}const j=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,l.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,l.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,l.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return v.type="NONE",v})();function K(v,g,_){return`firebase:${v}:${g}:${_}`}class he{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:M,name:L}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,L),this.fullPersistenceKey=K("persistence",M.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?jt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,l.Z)(function*(){if(!_.length)return new he(ie(j),g,E);const M=(yield Promise.all(_.map(function(){var It=(0,l.Z)(function*($t){if(yield $t._isAvailable())return $t});return function($t){return It.apply(this,arguments)}}()))).filter(It=>It);let L=M[0]||ie(j);const X=K(E,g.config.apiKey,g.name);let Me=null;for(const It of _)try{const $t=yield It._get(X);if($t){const mn=jt._fromJSON(g,$t);It!==L&&(Me=mn),L=It;break}}catch($t){}const ft=M.filter(It=>It._shouldAllowMigration);return L._shouldAllowMigration&&ft.length?(L=ft[0],Me&&(yield L._set(X,Me.toJSON())),yield Promise.all(_.map(function(){var It=(0,l.Z)(function*($t){if($t!==L)try{yield $t._remove(X)}catch(mn){}});return function($t){return It.apply(this,arguments)}}())),new he(L,g,E)):new he(L,g,E)})()}}function k(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(je(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(St(g))return"Blackberry";if(ut(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||ue(g))&&!g.includes("edge/"))return"Chrome";if(Ye(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function V(v=(0,$.z$)()){return/firefox\//i.test(v)}function H(v=(0,$.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ue(v=(0,$.z$)()){return/crios\//i.test(v)}function je(v=(0,$.z$)()){return/iemobile/i.test(v)}function Ye(v=(0,$.z$)()){return/android/i.test(v)}function St(v=(0,$.z$)()){return/blackberry/i.test(v)}function ut(v=(0,$.z$)()){return/webos/i.test(v)}function Rt(v=(0,$.z$)()){return/iphone|ipad|ipod/i.test(v)}function An(v=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Vr(v=(0,$.z$)()){return Rt(v)||Ye(v)||ut(v)||St(v)||/windows phone/i.test(v)||je(v)}function or(v,g=[]){let _;switch(v){case"Browser":_=k((0,$.z$)());break;case"Worker":_=`${k((0,$.z$)())}-${v}`;break;default:_=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${x.SDK_VERSION}/${E}`}class kl{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xe(this),this.idTokenSubscription=new Xe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,L;if(!E._deleted&&(E.persistenceManager=yield he.create(E,g),!E._deleted)){if(null===(M=E._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(X){}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(L=E.currentUser)||void 0===L?void 0:L.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var E;let M=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const L=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,X=null==M?void 0:M._redirectEventId,Me=yield _.tryRedirectSignIn(g);(!L||L===X)&&(null==Me?void 0:Me.user)&&(M=Me.user)}return M?M._redirectEventId?(te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(M){yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Gn(g)}catch(E){if("auth/network-request-failed"!==E.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ln(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const E=g?(0,$.m9)(g):null;return E&&te(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){if(!_._deleted)return g&&te(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,l.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,l.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&ie(g)||_._popupRedirectResolver;te(E,_,"argument-error"),_.redirectPersistenceManager=yield he.create(_,[ie(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,M){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return te(X,this,"internal-error"),X.then(()=>L(this.currentUser)),"function"==typeof _?g.addObserver(_,E,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(E["X-Firebase-Client"]=M),E})()}}function yn(v){return(0,$.m9)(v)}class Xe{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wt(v,g,_){const E=yn(v);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),L=vn(g),{host:X,port:Me}=function Br(v){const g=vn(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const L=M[1];return{host:L,port:ys(E.substr(L.length+1))}}{const[L,X]=E.split(":");return{host:L,port:ys(X)}}}(g);E.config.emulator={url:`${L}//${X}${null===Me?"":`:${Me}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:Me,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function fr(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function vn(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ys(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Ur{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return nt("not implemented")}_getIdTokenResponse(g){return nt("not implemented")}_linkToIdToken(g,_){return nt("not implemented")}_getReauthenticationResolver(g){return nt("not implemented")}}function Nn(v,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:resetPassword",nn(v,g))})).apply(this,arguments)}function yo(v,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Fl(v,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",nn(v,g))})).apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signInWithPassword",nn(v,g))})).apply(this,arguments)}function pn(v,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:sendOobCode",nn(v,g))})).apply(this,arguments)}function vo(v,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function Dn(v,g){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function ld(v,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function ls(v,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signInWithEmailLink",nn(v,g))})).apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signInWithEmailLink",nn(v,g))})).apply(this,arguments)}class us extends Ur{constructor(g,_,E,M=null){super("password",E),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new us(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new us(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Fu(v,g){return as.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ra(v,g){return ia.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ge(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return yo(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Bi(v,g){return Lu.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Ge(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function qs(v,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signInWithIdp",nn(v,g))})).apply(this,arguments)}class bs extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new bs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ge("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M}=_,L=(0,se._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const X=new bs(E,M);return X.idToken=L.idToken||void 0,X.accessToken=L.accessToken||void 0,X.secret=L.secret,X.nonce=L.nonce,X.pendingToken=L.pendingToken||null,X}_getIdTokenResponse(g){return qs(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,qs(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,qs(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,$.xO)(_)}return g}}function sg(v,g){return ud.apply(this,arguments)}function ud(){return(ud=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:sendVerificationCode",nn(v,g))})).apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,g))})).apply(this,arguments)}function cd(){return(cd=(0,l.Z)(function*(v,g){const _=yield Or(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,g));if(_.temporaryProof)throw xr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ag={USER_NOT_FOUND:"user-not-found"};function dd(){return(dd=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ag)})).apply(this,arguments)}class oa extends Ur{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new oa({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new oa({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function og(v,g){return ja.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function sa(v,g){return cd.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function lg(v,g){return dd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:L}=g;return E||_||M||L?new oa({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:L}):null}}class Ws{constructor(g){var _,E,M,L,X,Me;const ft=(0,$.zd)((0,$.pd)(g)),It=null!==(_=ft.apiKey)&&void 0!==_?_:null,$t=null!==(E=ft.oobCode)&&void 0!==E?E:null,mn=function ug(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=ft.mode)&&void 0!==M?M:null);te(It&&$t&&mn,"argument-error"),this.apiKey=It,this.operation=mn,this.code=$t,this.continueUrl=null!==(L=ft.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(X=ft.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Me=ft.tenantId)&&void 0!==Me?Me:null}static parseLink(g){const _=function V_(v){const g=(0,$.zd)((0,$.pd)(v)).link,_=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,E=(0,$.zd)((0,$.pd)(v)).deep_link_id;return(E?(0,$.zd)((0,$.pd)(E)).link:null)||E||_||g||v}(g);try{return new Ws(_)}catch(E){return null}}}let Vl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,E){return us._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=Ws.parseLink(E);return te(M,"argument-error"),us._fromEmailAndCode(_,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ws{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ha extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ni extends Ha{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return te("providerId"in _&&"signInMethod"in _,"argument-error"),bs._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return te(g.idToken||g.accessToken,"argument-error"),bs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ni.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ni.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:L,nonce:X,providerId:Me}=g;if(!E&&!M&&!_&&!L||!Me)return null;try{return new Ni(Me)._credential({idToken:_,accessToken:E,nonce:X,pendingToken:L})}catch(ft){return null}}}let Bl=(()=>{class v extends Ha{constructor(){super("facebook.com")}static credential(_){return bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),aa=(()=>{class v extends Ha{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return v.credential(E,M)}catch(L){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ul=(()=>{class v extends Ha{constructor(){super("github.com")}static credential(_){return bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class $a extends Ur{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return qs(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,qs(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,qs(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M,pendingToken:L}=_;return E&&M&&L&&E===M?new $a(E,L):null}static _create(g,_){return new $a(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends ws{constructor(g){te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ui.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ui.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=$a.fromJSON(g);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return $a._create(E,_)}catch(M){return null}}}let Es=(()=>{class v extends Ha{constructor(){super("twitter.com")}static credential(_,E){return bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return v.credential(E,M)}catch(L){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function jl(v,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signUp",nn(v,g))})).apply(this,arguments)}class On{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,M=!1){return(0,l.Z)(function*(){const L=yield jt._fromIdTokenResponse(g,E,M),X=la(E);return new On({user:L,providerId:X,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const M=la(E);return new On({user:g,providerId:M,_tokenResponse:E,operationType:_})})()}}function la(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function cg(v){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(v){var g;const _=yn(v);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new On({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield jl(_,{returnSecureToken:!0}),M=yield On._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Vu extends $.ZR{constructor(g,_,E,M){var L;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Vu.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,M){return new Vu(g,_,E,M)}}function fd(v,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Vu._fromErrorAndOperation(v,L,g,E):L})}function Hl(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Zs(v,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v);yield wo(!0,_,g);const{providerUserInfo:E}=yield Lr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=Hl(E||[]);return _.providerData=_.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Bu(v,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(v,g,_=!1){const E=yield ct(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return On._forOperation(v,"link",E)})).apply(this,arguments)}function wo(v,g,_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(v,g,_){yield Gn(g);const M=!1===v?"provider-already-linked":"no-such-provider";te(Hl(g.providerData).has(_)===v,g.auth,M)})).apply(this,arguments)}function bn(v,g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(v,g,_=!1){const{auth:E}=v,M="reauthenticate";try{const L=yield ct(v,fd(E,M,g,v),_);te(L.idToken,E,"internal-error");const X=qt(L.idToken);te(X,E,"internal-error");const{sub:Me}=X;return te(v.uid===Me,E,"user-mismatch"),On._forOperation(v,M,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&Ge(E,"user-mismatch"),L}})).apply(this,arguments)}function ca(v,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(v,g,_=!1){const E="signIn",M=yield fd(v,E,g),L=yield On._fromIdTokenResponse(v,E,M);return _||(yield v._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Rr(v,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(v,g){return ca(yn(v),g)})).apply(this,arguments)}function $l(v,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v);return yield wo(!1,_,g.providerId),Bu(_,g)})).apply(this,arguments)}function Jr(v,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(v,g){return bn((0,$.m9)(v),g)})).apply(this,arguments)}function Do(v,g){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(v,g){return Or(v,"POST","/v1/accounts:signInWithCustomToken",nn(v,g))})).apply(this,arguments)}function ji(v,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(v,g){const _=yn(v),E=yield Do(_,{token:g,returnSecureToken:!0}),M=yield On._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Cs{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Dt._fromServerResponse(g,_):Ge(g,"internal-error")}}class Dt extends Cs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Dt(_)}}function za(v,g,_){var E;te((null===(E=_.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),te(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function pd(v,g,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),M={requestType:"PASSWORD_RESET",email:g};_&&za(E,M,_),yield Dn(E,M)})).apply(this,arguments)}function gd(v,g,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(v,g,_){yield Nn((0,$.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Gh(v,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(v,g){yield Fl((0,$.m9)(v),{oobCode:g})})).apply(this,arguments)}function Ae(v,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v),E=yield Nn(_,{oobCode:g}),M=E.requestType;switch(te(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,_,"internal-error");default:te(E.email,_,"internal-error")}let L=null;return E.mfaInfo&&(L=Cs._fromServerResponse(yn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function zh(v,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(v,g){const{data:_}=yield Ae((0,$.m9)(v),g);return _.email})).apply(this,arguments)}function Gl(v,g,_){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(v,g,_){const E=yn(v),M=yield jl(E,{returnSecureToken:!0,email:g,password:_}),L=yield On._fromIdTokenResponse(E,"signIn",M);return yield E._updateCurrentUser(L.user),L})).apply(this,arguments)}function Hi(v,g,_){return Rr((0,$.m9)(v),Vl.credential(g,_))}function ju(v,g,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),M={requestType:"EMAIL_SIGNIN",email:g};te(_.handleCodeInApp,E,"argument-error"),_&&za(E,M,_),yield ld(E,M)})).apply(this,arguments)}function dg(v,g){const _=Ws.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Hu(v,g,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),M=Vl.credentialWithLink(g,_||fe());return te(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Rr(E,M)})).apply(this,arguments)}function ga(v,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:createAuthUri",nn(v,g))})).apply(this,arguments)}function ds(v,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(v,g){const E={identifier:g,continueUri:Fe()?fe():"http://localhost"},{signinMethods:M}=yield ga((0,$.m9)(v),E);return M||[]})).apply(this,arguments)}function _a(v,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&za(_.auth,M,g);const{email:L}=yield vo(_.auth,M);L!==v.email&&(yield v.reload())})).apply(this,arguments)}function qh(v,g,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&za(E.auth,L,_);const{email:X}=yield ls(E.auth,L);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function md(v,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $u(v,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,$.m9)(v),L={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},X=yield ct(E,md(E.auth,L));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const Me=E.providerData.find(({providerId:ft})=>"password"===ft);Me&&(Me.displayName=E.displayName,Me.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function Wh(v,g){return zu((0,$.m9)(v),g,null)}function Gu(v,g){return zu((0,$.m9)(v),null,g)}function zu(v,g,_){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(v,g,_){const{auth:E}=v,L={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(L.email=g),_&&(L.password=_);const X=yield ct(v,yo(E,L));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Co{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class qu extends Co{constructor(g,_,E,M){super(g,_,E),this.username=M}}class Zh extends Co{constructor(g,_){super(g,"facebook.com",_)}}class _d extends qu{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class To extends Co{constructor(g,_){super(g,"google.com",_)}}class Js extends qu{constructor(g,_,E){super(g,"twitter.com",_,E)}}function Wu(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ka(v){var g,_;if(!v)return null;const{providerId:E}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},L=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const X=null===(_=null===(g=qt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new Co(L,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new Zh(L,M);case"github.com":return new _d(L,M);case"google.com":return new To(L,M);case"twitter.com":return new Js(L,M,v.screenName||null);case"custom":case"anonymous":return new Co(L,null);default:return new Co(L,E,M)}}(_)}class Io{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new Io("enroll",g)}static _fromMfaPendingCredential(g){return new Io("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Io._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return Io._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ya{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=yn(g),M=_.customData._serverResponse,L=(M.mfaInfo||[]).map(Me=>Cs._fromServerResponse(E,Me));te(M.mfaPendingCredential,E,"internal-error");const X=Io._fromMfaPendingCredential(M.mfaPendingCredential);return new Ya(X,L,function(){var Me=(0,l.Z)(function*(ft){const It=yield ft._process(E,X);delete M.mfaInfo,delete M.mfaPendingCredential;const $t=Object.assign(Object.assign({},M),{idToken:It.idToken,refreshToken:It.refreshToken});switch(_.operationType){case"signIn":const mn=yield On._fromIdTokenResponse(E,_.operationType,$t);return yield E._updateCurrentUser(mn.user),mn;case"reauthenticate":return te(_.user,E,"internal-error"),On._forOperation(_.user,_.operationType,$t);default:Ge(E,"internal-error")}});return function(ft){return Me.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function Ku(v,g){var _;const E=(0,$.m9)(v),M=g;return te(g.customData.operationType,E,"argument-error"),te(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Ya._fromError(E,M)}function ql(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:start",nn(v,g))}class bd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Cs._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new bd(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Io._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var E=this;return(0,l.Z)(function*(){const M=g,L=yield E.getSession(),X=yield ct(E.user,M._process(E.user.auth,L,_));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const E="string"==typeof g?g:g.uid,M=yield _.user.getIdToken(),L=yield ct(_.user,function vd(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(v,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==E),yield _.user._updateTokensIfNecessary(L);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const Ts=new WeakMap;function Wl(v){const g=(0,$.m9)(v);return Ts.has(g)||Ts.set(g,bd._fromUser(g)),Ts.get(g)}const Qa="__sak";class Yh{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Qa,"1"),this.storage.removeItem(Qa),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vn=(()=>{class v extends Yh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function eo(){const v=(0,$.z$)();return H(v)||Rt(v)}()&&function Vi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Vr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),L=this.localCache[E];M!==L&&_(E,L,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Me,ft,It)=>{this.notifyListeners(Me,It)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(M);if(_.newValue!==Me)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const L=()=>{const Me=this.storage.getItem(M);!E&&this.localCache[M]===Me||this.notifyListeners(M,Me)},X=this.storage.getItem(M);!function Jt(){return(0,$.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?L():setTimeout(L,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,L=this;return(0,l.Z)(function*(){yield M().call(L,_,E),L.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,l.Z)(function*(){const L=yield E().call(M,_);return M.localCache[_]=JSON.stringify(L),L})()}_remove(_){var E=()=>super._remove,M=this;return(0,l.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return v.type="LOCAL",v})(),wt=(()=>{class v extends Yh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return v.type="SESSION",v})();let Kn=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(L=>L.isListeningto(_));if(E)return E;const M=new v(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,l.Z)(function*(){const M=_,{eventId:L,eventType:X,data:Me}=M.data,ft=E.handlersMap[X];if(!(null==ft?void 0:ft.size))return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:X});const It=Array.from(ft).map(function(){var mn=(0,l.Z)(function*(Fo){return Fo(M.origin,Me)});return function(Fo){return mn.apply(this,arguments)}}()),$t=yield function wn(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(It);M.ports[0].postMessage({status:"done",eventId:L,eventType:X,response:$t})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function xn(v="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return v+_}class Ed{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var M=this;return(0,l.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let X,Me;return new Promise((ft,It)=>{const $t=xn("",20);L.port1.start();const mn=setTimeout(()=>{It(new Error("unsupported_event"))},E);Me={messageChannel:L,onMessage(Fo){const Zi=Fo;if(Zi.data.eventId===$t)switch(Zi.data.status){case"ack":clearTimeout(mn),X=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),ft(Zi.data.response);break;default:clearTimeout(mn),clearTimeout(X),It(new Error("invalid_response"))}}},M.handlers.add(Me),L.port1.addEventListener("message",Me.onMessage),M.target.postMessage({eventType:g,eventId:$t,data:_},[L.port2])}).finally(()=>{Me&&M.removeMessageHandler(Me)})})()}}function tr(){return window}function Qu(){return void 0!==tr().WorkerGlobalScope&&"function"==typeof tr().importScripts}function va(){return(va=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Ju="firebaseLocalStorageDb",ba="firebaseLocalStorage",Ja="fbase_key";class gn{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function no(v,g){return v.transaction([ba],g?"readwrite":"readonly").objectStore(ba)}function ei(){const v=indexedDB.open(Ju,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(ba,{keyPath:Ja})}catch(M){_(M)}}),v.addEventListener("success",(0,l.Z)(function*(){const E=v.result;E.objectStoreNames.contains(ba)?g(E):(E.close(),yield function Xa(){const v=indexedDB.deleteDatabase(Ju);return new gn(v).toPromise()}(),g(yield ei()))}))})}function So(v,g,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(v,g,_){const E=no(v,!0).put({[Ja]:g,value:_});return new gn(E).toPromise()})).apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(v,g){const _=no(v,!1).get(g),E=yield new gn(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ao(v,g){const _=no(v,!0).delete(g);return new gn(_).toPromise()}const ti=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ei()),_.db})()}_withRetries(_){var E=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const L=yield E._openDb();return yield _(L)}catch(L){if(M++>3)throw L;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Qu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Kn._getInstance(function Pt(){return Qu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(M,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(M,L){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function Is(){return va.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ed(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);!L||(null===(E=L[0])||void 0===E?void 0:E.fulfilled)&&(null===(M=L[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function $i(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ei();return yield So(_,Qa,"1"),yield Ao(_,Qa),!0}catch(_){}return!1})()}_withPendingWrite(_){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(L=>So(L,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,l.Z)(function*(){const M=yield E._withRetries(L=>function ro(v,g){return el.apply(this,arguments)}(L,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(M=>Ao(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const E=yield _._withRetries(X=>{const Me=no(X,!1).getAll();return new gn(Me).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:X,value:Me}of E)L.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(Me)&&(_.notifyListeners(X,Me),M.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!L.has(X)&&(_.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function wa(v,g){return on(v,"POST","/v2/accounts/mfaSignIn:start",nn(v,g))}function ur(){return(ur=(0,l.Z)(function*(v){return(yield on(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tc(v){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=M=>{const L=Oe("internal-error");L.customData=M,_(L)},E.type="text/javascript",E.charset="UTF-8",function As(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function Bn(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ns=1e12;class Oi{constructor(g){this.auth=g,this.counter=Ns,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new rr(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||Ns;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Ns))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var E;return null===(E=_._widgets.get(g||Ns))||void 0===E||E.execute(),""})()}}class rr{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;te(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hs(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const In=Bn("rcb"),Ea=new ze(3e4,6e4);class Un{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tr().grecaptcha}load(g,_=""){return te(function hg(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(tr().grecaptcha):new Promise((E,M)=>{const L=tr().setTimeout(()=>{M(Oe(g,"network-request-failed"))},Ea.get());tr()[In]=()=>{tr().clearTimeout(L),delete tr()[In];const Me=tr().grecaptcha;if(!Me)return void M(Oe(g,"internal-error"));const ft=Me.render;Me.render=(It,$t)=>{const mn=ft(It,$t);return this.counter++,mn},this.hostLanguage=_,E(Me)},tc(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:In,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),M(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!tr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fg{load(g){return(0,l.Z)(function*(){return new Oi(g)})()}clearedOneInstance(){}}const Qh="recaptcha",No={theme:"light",type:"image"};class jr{constructor(g,_=Object.assign({},No),E){this.parameters=_,this.type=Qh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;te(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fg:new Un,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(L=>{const X=Me=>{!Me||(g.tokenChangeListeners.delete(X),L(Me))};g.tokenChangeListeners.add(X),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=tr()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){te(Fe()&&!Qu(),g.auth,"internal-error"),yield function pg(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function tl(v){return ur.apply(this,arguments)}(g.auth);te(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fs{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=oa._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Mo(v,g,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(v,g,_){const E=yn(v),M=yield rl(E,g,(0,$.m9)(_));return new fs(M,L=>Rr(E,L))})).apply(this,arguments)}function ir(v,g,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);yield wo(!1,E,"phone");const M=yield rl(E.auth,g,(0,$.m9)(_));return new fs(M,L=>$l(E,L))})).apply(this,arguments)}function Zl(v,g,_){return Td.apply(this,arguments)}function Td(){return(Td=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),M=yield rl(E.auth,g,(0,$.m9)(_));return new fs(M,L=>Jr(E,L))})).apply(this,arguments)}function rl(v,g,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(v,g,_){var E;const M=yield _.verify();try{let L;if(te("string"==typeof M,v,"argument-error"),te(_.type===Qh,v,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const X=L.session;if("phoneNumber"in L)return te("enroll"===X.type,v,"internal-error"),(yield ql(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{te("signin"===X.type,v,"internal-error");const Me=(null===(E=L.multiFactorHint)||void 0===E?void 0:E.uid)||L.multiFactorUid;return te(Me,v,"missing-multi-factor-info"),(yield wa(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield sg(v,{phoneNumber:L.phoneNumber,recaptchaToken:M});return X}}finally{_._reset()}})).apply(this,arguments)}function Gi(v,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(v,g){yield Bu((0,$.m9)(v),g)})).apply(this,arguments)}let il=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=yn(_)}verifyPhoneNumber(_,E){return rl(this.auth,_,(0,$.m9)(E))}static credential(_,E){return oa._fromVerification(_,E)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?oa._fromTokenResponse(E,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function mi(v,g){return g?ie(g):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ta extends Ur{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return qs(g,this._buildIdpRequest())}_linkToIdToken(g,_){return qs(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return qs(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function nc(v){return ca(v.auth,new Ta(v),v.bypassAuthState)}function rc(v){const{auth:g,user:_}=v;return te(_,g,"internal-error"),bn(_,new Ta(v),v.bypassAuthState)}function ic(v){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(v){const{auth:g,user:_}=v;return te(_,g,"internal-error"),Bu(_,new Ta(v),v.bypassAuthState)})).apply(this,arguments)}class sl{constructor(g,_,E,M,L=!1){this.auth=g,this.resolver=E,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(E,M){g.pendingPromise={resolve:E,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:L,tenantId:X,error:Me,type:ft}=g;if(Me)return void _.reject(Me);const It={auth:_.auth,requestUri:E,sessionId:M,tenantId:X||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ft)(It))}catch($t){_.reject($t)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return nc;case"linkViaPopup":case"linkViaRedirect":return ic;case"reauthViaPopup":case"reauthViaRedirect":return rc;default:Ge(this.auth,"internal-error")}}resolve(g){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ir=new ze(2e3,1e4);function sc(v,g,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(v,g,_){const E=yn(v);we(v,g,ws);const M=mi(E,_);return new Yl(E,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function gg(v,g,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,ws);const M=mi(E.auth,_);return new Yl(E.auth,"reauthViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}function Ia(v,g,_){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,ws);const M=mi(E.auth,_);return new Yl(E.auth,"linkViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}let Yl=(()=>{class v extends sl{constructor(_,E,M,L,X){super(_,E,L,X),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const E=yield _.execute();return te(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,l.Z)(function*(){et(1===_.filter.length,"Popup operations only handle one event");const E=xn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=(null===(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ir.get())};_()}}return v.currentPopupAction=null,v})();const zi=new Map;class Jh extends sl{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let E=zi.get(_.auth._key());if(!E){try{const L=(yield function Sn(v,g){return ii.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(L)}catch(M){E=()=>Promise.reject(M)}zi.set(_.auth._key(),E)}return _.bypassAuthState||zi.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const M=yield E.auth._redirectUserForId(g.eventId);if(M)return E.user=M,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ii(){return(ii=(0,l.Z)(function*(v,g){const _=Sd(g),E=Sa(v);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function Xh(v,g){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(v,g){return Sa(v)._set(Sd(g),"true")})).apply(this,arguments)}function Ql(){zi.clear()}function Sa(v){return ie(v._redirectPersistence)}function Sd(v){return K("pendingRedirect",v.config.apiKey,v.name)}function C(v,g,_){return function I(v,g,_){return O.apply(this,arguments)}(v,g,_)}function O(){return(O=(0,l.Z)(function*(v,g,_){const E=yn(v);we(v,g,ws);const M=mi(E,_);return yield Xh(M,E),M._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function U(v,g,_){return function Q(v,g,_){return re.apply(this,arguments)}(v,g,_)}function re(){return(re=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,ws);const M=mi(E.auth,_);yield Xh(M,E.auth);const L=yield mr(E);return M._openRedirect(E.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function _e(v,g,_){return function $e(v,g,_){return Mt.apply(this,arguments)}(v,g,_)}function Mt(){return(Mt=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,ws);const M=mi(E.auth,_);yield wo(!1,E,g.providerId),yield Xh(M,E.auth);const L=yield mr(E);return M._openRedirect(E.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function Ct(v,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(v,g){return yield yn(v)._initializationPromise,At(v,g,!1)})).apply(this,arguments)}function At(v,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(v,g,_=!1){const E=yn(v),M=mi(E,g),X=yield new Jh(E,M,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,g)),X})).apply(this,arguments)}function mr(v){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(v){const g=xn(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class qi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Jl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wi(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!Wi(g)){const M=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xi(g))}saveEventToCache(g){this.cachedEventUids.add(xi(g)),this.lastProcessedEventTime=Date.now()}}function xi(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Wi({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Xl(v){return eu.apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(v,g={}){return on(v,"GET","/v1/projects",g)})).apply(this,arguments)}const oc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mg=/^https?/;function ef(){return(ef=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Xl(v);for(const _ of g)try{if(Oo(_))return}catch(E){}Ge(v,"unauthorized-domain")})).apply(this,arguments)}function Oo(v){const g=fe(),{protocol:_,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===E?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===E}if(!mg.test(_))return!1;if(oc.test(v))return E===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const ac=new ze(3e4,6e4);function _g(){const v=tr().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let lc=null;function j_(v){return lc=lc||function Cb(v){return new Promise((g,_)=>{var E,M,L;function X(){_g(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{_g(),_(Oe(v,"network-request-failed"))},timeout:ac.get()})}if(null===(M=null===(E=tr().gapi)||void 0===E?void 0:E.iframes)||void 0===M?void 0:M.Iframe)g(gapi.iframes.getContext());else{if(!(null===(L=tr().gapi)||void 0===L?void 0:L.load)){const Me=Bn("iframefcb");return tr()[Me]=()=>{gapi.load?X():_(Oe(v,"network-request-failed"))},tc(`https://apis.google.com/js/api.js?onload=${Me}`).catch(ft=>_(ft))}X()}}).catch(g=>{throw lc=null,g})}(v),lc}const H_=new ze(5e3,15e3),xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ro=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ad(v){const g=v.config;te(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?tn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:v.name,v:x.SDK_VERSION},M=Ro.get(v.config.apiHost);M&&(E.eid=M);const L=v._getFrameworks();return L.length&&(E.fw=L.join(",")),`${_}?${(0,$.xO)(E).slice(1)}`}function rf(){return rf=(0,l.Z)(function*(v){const g=yield j_(v),_=tr().gapi;return te(_,v,"internal-error"),g.open({where:document.body,url:Ad(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},E=>new Promise(function(){var M=(0,l.Z)(function*(L,X){yield E.restyle({setHideOnLeave:!1});const Me=Oe(v,"network-request-failed"),ft=tr().setTimeout(()=>{X(Me)},H_.get());function It(){tr().clearTimeout(ft),L(E)}E.ping(It).then(It,()=>{X(Me)})});return function(L,X){return M.apply(this,arguments)}}()))}),rf.apply(this,arguments)}const tu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function al(v,g,_,E,M,L){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:E,v:x.SDK_VERSION,eventId:M};if(g instanceof ws){g.setDefaultLanguage(v.languageCode),X.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(X.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ft,It]of Object.entries(L||{}))X[ft]=It}if(g instanceof Ha){const ft=g.getScopes().filter(It=>""!==It);ft.length>0&&(X.scopes=ft.join(","))}v.tenantId&&(X.tid=v.tenantId);const Me=X;for(const ft of Object.keys(Me))void 0===Me[ft]&&delete Me[ft];return`${function z_({config:v}){return v.emulator?tn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,$.xO)(Me).slice(1)}`}const uf="webStorageSupport",oo=class ko{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wt,this._completeRedirectFn=At}_openPopup(g,_,E,M){var L=this;return(0,l.Z)(function*(){var X;et(null===(X=L.eventManagers[g._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Me=al(g,_,E,fe(),M);return function af(v,g,_,E=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let Me="";const ft=Object.assign(Object.assign({},tu),{width:E.toString(),height:M.toString(),top:L,left:X}),It=(0,$.z$)().toLowerCase();_&&(Me=ue(It)?"_blank":_),V(It)&&(g=g||"http://localhost",ft.scrollbars="yes");const $t=Object.entries(ft).reduce((Fo,[Zi,iu])=>`${Fo}${Zi}=${iu},`,"");if(function hr(v=(0,$.z$)()){var g;return Rt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(It)&&"_self"!==Me)return function Po(v,g){const _=document.createElement("a");_.href=v,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",Me),new uc(null);const mn=window.open(g||"",Me,$t);te(mn,v,"popup-blocked");try{mn.focus()}catch(Fo){}return new uc(mn)}(g,Me,xn())})()}_openRedirect(g,_,E,M){var L=this;return(0,l.Z)(function*(){return yield L._originValidation(g),function to(v){tr().location.href=v}(al(g,_,E,fe(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:L}=this.eventManagers[_];return M?Promise.resolve(M):(et(L,"If manager is not set, promise should be"),L)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const E=yield function ol(v){return rf.apply(this,arguments)}(g),M=new qi(g);return E.register("authEvent",L=>(te(null==L?void 0:L.authEvent,g,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=E,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(uf,{type:uf},M=>{var L;const X=null===(L=null==M?void 0:M[0])||void 0===L?void 0:L[uf];void 0!==X&&_(!!X),Ge(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function U_(v){return ef.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Vr()||H()||Rt()}};class cc extends class ru{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new cc(g)}_finalizeEnroll(g,_,E){return function lr(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:finalize",nn(v,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function io(v,g){return on(v,"POST","/v2/accounts/mfaSignIn:finalize",nn(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yg=(()=>{class v{constructor(){}static assertion(_){return cc._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var cf="@firebase/auth",vg="0.19.12";class df{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var M;g((null===(M=E)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function q_(v){(0,x._registerComponent)(new ve.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:L,authDomain:X}=E.options;return((Me,ft)=>{te(L&&!L.includes(":"),"invalid-api-key",{appName:Me.name}),te(!(null==X?void 0:X.includes(":")),"argument-error",{appName:Me.name});const It={apiKey:L,authDomain:X,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:or(v)},$t=new kl(Me,ft,It);return function Ce(v,g){const _=(null==g?void 0:g.persistence)||[],E=(Array.isArray(_)?_:[_]).map(ie);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}($t,_),$t})(E,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new ve.wA("auth-internal",g=>{const _=yn(g.getProvider("auth").getImmediate());return new df(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(cf,vg,function bg(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,x.registerVersion)(cf,vg,"esm2017")}("Browser")},2090:(mt,Ie,P)=>{P.d(Ie,{$s:()=>os,BH:()=>xe,G6:()=>nt,L:()=>pe,LL:()=>Fe,Lj:()=>Ut,Mn:()=>Je,Sg:()=>Pe,UG:()=>De,US:()=>le,X3:()=>vt,ZB:()=>ee,ZR:()=>fe,b$:()=>Oe,d:()=>Ne,eu:()=>oe,hl:()=>et,jU:()=>st,m9:()=>Et,ne:()=>_t,pd:()=>xr,r3:()=>on,ru:()=>Ge,tV:()=>W,uI:()=>ge,vZ:()=>Or,w1:()=>we,xO:()=>Si,xb:()=>Cr,z$:()=>Ve,zI:()=>ie,zd:()=>Tr});var l=P(5861);const ne=function(Z){const j=[];let K=0;for(let he=0;he<Z.length;he++){let k=Z.charCodeAt(he);k<128?j[K++]=k:k<2048?(j[K++]=k>>6|192,j[K++]=63&k|128):55296==(64512&k)&&he+1<Z.length&&56320==(64512&Z.charCodeAt(he+1))?(k=65536+((1023&k)<<10)+(1023&Z.charCodeAt(++he)),j[K++]=k>>18|240,j[K++]=k>>12&63|128,j[K++]=k>>6&63|128,j[K++]=63&k|128):(j[K++]=k>>12|224,j[K++]=k>>6&63|128,j[K++]=63&k|128)}return j},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,j){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let k=0;k<Z.length;k+=3){const V=Z[k],H=k+1<Z.length,ue=H?Z[k+1]:0,je=k+2<Z.length,Ye=je?Z[k+2]:0;let Rt=(15&ue)<<2|Ye>>6,An=63&Ye;je||(An=64,H||(Rt=64)),he.push(K[V>>2],K[(3&V)<<4|ue>>4],K[Rt],K[An])}return he.join("")},encodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Z):this.encodeByteArray(ne(Z),j)},decodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Z):function(Z){const j=[];let K=0,he=0;for(;K<Z.length;){const k=Z[K++];if(k<128)j[he++]=String.fromCharCode(k);else if(k>191&&k<224){const V=Z[K++];j[he++]=String.fromCharCode((31&k)<<6|63&V)}else if(k>239&&k<365){const je=((7&k)<<18|(63&Z[K++])<<12|(63&Z[K++])<<6|63&Z[K++])-65536;j[he++]=String.fromCharCode(55296+(je>>10)),j[he++]=String.fromCharCode(56320+(1023&je))}else{const V=Z[K++],H=Z[K++];j[he++]=String.fromCharCode((15&k)<<12|(63&V)<<6|63&H)}}return j.join("")}(this.decodeStringToByteArray(Z,j))},decodeStringToByteArray(Z,j){this.init_();const K=j?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let k=0;k<Z.length;){const V=K[Z.charAt(k++)],ue=k<Z.length?K[Z.charAt(k)]:0;++k;const Ye=k<Z.length?K[Z.charAt(k)]:64;++k;const ut=k<Z.length?K[Z.charAt(k)]:64;if(++k,null==V||null==ue||null==Ye||null==ut)throw Error();he.push(V<<2|ue>>4),64!==Ye&&(he.push(ue<<4&240|Ye>>2),64!==ut&&he.push(Ye<<6&192|ut))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},pe=function(Z){return function(Z){const j=ne(Z);return le.encodeByteArray(j,!0)}(Z).replace(/\./g,"")},W=function(Z){try{return le.decodeString(Z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ee(Z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return j}for(const K in j)!j.hasOwnProperty(K)||!Ke(K)||(Z[K]=ee(Z[K],j[K]));return Z}function Ke(Z){return"__proto__"!==Z}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,K)=>{this.resolve=j,this.reject=K})}wrapCallback(j){return(K,he)=>{K?this.reject(K):this.resolve(he),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(K):j(K,he))}}}function Pe(Z,j){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=j||"demo-project",k=Z.iat||0,V=Z.sub||Z.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const H=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:k,exp:k+3600,auth_time:k,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(H)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function st(){return"object"==typeof self&&self.self===self}function Ge(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Ve().indexOf("Electron/")>=0}function we(){const Z=Ve();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Je(){return Ve().indexOf("MSAppHost/")>=0}function nt(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){return"object"==typeof indexedDB}function oe(){return new Promise((Z,j)=>{try{let K=!0;const he="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(he);k.onsuccess=()=>{k.result.close(),K||self.indexedDB.deleteDatabase(he),Z(!0)},k.onupgradeneeded=()=>{K=!1},k.onerror=()=>{var V;j((null===(V=k.error)||void 0===V?void 0:V.message)||"")}}catch(K){j(K)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fe extends Error{constructor(j,K,he){super(K),this.code=j,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(j,K,he){this.service=j,this.serviceName=K,this.errors=he}create(j,...K){const he=K[0]||{},k=`${this.service}/${j}`,V=this.errors[j],H=V?function kt(Z,j){return Z.replace(en,(K,he)=>{const k=j[he];return null!=k?String(k):`<${he}?>`})}(V,he):"Error";return new fe(k,`${this.serviceName}: ${H} (${k}).`,he)}}const en=/\{\$([^}]+)}/g;function on(Z,j){return Object.prototype.hasOwnProperty.call(Z,j)}function Cr(Z){for(const j in Z)if(Object.prototype.hasOwnProperty.call(Z,j))return!1;return!0}function Or(Z,j){if(Z===j)return!0;const K=Object.keys(Z),he=Object.keys(j);for(const k of K){if(!he.includes(k))return!1;const V=Z[k],H=j[k];if(is(V)&&is(H)){if(!Or(V,H))return!1}else if(V!==H)return!1}for(const k of he)if(!K.includes(k))return!1;return!0}function is(Z){return null!==Z&&"object"==typeof Z}function Si(Z){const j=[];for(const[K,he]of Object.entries(Z))Array.isArray(he)?he.forEach(k=>{j.push(encodeURIComponent(K)+"="+encodeURIComponent(k))}):j.push(encodeURIComponent(K)+"="+encodeURIComponent(he));return j.length?"&"+j.join("&"):""}function Tr(Z){const j={};return Z.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[k,V]=he.split("=");j[decodeURIComponent(k)]=decodeURIComponent(V)}}),j}function xr(Z){const j=Z.indexOf("?");if(!j)return"";const K=Z.indexOf("#",j);return Z.substring(j,K>0?K:void 0)}function _t(Z,j){const K=new Lr(Z,j);return K.subscribe.bind(K)}class Lr{constructor(j,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{j(this)}).catch(he=>{this.error(he)})}next(j){this.forEachObserver(K=>{K.next(j)})}error(j){this.forEachObserver(K=>{K.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,K,he){let k;if(void 0===j&&void 0===K&&void 0===he)throw new Error("Missing Observer.");k=function un(Z,j){if("object"!=typeof Z||null===Z)return!1;for(const K of j)if(K in Z&&"function"==typeof Z[K])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:K,complete:he},void 0===k.next&&(k.next=er),void 0===k.error&&(k.error=er),void 0===k.complete&&(k.complete=er);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(H){}}),this.observers.push(k),V}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,j)}sendOne(j,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{K(this.observers[j])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function er(){}function os(Z,j=1e3,K=2){const he=j*Math.pow(K,Z),k=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+k)}function Et(Z){return Z&&Z._delegate?Z._delegate:Z}function zn(Z,j){return new Promise((K,he)=>{Z.onsuccess=k=>{K(k.target.result)},Z.onerror=k=>{var V;he(`${j}: ${null===(V=k.target.error)||void 0===V?void 0:V.message}`)}})}class Yt{constructor(j){this._db=j,this.objectStoreNames=this._db.objectStoreNames}transaction(j,K="readonly"){return new We(this._db.transaction.call(this._db,j,K))}createObjectStore(j,K){return new Te(this._db.createObjectStore(j,K))}close(){this._db.close()}}class We{constructor(j){this._transaction=j,this.complete=new Promise((K,he)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(j){return new Te(this._transaction.objectStore(j))}}class Te{constructor(j){this._store=j}index(j){return new ot(this._store.index(j))}createIndex(j,K,he){return new ot(this._store.createIndex(j,K,he))}get(j){return zn(this._store.get(j),"Error reading from IndexedDB")}put(j,K){return zn(this._store.put(j,K),"Error writing to IndexedDB")}delete(j){return zn(this._store.delete(j),"Error deleting from IndexedDB")}clear(){return zn(this._store.clear(),"Error clearing IndexedDB object store")}}class ot{constructor(j){this._index=j}get(j){return zn(this._index.get(j),"Error reading from IndexedDB")}}function vt(Z,j,K){return new Promise((he,k)=>{try{const V=indexedDB.open(Z,j);V.onsuccess=H=>{he(new Yt(H.target.result))},V.onerror=H=>{var ue;k(`Error opening indexedDB: ${null===(ue=H.target.error)||void 0===ue?void 0:ue.message}`)},V.onupgradeneeded=H=>{K(new Yt(V.result),H.oldVersion,H.newVersion,new We(V.transaction))}}catch(V){k(`Error opening indexedDB: ${V.message}`)}})}function Ut(Z){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(Z){return new Promise((j,K)=>{try{const he=indexedDB.deleteDatabase(Z);he.onsuccess=()=>{j()},he.onerror=k=>{var V;K(`Error deleting indexedDB database "${Z}": ${null===(V=k.target.error)||void 0===V?void 0:V.message}`)}}catch(he){K(`Error deleting indexedDB database "${Z}": ${he.message}`)}})})).apply(this,arguments)}},3986:(mt,Ie,P)=>{var l=P(5e3);let $=null;function x(){return $}const le=new l.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function pe(){return(0,l.LFG)(q)}()},providedIn:"platform"}),n})();const W=new l.OlP("Location Initialized");let q=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ke(){return new q((0,l.LFG)(le))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(n){const e=(0,l.LFG)(le).location;return new Ge((0,l.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const st=new l.OlP("appBaseHref");let Ge=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Ve(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Ve(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(st,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Ve(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Ve(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(st,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe(te(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=xe,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function we(){return new Ne((0,l.LFG)(ge),(0,l.LFG)(ce))}()},providedIn:"root"}),n})();function te(n){return n.replace(/\/index.html$/,"")}const nt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Percent=1]="Percent",et[et.Currency=2]="Currency",et[et.Scientific=3]="Scientific",et))(),ie=(()=>((ie=ie||{})[ie.Format=0]="Format",ie[ie.Standalone=1]="Standalone",ie))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),Ce=(()=>((Ce=Ce||{})[Ce.Short=0]="Short",Ce[Ce.Medium=1]="Medium",Ce[Ce.Long=2]="Long",Ce[Ce.Full=3]="Full",Ce))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function ln(n,e,t){const r=(0,l.cg1)(n),a=Hn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return Hn(a,t)}function ze(n,e,t){const r=(0,l.cg1)(n),a=Hn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return Hn(a,t)}function sn(n,e){return Hn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function nn(n,e){return Hn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function on(n,e){return Hn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Fn(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(void 0===r){if(e===fe.CurrencyDecimal)return t[l.wAp.NumberSymbols][fe.Decimal];if(e===fe.CurrencyGroup)return t[l.wAp.NumberSymbols][fe.Group]}return r}function xr(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Hn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function un(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ln=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kr={},_o=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function Yr(n,e,t,r){let i=function ue(n){if(Ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return ss(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Ln))return function je(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,m,b),e}(r)}const e=new Date(n);if(!Ye(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Kt(t,e)||e;let f,c=[];for(;e;){if(f=_o.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const T=c.pop();if(!T)break;e=T}}let m=i.getTimezoneOffset();r&&(m=k(r,m),i=function H(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function V(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(k(e,i)-i))}(i,r,!0));let b="";return c.forEach(T=>{const A=function he(n){if(K[n])return K[n];let e;switch(n){case"G":case"GG":case"GGG":e=Yt(ct.Eras,ae.Abbreviated);break;case"GGGG":e=Yt(ct.Eras,ae.Wide);break;case"GGGGG":e=Yt(ct.Eras,ae.Narrow);break;case"y":e=Et(yt.FullYear,1,0,!1,!0);break;case"yy":e=Et(yt.FullYear,2,0,!0,!0);break;case"yyy":e=Et(yt.FullYear,3,0,!1,!0);break;case"yyyy":e=Et(yt.FullYear,4,0,!1,!0);break;case"Y":e=j(1);break;case"YY":e=j(2,!0);break;case"YYY":e=j(3);break;case"YYYY":e=j(4);break;case"M":case"L":e=Et(yt.Month,1,1);break;case"MM":case"LL":e=Et(yt.Month,2,1);break;case"MMM":e=Yt(ct.Months,ae.Abbreviated);break;case"MMMM":e=Yt(ct.Months,ae.Wide);break;case"MMMMM":e=Yt(ct.Months,ae.Narrow);break;case"LLL":e=Yt(ct.Months,ae.Abbreviated,ie.Standalone);break;case"LLLL":e=Yt(ct.Months,ae.Wide,ie.Standalone);break;case"LLLLL":e=Yt(ct.Months,ae.Narrow,ie.Standalone);break;case"w":e=Z(1);break;case"ww":e=Z(2);break;case"W":e=Z(1,!0);break;case"d":e=Et(yt.Date,1);break;case"dd":e=Et(yt.Date,2);break;case"c":case"cc":e=Et(yt.Day,1);break;case"ccc":e=Yt(ct.Days,ae.Abbreviated,ie.Standalone);break;case"cccc":e=Yt(ct.Days,ae.Wide,ie.Standalone);break;case"ccccc":e=Yt(ct.Days,ae.Narrow,ie.Standalone);break;case"cccccc":e=Yt(ct.Days,ae.Short,ie.Standalone);break;case"E":case"EE":case"EEE":e=Yt(ct.Days,ae.Abbreviated);break;case"EEEE":e=Yt(ct.Days,ae.Wide);break;case"EEEEE":e=Yt(ct.Days,ae.Narrow);break;case"EEEEEE":e=Yt(ct.Days,ae.Short);break;case"a":case"aa":case"aaa":e=Yt(ct.DayPeriods,ae.Abbreviated);break;case"aaaa":e=Yt(ct.DayPeriods,ae.Wide);break;case"aaaaa":e=Yt(ct.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=Yt(ct.DayPeriods,ae.Abbreviated,ie.Standalone,!0);break;case"bbbb":e=Yt(ct.DayPeriods,ae.Wide,ie.Standalone,!0);break;case"bbbbb":e=Yt(ct.DayPeriods,ae.Narrow,ie.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yt(ct.DayPeriods,ae.Abbreviated,ie.Format,!0);break;case"BBBB":e=Yt(ct.DayPeriods,ae.Wide,ie.Format,!0);break;case"BBBBB":e=Yt(ct.DayPeriods,ae.Narrow,ie.Format,!0);break;case"h":e=Et(yt.Hours,1,-12);break;case"hh":e=Et(yt.Hours,2,-12);break;case"H":e=Et(yt.Hours,1);break;case"HH":e=Et(yt.Hours,2);break;case"m":e=Et(yt.Minutes,1);break;case"mm":e=Et(yt.Minutes,2);break;case"s":e=Et(yt.Seconds,1);break;case"ss":e=Et(yt.Seconds,2);break;case"S":e=Et(yt.FractionalSeconds,1);break;case"SS":e=Et(yt.FractionalSeconds,2);break;case"SSS":e=Et(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(qt.Short);break;case"ZZZZZ":e=Te(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(qt.Long);break;default:return null}return K[n]=e,e}(T);b+=A?A(i,t,m):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function ss(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Kt(n,e){const t=function kt(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Kr[t]=Kr[t]||{},Kr[t][e])return Kr[t][e];let r="";switch(e){case"shortDate":r=sn(n,Ce.Short);break;case"mediumDate":r=sn(n,Ce.Medium);break;case"longDate":r=sn(n,Ce.Long);break;case"fullDate":r=sn(n,Ce.Full);break;case"shortTime":r=nn(n,Ce.Short);break;case"mediumTime":r=nn(n,Ce.Medium);break;case"longTime":r=nn(n,Ce.Long);break;case"fullTime":r=nn(n,Ce.Full);break;case"short":const i=Kt(n,"shortTime"),a=Kt(n,"shortDate");r=os(on(n,Ce.Short),[i,a]);break;case"medium":const c=Kt(n,"mediumTime"),f=Kt(n,"mediumDate");r=os(on(n,Ce.Medium),[c,f]);break;case"long":const m=Kt(n,"longTime"),b=Kt(n,"longDate");r=os(on(n,Ce.Long),[m,b]);break;case"full":const T=Kt(n,"fullTime"),A=Kt(n,"fullDate");r=os(on(n,Ce.Full),[T,A])}return r&&(Kr[t][e]=r),r}function os(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Gn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),a+c}function Et(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function zn(n,e){switch(n){case yt.FullYear:return e.getFullYear();case yt.Month:return e.getMonth();case yt.Date:return e.getDate();case yt.Hours:return e.getHours();case yt.Minutes:return e.getMinutes();case yt.Seconds:return e.getSeconds();case yt.FractionalSeconds:return e.getMilliseconds();case yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===yt.Hours)0===f&&-12===t&&(f=12);else if(n===yt.FractionalSeconds)return function dn(n,e){return Gn(n,3).substr(0,e)}(f,e);const m=Fn(c,fe.MinusSign);return Gn(f,e,m,r,i)}}function Yt(n,e,t=ie.Format,r=!1){return function(i,a){return function We(n,e,t,r,i,a){switch(t){case ct.Months:return ze(e,i,r)[n.getMonth()];case ct.Days:return ln(e,i,r)[n.getDay()];case ct.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const b=function _s(n){const e=(0,l.cg1)(n);return xr(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?un(r):[un(r[0]),un(r[1])])}(e),T=function _t(n,e,t){const r=(0,l.cg1)(n);xr(r);const a=Hn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return Hn(a,t)||[]}(e,i,r),A=b.findIndex(R=>{if(Array.isArray(R)){const[B,G]=R,Y=c>=B.hours&&f>=B.minutes,ye=c<G.hours||c===G.hours&&f<G.minutes;if(B.hours<G.hours){if(Y&&ye)return!0}else if(Y||ye)return!0}else if(R.hours===c&&R.minutes===f)return!0;return!1});if(-1!==A)return T[A]}return function en(n,e,t){const r=(0,l.cg1)(n),a=Hn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return Hn(a,t)}(e,i,r)[c<12?0:1];case ct.Eras:return function tn(n,e){return Hn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,a=Fn(t,fe.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+Gn(c,2,a)+Gn(Math.abs(i%60),2,a);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+Gn(c,1,a);case qt.Long:return"GMT"+(i>=0?"+":"")+Gn(c,2,a)+":"+Gn(Math.abs(i%60),2,a);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+Gn(c,2,a)+":"+Gn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function jt(n){return ss(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Z(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=jt(t),c=function Ut(n){const e=ss(n,0,1).getDay();return ss(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return Gn(i,n,Fn(r,fe.MinusSign))}}function j(n,e=!1){return function(t,r){return Gn(jt(t).getFullYear(),n,Fn(r,fe.MinusSign),e)}}const K={};function k(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ye(n){return n instanceof Date&&!isNaN(n.valueOf())}const St=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yn(n,e,t,r,i){const c=function vn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],m=c[1]||"";t.posPre=f.substr(0,f.indexOf("#"));for(let T=0;T<m.length;T++){const A=m.charAt(T);"0"===A?t.minFrac=t.maxFrac=T+1:"#"===A?t.maxFrac=T+1:t.posSuf+=A}const b=f.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,a){const T=i.length-t.posPre.length-t.posSuf.length,A=a.indexOf("#");t.negPre=a.substr(0,A).replace(/'/g,""),t.negSuf=a.substr(A+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Cr(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,et.Currency),Fn(e,fe.MinusSign));return c.minFrac=function $n(n){let e;const t=nt[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function kl(n,e,t,r,i,a,c=!1){let f="",m=!1;if(isFinite(n)){let b=function ys(n){let r,i,a,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],c=0;a<=f;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(b=function Br(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let T=e.minInt,A=e.minFrac,R=e.maxFrac;if(a){const ke=a.match(St);if(null===ke)throw new Error(`${a} is not a valid digit info`);const Qe=ke[1],Le=ke[3],tt=ke[5];null!=Qe&&(T=Ur(Qe)),null!=Le&&(A=Ur(Le)),null!=tt?R=Ur(tt):null!=Le&&A>R&&(R=A)}!function fr(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let A=c;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let A=1;A<c;A++)r[A]=0}if(f>=5)if(c-1<0){for(let A=0;A>c;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let m=0!==a;const b=e+n.integerLen,T=r.reduceRight(function(A,R,B,G){return G[B]=(R+=A)<10?R:R-10,m&&(0===G[B]&&B>=b?G.pop():m=!1),R>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(b,A,R);let B=b.digits,G=b.integerLen;const Y=b.exponent;let ye=[];for(m=B.every(ke=>!ke);G<T;G++)B.unshift(0);for(;G<0;G++)B.unshift(0);G>0?ye=B.splice(G,B.length):(ye=B,B=[0]);const He=[];for(B.length>=e.lgSize&&He.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)He.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&He.unshift(B.join("")),f=He.join(Fn(t,r)),ye.length&&(f+=Fn(t,i)+ye.join("")),Y&&(f+=Fn(t,fe.Exponential)+"+"+Y)}else f=Fn(t,fe.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,c,e,fe.CurrencyGroup,fe.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Ur(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class as{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new as(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),zs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{zs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function zs(n,e){n.context.$implicit=e.item}let Wn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){na("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){na("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Dn{constructor(){this.$implicit=null,this.ngIf=null}}function na(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let us=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[l.TTD]}),n})();let Bl=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",a,c){if(!function aa(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function er(n,e,t="en"){const r=function Si(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||nt[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",c):i);try{return yn(function Ul(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,f,r,a)}catch(m){throw function fi(n,e){return new l.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0}),n})();let Qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function la(n){return"server"===n}let fd=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Hl((0,l.LFG)(le),window)}),n})();class Hl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Zs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Eo extends class wo extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){$||($=n)}(new Eo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Uu(){return bn=bn||document.querySelector("base"),bn?bn.getAttribute("href"):null}();return null==t?null:function Ks(n){ca=ca||document.createElement("a"),ca.setAttribute("href",n);const e=ca.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Fl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ca,bn=null;const Rr=new l.OlP("TRANSITION_ID"),$l=[{provide:l.ip1,useFactory:function ar(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=x(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Rr,le,l.zs3],multi:!0}];class Mi{static init(){(0,l.VLi)(new Mi)}addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Jr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ds=new l.OlP("EventManagerPlugins");let Do=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ds),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class da{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=x().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ji=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),cs=(()=>{class n extends ji{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Cs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Cs))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Cs(n){x().remove(n)}const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},za=/%COMP%/g;function Ae(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ae(n,i,t):(i=i.replace(za,n),t.push(i))}return t}function zt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ju(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new Wa(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ae(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Do),l.LFG(cs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Gl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Dt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Dt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zt(r)):this.eventManager.addEventListener(e,t,zt(r))}}class ju extends Gl{constructor(e,t,r,i){super(e),this.component=r;const a=Ae(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Gh(n){return"_ngcontent-%COMP%".replace(za,n)}(i+"-"+r.id),this.hostAttr=function qa(n){return"_nghost-%COMP%".replace(za,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Wa extends Gl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ae(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dg=(()=>{class n extends da{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Hu=["alt","control","meta","shift"],ga={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ds={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ma=(()=>{class n extends da{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(Hu.forEach(m=>{const b=r.indexOf(m);b>-1&&(r.splice(b,1),c+=m+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function _a(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&pr.hasOwnProperty(e)&&(e=pr[e]))}return ga[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Hu.forEach(a=>{a!=i&&ds[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function pi(){Eo.makeCurrent(),Mi.init()},multi:!0},{provide:le,useFactory:function ya(){return(0,l.RDi)(document),document},deps:[]}]),$u=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function qh(){return new l.qLn},deps:[]},{provide:Ds,useClass:dg,multi:!0,deps:[le,l.R0b,l.Lbi]},{provide:Ds,useClass:ma,multi:!0,deps:[le]},{provide:Cn,useClass:Cn,deps:[Do,cs,l.AFp]},{provide:l.FYo,useExisting:Cn},{provide:ji,useExisting:cs},{provide:cs,useClass:cs,deps:[le]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Do,useClass:Do,deps:[Ds,l.R0b]},{provide:class Tn{},useClass:Jr,deps:[]}];let Qs=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Rr,useExisting:l.AFp},$l]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:$u,imports:[Qr,l.hGG]}),n})();"undefined"!=typeof window&&window;let eo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(wd),r},providedIn:"root"}),n})(),wd=(()=>{class n extends eo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(r),(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Yu(n){return new wd(n.get(le))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var Vn=P(8996),gr=P(3269);function wt(...n){const e=(0,gr.yG)(n);return(0,Vn.D)(n,e)}var wn=P(7579);class Kn extends wn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var xn=P(8306);const{isArray:Ed}=Array,{getPrototypeOf:tr,prototype:to,keys:Qu}=Object;function Is(n){if(1===n.length){const e=n[0];if(Ed(e))return{args:e,keys:null};if(function va(n){return n&&"object"==typeof n&&tr(n)===to}(e)){const t=Qu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var $i=P(4671),Pt=P(4004);const{isArray:Ju}=Array;function ba(n){return(0,Pt.U)(e=>function Dd(n,e){return Ju(e)?n(...e):n(e)}(n,e))}function Ja(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var gn=P(5403),no=P(9672);function So(n,e,t){n?(0,no.f)(t,n,e):e()}var gi=P(576);function ro(n,e){const t=(0,gi.m)(n)?n:()=>n,r=i=>i.error(t());return new xn.y(e?i=>e.schedule(r,0,i):r)}const Ao=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ss=P(8189);function ec(...n){return function Xu(){return(0,Ss.J)(1)}()((0,Vn.D)(n,(0,gr.yG)(n)))}var ti=P(8421);function wa(n){return new xn.y(e=>{(0,ti.Xf)(n()).subscribe(e)})}var io=P(515),tl=P(727),ur=P(4482);function As(){return(0,ur.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class tc extends xn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ur.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tl.w0.EMPTY)}return e}refCount(){return As()(this)}}function Bn(n,e){return(0,ur.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,gn.x)(r,m=>{null==i||i.unsubscribe();let b=0;const T=a++;(0,ti.Xf)(n(m,T)).subscribe(i=(0,gn.x)(r,A=>r.next(e?e(m,A,T,b++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var nr=P(5698);function ni(...n){const e=(0,gr.yG)(n);return(0,ur.e)((t,r)=>{(e?ec(n,t,e):ec(n,t)).subscribe(r)})}function Ns(n,e,t,r,i){return(a,c)=>{let f=t,m=e,b=0;a.subscribe((0,gn.x)(c,T=>{const A=b++;m=f?n(m,T,A):(f=!0,T),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}function Oi(n,e){return(0,ur.e)(Ns(n,e,arguments.length>=2,!0))}function rr(n,e){return(0,ur.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function hs(n){return(0,ur.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,gn.x)(t,void 0,void 0,c=>{a=(0,ti.Xf)(n(c,hs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var In=P(5577);function Ea(n,e){return(0,gi.m)(e)?(0,In.z)(n,e,1):(0,In.z)(n,1)}function Cd(n){return n<=0?()=>io.E:(0,ur.e)((e,t)=>{let r=[];e.subscribe((0,gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Un(n=hg){return(0,ur.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hg(){return new Ao}function fg(n){return(0,ur.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function No(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rr((i,a)=>n(i,a,r)):$i.y,(0,nr.q)(1),t?fg(e):Un(()=>new Ao))}var jr=P(8505);class fs{constructor(e,t){this.id=e,this.url=t}}class Mo extends fs{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Da extends fs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ir extends fs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nl extends fs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zl extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Td extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rl extends fs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ri extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ca{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class il{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ta{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ic{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ht="primary";class sl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ir(n){return new sl(n)}const sc="ngNavigationCancelingError";function Ms(n){const e=Error("NavigationCancelingError: "+n);return e[sc]=!0,e}function Kl(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function _i(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Yl(n[i],e[i]))return!1;return!0}function Yl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Id(n){return Array.prototype.concat.apply([],n)}function zi(n){return n.length>0?n[n.length-1]:null}function Sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ii(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):wt(n)}const so={exact:function C(n,e,t){if(!Ct(n.segments,e.segments)||!Q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!C(n.children[r],e.children[r],t))return!1;return!0},subset:O},Ql={exact:function Sd(n,e){return _i(n,e)},subset:function I(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Yl(n[t],e[t]))},ignored:()=>!0};function Sa(n,e,t){return so[t.paths](n.root,e.root,t.matrixParams)&&Ql[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O(n,e,t){return U(n,e,e.segments,t)}function U(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ct(i,t)||e.hasChildren()||!Q(i,t,r))}if(n.segments.length===t.length){if(!Ct(n.segments,t)||!Q(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!O(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ct(n.segments,i)&&Q(n.segments,i,r)&&n.children[Ht])&&U(n.children[Ht],e,a,r)}}function Q(n,e,t){return e.every((r,i)=>Ql[t](n[i].parameters,r.parameters))}class re{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ir(this.queryParams)),this._queryParamMap}toString(){return mr.serialize(this)}}class _e{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Sn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Os(this)}}class $e{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ir(this.parameters)),this._parameterMap}toString(){return oc(this)}}function Ct(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class At{}class Hr{parse(e){const t=new j_(e);return new re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ps(e.root,!0)}`,r=function U_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${xi(t)}=${xi(i)}`).join("&"):`${xi(t)}=${xi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wi(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mr=new Hr;function Os(n){return n.segments.map(e=>oc(e)).join("/")}function ps(n,e){if(!n.hasChildren())return Os(n);if(e){const t=n.children[Ht]?ps(n.children[Ht],!1):"",r=[];return Sn(n.children,(i,a)=>{a!==Ht&&r.push(`${a}:${ps(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qt(n,e){let t=[];return Sn(n.children,(r,i)=>{i===Ht&&(t=t.concat(e(r,i)))}),Sn(n.children,(r,i)=>{i!==Ht&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ht?[ps(n.children[Ht],!1)]:[`${i}:${ps(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${Os(n)}/${t[0]}`:`${Os(n)}/(${t.join("//")})`}}function qi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xi(n){return qi(n).replace(/%3B/gi,";")}function Jl(n){return qi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(n){return decodeURIComponent(n)}function eu(n){return Xl(n.replace(/\+/g,"%20"))}function oc(n){return`${Jl(n.path)}${function mg(n){return Object.keys(n).map(e=>`;${Jl(e)}=${Jl(n[e])}`).join("")}(n.parameters)}`}const ef=/^[^\/()?;=#]+/;function Oo(n){const e=n.match(ef);return e?e[0]:""}const ac=/^[^=?&#]+/,Cb=/^[^&#]+/;class j_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new _e(e,t)),r}parseSegment(){const e=Oo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $e(Xl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Oo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Oo(this.remaining);i&&(r=i,this.capture(r))}e[Xl(t)]=Xl(r)}parseQueryParam(e){const t=function _g(n){const e=n.match(ac);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function lc(n){const e=n.match(Cb);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=eu(t),a=eu(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Oo(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ht);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Ht]:new _e([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class H_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=tf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=tf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=nf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nf(e,this._root).map(t=>t.value)}}function tf(n,e){if(n===e.value)return e;for(const t of e.children){const r=tf(n,t);if(r)return r}return null}function nf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=nf(n,t);if(r.length)return r.unshift(e),r}return[]}class xo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ro(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ad extends H_{constructor(e,t){super(e),this.snapshot=t,uc(this,e)}toString(){return this.snapshot.toString()}}function ol(n,e){const t=function rf(n,e){const c=new nu([],{},{},"",{},Ht,e,null,n.root,-1,{});return new sf("",new xo(c,[]))}(n,e),r=new Kn([new $e("",{})]),i=new Kn({}),a=new Kn({}),c=new Kn({}),f=new Kn(""),m=new tu(r,i,c,f,a,Ht,e,t.root);return m.snapshot=t.root,new Ad(new xo(m,[]),t)}class tu{constructor(e,t,r,i,a,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>Ir(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>Ir(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Nd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class nu{constructor(e,t,r,i,a,c,f,m,b,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ir(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ir(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sf extends H_{constructor(e,t){super(t),this.url=e,uc(this,t)}toString(){return af(this._root)}}function uc(n,e){e.value._routerState=n,e.children.forEach(t=>uc(n,t))}function af(n){const e=n.children.length>0?` { ${n.children.map(af).join(", ")} } `:"";return`${n.value}${e}`}function Po(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),_i(e.params,t.params)||n.params.next(t.params),function Ia(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),_i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lf(n,e){const t=_i(n.params,e.params)&&function Mt(n,e){return Ct(n,e)&&n.every((t,r)=>_i(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lf(n.parent,e.parent))}function al(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function z_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return al(n,r,i);return al(n,r)})}(n,e,t);return new xo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>al(n,f)),c}}const r=function uf(n){return new tu(new Kn(n.url),new Kn(n.params),new Kn(n.queryParams),new Kn(n.fragment),new Kn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>al(n,a));return new xo(r,i)}}function oo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ru(n){return"object"==typeof n&&null!=n&&n.outlets}function cc(n,e,t,r,i){let a={};if(r&&Sn(r,(f,m)=>{a[m]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new re(t,a,i);const c=yg(n,e,t);return new re(c,a,i)}function yg(n,e,t){const r={};return Sn(n.children,(i,a)=>{r[a]=i===e?t:yg(i,e,t)}),new _e(n.segments,r)}class cf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&oo(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ru);if(i&&i!==zi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class df{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function v(n,e,t){if(n||(n=new _e([],{})),0===n.segments.length&&n.hasChildren())return g(n,e,t);const r=function _(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(ru(f))break;const m=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!X(m,b,c))return a;r+=2}else{if(!X(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new _e(n.segments.slice(0,r.pathIndex),{});return a.children[Ht]=new _e(n.segments.slice(r.pathIndex),n.children),g(a,0,i)}return r.match&&0===i.length?new _e(n.segments,{}):r.match&&!n.hasChildren()?E(n,e,t):r.match?g(n,0,i):E(n,e,t)}function g(n,e,t){if(0===t.length)return new _e(n.segments,{});{const r=function Tb(n){return ru(n[0])?n[0].outlets:{[Ht]:n}}(t),i={};return Sn(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=v(n.children[c],e,a))}),Sn(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new _e(n.segments,i)}}function E(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(ru(a)){const m=M(a.outlets);return new _e(r,m)}if(0===i&&oo(t[0])){r.push(new $e(n.segments[e].path,L(t[0]))),i++;continue}const c=ru(a)?a.outlets[Ht]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&oo(f)?(r.push(new $e(c,L(f))),i+=2):(r.push(new $e(c,{})),i++)}return new _e(r,{})}function M(n){const e={};return Sn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=E(new _e([],{}),0,t))}),e}function L(n){const e={};return Sn(n,(t,r)=>e[r]=`${t}`),e}function X(n,e,t){return n==t.path&&_i(e,t.parameters)}class ft{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Po(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ro(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Sn(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ro(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ro(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ro(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new rc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Ta(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Po(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Po(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function It(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),m=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=m,c.outlet&&c.outlet.activateWith(i,m),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class $t{constructor(e,t){this.routes=e,this.module=t}}function mn(n){return"function"==typeof n}function Zi(n){return n instanceof re}const hc=Symbol("INITIAL_VALUE");function Aa(){return Bn(n=>function Xa(...n){const e=(0,gr.yG)(n),t=(0,gr.jO)(n),{args:r,keys:i}=Is(n);if(0===r.length)return(0,Vn.D)([],e);const a=new xn.y(function ei(n,e,t=$i.y){return r=>{So(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)So(e,()=>{const b=(0,Vn.D)(n[m],e);let T=!1;b.subscribe((0,gn.x)(r,A=>{a[m]=A,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ja(i,c):$i.y));return t?a.pipe(ba(t)):a}(n.map(e=>e.pipe((0,nr.q)(1),ni(hc)))).pipe(Oi((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==hc?i:(a===hc&&(r=!0),r||!1!==a&&c!==t.length-1&&!Zi(a)?i:a),e)},hc),rr(e=>e!==hc),(0,Pt.U)(e=>Zi(e)?e:!0===e),(0,nr.q)(1)))}class wg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new su,this.attachRef=null}}class su{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let fc=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=a||Ht,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new Eg(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(su),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Eg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===tu?this.route:e===su?this.childContexts:this.parent.get(e,t)}}let hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[fc],encapsulation:2}),n})();function ll(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Dg(r,Z_(e,r))}}function Dg(n,e){n.children&&ll(n.children,e)}function Z_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function K_(n){const e=n.children&&n.children.map(K_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=hf),t}function _n(n){return n.outlet||Ht}function Y_(n,e){const t=n.filter(r=>_n(r)===e);return t.push(...n.filter(r=>_n(r)!==e)),t}const Ib={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Od(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Ib):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Kl)(t,n,e);if(!a)return Object.assign({},Ib);const c={};Sn(a.posParams,(m,b)=>{c[b]=m.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function ff(n,e,t,r,i="corrected"){if(t.length>0&&function _C(n,e,t){return t.some(r=>Cg(n,e,r)&&_n(r)!==Ht)}(n,t,r)){const c=new _e(e,function mC(n,e,t,r){const i={};i[Ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&_n(a)!==Ht){const c=new _e([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[_n(a)]=c}return i}(n,e,r,new _e(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function yC(n,e,t){return t.some(r=>Cg(n,e,r))}(n,t,r)){const c=new _e(n.segments,function gC(n,e,t,r,i,a){const c={};for(const f of r)if(Cg(n,t,f)&&!i[_n(f)]){const m=new _e([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[_n(f)]=m}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new _e(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Cg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vC(n,e,t,r){return!!(_n(n)===r||r!==Ht&&Cg(e,t,n))&&("**"===n.path||Od(e,n,t).matched)}function bC(n,e,t){return 0===e.length&&!n.children[t]}class ou{constructor(e){this.segmentGroup=e||null}}class Ri{constructor(e){this.urlTree=e}}function pc(n){return ro(new ou(n))}function Q_(n){return ro(new Ri(n))}class J_{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=ff(this.urlTree.root,[],[],this.config).segmentGroup,t=new _e(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ht).pipe((0,Pt.U)(a=>this.createUrlTree(X_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hs(a=>{if(a instanceof Ri)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ou?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ht).pipe((0,Pt.U)(i=>this.createUrlTree(X_(i),e.queryParams,e.fragment))).pipe(hs(i=>{throw i instanceof ou?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new _e([],{[Ht]:e}):e;return new re(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Pt.U)(a=>new _e([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Vn.D)(i).pipe(Ea(a=>{const c=r.children[a],f=Y_(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Pt.U)(m=>({segment:m,outlet:a})))}),Oi((a,c)=>(a[c.outlet]=c.segment,a),{}),function Qh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rr((i,a)=>n(i,a,r)):$i.y,Cd(1),t?fg(e):Un(()=>new Ao))}())}expandSegment(e,t,r,i,a,c){return(0,Vn.D)(r).pipe(Ea(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(hs(b=>{if(b instanceof ou)return wt(null);throw b}))),No(f=>!!f),hs((f,m)=>{if(f instanceof Ao||"EmptyError"===f.name)return bC(t,i,a)?wt(new _e([],{})):pc(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return vC(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):pc(t):pc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Q_(a):this.lineralizeSegments(r,a).pipe((0,In.z)(c=>{const f=new _e(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:m,remainingSegments:b,positionalParamSegments:T}=Od(t,i,a);if(!f)return pc(t);const A=this.applyRedirectCommands(m,i.redirectTo,T);return i.redirectTo.startsWith("/")?Q_(A):this.lineralizeSegments(i,A).pipe((0,In.z)(R=>this.expandSegment(e,t,r,R.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?wt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Pt.U)(A=>(r._loadedConfig=A,new _e(i,{})))):wt(new _e(i,{}));const{matched:c,consumedSegments:f,remainingSegments:m}=Od(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,In.z)(T=>{const A=T.module,R=T.routes,{segmentGroup:B,slicedSegments:G}=ff(t,f,m,R),Y=new _e(B.segments,B.children);if(0===G.length&&Y.hasChildren())return this.expandChildren(A,R,Y).pipe((0,Pt.U)(Qe=>new _e(f,Qe)));if(0===R.length&&0===G.length)return wt(new _e(f,{}));const ye=_n(r)===a;return this.expandSegment(A,Y,R,G,ye?Ht:a,!0).pipe((0,Pt.U)(ke=>new _e(f.concat(ke.segments),ke.children)))})):pc(t)}getChildConfig(e,t,r){return t.children?wt(new $t(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?wt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,In.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Pt.U)(a=>(t._loadedConfig=a,a))):function Pi(n){return ro(Ms(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):wt(new $t([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?wt(i.map(c=>{const f=e.get(c);let m;if(function iu(n){return n&&mn(n.canLoad)}(f))m=f.canLoad(t,r);else{if(!mn(f))throw new Error("Invalid CanLoad guard");m=f(t,r)}return ii(m)})).pipe(Aa(),(0,jr.b)(c=>{if(!Zi(c))return;const f=Ms(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,Pt.U)(c=>!0===c)):wt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wt(r);if(i.numberOfChildren>1||!i.children[Ht])return ro(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new re(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Sn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Sn(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new _e(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function X_(n){const e={};for(const r of Object.keys(n.children)){const a=X_(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function wC(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new _e(n.segments.concat(e.segments),e.children)}return n}(new _e(n.segments,e))}class Nb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gf{constructor(e,t){this.component=e,this.route=t}}function EC(n,e,t){const r=n._root;return gc(r,e?e._root:null,t,[r.value])}function Tg(n,e,t){const r=function DC(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function gc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ro(e);return n.children.forEach(c=>{(function CC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function TC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ct(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ct(n.url,e.url)||!_i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lf(n,e)||!_i(n.queryParams,e.queryParams);default:return!lf(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Nb(r)):(a.data=c.data,a._resolvedData=c._resolvedData),gc(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new gf(f.outlet.component,c))}else c&&mc(e,f,i),i.canActivateChecks.push(new Nb(r)),gc(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Sn(a,(c,f)=>mc(c,t.getContext(f),i)),i}function mc(n,e,t){const r=Ro(n),i=n.value;Sn(r,(a,c)=>{mc(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new gf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ob{}function xb(n){return new xn.y(e=>e.error(n))}class PC{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=ff(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ht);if(null===t)return null;const r=new nu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new xo(r,t),a=new sf(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=$_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=Y_(e,a),m=this.processSegmentGroup(f,c,a);if(null===m)return null;r.push(...m)}const i=ey(r);return function kC(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return bC(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!vC(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const B=r.length>0?zi(r).parameters:{};a=new nu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VC(e),_n(e),e.component,e,_c(t),Lo(t)+r.length,BC(e))}else{const B=Od(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,a=new nu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VC(e),_n(e),e.component,e,_c(t),Lo(t)+c.length,BC(e))}const m=function FC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=ff(t,c,f,m.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const B=this.processChildren(m,b);return null===B?null:[new xo(a,B)]}if(0===m.length&&0===T.length)return[new xo(a,[])];const A=_n(e)===i,R=this.processSegment(m,b,T,A?Ht:i);return null===R?null:[new xo(a,R)]}}function LC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ey(n){const e=[],t=new Set;for(const r of n){if(!LC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ey(r.children);e.push(new xo(r.value,i))}return e.filter(r=>!t.has(r))}function _c(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lo(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function VC(n){return n.data||{}}function BC(n){return n.resolve||{}}function Sg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ag(n){return Bn(e=>{const t=n(e);return t?(0,Vn.D)(t).pipe((0,Pt.U)(()=>e)):wt(e)})}class kb extends class Pb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const _f=new l.OlP("ROUTES");class Ng{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Pt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new $t(Id(c.injector.get(_f,void 0,l.XFs.Self|l.XFs.Optional)).map(K_),c)}),hs(a=>{throw t._loader$=void 0,a}));return t._loader$=new tc(i,()=>new wn.x).pipe(As()),t._loader$}loadModuleFactory(e){return ii(e()).pipe((0,In.z)(t=>t instanceof l.YKP?wt(t):(0,Vn.D)(this.compiler.compileModuleAsync(t))))}}class KA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function xd(n){throw n}function ny(n,e,t){return e.parse("/")}function ry(n,e){return wt(null)}const jC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xs=(()=>{class n{constructor(t,r,i,a,c,f,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wn.x,this.errorHandler=xd,this.malformedUriErrorHandler=ny,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ry,afterPreactivation:ry},this.urlHandlingStrategy=new KA,this.routeReuseStrategy=new kb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const A=c.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function Xh(){return new re(new _e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ng(c,f,R=>this.triggerEvent(new Ca(R)),R=>this.triggerEvent(new il(R))),this.routerState=ol(this.currentUrlTree,this.rootComponentType),this.transitions=new Kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(rr(i=>0!==i.id),(0,Pt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let a=!1,c=!1;return wt(i).pipe((0,jr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bn(f=>{const m=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Lb(f.source)&&(this.browserUrlTree=f.extractedUrl),wt(f).pipe(Bn(A=>{const R=this.transitions.getValue();return r.next(new Mo(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),R!==this.transitions.getValue()?io.E:Promise.resolve(A)}),function Ab(n,e,t,r){return Bn(i=>function pf(n,e,t,r,i){return new J_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Pt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jr.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function Rb(n,e,t,r,i){return(0,In.z)(a=>function RC(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new PC(n,e,t,r,i,a).recognize();return null===c?xb(new Ob):wt(c)}catch(c){return xb(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Pt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jr.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const R=new Zl(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(R)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:B,source:G,restoredState:Y,extras:ye}=f,He=new Mo(R,this.serializeUrl(B),G,Y);r.next(He);const ke=ol(B,this.rootComponentType).snapshot;return wt(Object.assign(Object.assign({},f),{targetSnapshot:ke,urlAfterRedirects:B,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),io.E}),Ag(f=>{const{targetSnapshot:m,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:B}}=f;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!B})}),(0,jr.b)(f=>{const m=new Td(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,Pt.U)(f=>Object.assign(Object.assign({},f),{guards:EC(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function IC(n,e){return(0,In.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?wt(Object.assign(Object.assign({},t),{guardsResult:!0})):function SC(n,e,t,r){return(0,Vn.D)(n).pipe((0,In.z)(i=>function xC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?wt(a.map(f=>{const m=Tg(f,e,i);let b;if(function W_(n){return n&&mn(n.canDeactivate)}(m))b=ii(m.canDeactivate(n,e,t,r));else{if(!mn(m))throw new Error("Invalid CanDeactivate guard");b=ii(m(n,e,t,r))}return b.pipe(No())})).pipe(Aa()):wt(!0)}(i.component,i.route,t,e,r)),No(i=>!0!==i,!0))}(c,r,i,n).pipe((0,In.z)(f=>f&&function Fo(n){return"boolean"==typeof n}(f)?function Ig(n,e,t,r){return(0,Vn.D)(e).pipe(Ea(i=>ec(function NC(n,e){return null!==n&&e&&e(new mi(n)),wt(!0)}(i.route.parent,r),function AC(n,e){return null!==n&&e&&e(new nc(n)),wt(!0)}(i.route,r),function OC(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Mb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>wa(()=>wt(c.guards.map(m=>{const b=Tg(m,c.node,t);let T;if(function dc(n){return n&&mn(n.canActivateChild)}(b))T=ii(b.canActivateChild(r,n));else{if(!mn(b))throw new Error("Invalid CanActivateChild guard");T=ii(b(r,n))}return T.pipe(No())})).pipe(Aa())));return wt(a).pipe(Aa())}(n,i.path,t),function MC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wt(!0);const i=r.map(a=>wa(()=>{const c=Tg(a,e,t);let f;if(function Md(n){return n&&mn(n.canActivate)}(c))f=ii(c.canActivate(e,n));else{if(!mn(c))throw new Error("Invalid CanActivate guard");f=ii(c(e,n))}return f.pipe(No())}));return wt(i).pipe(Aa())}(n,i.route,t))),No(i=>!0!==i,!0))}(r,a,n,e):wt(f)),(0,Pt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,jr.b)(f=>{if(Zi(f.guardsResult)){const b=Ms(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const m=new rl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),rr(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Ag(f=>{if(f.guards.canActivateChecks.length)return wt(f).pipe((0,jr.b)(m=>{const b=new ri(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),Bn(m=>{let b=!1;return wt(m).pipe(function ZA(n,e){return(0,In.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return wt(t);let a=0;return(0,Vn.D)(i).pipe(Ea(c=>function Na(n,e,t,r){return function ty(n,e,t,r){const i=Sg(n);if(0===i.length)return wt({});const a={};return(0,Vn.D)(i).pipe((0,In.z)(c=>function UC(n,e,t,r){const i=Tg(n,e,r);return ii(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,jr.b)(f=>{a[c]=f}))),Cd(1),(0,In.z)(()=>Sg(a).length===i.length?wt(a):io.E))}(n._resolve,n,e,r).pipe((0,Pt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),$_(n,t).resolve),null)))}(c.route,r,n,e)),(0,jr.b)(()=>a++),Cd(1),(0,In.z)(c=>a===i.length?wt(t):io.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,jr.b)(m=>{const b=new Gi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),Ag(f=>{const{targetSnapshot:m,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:B}}=f;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!B})}),(0,Pt.U)(f=>{const m=function G_(n,e,t){const r=al(n,e._root,t?t._root:void 0);return new Ad(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),(0,jr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(r=>(new ft(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,jr.b)({next(){a=!0},complete(){a=!0}}),function pg(n){return(0,ur.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),hs(f=>{if(c=!0,function gg(n){return n&&n[sc]}(f)){const m=Zi(f.url);m||(this.navigated=!0,this.restoreHistory(i,!0));const b=new ir(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),m?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lb(i.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new nl(i.id,this.serializeUrl(i.extractedUrl),f);r.next(m);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return io.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const m=Object.assign({},c);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ll(t),this.config=t.map(K_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,b=i||this.routerState.root,T=m?this.currentUrlTree.fragment:c;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function ko(n,e,t,r,i){if(0===t.length)return cc(e.root,e.root,e.root,r,i);const a=function vg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new cf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Sn(a.outlets,(m,b)=>{f[b]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new cf(t,e,r)}(t);if(a.toRoot())return cc(e.root,e.root,new _e([],{}),r,i);const c=function bg(n,e,t){if(n.isAbsolute)return new df(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new df(a,a===e.root,0)}const r=oo(n.commands[0])?0:1;return function q_(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new df(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?g(c.segmentGroup,c.index,a.commands):v(c.segmentGroup,c.index,a.commands);return cc(e.root,c.segmentGroup,f,r,i)}(b,this.currentUrlTree,t,A,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Zi(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},jC):!1===r?Object.assign({},iy):r,Zi(t))return Sa(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Sa(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Da(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,m;if(this.disposed)return Promise.resolve(!1);let b,T,A;c?(b=c.resolve,T=c.reject,A=c.promise):A=new Promise((G,Y)=>{b=G,T=Y});const R=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):B=0,this.setTransition({id:R,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:T,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new ir(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Lb(n){return"imperative"!==n}let Mg=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.commands=null,this.onChanges=new wn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Rd(this.skipLocationChange),replaceUrl:Rd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xs),l.Y36(tu),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Og=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new wn.x,this.subscription=t.events.subscribe(a=>{a instanceof Da&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){if(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Rd(this.skipLocationChange),replaceUrl:Rd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xs),l.Y36(tu),l.Y36(ge))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Rd(n){return""===n||!!n}class oy{}class Bb{preload(e,t){return wt(null)}}let Ub=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Ng(i,r,m=>t.triggerEvent(new Ca(m)),m=>t.triggerEvent(new il(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(rr(t=>t instanceof Da),Ea(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Vn.D)(i).pipe((0,Ss.J)(),(0,Pt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?wt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,In.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xs),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(oy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Da&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ic&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ic(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=new l.OlP("ROUTER_CONFIGURATION"),ly=new l.OlP("ROUTER_FORROOT_GUARD"),jb=[Ne,{provide:At,useClass:Hr},{provide:xs,useFactory:function cy(n,e,t,r,i,a,c={},f,m){const b=new xs(null,n,e,t,r,i,Id(a));return f&&(b.urlHandlingStrategy=f),m&&(b.routeReuseStrategy=m),function Gb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(T=>{var A,R;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(R=console.groupEnd)||void 0===R||R.call(console)}),b},deps:[At,su,Ne,l.zs3,l.Sil,_f,Rs,[class Fb{},new l.FiY],[class mf{},new l.FiY]]},su,{provide:tu,useFactory:function Rg(n){return n.routerState.root},deps:[xs]},Ub,Bb,class ay{preload(e,t){return t().pipe(hs(()=>wt(null)))}},{provide:Rs,useValue:{enableTracing:!1}}];function GC(){return new l.PXZ("Router",xs)}let yf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[jb,uy(t),{provide:ly,useFactory:$b,deps:[[xs,new l.FiY,new l.tp0]]},{provide:Rs,useValue:r||{}},{provide:ge,useFactory:Hb,deps:[ce,[new l.tBr(st),new l.FiY],Rs]},{provide:xg,useFactory:zC,deps:[xs,fd,Rs]},{provide:oy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Bb},{provide:l.PXZ,multi:!0,useFactory:GC},[Pd,{provide:l.ip1,multi:!0,useFactory:zb,deps:[Pd]},{provide:hy,useFactory:dy,deps:[Pd]},{provide:l.tb,multi:!0,useExisting:hy}]]}}static forChild(t){return{ngModule:n,providers:[uy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ly,8),l.LFG(xs,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function zC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new xg(n,e,t)}function Hb(n,e,t={}){return t.useHash?new Oe(n,e):new Ge(n,e)}function $b(n){return"guarded"}function uy(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:_f,multi:!0,useValue:n}]}let Pd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new wn.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(xs),c=this.injector.get(Rs);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?wt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Rs),i=this.injector.get(Ub),a=this.injector.get(xg),c=this.injector.get(xs),f=this.injector.get(l.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function zb(n){return n.appInitializer.bind(n)}function dy(n){return n.bootstrapListener.bind(n)}const hy=new l.OlP("Router Initializer");let qC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-grid"]],decls:239,vars:0,consts:[[1,"title"],[1,"presentacion"],["id","portfolio",1,"page-section","portfolio"],[1,"container"],[1,"divider-custom",2,"padding-top","5%"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4","mb-5"],["data-bs-toggle","modal","data-bs-target","#portfolioModal1",1,"portfolio-item","mx-auto"],[2,"text-align","center"],[1,"botones"],["data-bs-toggle","modal","data-bs-target","#portfolioModal2",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal3",1,"portfolio-item","mx-auto"],[1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal4",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal5",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal6",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal7",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal8",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal9",1,"portfolio-item","mx-auto"],[1,"divider-custom"],["id","portfolioModal1","tabindex","-1","aria-labelledby","portfolioModal1","aria-hidden","true",1,"portfolio-modal","modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center","pb-5"],[1,"col-lg-8"],[1,"portfolio-modal-title","text-secondary","text-uppercase","mb-0",2,"text-align","center"],["data-bs-dismiss","modal","routerLink","/oportunidades",1,"btn"],[1,"fas","fa-info"],["id","portfolioModal2","tabindex","-1","aria-labelledby","portfolioModal2","aria-hidden","true",1,"portfolio-modal","modal","fade"],[1,"portfolio-modal-title","text-secondary","text-uppercase","mb-0"],[1,"mb-4"],["src","/assets/mascotas.jpg","height","250px","width","250px"],["data-bs-dismiss","modal","routerLink","/mascotas",1,"btn"],["id","portfolioModal3","tabindex","-1","aria-labelledby","portfolioModal3","aria-hidden","true",1,"portfolio-modal","modal","fade"],["src","/assets/simoca.jpg","height","250px","width","250px"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el servicio de limpieza muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"],["id","portfolioModal4","tabindex","-1","aria-labelledby","portfolioModal4","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/fletes",1,"btn"],["id","portfolioModal5","tabindex","-1","aria-labelledby","portfolioModal5","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el servicio de consultoria, negocios y remodelacion.","target","_blank",1,"fab"],[1,"btn","fab","fa-whatsapp"],["id","portfolioModal6","tabindex","-1","aria-labelledby","portfolioModal6","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el servicio de Vidreria y cerramientos de aluminio.","target","_blank",1,"fab"],["id","portfolioModal7","tabindex","-1","aria-labelledby","portfolioModal7","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/refrigeracion",1,"btn"],["id","portfolioModal8","tabindex","-1","aria-labelledby","portfolioModal8","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/aires",1,"btn"],["id","portfolioModal9","tabindex","-1","aria-labelledby","portfolioModal9","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el servicio de reparaciones muchas gracias.","target","_blank",1,"fab"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"div",0)(2,"p"),l._uU(3,"Consultoria de negocios e inversiones"),l.qZA()(),l.TgZ(4,"h2",1),l._uU(5," CNI cuenta con un acuerdo con estas empresas con la finalidad de brindarle soluciones a diferentes necesidades de mantenimiento, instalaciones, remodelaciones y compras de su empresa o de su hogar "),l.qZA(),l.TgZ(6,"section",2)(7,"div",3),l._UZ(8,"br")(9,"br")(10,"br"),l.TgZ(11,"div",4),l._UZ(12,"div",5),l.TgZ(13,"div",6),l._UZ(14,"i",7),l.qZA(),l._UZ(15,"div",5),l.qZA(),l.TgZ(16,"div",8)(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"h3"),l._uU(22,"OPORTUNIDADES"),l.qZA()()()()(),l.TgZ(23,"div",9)(24,"div",13)(25,"div",11)(26,"div",12)(27,"h3"),l._uU(28,"MASCOTAS"),l.qZA()()()()(),l.TgZ(29,"div",9)(30,"div",14)(31,"div",11)(32,"div",12)(33,"h3"),l._uU(34,"SIMOCA LIMP"),l.qZA()()()()(),l.TgZ(35,"div",9)(36,"div",15)(37,"div",16)(38,"div",11)(39,"div",12)(40,"h3"),l._uU(41,"MINI FLETES"),l.qZA()()()()()(),l.TgZ(42,"div",9)(43,"div",17)(44,"div",11)(45,"div",12)(46,"h3"),l._uU(47,"CONSULTORIA"),l.qZA()()()()(),l.TgZ(48,"div",9)(49,"div",18)(50,"div",11)(51,"div",12)(52,"h3"),l._uU(53,"VIDRIERIA"),l.qZA()()()()(),l.TgZ(54,"div",9)(55,"div",19)(56,"div",11)(57,"div")(58,"div",12)(59,"h3"),l._uU(60,"REFRIGERACION"),l.qZA()()()()()(),l.TgZ(61,"div",9)(62,"div",20)(63,"div",11)(64,"div",12)(65,"h3"),l._uU(66,"AIRES ACONDICIONADOS"),l.qZA()()()()(),l.TgZ(67,"div",9)(68,"div",21)(69,"div",11)(70,"div",12)(71,"h3"),l._uU(72,"REPARACION MAQUINAS"),l.qZA()()()()(),l.TgZ(73,"div",22),l._UZ(74,"div",5),l.TgZ(75,"div",6),l._UZ(76,"i",7),l.qZA(),l._UZ(77,"div",5),l.qZA()()()(),l.TgZ(78,"div",23)(79,"div",24)(80,"div",25)(81,"div",26),l._UZ(82,"button",27),l.qZA(),l.TgZ(83,"div",28)(84,"div",3)(85,"div",8)(86,"div",29)(87,"h2",30),l._uU(88," nuestras oportunidades "),l.qZA(),l._UZ(89,"br"),l.TgZ(90,"button",31),l._UZ(91,"i",32),l._uU(92," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(93,"div",33)(94,"div",24)(95,"div",25)(96,"div",26),l._UZ(97,"button",27),l.qZA(),l.TgZ(98,"div",28)(99,"div",3)(100,"div",8)(101,"div",29)(102,"h2",34),l._uU(103," Nuestras opciones "),l.qZA(),l._UZ(104,"br"),l.TgZ(105,"p"),l._uU(106,"\xa1Selecciona el producto, te lo llevamos!"),l.qZA(),l.TgZ(107,"p",35),l._uU(108," Realizamos cortes de razas, ba\xf1os de mascotas y cortes higi\xe9nicos (deslanado striping) traslados zona lanus. Ademas, vendemos alimentos para mascotas. "),l.qZA(),l.TgZ(109,"div"),l._UZ(110,"img",36),l.qZA(),l.TgZ(111,"button",37),l._UZ(112,"i",32),l._uU(113," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(114,"div",38)(115,"div",24)(116,"div",25)(117,"div",26),l._UZ(118,"button",27),l.qZA(),l.TgZ(119,"div",28)(120,"div",3)(121,"div",8)(122,"div",29)(123,"h2",34),l._uU(124," Servicio de limpieza "),l.qZA(),l._UZ(125,"br"),l.TgZ(126,"p",35),l._uU(127," Nuestra empresa se dedica al servicio de limpieza de oficinas laboratorios consorcios escuelas y finales de obra contamos con la maquinaria necesaria y el personal adecuado para realizar el trabajo tenemos experiencia de 6 a\xf1os en el rubro "),l.qZA(),l.TgZ(128,"div"),l._UZ(129,"img",39),l.qZA(),l._UZ(130,"link",40),l.TgZ(131,"a",41)(132,"i",42),l._uU(133,"CONTACTANOS"),l.qZA()()()()()()()()(),l.TgZ(134,"div",43)(135,"div",24)(136,"div",25)(137,"div",26),l._UZ(138,"button",27),l.qZA(),l.TgZ(139,"div",28)(140,"div",3)(141,"div",8)(142,"div",29)(143,"h2",34),l._uU(144," fletes "),l.qZA(),l._UZ(145,"br"),l.TgZ(146,"p",35),l._uU(147," Te estas mudando o compraste cosas que necesitas trasladar hasta tu casa, empresa o negocio, solo completa los cuadros de donde salis hasta donde deseas trasladar tu envio y te cotizamos al instante. "),l.qZA(),l.TgZ(148,"button",44),l._UZ(149,"i",32),l._uU(150," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(151,"div",45)(152,"div",24)(153,"div",25)(154,"div",26),l._UZ(155,"button",27),l.qZA(),l.TgZ(156,"div",28)(157,"div",3)(158,"div",8)(159,"div",29)(160,"h2",34),l._uU(161," Consultoria CNI "),l.qZA(),l._UZ(162,"br"),l.TgZ(163,"p",35),l._uU(164," \u2022Tenes un negocio o comercio y mermaron tus ventas, quieres una nueva imagen o no sabes como mejorar o fidelizar a tus clientes. Tu local necesita una refaccion? Nosotros te visitamos hacemos un estudio de tu caso y te sugerimos los cambios que deber\xedas realizar y te ayudamos con las refacciones. "),l.qZA(),l.TgZ(165,"p"),l._uU(166," \u2022 Nuestra visita para ver la factibilidad tiene un costo bajo, solo de $2000. Este costo se te cobra solo por el viaje y el tiempo de entrevista si vemos que es posible mejorar despues te proveemos un costo final. "),l.qZA(),l._UZ(167,"link",40),l.TgZ(168,"a",46)(169,"i",47),l._uU(170,"CONTACTANOS"),l.qZA()()()()()()()()(),l.TgZ(171,"div",48)(172,"div",24)(173,"div",25)(174,"div",26),l._UZ(175,"button",27),l.qZA(),l.TgZ(176,"div",28)(177,"div",3)(178,"div",8)(179,"div",29)(180,"h2",34),l._uU(181," Vidreria y cerramiento "),l.qZA(),l._UZ(182,"br"),l.TgZ(183,"p",35),l._uU(184," Vidrier\xeda Calder\xf3n venta de vidrios laminados aberturas mamparas de ba\xf1o frentes templados venta y reparaci\xf3n de mosquiteros "),l.qZA(),l._UZ(185,"link",40),l.TgZ(186,"a",49)(187,"i",42),l._uU(188,"CONTACTANOS"),l.qZA()()()()()()()()(),l.TgZ(189,"div",50)(190,"div",24)(191,"div",25)(192,"div",26),l._UZ(193,"button",27),l.qZA(),l.TgZ(194,"div",28)(195,"div",3)(196,"div",8)(197,"div",29)(198,"h2",34),l._uU(199," \xa1Selecciona el producto, te lo llevamos! "),l.qZA(),l._UZ(200,"br"),l.TgZ(201,"button",51),l._UZ(202,"i",32),l._uU(203," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(204,"div",52)(205,"div",24)(206,"div",25)(207,"div",26),l._UZ(208,"button",27),l.qZA(),l.TgZ(209,"div",28)(210,"div",3)(211,"div",8)(212,"div",29)(213,"h2",34),l._uU(214," AIRES ACONDICIONADOS "),l.qZA(),l._UZ(215,"br"),l.TgZ(216,"p",35),l._uU(217," Nuestra empresa se dedica desde el a\xf1o 2008 a la instalacion de aire acondicionado tipo pared y split, unidades separadas ya sea en domicilios particulares o empresas, brindamos garantia de 6 meses por instalacion. Ofrecemos tambien abonos de mantenimiento una vez instalados los equipos y transcurridos los 6 meses de garantia "),l.qZA(),l.TgZ(218,"button",53),l._UZ(219,"i",32),l._uU(220," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(221,"div",54)(222,"div",24)(223,"div",25)(224,"div",26),l._UZ(225,"button",27),l.qZA(),l.TgZ(226,"div",28)(227,"div",3)(228,"div",8)(229,"div",29)(230,"h2",34),l._uU(231," Reparacion de maquinas en taller "),l.qZA(),l._UZ(232,"br"),l.TgZ(233,"p",35),l._uU(234," Nuestra empresa se dedica desde el a\xf1o 1994 a la reparaci\xf3n de m\xe1quinas mec\xe1nicas el\xe9ctricas y electr\xf3nicas en nuestro taller cons\xfaltanos si tienes una m\xe1quina para reparar. "),l.qZA(),l._UZ(235,"link",40),l.TgZ(236,"a",55)(237,"i",42),l._uU(238,"CONTACTANOS"),l.qZA()()()()()()()()()())},directives:[Mg],styles:['.botones[_ngcontent-%COMP%]{width:100%;text-align:center}#separar[_ngcontent-%COMP%]{padding:3%;display:inline-block}.titulo[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:14px;text-decoration:underline;color:#333}.botones[_ngcontent-%COMP%]{color:#fff!important;font-size:20px;font-weight:500;padding:.5em 1.2em;border:2px solid;border-color:#318aac;position:relative;cursor:pointer}.botones[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0px;left:0px;width:0px;height:100%;background:rgba(255,255,255,.1);transition:all 1s ease}.botones[_ngcontent-%COMP%]:hover:before{width:100%}']}),n})(),qb=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-grid")},directives:[qC],styles:[""]}),n})();var py=P(4986),Rn=P(5813);function kg(){return(0,ur.e)((n,e)=>{let t,r=!1;n.subscribe((0,gn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function Wb(n,e){return n===e}var dt,Vo=P(2011),ZC=(P(5881),P(3942)),Ee=P(5861),ul=P(9681),Fg=P(4859),si=P(1877),rn=P(2090),Zb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},cl={},gy=gy||{},Gt=Zb||self;function vf(){}function my(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function bf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Lt="closure_uid_"+(1e9*Math.random()>>>0),Kb=0;function Yb(n,e,t){return n.call.apply(n.bind,arguments)}function Qb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Pr(n,e,t){return(Pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yb:Qb).apply(null,arguments)}function gs(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function oi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function au(){this.s=this.s,this.o=this.o}var dl={};au.prototype.s=!1,au.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function KC(n){return Object.prototype.hasOwnProperty.call(n,Lt)&&n[Lt]||(n[Lt]=++Kb)}(this);delete dl[n]}},au.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},yy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function YC(n){return Array.prototype.concat.apply([],arguments)}function Vg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function by(n){return/^[\s\xa0]*$/.test(n)}var yi,wf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ai(n,e){return-1!=n.indexOf(e)}function Ef(n,e){return n<e?-1:n>e?1:0}e:{var Bg=Gt.navigator;if(Bg){var QC=Bg.userAgent;if(QC){yi=QC;break e}}yi=""}function wy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Jb(n){const e={};for(const t in n)e[t]=n[t];return e}var Xb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function e1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Xb.length;a++)t=Xb[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ug(n){return Ug[" "](n),n}Ug[" "]=vf;var Cy,n,JC=ai(yi,"Opera"),Df=ai(yi,"Trident")||ai(yi,"MSIE"),Ey=ai(yi,"Edge"),jg=Ey||Df,t1=ai(yi,"Gecko")&&!(ai(yi.toLowerCase(),"webkit")&&!ai(yi,"Edge"))&&!(ai(yi,"Trident")||ai(yi,"MSIE"))&&!ai(yi,"Edge"),Dy=ai(yi.toLowerCase(),"webkit")&&!ai(yi,"Edge");function XC(){var n=Gt.document;return n?n.documentMode:void 0}e:{var n1="",r1=(n=yi,t1?/rv:([^\);]+)(\)|;)/.exec(n):Ey?/Edge\/([\d\.]+)/.exec(n):Df?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Dy?/WebKit\/(\S+)/.exec(n):JC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(r1&&(n1=r1?r1[1]:""),Df){var i1=XC();if(null!=i1&&i1>parseFloat(n1)){Cy=String(i1);break e}}Cy=n1}var QA={};var XA=Gt.document&&Df&&(XC()||parseInt(Cy,10))||void 0,lu=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",vf,e),Gt.removeEventListener("test",vf,e)}catch(t){}return n}();function li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Cf(n,e){if(li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(t1){e:{try{Ug(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:o1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Cf.Z.h.call(this)}}li.prototype.h=function(){this.defaultPrevented=!0},oi(Cf,li);var o1={2:"touch",3:"pen",4:"mouse"};Cf.prototype.h=function(){Cf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yc="closure_listenable_"+(1e6*Math.random()|0),a1=0;function Ty(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++a1,this.ca=this.fa=!1}function Hg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Bo(n){this.src=n,this.g={},this.h=0}function $g(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Lg(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Hg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Iy(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}Bo.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Iy(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new Ty(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var Tf="closure_lm_"+(1e6*Math.random()|0),Sy={};function Ay(n,e,t,r,i){if(r&&r.once)return Fd(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Ay(n,e[a],t,r,i);return null}return t=Gg(t),n&&n[yc]?n.N(e,t,bf(r)?!!r.capture:!!r,i):l1(n,e,t,!1,r,i)}function l1(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=bf(i)?!!i.capture:!!i,f=uu(n);if(f||(n[Tf]=f=new Bo(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function tT(){var e=Sf;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lu||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(bc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Fd(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Fd(n,e[a],t,r,i);return null}return t=Gg(t),n&&n[yc]?n.O(e,t,bf(r)?!!r.capture:!!r,i):l1(n,e,t,!0,r,i)}function vc(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)vc(n,e[a],t,r,i);else r=bf(r)?!!r.capture:!!r,t=Gg(t),n&&n[yc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Iy(a=n.g[e],t,r,i))&&(Hg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=uu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Iy(e,t,r,i)),(t=-1<n?e[n]:null)&&If(t))}function If(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[yc])$g(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=uu(e))?($g(t,n),0==t.h&&(t.src=null,e[Tf]=null)):Hg(n)}}}function bc(n){return n in Sy?Sy[n]:Sy[n]="on"+n}function Sf(n,e){if(n.ca)n=!0;else{e=new Cf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&If(n),n=t.call(r,e)}return n}function uu(n){return(n=n[Tf])instanceof Bo?n:null}var Ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(n){return"function"==typeof n?n:(n[Ny]||(n[Ny]=function(e){return n.handleEvent(e)}),n[Ny])}function $r(){au.call(this),this.i=new Bo(this),this.P=this,this.I=null}function Gr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new li(e,n);else if(e instanceof li)e.target=e.target||n;else{var i=e;e1(e=new li(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Ld(c,r,!0,e)&&i}if(i=Ld(c=e.g=n,r,!0,e)&&i,i=Ld(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Ld(c=e.g=t[a],r,!1,e)&&i}function Ld(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,m=c.ia||c.src;c.fa&&$g(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}oi($r,au),$r.prototype[yc]=!0,$r.prototype.removeEventListener=function(n,e,t,r){vc(this,n,e,t,r)},$r.prototype.M=function(){if($r.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Hg(t[r]);delete n.g[e],n.h--}}this.I=null},$r.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},$r.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zg=Gt.JSON.stringify;function qg(){var n=d1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Oy,My=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eN,n=>n.reset());class eN{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function u1(n){Gt.setTimeout(()=>{throw n},0)}function Wg(n,e){Oy||function c1(){var n=Gt.Promise.resolve(void 0);Oy=function(){n.then(Ps)}}(),xy||(Oy(),xy=!0),d1.add(n,e)}var xy=!1,d1=new class nT{constructor(){this.h=this.g=null}add(e,t){const r=My.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ps(){for(var n;n=qg();){try{n.h.call(n.g)}catch(t){u1(t)}var e=My;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xy=!1}function Zg(n,e){$r.call(this),this.h=n||1,this.g=e||Gt,this.j=Pr(this.kb,this),this.l=Date.now()}function Ry(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function h1(n,e,t){if("function"==typeof n)t&&(n=Pr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Gt.setTimeout(n,e||0)}function rT(n){n.g=h1(()=>{n.g=null,n.i&&(n.i=!1,rT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}oi(Zg,$r),(dt=Zg.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gr(this,"tick"),this.da&&(Ry(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Zg.Z.M.call(this),Ry(this),delete this.g};class f1 extends au{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rT(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kg(n){au.call(this),this.h=n,this.g={}}oi(Kg,au);var p1=[];function Yg(n,e,t,r){Array.isArray(t)||(t&&(p1[0]=t.toString()),t=p1);for(var i=0;i<t.length;i++){var a=Ay(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Py(n){wy(n.g,function(e,t){this.g.hasOwnProperty(t)&&If(e)},n),n.g={}}function Qg(){this.g=!0}function wc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function g1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return zg(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Kg.prototype.M=function(){Kg.Z.M.call(this),Py(this)},Kg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qg.prototype.Aa=function(){this.g=!1},Qg.prototype.info=function(){};var Ec={},m1=null;function Af(){return m1=m1||new $r}function ky(n){li.call(this,Ec.Ma,n)}function Nf(n){const e=Af();Gr(e,new ky(e,n))}function Uo(n,e){li.call(this,Ec.STAT_EVENT,n),this.stat=e}function vi(n){const e=Af();Gr(e,new Uo(e,n))}function _1(n,e){li.call(this,Ec.Na,n),this.size=e}function Mf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},e)}Ec.Ma="serverreachability",oi(ky,li),Ec.STAT_EVENT="statevent",oi(Uo,li),Ec.Na="timingevent",oi(_1,li);var Fy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ly={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vy(){}function v1(){}Vy.prototype.h=null;var Vd,Dc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function By(){li.call(this,"d")}function Uy(){li.call(this,"c")}function Bd(){}function Of(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Kg(this),this.P=jy,this.W=new Zg(n=jg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jg}function Jg(){this.i=null,this.g="",this.h=!1}oi(By,li),oi(Uy,li),oi(Bd,Vy),Bd.prototype.g=function(){return new XMLHttpRequest},Bd.prototype.i=function(){return{}},Vd=new Bd;var jy=45e3,Xg={},em={};function Hy(n,e,t){n.K=1,n.v=rm(jo(e)),n.s=t,n.U=!0,tm(n,null)}function tm(n,e){n.F=Date.now(),Ud(n),n.A=jo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),qy(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Jg,n.g=Jy(n.l,t?e:null,!n.s),0<n.O&&(n.L=new f1(Pr(n.Ia,n,n.g),n.O)),Yg(n.V,n.g,"readystatechange",n.gb),e=n.H?Jb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Nf(1),function iT(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),m=0;m<f.length;m++){var b=f[m].split("=");if(1<b.length){var T=b[0];b=b[1];var A=T.split("_");c=2<=A.length&&"type"==A[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function aT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function b1(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=w1(n,t),i==em){4==e&&(n.o=4,vi(14),r=!1),wc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Xg){n.o=4,vi(15),wc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}wc(n.j,n.m,i,null),Hd(n,i)}aT(n)&&i!=em&&i!=Xg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),mu(e),e.L=!0,vi(11))):(wc(n.j,n.m,t,"[Invalid Chunked Response]"),Ki(n),jd(n))}function w1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?em:(t=Number(e.substring(t,r)),isNaN(t)?Xg:(r+=1)+t>e.length?em:(e=e.substr(r,t),n.C=r+t,e))}function Ud(n){n.Y=Date.now()+n.P,$y(n,n.P)}function $y(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mf(Pr(n.eb,n),e)}function xf(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function jd(n){0==n.l.G||n.I||Sc(n.l,n)}function Ki(n){xf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ry(n.W),Py(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Hd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||A1(t.i,n)))if(t.I=n.N,!n.J&&A1(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Mf(Pr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;fl(t),cm(t)}gu(t),vi(18)}if(1>=Wy(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else lo(t,11)}else if((n.J||t.g==n)&&fl(t),!by(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const A=b[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const R=b[5];null!=R&&"number"==typeof R&&0<R&&(t.K=r=1.5*R,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.i;!a.g&&(ai(G,"spdy")||ai(G,"quic")||ai(G,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(sm(a,a.h),a.h=null))}if(r.D){const Y=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.sa=Y,jn(r.F,r.D,Y))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Mc(r,r.H?r.la:null,r.W),c.J){N1(r.i,c);var f=c,m=r.K;m&&f.setTimeout(m),f.B&&(xf(f),Ud(f)),r.g=c}else hm(r);0<t.l.length&&hu(t)}else"stop"!=b[0]&&"close"!=b[0]||lo(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?lo(t,7):Qy(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Nf(4)}catch(b){}}function Gy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(my(n)||"string"==typeof n)yy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(my(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function lT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(my(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function Rf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Rf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Pf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];cu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)cu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function cu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Of.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==hl(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const T=hl(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||jg||this.g&&(this.h.h||this.g.ga()||V1(this.g)))){this.I||4!=T||7==e||Nf(8==e||0>=A?3:2),xf(this);var t=this.g.ba();this.N=t;t:if(aT(this)){var r=V1(this.g);n="";var i=r.length,a=4==hl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ki(this),jd(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function sT(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!by(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,vi(12),Ki(this),jd(this);break e}wc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hd(this,t)}this.U?(b1(this,T,c),jg&&this.i&&3==T&&(Yg(this.V,this.W,"tick",this.fb),this.W.start())):(wc(this.j,this.m,c,null),Hd(this,c)),4==T&&Ki(this),this.i&&!this.I&&(4==T?Sc(this.l,this):(this.i=!1,Ud(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),Ki(this),jd(this)}}}catch(T){}},dt.fb=function(){if(this.g){var n=hl(this.g),e=this.g.ga();this.C<e.length&&(xf(this),b1(this,n,e),this.i&&4!=n&&Ud(this))}},dt.cancel=function(){this.I=!0,Ki(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function oT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nf(3),vi(17)),Ki(this),this.o=2,jd(this)):$y(this,this.Y-n)},(dt=Rf.prototype).R=function(){Pf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return Pf(this),this.g.concat()},dt.get=function(n,e){return cu(this.h,n)?this.h[n]:e},dt.set=function(n,e){cu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var nm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Cc){this.g=void 0!==e?e:n.g,Ff(this,n.j),this.s=n.s,Lf(this,n.i),Vf(this,n.m),this.l=n.l,e=n.h;var t=new Bf;t.i=e.i,e.g&&(t.g=new Rf(e.g),t.h=e.h),E1(this,t),this.o=n.o}else n&&(t=String(n).match(nm))?(this.g=!!e,Ff(this,t[1]||"",!0),this.s=Ma(t[2]||""),Lf(this,t[3]||"",!0),Vf(this,t[4]),this.l=Ma(t[5]||"",!0),E1(this,t[6]||"",!0),this.o=Ma(t[7]||"")):(this.g=!!e,this.h=new Bf(null,this.g))}function jo(n){return new Cc(n)}function Ff(n,e,t){n.j=t?Ma(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lf(n,e,t){n.i=t?Ma(e,!0):e}function Vf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function E1(n,e,t){e instanceof Bf?(n.h=e,function T1(n,e){e&&!n.j&&(bi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(im(this,r),qy(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=$d(e,hT)),n.h=new Bf(e,n.g))}function jn(n,e,t){n.h.set(e,t)}function rm(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ma(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $d(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cc.prototype.toString=function(){var n=[],e=this.j;e&&n.push($d(e,C1,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($d(e,C1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push($d(t,"/"==t.charAt(0)?dT:Gd,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$d(t,fT)),n.join("")};var C1=/[#\/\?@]/g,Gd=/[#\?:]/g,dT=/[#\?]/g,hT=/[#\?@]/g,fT=/#/g;function Bf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bi(n){n.g||(n.g=new Rf,n.h=0,n.i&&function kf(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function im(n,e){bi(n),e=Tc(n,e),cu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,cu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Pf(n)))}function zy(n,e){return bi(n),e=Tc(n,e),cu(n.g.h,e)}function qy(n,e,t){im(n,e),0<t.length&&(n.i=null,n.g.set(Tc(n,e),Vg(t)),n.h+=t.length)}function Tc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function I1(n){this.l=n||gT,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ea&&Gt.g.Ea()&&Gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Bf.prototype).add=function(n,e){bi(this),this.i=null,n=Tc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){bi(this),this.g.forEach(function(t,r){yy(t,function(i){n.call(e,i,r,this)},this)},this)},dt.T=function(){bi(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},dt.R=function(n){bi(this);var e=[];if("string"==typeof n)zy(this,n)&&(e=YC(e,this.g.get(Tc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=YC(e,n[t])}return e},dt.set=function(n,e){return bi(this),this.i=null,zy(this,n=Tc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var gT=10;function S1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Wy(n){return n.h?1:n.g?n.g.size:0}function A1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function sm(n,e){n.g?n.g.add(e):n.h=e}function N1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function M1(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Vg(n.i)}function O1(){}function tN(){this.g=new O1}function Zy(n,e,t){const r=t||"";try{Gy(n,function(i,a){let c=i;bf(i)&&(c=zg(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function zd(n){this.l=n.$b||null,this.j=n.ib||!1}function Ky(n,e){$r.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ks,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}I1.prototype.cancel=function(){if(this.i=M1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},O1.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},O1.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},oi(zd,Vy),zd.prototype.g=function(){return new Ky(this.l,this.j)},zd.prototype.i=function(n){return function(){return n}}({}),oi(Ky,$r);var ks=0;function _T(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function om(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qd(n)}function qd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Ky.prototype).open=function(n,e){if(this.readyState!=ks)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qd(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Gt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,om(this)),this.readyState=ks},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qd(this)),this.g&&(this.readyState=3,qd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Gt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_T(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?om(this):qd(this),3==this.readyState&&_T(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,om(this))},dt.Ta=function(n){this.g&&(this.response=n,om(this))},dt.ha=function(){this.g&&om(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ky.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var x1=Gt.JSON.parse;function Sr(n){$r.call(this),this.headers=new Rf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=R1,this.K=this.L=!1}oi(Sr,$r);var R1="",nN=/^https?$/i,P1=["POST","PUT"];function yT(n){return"content-type"==n.toLowerCase()}function am(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,k1(n),lm(n)}function k1(n){n.D||(n.D=!0,Gr(n,"complete"),Gr(n,"error"))}function F1(n){if(n.h&&void 0!==gy&&(!n.C[1]||4!=hl(n)||2!=n.ba()))if(n.v&&4==hl(n))h1(n.Fa,0,n);else if(Gr(n,"readystatechange"),4==hl(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(nm)[1]||null;if(!i&&Gt.self&&Gt.self.location){var a=Gt.self.location.protocol;i=a.substr(0,a.length-1)}r=!nN.test(i?i.toLowerCase():"")}t=r}if(t)Gr(n,"complete"),Gr(n,"success");else{n.m=6;try{var c=2<hl(n)?n.g.statusText:""}catch(m){c=""}n.j=c+" ["+n.ba()+"]",k1(n)}}finally{lm(n)}}}function lm(n,e){if(n.g){L1(n);const t=n.g,r=n.C[0]?vf:null;n.g=null,n.C=null,e||Gr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function L1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function hl(n){return n.g?n.g.readyState:0}function V1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case R1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function du(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function um(n){let e="";return wy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function jf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Wd(n){this.za=0,this.l=[],this.h=new Qg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jf("baseRetryDelayMs",5e3,n),this.$a=jf("retryDelaySeedMs",1e4,n),this.Ya=jf("forwardChannelMaxRetries",2,n),this.ra=jf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new I1(n&&n.concurrentRequestLimit),this.Ca=new tN,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Qy(n){if(dm(n),3==n.G){var e=n.V++,t=jo(n.F);jn(t,"SID",n.J),jn(t,"RID",e),jn(t,"TYPE","terminate"),pu(n,t),(e=new Of(n,n.h,e,void 0)).K=2,e.v=rm(jo(t)),t=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(t=Gt.navigator.sendBeacon(e.v.toString(),"")),!t&&Gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Jy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ud(e)}Nc(n)}function cm(n){n.g&&(mu(n),n.g.cancel(),n.g=null)}function dm(n){cm(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),fl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function ao(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hu(n)}function hu(n){S1(n.i)||n.m||(n.m=!0,Wg(n.Ha,n),n.C=0)}function fu(n,e){var t;t=e?e.m:n.V++;const r=jo(n.F);jn(r,"SID",n.J),jn(r,"RID",t),jn(r,"AID",n.U),pu(n,r),n.o&&n.s&&du(r,n.o,n.s),t=new Of(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Fs(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),sm(n.i,t),Hy(t,r,e)}function pu(n,e){n.j&&Gy({},function(t,r){jn(e,r,t)})}function Fs(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Pr(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let b=i[m].h;const T=i[m].g;if(b-=a,0>b)a=Math.max(0,i[m].h-100),f=!1;else try{Zy(T,c,"req"+b+"_")}catch(A){r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function hm(n){n.g||n.u||(n.Y=1,Wg(n.Ga,n),n.A=0)}function gu(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Mf(Pr(n.Ga,n),Ac(n,n.A)),n.A++,0))}function mu(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function Ic(n){n.g=new Of(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=jo(n.oa);jn(e,"RID","rpc"),jn(e,"SID",n.J),jn(e,"CI",n.N?"0":"1"),jn(e,"AID",n.U),pu(n,e),jn(e,"TYPE","xmlhttp"),n.o&&n.s&&du(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=rm(jo(e)),t.s=null,t.U=!0,tm(t,n)}function fl(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function Sc(n,e){var t=null;if(n.g==e){fl(n),mu(n),n.g=null;var r=2}else{if(!A1(n.i,e))return;t=e.D,N1(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Gr(r=Af(),new _1(r,t,e,i)),hu(n)}else hm(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function ki(n,e){return!(Wy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Mf(Pr(n.Ha,n,e),Ac(n,n.C)),n.C++,0)))}(n,e)||2==r&&gu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:lo(n,5);break;case 4:lo(n,10);break;case 3:lo(n,6);break;default:lo(n,2)}}function Ac(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function lo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Pr(n.jb,n);t||(t=new Cc("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||Ff(t,"https"),rm(t)),function mT(n,e){const t=new Qg;if(Gt.Image){const r=new Image;r.onload=gs(Uf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=gs(Uf,t,r,"TestLoadImage: error",!1,e),r.onabort=gs(Uf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=gs(Uf,t,r,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vi(2);n.G=0,n.j&&n.j.va(e),Nc(n),dm(n)}function Nc(n){n.G=0,n.I=-1,n.j&&((0!=M1(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Vg(n.l),n.l.length=0),n.j.ua())}function Mc(n,e,t){let r=function uT(n){return n instanceof Cc?jo(n):new Cc(n,void 0)}(t);if(""!=r.i)e&&Lf(r,e+"."+r.i),Vf(r,r.m);else{const i=Gt.location;r=function D1(n,e,t,r){var i=new Cc(null,void 0);return n&&Ff(i,n),e&&Lf(i,e),t&&Vf(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&wy(n.aa,function(i,a){jn(r,a,i)}),t=n.sa,(e=n.D)&&t&&jn(r,e,t),jn(r,"VER",n.ma),pu(n,r),r}function Jy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sr(t&&n.Ba&&!n.qa?new zd({ib:!0}):n.qa)).L=n.H,e}function Xy(){}function Hf(){if(Df&&!(10<=Number(XA)))throw Error("Environmental error: no available transport.")}function ms(n,e){$r.call(this),this.g=new Wd(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!by(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!by(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Oc(this)}function ev(n){By.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tv(){Uy.call(this),this.status=1}function Oc(n){this.g=n}(dt=Sr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vd.g(),this.C=function y1(n){return n.h||(n.h=n.i())}(this.u?this.u:Vd),this.g.onreadystatechange=Pr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void am(this,a)}n=t||"";const i=new Rf(this.headers);r&&Gy(r,function(a,c){i.set(c,a)}),r=function vy(n){e:{var e=yT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Gt.FormData&&n instanceof Gt.FormData,!(0<=Lg(P1,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{L1(this),0<this.B&&((this.K=function Yy(n){return Df&&function JA(){return function YA(n){var e=QA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=wf(String(Cy)).split("."),t=wf("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Ef(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Ef(0==i[2].length,0==a[2].length)||Ef(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pr(this.pa,this)):this.A=h1(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){am(this,a)}},dt.pa=function(){void 0!==gy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gr(this,"complete"),Gr(this,"abort"),lm(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lm(this,!0)),Sr.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?F1(this):this.cb())},dt.cb=function(){F1(this)},dt.ba=function(){try{return 2<hl(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),x1(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=Wd.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Of(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Jb(a),e1(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fs(this,i,e),jn(t=jo(this.F),"RID",n),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),pu(this,t),this.o&&a&&du(t,this.o,a),sm(this.i,i),this.Ra&&jn(t,"TYPE","init"),this.ja?(jn(t,"$req",e),jn(t,"SID","null"),i.$=!0,Hy(i,t,null)):Hy(i,t,e),this.G=2}}else 3==this.G&&(n?fu(this,n):0==this.l.length||S1(this.i)||fu(this))},dt.Ga=function(){if(this.u=null,Ic(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Mf(Pr(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vi(10),cm(this),Ic(this))},dt.ab=function(){null!=this.v&&(this.v=null,cm(this),gu(this),vi(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),vi(2)):(this.h.info("Failed to ping google.com"),vi(1))},(dt=Xy.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},Hf.prototype.g=function(n,e){return new ms(n,e)},oi(ms,$r),ms.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Wg(Pr(n.hb,n,e))),vi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Mc(n,null,n.W),hu(n)},ms.prototype.close=function(){Qy(this.g)},ms.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ao(this.g,e)}else this.v?((e={}).__data__=zg(n),ao(this.g,e)):ao(this.g,n)},ms.prototype.M=function(){this.g.j=null,delete this.j,Qy(this.g),delete this.g,ms.Z.M.call(this)},oi(ev,By),oi(tv,Uy),oi(Oc,Xy),Oc.prototype.xa=function(){Gr(this.g,"a")},Oc.prototype.wa=function(n){Gr(this.g,new ev(n))},Oc.prototype.va=function(n){Gr(this.g,new tv(n))},Oc.prototype.ua=function(){Gr(this.g,"b")},Hf.prototype.createWebChannel=Hf.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,Fy.NO_ERROR=0,Fy.TIMEOUT=8,Fy.HTTP_ERROR=6,Ly.COMPLETE="complete",v1.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",$r.prototype.listen=$r.prototype.N,Sr.prototype.listenOnce=Sr.prototype.O,Sr.prototype.getLastError=Sr.prototype.La,Sr.prototype.getLastErrorCode=Sr.prototype.Da,Sr.prototype.getStatus=Sr.prototype.ba,Sr.prototype.getResponseJson=Sr.prototype.Qa,Sr.prototype.getResponseText=Sr.prototype.ga,Sr.prototype.send=Sr.prototype.ea;var B1=cl.createWebChannelTransport=function(){return new Hf},U1=cl.getStatEventTarget=function(){return Af()},nv=cl.ErrorCode=Fy,j1=cl.EventType=Ly,vT=cl.Event=Ec,rv=cl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},H1=cl.FetchXmlHttpFactory=zd,fm=cl.WebChannel=v1,bT=cl.XhrIo=Sr;const iv="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let xc="9.6.11";const _u=new si.Yd("@firebase/firestore");function sv(){return _u.logLevel}function Be(n,...e){if(_u.logLevel<=si.in.DEBUG){const t=e.map(ov);_u.debug(`Firestore (${xc}): ${n}`,...t)}}function _r(n,...e){if(_u.logLevel<=si.in.ERROR){const t=e.map(ov);_u.error(`Firestore (${xc}): ${n}`,...t)}}function Rc(n,...e){if(_u.logLevel<=si.in.WARN){const t=e.map(ov);_u.warn(`Firestore (${xc}): ${n}`,...t)}}function ov(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function Vt(n,e){n||pt()}function rt(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends rn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Pc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class $1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ET{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ui,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,Ee.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},m=b=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ui)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new Pc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new wi(e)}}class G1{constructor(e,t,r){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class pm{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new G1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.p=t.token,new z1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function DT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ls.A=-1;class W1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function kc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Z1(n){return n+"\0"}class yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yr.fromMillis(Date.now())}static fromDate(e){return yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new yr(0,0))}static max(){return new Ot(new yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function gm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $f{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$f.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $f?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends $f{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const Gf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends $f{construct(e,t,r){return new zr(e,t,r)}static isValidIdentifier(e){return Gf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(t)}static emptyPath(){return new zr([])}}class yu{constructor(e){this.fields=e,e.sort(zr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new qr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const _m=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=_m.exec(n);if(Vt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Kd(n){return"string"==typeof n?qr.fromBase64String(n):qr.fromUint8Array(n)}function lv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ym(n){const e=n.mapValue.fields.__previous_value__;return lv(e)?ym(e):e}function Fc(n){const e=Ho(n.mapValue.fields.__local_write_time__.timestampValue);return new yr(e.seconds,e.nanos)}class K1{constructor(e,t,r,i,a,c,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class Oa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}function pl(n){return null==n}function Yd(n){return 0===n&&1/n==-1/0}function uv(n){return"number"==typeof n&&Number.isInteger(n)&&!Yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(hn.fromString(e))}static fromName(e){return new qe(hn.fromString(e).popFirst(5))}static empty(){return new qe(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new hn(e.slice()))}}const cv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Y1={nullValue:"NULL_VALUE"};function vu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lv(n)?4:hv(n)?9:10:pt()}function $o(n,e){if(n===e)return!0;const t=vu(n);if(t!==vu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fc(n).isEqual(Fc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ho(r.timestampValue),c=Ho(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Kd(n.bytesValue).isEqual(Kd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return sr(r.geoPointValue.latitude)===sr(i.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return sr(r.integerValue)===sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=sr(r.doubleValue),c=sr(i.doubleValue);return a===c?Yd(a)===Yd(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return kc(n.arrayValue.values||[],e.arrayValue.values||[],$o);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(gm(a)!==gm(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!$o(a[f],c[f])))return!1;return!0}(n,e);default:return pt()}var i}function Lc(n,e){return void 0!==(n.values||[]).find(t=>$o(t,e))}function gl(n,e){if(n===e)return 0;const t=vu(n),r=vu(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=sr(i.integerValue||i.doubleValue),f=sr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Q1(n.timestampValue,e.timestampValue);case 4:return Q1(Fc(n),Fc(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Kd(i),f=Kd(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let m=0;m<c.length&&m<f.length;m++){const b=Zt(c[m],f[m]);if(0!==b)return b}return Zt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Zt(sr(i.latitude),sr(a.latitude));return 0!==c?c:Zt(sr(i.longitude),sr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let m=0;m<c.length&&m<f.length;++m){const b=gl(c[m],f[m]);if(b)return b}return Zt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},f=Object.keys(c),m=a.fields||{},b=Object.keys(m);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const A=Zt(f[T],b[T]);if(0!==A)return A;const R=gl(c[f[T]],m[b[T]]);if(0!==R)return R}return Zt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw pt()}}function Q1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Ho(n),r=Ho(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function Vc(n){return vm(n)}function vm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ho(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Kd(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=vm(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${vm(r.fields[f])}`;return a+"}"}(n.mapValue):pt();var e}function ml(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qd(n){return!!n&&"integerValue"in n}function Jd(n){return!!n&&"arrayValue"in n}function bm(n){return!!n&&"nullValue"in n}function dv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zf(n){return!!n&&"mapValue"in n}function Xd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function J1(n){return"nullValue"in n?Y1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ml(Oa.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function X1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ml(Oa.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?cv:pt()}function CT(n,e){return void 0===n?e:void 0===e||gl(n,e)>0?n:e}function ew(n,e){return void 0===n?e:void 0===e||gl(n,e)<0?n:e}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(t)}setAll(e){let t=zr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Xd(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zd(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Fi(Xd(this.value))}}function fv(n){const e=[];return Zd(n.fields,(t,r)=>{const i=new zr([t]);if(zf(r)){const a=fv(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new yu(e)}class Yn{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Yn(e,0,Ot.min(),Ot.min(),Fi.empty(),0)}static newFoundDocument(e,t,r){return new Yn(e,1,t,Ot.min(),r,0)}static newNoDocument(e,t){return new Yn(e,2,t,Ot.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,Ot.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vr{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function wm(n){return n.fields.find(e=>2===e.kind)}function Bc(n){return n.fields.filter(e=>2!==e.kind)}vr.UNKNOWN_ID=-1;class Em{constructor(e,t){this.fieldPath=e,this.kind=t}}class eh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eh(0,xa.min())}}function tw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(1e9===r?new yr(t+1,0):new yr(t,r));return new xa(i,qe.empty(),e)}function nw(n){return new xa(n.readTime,n.key,-1)}class xa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xa(Ot.min(),qe.empty(),-1)}static max(){return new xa(Ot.max(),qe.empty(),-1)}}function th(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}class TT{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.P=null}}function rw(n,e=null,t=[],r=[],i=null,a=null,c=null){return new TT(n,e,t,r,i,a,c)}function bu(n){const e=rt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Vc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),pl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vc(r)).join(",")),e.P=t}return e.P}function nh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!gv(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!$o(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aw(n.startAt,e.startAt)&&aw(n.endAt,e.endAt)}function pv(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function rh(n,e){return n.filters.filter(t=>t instanceof Ei&&t.field.isEqual(e))}function Dm(n,e,t){let r,i=!0;for(const a of rh(n,e)){let c,f=!0;switch(a.op){case"<":case"<=":c=J1(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=Y1}CT(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];CT(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function Go(n,e,t){let r,i=!0;for(const a of rh(n,e)){let c,f=!0;switch(a.op){case">=":case">":c=X1(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=cv}ew(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];ew(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ei extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new iw(e,t,r):"array-contains"===t?new sw(e,r):"in"===t?new ow(e,r):"not-in"===t?new ST(e,r):"array-contains-any"===t?new AT(e,r):new Ei(e,t,r)}static V(e,t,r){return"in"===t?new Ra(e,r):new zo(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(gl(t,this.value)):null!==t&&vu(this.value)===vu(t)&&this.v(gl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class iw extends Ei{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.v(t)}}class Ra extends Ei{constructor(e,t){super(e,"in",t),this.keys=uo(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zo extends Ei{constructor(e,t){super(e,"not-in",t),this.keys=uo(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uo(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class sw extends Ei{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jd(t)&&Lc(t.arrayValue,this.value)}}class ow extends Ei{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lc(this.value.arrayValue,t)}}class ST extends Ei{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lc(this.value.arrayValue,t)}}class AT extends Ei{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}}class wu{constructor(e,t){this.position=e,this.inclusive=t}}class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function gv(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function sh(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?qe.comparator(qe.fromName(c.referenceValue),t.key):gl(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function aw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$o(n.position[t],e.position[t]))return!1;return!0}class Pa{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.D=null,this.C=null}}function lw(n,e,t,r,i,a,c,f){return new Pa(n,e,t,r,i,a,c,f)}function Uc(n){return new Pa(n)}function qf(n){return!pl(n.limit)&&"F"===n.limitType}function jc(n){return!pl(n.limit)&&"L"===n.limitType}function mv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Tm(n){return null!==n.collectionGroup}function Eu(n){const e=rt(n);if(null===e.D){e.D=[];const t=Cm(e),r=mv(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new ih(t)),e.D.push(new ih(zr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ih(zr.keyField(),a))}}}return e.D}function Yi(n){const e=rt(n);if(!e.C)if("F"===e.limitType)e.C=rw(e.path,e.collectionGroup,Eu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Eu(e))t.push(new ih(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new wu(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new wu(e.startAt.position,!e.startAt.inclusive):null;e.C=rw(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function _v(n,e,t){return new Pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oh(n,e){return nh(Yi(n),Yi(e))&&n.limitType===e.limitType}function yv(n){return`${bu(Yi(n))}|lt:${n.limitType}`}function Im(n){return`Query(target=${function IT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Vc(r.value)}`;var r}).join(", ")}]`),pl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vc(t)).join(",")),`Target(${e})`}(Yi(n))}; limitType=${n.limitType})`}function Sm(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=sh(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Eu(t),r)||t.endAt&&!function(i,a,c){const f=sh(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Eu(t),r)));var t,r}function vv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bv(n){return(e,t)=>{let r=!1;for(const i of Eu(n)){const a=uw(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function uw(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),m=c.data.field(i);return null!==f&&null!==m?gl(f,m):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function cw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function dw(n){return{integerValue:""+n}}function hw(n,e){return uv(e)?dw(e):cw(n,e)}class Am{constructor(){this._=void 0}}function NT(n,e,t){return n instanceof ah?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Hc?pw(n,e):n instanceof $c?gw(n,e):function(r,i){const a=fw(r,i),c=mw(a)+mw(r.k);return Qd(a)&&Qd(r.k)?dw(c):cw(r.M,c)}(n,e)}function MT(n,e,t){return n instanceof Hc?pw(n,e):n instanceof $c?gw(n,e):t}function fw(n,e){return n instanceof lh?Qd(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ah extends Am{}class Hc extends Am{constructor(e){super(),this.elements=e}}function pw(n,e){const t=_w(e);for(const r of n.elements)t.some(i=>$o(i,r))||t.push(r);return{arrayValue:{values:t}}}class $c extends Am{constructor(e){super(),this.elements=e}}function gw(n,e){let t=_w(e);for(const r of n.elements)t=t.filter(i=>!$o(i,r));return{arrayValue:{values:t}}}class lh extends Am{constructor(e,t){super(),this.M=e,this.k=t}}function mw(n){return sr(n.integerValue||n.doubleValue)}function _w(n){return Jd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Wf{constructor(e,t){this.field=e,this.transform=t}}class xT{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Kf{}function yw(n,e,t){n instanceof uh?function(r,i,a){const c=r.value.clone(),f=Du(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof _l?function(r,i,a){if(!Zf(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Du(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(Dv(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Nm(n,e,t){var i;n instanceof uh?function(r,i,a){if(!Zf(r.precondition,i))return;const c=r.value.clone(),f=bw(r.fieldTransforms,a,i);c.setAll(f),i.convertToFoundDocument(Ev(i),c).setHasLocalMutations()}(n,e,t):n instanceof _l?function(r,i,a){if(!Zf(r.precondition,i))return;const c=bw(r.fieldTransforms,a,i),f=i.data;f.setAll(Dv(r)),f.setAll(c),i.convertToFoundDocument(Ev(i),f).setHasLocalMutations()}(n,e,t):Zf(n.precondition,i=e)&&i.convertToNoDocument(Ot.min())}function vw(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=fw(r.transform,i||null);null!=a&&(null==t&&(t=Fi.empty()),t.set(r.field,a))}return t||null}function wv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&kc(t,r,(i,a)=>function OT(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hc&&r instanceof Hc||t instanceof $c&&r instanceof $c?kc(t.elements,r.elements,$o):t instanceof lh&&r instanceof lh?$o(t.k,r.k):t instanceof ah&&r instanceof ah);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Ev(n){return n.isFoundDocument()?n.version:Ot.min()}class uh extends Kf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class _l extends Kf{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function Dv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Du(n,e,t){const r=new Map;Vt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,MT(c,f,t[i]))}return r}function bw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,NT(a,c,e))}return r}class Yf extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Cu extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class oN{constructor(e){this.count=e}}var br,fn;function Cv(n){switch(n){default:return pt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Tv(n){if(void 0===n)return _r("GRPC error has no .code"),de.UNKNOWN;switch(n){case br.OK:return de.OK;case br.CANCELLED:return de.CANCELLED;case br.UNKNOWN:return de.UNKNOWN;case br.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case br.INTERNAL:return de.INTERNAL;case br.UNAVAILABLE:return de.UNAVAILABLE;case br.UNAUTHENTICATED:return de.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case br.NOT_FOUND:return de.NOT_FOUND;case br.ALREADY_EXISTS:return de.ALREADY_EXISTS;case br.PERMISSION_DENIED:return de.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case br.ABORTED:return de.ABORTED;case br.OUT_OF_RANGE:return de.OUT_OF_RANGE;case br.UNIMPLEMENTED:return de.UNIMPLEMENTED;case br.DATA_LOSS:return de.DATA_LOSS;default:return pt()}}(fn=br||(br={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class Gc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zd(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return mm(this.inner)}size(){return this.innerSize}}class lt{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mm(this.root,e,this.comparator,!0)}}class Mm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Di.RED,this.left=null!=i?i:Di.EMPTY,this.right=null!=a?a:Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Di(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qf(this.data.getIterator())}getIteratorFrom(e){return new Qf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class Qf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ch(n){return n.hasNext()?n.getNext():void 0}const Om=new lt(qe.comparator);function Qi(){return Om}const wr=new lt(qe.comparator);function ww(){return wr}function dh(){return new Gc(n=>n.toString(),(n,e)=>n.isEqual(e))}const RT=new lt(qe.comparator),PT=new Qn(qe.comparator);function En(...n){let e=PT;for(const t of n)e=e.add(t);return e}const Ew=new Qn(Zt);function Jf(){return Ew}class hh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,t)),new hh(Ot.min(),r,Jf(),Qi(),En())}}class Xf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Xf(qr.EMPTY_BYTE_STRING,t,En(),En(),En())}}class xm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Dw{constructor(e,t){this.targetId=e,this.$=t}}class fh{constructor(e,t,r=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Cw{constructor(){this.B=0,this.L=ep(),this.U=qr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=En(),t=En(),r=En();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:pt()}}),new Xf(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=ep()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class kT{constructor(e){this.nt=e,this.st=new Map,this.it=Qi(),this.rt=Tw(),this.ot=new Qn(Zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(pv(a))if(0===r){const c=new qe(a.path);this.ct(t,c,Yn.newNoDocument(c,Ot.min()))}else Vt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const f=this.wt(c);if(f){if(a.current&&pv(f.target)){const m=new qe(f.target.path);null!==this.it.get(m)||this.It(c,m)||this.ct(c,m,Yn.newNoDocument(m,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=En();this.rt.forEach((a,c)=>{let f=!0;c.forEachWhile(m=>{const b=this.wt(m);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new hh(e,t,this.ot,this.it,r);return this.it=Qi(),this.rt=Tw(),this.ot=new Qn(Zt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Cw,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Qn(Zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Cw),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Tw(){return new lt(qe.comparator)}function ep(){return new lt(qe.comparator)}const Iw={asc:"ASCENDING",desc:"DESCENDING"},Sw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Aw{constructor(e,t){this.databaseId=e,this.N=t}}function tp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ph(n,e){return n.N?e.toBase64():e.toUint8Array()}function np(n,e){return tp(n,e.toTimestamp())}function ci(n){return Vt(!!n),Ot.fromTimestamp(function(e){const t=Ho(e);return new yr(t.seconds,t.nanos)}(n))}function Iv(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Nw(n){const e=hn.fromString(n);return Vt(zc(e)),e}function gh(n,e){return Iv(n.databaseId,e.path)}function qo(n,e){const t=Nw(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(Ow(t))}function Rm(n,e){return Iv(n.databaseId,e)}function Mw(n){const e=Nw(n);return 4===e.length?hn.emptyPath():Ow(e)}function mh(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ow(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xw(n,e,t){return{name:gh(n,e),fields:t.value.mapValue.fields}}function FT(n,e,t){const r=qo(n,e.name),i=ci(e.updateTime),a=new Fi({mapValue:{fields:e.fields}}),c=Yn.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Pm(n,e){let t;if(e instanceof uh)t={update:xw(n,e.key,e.value)};else if(e instanceof Yf)t={delete:gh(n,e.key)};else if(e instanceof _l)t={update:xw(n,e.key,e.data),updateMask:UT(e.fieldMask)};else{if(!(e instanceof Cu))return pt();t={verify:gh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof ah)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $c)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lh)return{fieldPath:a.field.canonicalString(),increment:c.k};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:np(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:pt()),t;var i}function km(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ar.updateTime(ci(i.updateTime)):void 0!==i.exists?Ar.exists(i.exists):Ar.none():Ar.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Vt("REQUEST_TIME"===c.setToServerValue),f=new ah):"appendMissingElements"in c?f=new Hc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new $c(c.removeAllFromArray.values||[]):"increment"in c?f=new lh(a,c.increment):pt();const m=zr.fromServerFormat(c.fieldPath);return new Wf(m,f)}(n,i)):[];var i;if(e.update){const i=qo(n,e.update.name),a=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new yu((e.updateMask.fieldPaths||[]).map(b=>zr.fromServerFormat(b)));return new _l(i,a,c,t,r)}return new uh(i,a,t,r)}if(e.delete){const i=qo(n,e.delete);return new Yf(i,t)}if(e.verify){const i=qo(n,e.verify);return new Cu(i,t)}return pt()}function Rw(n,e){return{documents:[Rm(n,e.path)]}}function Pw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Rm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const b=m.map(T=>function(A){if("=="===A.op){if(dv(A.value))return{unaryFilter:{field:_h(A.field),op:"IS_NAN"}};if(bm(A.value))return{unaryFilter:{field:_h(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(dv(A.value))return{unaryFilter:{field:_h(A.field),op:"IS_NOT_NAN"}};if(bm(A.value))return{unaryFilter:{field:_h(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_h(A.field),op:VT(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(b=>{return{field:_h((T=b).field),direction:LT(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(b=e.limit,n.N||pl(b)?b:{value:b});var b,f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function Sv(n){let e=Mw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Vt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=kw(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new ih(yh((A=T).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,pl(A)?null:A}(t.limit));let m=null;var T;t.startAt&&(m=new wu((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new wu(T.values||[],!T.before)}(t.endAt)),lw(e,i,c,a,f,"F",m,b)}function kw(n){return n?void 0!==n.unaryFilter?[BT(n)]:void 0!==n.fieldFilter?[Fw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>kw(e)).reduce((e,t)=>e.concat(t)):pt():[]}function LT(n){return Iw[n]}function VT(n){return Sw[n]}function _h(n){return{fieldPath:n.canonicalString()}}function yh(n){return zr.fromServerFormat(n.fieldPath)}function Fw(n){return Ei.create(yh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function BT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=yh(n.unaryFilter.field);return Ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=yh(n.unaryFilter.field);return Ei.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yh(n.unaryFilter.field);return Ei.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yh(n.unaryFilter.field);return Ei.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function UT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zc(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ji(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vw(e)),e=Lw(n.get(t),e);return Vw(e)}function Lw(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Vw(n){return n+"\x01\x01"}function Wo(n){const e=n.length;if(Vt(e>=2),2===e)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&pt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:pt()}a=c+2}return new hn(r)}const Bw=["userId","batchId"];function ip(n,e){return[n,Ji(e)]}function Uw(n,e,t){return[n,Ji(e),t]}const Av={},jT=["prefixPath","collectionGroup","readTime","documentId"],jw=["prefixPath","collectionGroup","documentId"],Hw=["collectionGroup","readTime","prefixPath","documentId"],HT=["canonicalId","targetId"],$T=["targetId","path"],GT=["path","targetId"],Nv=["collectionId","parent"],zT=["indexId","uid"],$w=["uid","sequenceNumber"],qT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WT=["indexId","uid","orderedDocumentKey"],ZT=["userId","collectionPath","documentId"],KT=["userId","collectionPath","largestBatchId"],YT=["userId","collectionGroup","largestBatchId"],Gw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QT=[...Gw,"documentOverlays"],zw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qw=[...zw,"indexConfiguration","indexState","indexEntries"],Mv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ov{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class vh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ui,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new sp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=Rv(r.target.error);this.At.reject(new sp(e,i))}}static open(e,t,r,i){try{return new vh(t,e.transaction(i,r))}catch(a){throw new sp(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xv(t)}}class co{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===co.Vt((0,rn.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Tu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,rn.hl)())return!1;if(co.St())return!0;const e=(0,rn.z$)(),t=co.Vt(e),r=0<t&&t<10,i=co.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new sp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new sp(e,f))},a.onupgradeneeded=c=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ee.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const m=vh.open(a.db,e,c?"readonly":"readwrite",r),b=i(m).next(T=>(m.Pt(),T)).catch(T=>(m.abort(T),me.reject(T))).toPromise();return b.catch(()=>{}),yield m.Rt,b}catch(m){const b="FirebaseError"!==m.name&&f<3;if(Be("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),a.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class JT{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Tu(this.Ft.delete())}}class sp extends Re{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yl(n){return"IndexedDbTransactionError"===n.name}class xv{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tu(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Tu(this.store.add(e))}get(e){return Tu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Tu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Tu(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new me((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=a=>{const c=Rv(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new me((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const m=new JT(f),b=t(f.primaryKey,f.value,m);if(b instanceof me){const T=b.catch(A=>(m.done(),me.reject(A)));r.push(T)}m.isDone?i():null===m.Lt?f.continue():f.continue(m.Lt)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tu(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Rv(r.target.error);t(i)}})}let Lm=!1;function Rv(n){const e=co.Vt((0,rn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lm||(Lm=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ww extends Ov{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function kr(n,e){const t=rt(n);return co.xt(t.Ht,e)}class Pv{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yw(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Nm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Nm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ot.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&kc(this.mutations,e.mutations,(t,r)=>wv(t,r))&&kc(this.baseMutations,e.baseMutations,(t,r)=>wv(t,r))}}class Vm{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Vt(e.mutations.length===r.length);let i=RT;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new Vm(e,t,r,i)}}class kv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vl{constructor(e,t,r,i,a=Ot.min(),c=Ot.min(),f=qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new vl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Zw{constructor(e){this.Jt=e}}function XT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:gh(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:tp(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ka(e.version)};else{if(!e.isUnknownDocument())return pt();r.unknownDocument={path:t.path.toArray(),version:ka(e.version)}}var i,a;return r}function Bm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ka(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qc(n){const e=new yr(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function Zo(n,e){const t=(e.baseMutations||[]).map(a=>km(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>km(n.Jt,a)),i=yr.fromMillis(e.localWriteTimeMs);return new Pv(e.batchId,i,t,r)}function bl(n){const e=qc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qc(n.lastLimboFreeSnapshotVersion):Ot.min();let r;var i;return void 0!==n.query.documents?(Vt(1===(i=n.query).documents.length),r=Yi(Uc(Mw(i.documents[0])))):r=Yi(Sv(n.query)),new vl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,qr.fromBase64String(n.resumeToken))}function Yw(n,e){const t=ka(e.snapshotVersion),r=ka(e.lastLimboFreeSnapshotVersion);let i;i=pv(e.target)?Rw(n.Jt,e.target):Pw(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bu(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Qw(n){const e=Sv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_v(e,e.limit,"L"):e}function Um(n,e){return new kv(e.largestBatchId,km(n.Jt,e.overlayMutation))}function Jw(n,e){const t=e.path.lastSegment();return[n,Ji(e.path.popLast()),t]}class eI{getBundleMetadata(e,t){return Xw(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Xw(e).put({bundleId:(r=t).id,createTime:ka(ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return eE(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Qw(i.bundledQuery),readTime:qc(i.readTime)};var i})}saveNamedQuery(e,t){return eE(e).put({name:(r=t).name,readTime:ka(ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Xw(n){return kr(n,"bundles")}function eE(n){return kr(n,"namedQueries")}class jm{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new jm(e,t.uid||"")}getOverlay(e,t){return bh(e).get(Jw(this.userId,t)).next(r=>r?Um(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new kv(t,c);i.push(this.Xt(e,f))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ji(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(bh(e).Qt("collectionPathOverlayIndex",f))}),me.waitFor(a)}getOverlaysForCollection(e,t,r){const i=dh(),a=Ji(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bh(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const m of f){const b=Um(this.M,m);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=dh();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bh(e).Wt({index:"collectionGroupOverlayIndex",range:f},(m,b,T)=>{const A=Um(this.M,b);a.size()<i||A.largestBatchId===c?(a.set(A.getKey(),A),c=A.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return bh(e).put(function(r,i,a){const[c,f,m]=Jw(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Pm(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function bh(n){return kr(n,"documentOverlays")}class wl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(sr(e.integerValue));else if("doubleValue"in e){const r=sr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Yd(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Kd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?hv(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):pt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),qe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Hm(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function wh(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Hm(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}wl.fe=new wl;class tI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=wh(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=wh(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class tE{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class nE{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class op{constructor(){this.De=new tI,this.Ce=new tE(this.De),this.xe=new nE(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Iu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Iu(this.indexId,this.documentKey,this.arrayValue,r)}}function El(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rE(n.arrayValue,e.arrayValue),0!==t?t:(t=rE(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function rE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class uN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=wm(e);if(void 0!==t&&!this.Be(t))return!1;const r=Bc(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class nI{constructor(){this.qe=new Fv}addToCollectionParentIndex(e,t){return this.qe.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getFieldIndex(e,t){return me.resolve(null)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class Fv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qn(hn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(hn.comparator)).toArray()}}const Ko=new Uint8Array(0);class iE{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Fv,this.Ge=new Gc(r=>bu(r),(r,i)=>nh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Ji(i)};return Wc(e).put(a)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Z1(t),""],!1,!0);return Wc(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Wo(c.parent))}return r})}addFieldIndex(e,t){const r=ap(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=ap(e),i=Gm(e),a=$m(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=$m(e);let i=!0;const a=new Map;return me.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=En();const f=[];return me.forEach(a,(m,b)=>{var T;Be("IndexedDbIndexManager",`Using index ${T=m,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Qe=>`${Qe.fieldPath}:${Qe.kind}`).join(",")}`} to execute ${bu(t)}`);const A=function(Qe,Le){const tt=wm(Le);if(void 0===tt)return null;for(const at of rh(Qe,tt.fieldPath))switch(at.op){case"array-contains-any":return at.value.arrayValue.values||[];case"array-contains":return[at.value]}return null}(b,m),R=function(Qe,Le){const tt=new Map;for(const at of Bc(Le))for(const bt of rh(Qe,at.fieldPath))switch(bt.op){case"==":case"in":tt.set(at.fieldPath.canonicalString(),bt.value);break;case"not-in":case"!=":return tt.set(at.fieldPath.canonicalString(),bt.value),Array.from(tt.values())}return null}(b,m),B=function(Qe,Le){const tt=[];let at=!0;for(const bt of Bc(Le)){const Bt=0===bt.kind?Dm(Qe,bt.fieldPath,Qe.startAt):Go(Qe,bt.fieldPath,Qe.startAt);if(!Bt.value)return null;tt.push(Bt.value),at&&(at=Bt.inclusive)}return new wu(tt,at)}(b,m),G=function(Qe,Le){const tt=[];let at=!0;for(const bt of Bc(Le)){const Bt=0===bt.kind?Go(Qe,bt.fieldPath,Qe.endAt):Dm(Qe,bt.fieldPath,Qe.endAt);if(!Bt.value)return null;tt.push(Bt.value),at&&(at=Bt.inclusive)}return new wu(tt,at)}(b,m),Y=this.je(m,b,B),ye=this.je(m,b,G),He=this.We(m,b,R),ke=this.ze(m.indexId,A,Y,!!B&&B.inclusive,ye,!!G&&G.inclusive,He);return me.forEach(ke,Qe=>r.Gt(Qe,t.limit).next(Le=>{Le.forEach(tt=>{const at=qe.fromSegments(tt.documentKey);c.has(at)||(c=c.add(at),f.push(at))})}))}).next(()=>f)}return me.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,c,f){const m=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),b=m/(null!=t?t.length:1),T=[];for(let A=0;A<m;++A){const R=t?this.He(t[A/b]):Ko,B=r?this.Je(e,R,r[A%b],i):this.Ye(e),G=a?this.Xe(e,R,a[A%b],c):this.Ye(e+1);T.push(...this.createRange(B,G,f.map(Y=>this.Je(e,R,Y,!0))))}return T}Je(e,t,r,i){const a=new Iu(e,qe.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Iu(e,qe.empty(),t,r);return i?a.ke():a}Ye(e){return new Iu(e,qe.empty(),Ko,Ko)}getFieldIndex(e,t){const r=new uN(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const c=a.filter(f=>r.$e(f));return c.sort((f,m)=>m.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new op;for(const i of Bc(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);wl.fe.Zt(a,c)}return r.Se()}He(e){const t=new op;return wl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new op;return wl.fe.Zt(ml(this.databaseId,t),r.Ne(function(i){const a=Bc(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new op);let a=0;for(const c of Bc(e)){const f=r[a++];for(const m of i)if(this.en(t,c.fieldPath)&&Jd(f))i=this.nn(i,c,f);else{const b=m.Ne(c.kind);wl.fe.Zt(f,b)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const m=new op;m.seed(f.Se()),wl.fe.Zt(c,m.Ne(t.kind)),a.push(m)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Ei&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ap(e),i=Gm(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return me.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{c.push(function(b,T){const A=T?new eh(T.sequenceNumber,new xa(qc(T.readTime),new qe(Wo(T.documentKey)),T.largestBatchId)):eh.empty(),R=b.fields.map(([B,G])=>new Em(zr.fromServerFormat(B),G));return new vr(b.indexId,b.collectionGroup,R,A)}(f,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ap(e),a=Gm(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>me.forEach(f,m=>{return a.put({indexId:m.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:ka((R=r).readTime),documentKey:Ji(R.documentKey.path),largestBatchId:R.largestBatchId});var R})))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),me.forEach(f,m=>this.on(e,i,m).next(b=>{const T=this.un(a,m);return b.isEqual(T)?me.resolve():this.an(e,a,m,b,T)}))))})}cn(e,t,r,i){return $m(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return $m(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=$m(e);let a=new Qn(El);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,f)=>{a=a.add(new Iu(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new Qn(El);const i=this.Ze(t,e);if(null==i)return r;const a=wm(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Jd(c))for(const f of c.arrayValue.values||[])r=r.add(new Iu(t.indexId,e.key,this.He(f),i))}else r=r.add(new Iu(t.indexId,e.key,Ko,i));return r}an(e,t,r,i,a){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,m,b,T,A){const R=f.getIterator(),B=m.getIterator();let G=ch(R),Y=ch(B);for(;G||Y;){let ye=!1,He=!1;if(G&&Y){const ke=b(G,Y);ke<0?He=!0:ke>0&&(ye=!0)}else null!=G?He=!0:ye=!0;ye?(T(Y),Y=ch(B)):He?(A(G),G=ch(R)):(G=ch(R),Y=ch(B))}}(i,a,El,f=>{c.push(this.cn(e,t,r,f))},f=>{c.push(this.hn(e,t,r,f))}),me.waitFor(c)}rn(e){let t=1;return Gm(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>El(c,f)).filter((c,f,m)=>!f||0!==El(c,m[f-1]));const i=[];i.push(e);for(const c of r){const f=El(c,e),m=El(c,t);if(0===f)i[0]=e.ke();else if(f>0&&m<0)i.push(c),i.push(c.ke());else if(m>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Ko,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Ko,[]]));return a}}function Wc(n){return kr(n,"collectionParents")}function $m(n){return kr(n,"indexEntries")}function ap(n){return kr(n,"indexConfiguration")}function Gm(n){return kr(n,"indexState")}const rI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iI(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=r.Wt({range:c},(T,A,R)=>(f++,R.delete()));a.push(m.next(()=>{Vt(1===f)}));const b=[];for(const T of t.mutations){const A=Uw(e,T.key.path,t.batchId);a.push(i.delete(A)),b.push(T.key)}return me.waitFor(a).next(()=>b)}function lp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class up{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Vt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new up(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dl(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Zc(e),c=Dl(e);return c.add({}).next(f=>{Vt("number"==typeof f);const m=new Pv(f,t,r,i),b=function(R,B,G){const Y=G.baseMutations.map(He=>Pm(R.Jt,He)),ye=G.mutations.map(He=>Pm(R.Jt,He));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:Y,mutations:ye}}(this.M,this.userId,m),T=[];let A=new Qn((R,B)=>Zt(R.canonicalString(),B.canonicalString()));for(const R of i){const B=Uw(this.userId,R.key.path,f);A=A.add(R.key.path.popLast()),T.push(c.put(b)),T.push(a.put(B,Av))}return A.forEach(R=>{T.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.ln[f]=m.keys()}),me.waitFor(T).next(()=>m)})}lookupMutationBatch(e,t){return Dl(e).get(t).next(r=>r?(Vt(r.userId===this.userId),Zo(this.M,r)):null)}fn(e,t){return this.ln[t]?me.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Dl(e).Wt({index:"userMutationsIndex",range:i},(c,f,m)=>{f.userId===this.userId&&(Vt(f.batchId>=r),a=Zo(this.M,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Dl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dl(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Zo(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ip(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zc(e).Wt({range:i},(c,f,m)=>{const[b,T,A]=c,R=Wo(T);if(b===this.userId&&t.path.isEqual(R))return Dl(e).get(A).next(B=>{if(!B)throw pt();Vt(B.userId===this.userId),a.push(Zo(this.M,B))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Zt);const i=[];return t.forEach(a=>{const c=ip(this.userId,a.path),f=IDBKeyRange.lowerBound(c),m=Zc(e).Wt({range:f},(b,T,A)=>{const[R,B,G]=b,Y=Wo(B);R===this.userId&&a.path.isEqual(Y)?r=r.add(G):A.done()});i.push(m)}),me.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=ip(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new Qn(Zt);return Zc(e).Wt({range:c},(m,b,T)=>{const[A,R,B]=m,G=Wo(R);A===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(B)):T.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Dl(e).get(a).next(c=>{if(null===c)throw pt();Vt(c.userId===this.userId),r.push(Zo(this.M,c))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return iI(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Zc(e).Wt({range:r},(a,c,f)=>{if(a[0]===this.userId){const m=Wo(a[1]);i.push(m)}else f.done()}).next(()=>{Vt(0===i.length)})})}containsKey(e,t){return sE(e,this.userId,t)}wn(e){return Lv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sE(n,e,t){const r=ip(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return Zc(n).Wt({range:a,jt:!0},(f,m,b)=>{const[T,A,R]=f;T===e&&A===i&&(c=!0),b.done()}).next(()=>c)}function Dl(n){return kr(n,"mutations")}function Zc(n){return kr(n,"documentMutations")}function Lv(n){return kr(n,"mutationQueues")}class Kc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Kc(0)}static yn(){return new Kc(-1)}}class sI{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Kc(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Ot.fromTimestamp(new yr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Eh(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Eh(e).Wt((c,f)=>{const m=bl(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>me.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Eh(e).Wt((r,i)=>{const a=bl(i);t(a)})}pn(e){return oE(e).get("targetGlobalKey").next(t=>(Vt(null!==t),t))}In(e,t){return oE(e).put("targetGlobalKey",t)}Tn(e,t){return Eh(e).put(Yw(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=bu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Eh(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,m)=>{const b=bl(f);nh(t,b.target)&&(a=b,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Su(e);return t.forEach(c=>{const f=Ji(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=Su(e);return me.forEach(t,a=>{const c=Ji(a.path);return me.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Su(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Su(e);let a=En();return i.Wt({range:r,jt:!0},(c,f,m)=>{const b=Wo(c[1]),T=new qe(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Ji(t.path),i=IDBKeyRange.bound([r],[Z1(r)],!1,!0);let a=0;return Su(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],m,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return Eh(e).get(t).next(r=>r?bl(r):null)}}function Eh(n){return kr(n,"targets")}function oE(n){return kr(n,"targetGlobal")}function Su(n){return kr(n,"targetDocuments")}function Yc(n){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,Ee.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Mv)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),Qc.apply(this,arguments)}function Vv([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class aE{constructor(e){this.An=e,this.buffer=new Qn(Vv),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Vv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lE{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ee.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){yl(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Yc(i)}yield t.Sn(e)}))}}class uE{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(Ls.A);const r=new aE(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(rI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rI):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,c,f,m,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(b=Date.now(),sv()<=si.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${A} documents in `+(b-m)+`ms\nTotal Duration: ${b-T}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class cE{constructor(e,t){this.db=e,this.garbageCollector=new uE(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return cp(e,r)}removeReference(e,t,r){return cp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cp(e,t)}On(e,t){return function(r,i){let a=!1;return Lv(r).zt(c=>sE(r,c,i).next(f=>(f&&(a=!0),me.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(c,f)=>{if(f<=t){const m=this.On(e,c).next(b=>{if(!b)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Ot.min()),Su(e).delete([0,Ji(c.path)])))});i.push(m)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cp(e,t)}Mn(e,t){const r=Su(e);let i,a=Ls.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:m,sequenceNumber:b})=>{0===c?(a!==Ls.A&&t(new qe(Wo(i)),a),a=b,i=m):a=Ls.A}).next(()=>{a!==Ls.A&&t(new qe(Wo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cp(n,e){return Su(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ji(e.path),sequenceNumber:r}));var r}class dE{constructor(){this.changes=new Gc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hE{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jc(e).put(r)}removeEntry(e,t,r){return Jc(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Bm(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Yn.newInvalidDocument(t);return Jc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(dp(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Yn.newInvalidDocument(t)};return Jc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(dp(t))},(i,a)=>{r={document:this.$n(t,a),size:lp(a)}}).next(()=>r)}getEntries(e,t){let r=Qi();return this.Ln(e,t,(i,a)=>{const c=this.$n(i,a);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=Qi(),i=new lt(qe.comparator);return this.Ln(e,t,(a,c)=>{const f=this.$n(a,c);r=r.insert(a,f),i=i.insert(a,lp(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return me.resolve();let i=new Qn(pE);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(dp(i.first()),dp(i.last())),c=i.getIterator();let f=c.getNext();return Jc(e).Wt({index:"documentKeyIndex",range:a},(m,b,T)=>{const A=qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&pE(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?T.Ut(dp(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Bm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jc(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=Qi();for(const m of c){const b=this.$n(qe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Qi();const c=Dh(t,r),f=Dh(t,xa.max());return Jc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(m,b,T)=>{const A=this.$n(qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(A.key,A),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new oI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fE(e).get("remoteDocumentGlobalKey").next(t=>(Vt(!!t),t))}Fn(e,t){return fE(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function Kw(n,e){let t;if(e.document)t=FT(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=qc(e.noDocument.readTime);t=Yn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const r=qe.fromSegments(e.unknownDocument.path),i=qc(e.unknownDocument.version);t=Yn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new yr(r[0],r[1]);return Ot.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Ot.min()))return r}return Yn.newInvalidDocument(e)}}class oI extends dE{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Gc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Qn((a,c)=>Zt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const m=XT(this.Kn.M,c);i=i.add(a.path.popLast()),r+=lp(m)-f.size,t.push(this.Kn.addEntry(e,a,m))}else if(r-=f.size,this.trackRemovals){const m=XT(this.Kn.M,c.convertToNoDocument(Ot.min()));t.push(this.Kn.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function fE(n){return kr(n,"remoteDocumentGlobal")}function Jc(n){return kr(n,"remoteDocumentsV14")}function dp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Dh(n,e){const t=e.documentKey.path.toArray();return[n,Bm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pE(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Zt(t[a],r[a]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class Bv{constructor(e){this.M=e}kt(e,t,r,i){const a=new vh("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bw,{unique:!0}),f.createObjectStore("documentMutations"),Yo(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=me.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Yo(e)),c=c.next(()=>function(f){const m=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,m){return m.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bw,{unique:!0});const T=m.store("mutations"),A=b.map(R=>T.put(R));return me.waitFor(A)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(a))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:ZT});m.createIndex("collectionPathOverlayIndex",KT,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",YT,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:jT});m.createIndex("documentKeyIndex",jw),m.createIndex("collectionGroupIndex",Hw)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:zT}).createIndex("sequenceNumberIndex",$w,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:qT}).createIndex("documentKeyIndex",WT,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=lp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>me.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>me.forEach(f,m=>{Vt(m.userId===a.userId);const b=Zo(this.M,m);return iI(e,a.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,f)=>{const m=new hn(c),b=[0,Ji(m)];a.push(t.get(b).next(T=>T?me.resolve():t.put({targetId:0,path:Ji(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Nv});const r=t.store("collectionParents"),i=new Fv,a=c=>{if(i.add(c)){const f=c.lastSegment(),m=c.popLast();return r.put({collectionId:f,parent:Ji(m)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const m=new hn(c);return a(m.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,m],b)=>{const T=Wo(f);return a(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=bl(i),c=Yw(this.M,a);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const f=t.store("remoteDocumentsV14"),m=(b=c,b.document?new qe(hn.fromString(b.document.name).popFirst(5)):b.noDocument?qe.fromSegments(b.noDocument.path):b.unknownDocument?qe.fromSegments(b.unknownDocument.path):pt()).path.toArray();var b;const T={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(T))}).next(()=>me.waitFor(i))}}function Yo(n){n.createObjectStore("targetDocuments",{keyPath:$T}).createIndex("documentTargetsIndex",GT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HT,{unique:!0}),n.createObjectStore("targetGlobal")}const Uv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hp{constructor(e,t,r,i,a,c,f,m,b,T,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=c,this.document=f,this.Xn=b,this.Zn=T,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=R=>Promise.resolve(),!hp.vt())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cE(this,i),this.hs=t+"main",this.M=new Zw(m),this.ls=new co(this.hs,this.ts,new Bv(this.M)),this.fs=new sI(this.referenceDelegate,this.M),this.ds=new hE(this.M),this._s=new eI,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,Uv);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ls(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ee.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(yl(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Cl(e).get("owner").next(t=>me.resolve(this.bs(t)))}Vs(e){return zm(e).delete(this.clientId)}vs(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=kr(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ds(a,18e5),f=a.filter(m=>-1===c.indexOf(m));return me.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?me.resolve(!0):Cl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,Uv);return!1}}return!(!this.networkEnabled||!this.inForeground)||zm(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ww(t,Ls.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>zm(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return up.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new iE(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return jm.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.ts)?qw:13===c?zw:12===c?QT:11===c?Gw:void pt();var c;let f;return this.ls.runTransaction(e,i,a,m=>(f=new Ww(m,this.es?this.es.next():Ls.A),"readwrite-primary"===t?this.Es(f).next(b=>!!b||this.As(f)).next(b=>{if(!b)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Re(de.FAILED_PRECONDITION,Mv);return r(f)}).next(b=>this.Ps(f).next(()=>b)):this.$s(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}$s(e){return Cl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,Uv)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cl(e).put("owner",t)}static vt(){return co.vt()}Rs(e){const t=Cl(e);return t.get("owner").next(r=>this.bs(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,rn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cl(n){return kr(n,"owner")}function zm(n){return kr(n,"clientMetadata")}function jv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class aI{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Tm(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new qe(t)).next(r=>{let i=ww();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=ww();return this.indexManager.getCollectionParents(e,i).next(c=>me.forEach(c,f=>{const m=(b=t,T=f.child(i),new Pa(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.zs(e,m,r).next(b=>{b.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const f of c.mutations){const m=f.key;let b=i.get(m);null==b&&(b=Yn.newInvalidDocument(m),i=i.insert(m,b)),Nm(f,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(m))}}).next(()=>(i.forEach((a,c)=>{Sm(t,c)||(i=i.remove(a))}),i))}}class Ch{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=En(),i=En();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ch(e,t.fromCache,r,i)}}class fp{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ot.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const c=this.ei(t,a);return(qf(t)||jc(t))&&this.ni(t.limitType,c,i,r)?this.ti(e,t):(sv()<=si.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Im(t)),this.Zs.Qs(e,t,tw(r,-1)).next(f=>(c.forEach(m=>{f=f.insert(m.key,m)}),f)))});var a}ei(e,t){let r=new Qn(bv(e));return t.forEach((i,a)=>{Sm(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return sv()<=si.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Im(t)),this.Zs.Qs(e,t,xa.min())}}class lI{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new lt(Zt),this.ri=new Gc(a=>bu(a),nh),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new aI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function gE(n,e,t,r){return new lI(n,e,t,r)}function Hv(n,e){return qm.apply(this,arguments)}function qm(){return qm=(0,Ee.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let m=En();for(const b of i){c.push(b.batchId);for(const T of b.mutations)m=m.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)m=m.add(T.key)}return t.ci.Ks(r,m).next(b=>({hi:b,removedBatchIds:c,addedBatchIds:f}))})})}),qm.apply(this,arguments)}function $v(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,f,m,b){const T=m.batch,A=T.keys();let R=me.resolve();return A.forEach(B=>{R=R.next(()=>b.getEntry(f,B)).next(G=>{const Y=m.docVersions.get(B);Vt(null!==Y),G.version.compareTo(Y)<0&&(T.applyToRemoteDocument(G,m),G.isValidDocument()&&(G.setReadTime(m.commitVersion),b.addEntry(G)))})}),R.next(()=>c.Bs.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function Gv(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function uI(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((b,T)=>{const A=i.get(T);if(!A)return;f.push(t.fs.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.fs.addMatchingKeys(a,b.addedDocuments,T)));let R=A.withSequenceNumber(a.currentSequenceNumber);var B,G,Y;e.targetMismatches.has(T)?R=R.withResumeToken(qr.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,r)),i=i.insert(T,R),G=R,Y=b,(0===(B=A).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,R))});let m=Qi();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(mE(a,c,e.documentUpdates).next(b=>{m=b})),!r.isEqual(Ot.min())){const b=t.fs.getLastRemoteSnapshotVersion(a).next(T=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return me.waitFor(f).next(()=>c.apply(a)).next(()=>t.ci.Gs(a,m)).next(()=>m)}).then(a=>(t.ii=i,a))}function mE(n,e,t){let r=En();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Qi();return t.forEach((c,f)=>{const m=i.get(c);f.isNoDocument()&&f.version.isEqual(Ot.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):Be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",f.version)}),a})}function cN(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Au(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,me.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new vl(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Nu(n,e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Ee.Z)(function*(n,e,t){const r=rt(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!yl(c))throw c;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),Wm.apply(this,arguments)}function Th(n,e,t){const r=rt(n);let i=Ot.min(),a=En();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,b){const T=rt(f),A=T.ri.get(b);return void 0!==A?me.resolve(T.ii.get(A)):T.fs.getTargetData(m,b)}(r,c,Yi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{a=m})}).next(()=>r.si.Qs(c,e,t?i:Ot.min(),t?a:En())).next(f=>(yE(r,vv(e),f),{documents:f,li:a})))}function Zm(n,e){const t=rt(n),r=rt(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function _E(n,e){const t=rt(n),r=t.oi.get(e)||Ot.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,tw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(yE(t,e,i),i))}function yE(n,e,t){let r=Ot.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function zv(){return zv=(0,Ee.Z)(function*(n,e,t,r){const i=rt(n);let a=En(),c=Qi();for(const b of t){const T=e.fi(b.metadata.name);b.document&&(a=a.add(T));const A=e.di(b);A.setReadTime(e._i(b.metadata.readTime)),c=c.insert(T,A)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),m=yield Au(i,(b=r,Yi(Uc(hn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>mE(b,f,c).next(T=>(f.apply(b),T)).next(T=>i.fs.removeMatchingKeysForTargetId(b,m.targetId).next(()=>i.fs.addMatchingKeys(b,a,m.targetId)).next(()=>i.ci.Gs(b,T)).next(()=>T)))}),zv.apply(this,arguments)}function vE(n,e){return pp.apply(this,arguments)}function pp(){return pp=(0,Ee.Z)(function*(n,e,t=En()){const r=yield Au(n,Yi(Qw(e.bundledQuery))),i=rt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=ci(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(qr.EMPTY_BYTE_STRING,c);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),pp.apply(this,arguments)}class bE{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return me.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:ci(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:Qw(r.bundledQuery),readTime:ci(r.readTime)}),me.resolve();var r}}class wE{constructor(){this.overlays=new lt(qe.comparator),this.gi=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=dh(),a=t.length+1,c=new qe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,b=m.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new lt((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=a.get(b.largestBatchId);null===T&&(T=dh(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=dh(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return me.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new kv(t,r));let a=this.gi.get(t);void 0===a&&(a=En(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class Km{constructor(){this.yi=new Qn(Wr.pi),this.Ii=new Qn(Wr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Wr(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Wr(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new qe(new hn([])),r=new Wr(t,e),i=new Wr(t,e+1),a=[];return this.Ii.forEachInRange([r,i],c=>{this.Ai(c),a.push(c.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new qe(new hn([])),r=new Wr(t,e),i=new Wr(t,e+1);let a=En();return this.Ii.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Wr(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wr{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return qe.comparator(e.key,t.key)||Zt(e.vi,t.vi)}static Ti(e,t){return Zt(e.vi,t.vi)||qe.comparator(e.key,t.key)}}class dI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Qn(Wr.pi)}checkEmpty(e){return me.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const c=new Pv(a,t,r,i);this.Bs.push(c);for(const f of i)this.Di=this.Di.add(new Wr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,t){return me.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return me.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return me.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wr(t,0),i=new Wr(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],c=>{const f=this.Ci(c.vi);a.push(f)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Zt);return t.forEach(i=>{const a=new Wr(i,0),c=new Wr(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,c],f=>{r=r.add(f.vi)})}),me.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const c=new Wr(new qe(a),0);let f=new Qn(Zt);return this.Di.forEachWhile(m=>{const b=m.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(m.vi)),!0)},c),me.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Vt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return me.forEach(t.mutations,i=>{const a=new Wr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Wr(t,0),i=this.Di.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class EE{constructor(e){this.Mi=e,this.docs=new lt(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let r=Qi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Yn.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(e,t,r){let i=Qi();const a=new qe(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||th(nw(m),r)<=0||(i=i.insert(m.key,m.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,t,r,i){pt()}Oi(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DE(this)}getSize(e){return me.resolve(this.size)}}class DE extends dE{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class hI{constructor(e){this.persistence=e,this.Fi=new Gc(t=>bu(t),nh),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Km,this.targetCount=0,this.Li=Kc.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),me.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Kc(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Tn(t),me.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.Bi.containsKey(t))}}class CE{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ls(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new hI(this),this.indexManager=new nI,this.ds=new EE(r=>this.referenceDelegate.qi(r)),this.M=new Zw(t),this._s=new bE(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new dI(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new TE(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return me.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class TE extends Ov{constructor(e){super(),this.currentSequenceNumber=e}}class Ci{constructor(e){this.persistence=e,this.ji=new Km,this.Wi=null}static zi(e){return new Ci(e)}get Hi(){if(this.Wi)return this.Wi;throw pt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),me.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Hi,r=>{const i=qe.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,Ot.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return me.or([()=>me.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Xc(n,e){return`firestore_clients_${n}_${e}`}function IE(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qv(n,e){return`firestore_targets_${n}_${e}`}class Wv{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Re(i.error.code,i.error.message))),c?new Wv(e,t,i.state,a):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tl{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Re(r.error.code,r.error.message))),a?new Tl(e,r.state,i):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ym{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Jf();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=uv(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new Ym(e,a):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gp{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gp(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zv{constructor(){this.activeTargetIds=Jf()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qm{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new lt(Zt),this.started=!1,this.rr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=Xc(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Zv),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(Xc(e.persistenceKey,i));if(a){const c=Ym.Yi(i,a);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qv(this.persistenceKey,e));if(r){const i=Tl.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let c=Ls.A;if(null!=a)try{const f=JSON.parse(a);Vt("number"==typeof f),c=f}catch(f){_r("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Ls.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new Wv(this.currentUser,e,t,r),a=IE(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=IE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=qv(this.persistenceKey,e),a=new Tl(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return Ym.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Wv.Yi(new wi(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return Tl.Yi(i,t)}mr(e){return gp.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),c=[],f=[];return a.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Fr(c,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Jf();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class SE{constructor(){this.$r=new Zv,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Zv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fI{Lr(e){}shutdown(){}}class Jm{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NE{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Xm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const c=this.uo(e,t);Be("RestConnection","Sending: ",c,r);const f={};return this.ao(f,i,a),this.co(e,c,f,r).then(m=>(Be("RestConnection","Received: ",m),m),m=>{throw Rc("RestConnection",`${e} failed with error: `,m,"url: ",c,"request:",r),m})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${AE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,c)=>{const f=new bT;f.listenOnce(j1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case nv.NO_ERROR:const b=f.getResponseJson();Be("Connection","XHR received:",JSON.stringify(b)),a(b);break;case nv.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),c(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const T=f.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const R=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(G)>=0?G:de.UNKNOWN}(A.status);c(new Re(R,A.message))}else c(new Re(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Re(de.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(i);f.send(t,"POST",m,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=B1(),c=U1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new H1({})),this.ao(f.initMessageHeaders,t,r),(0,rn.uI)()||(0,rn.b$)()||(0,rn.d)()||(0,rn.w1)()||(0,rn.Mn)()||(0,rn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const m=i.join("");Be("Connection","Creating WebChannel: "+m,f);const b=a.createWebChannel(m,f);let T=!1,A=!1;const R=new NE({Wr:G=>{A?Be("Connection","Not sending because WebChannel is closed:",G):(T||(Be("Connection","Opening WebChannel transport."),b.open(),T=!0),Be("Connection","WebChannel sending:",G),b.send(G))},zr:()=>b.close()}),B=(G,Y,ye)=>{G.listen(Y,He=>{try{ye(He)}catch(ke){setTimeout(()=>{throw ke},0)}})};return B(b,fm.EventType.OPEN,()=>{A||Be("Connection","WebChannel transport opened.")}),B(b,fm.EventType.CLOSE,()=>{A||(A=!0,Be("Connection","WebChannel transport closed"),R.no())}),B(b,fm.EventType.ERROR,G=>{A||(A=!0,Rc("Connection","WebChannel transport errored:",G),R.no(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),B(b,fm.EventType.MESSAGE,G=>{var Y;if(!A){const ye=G.data[0];Vt(!!ye);const He=ye,ke=He.error||(null===(Y=He[0])||void 0===Y?void 0:Y.error);if(ke){Be("Connection","WebChannel received error:",ke);const Qe=ke.status;let Le=function(at){const bt=br[at];if(void 0!==bt)return Tv(bt)}(Qe),tt=ke.message;void 0===Le&&(Le=de.INTERNAL,tt="Unknown error status: "+Qe+" with message "+ke.message),A=!0,R.no(new Re(Le,tt)),b.close()}else Be("Connection","WebChannel received:",ye),R.so(ye)}}),B(c,vT.STAT_EVENT,G=>{G.stat===rv.PROXY?Be("Connection","Detected buffering proxy"):G.stat===rv.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.eo()},0),R}}function e_(){return"undefined"!=typeof window?window:null}function Kv(){return"undefined"!=typeof document?document:null}function Ih(n){return new Aw(n,!0)}class Yv{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Qv{constructor(e,t,r,i,a,c,f,m){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Yv(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Ee.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Re(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,Ee.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t_ extends Qv{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function lN(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:pt(),i=e.targetChange.targetIds||[],a=function(m,b){return m.N?(Vt(void 0===b||"string"==typeof b),qr.fromBase64String(b||"")):(Vt(void 0===b||b instanceof Uint8Array),qr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const b=void 0===m.code?de.UNKNOWN:Tv(m.code);return new Re(b,m.message||"")}(c);t=new fh(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=qo(n,r.document.name),a=ci(r.document.updateTime),c=new Fi({mapValue:{fields:r.document.fields}}),f=Yn.newFoundDocument(i,a,c);t=new xm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=qo(n,r.document),a=r.readTime?ci(r.readTime):Ot.min(),c=Yn.newNoDocument(i,a);t=new xm([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=qo(n,r.document);t=new xm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return pt();{const r=e.filter,a=new oN(r.count||0);t=new Dw(r.targetId,a)}}var m;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Ot.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?ci(a.readTime):Ot.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=mh(this.M),t.addTarget=function(i,a){let c;const f=a.target;return c=pv(f)?{documents:Rw(i,f)}:{query:Pw(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=ph(i,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(c.readTime=tp(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function rp(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=mh(this.M),t.removeTarget=e,this.Fo(t)}}class ME extends Qv{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Fm(n,e){return n&&n.length>0?(Vt(void 0!==e),n.map(t=>function(r,i){let a=ci(r.updateTime?r.updateTime:i);return a.isEqual(Ot.min())&&(a=ci(i)),new xT(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.Yo(r,t)}return Vt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=mh(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Pm(this.M,r))};this.Fo(t)}}class pI extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(de.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(de.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class Jv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(_r(t),this.iu=!1):Be("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Xv{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{r.enqueueAndForget((0,Ee.Z)(function*(){var m;Il(c)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ee.Z)(function*(b){const T=rt(b);T.fu.add(4),yield Sh(T),T.wu.set("Unknown"),T.fu.delete(4),yield n_(T)}),function(b){return m.apply(this,arguments)})(c))}))}),this.wu=new Jv(r,i)}}function n_(n){return e0.apply(this,arguments)}function e0(){return e0=(0,Ee.Z)(function*(n){if(Il(n))for(const e of n.du)yield e(!0)}),e0.apply(this,arguments)}function Sh(n){return r_.apply(this,arguments)}function r_(){return r_=(0,Ee.Z)(function*(n){for(const e of n.du)yield e(!1)}),r_.apply(this,arguments)}function mp(n,e){const t=rt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),r0(t)?n0(t):vp(t).xo()&&i_(t,e))}function _p(n,e){const t=rt(n),r=vp(t);t.lu.delete(e),r.xo()&&t0(t,e),0===t.lu.size&&(r.xo()?r.Mo():Il(t)&&t.wu.set("Unknown"))}function i_(n,e){n.mu.Z(e.targetId),vp(n).jo(e)}function t0(n,e){n.mu.Z(e),vp(n).Wo(e)}function n0(n){n.mu=new kT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),vp(n).start(),n.wu.ru()}function r0(n){return Il(n)&&!vp(n).Co()&&n.lu.size>0}function Il(n){return 0===rt(n).fu.size}function OE(n){n.mu=void 0}function xE(n){return s_.apply(this,arguments)}function s_(){return s_=(0,Ee.Z)(function*(n){n.lu.forEach((e,t)=>{i_(n,e)})}),s_.apply(this,arguments)}function RE(n,e){return o_.apply(this,arguments)}function o_(){return o_=(0,Ee.Z)(function*(n,e){OE(n),r0(n)?(n.wu.au(e),n0(n)):n.wu.set("Unknown")}),o_.apply(this,arguments)}function gI(n,e,t){return s0.apply(this,arguments)}function s0(){return s0=(0,Ee.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof fh&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield o0(n,r)}else if(e instanceof xm?n.mu.ut(e):e instanceof Dw?n.mu._t(e):n.mu.ht(e),!t.isEqual(Ot.min()))try{const r=yield Gv(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.mu.yt(a);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.lu.get(m);b&&i.lu.set(m,b.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const m=i.lu.get(f);if(!m)return;i.lu.set(f,m.withResumeToken(qr.EMPTY_BYTE_STRING,m.snapshotVersion)),t0(i,f);const b=new vl(m.target,f,1,m.sequenceNumber);i_(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield o0(n,r)}var r}),s0.apply(this,arguments)}function o0(n,e,t){return a_.apply(this,arguments)}function a_(){return a_=(0,Ee.Z)(function*(n,e,t){if(!yl(e))throw e;n.fu.add(1),yield Sh(n),n.wu.set("Offline"),t||(t=()=>Gv(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield n_(n)}))}),a_.apply(this,arguments)}function mI(n,e){return e().catch(t=>o0(n,t,e))}function yp(n){return PE.apply(this,arguments)}function PE(){return PE=(0,Ee.Z)(function*(n){const e=rt(n),t=Mu(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;dN(e);)try{const i=yield cN(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,hN(e,i)}catch(i){yield o0(e,i)}_I(e)&&yI(e)}),PE.apply(this,arguments)}function dN(n){return Il(n)&&n.hu.length<10}function hN(n,e){n.hu.push(e);const t=Mu(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function _I(n){return Il(n)&&!Mu(n).Co()&&n.hu.length>0}function yI(n){Mu(n).start()}function fN(n){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,Ee.Z)(function*(n){Mu(n).Zo()}),Ah.apply(this,arguments)}function pN(n){return l_.apply(this,arguments)}function l_(){return l_=(0,Ee.Z)(function*(n){const e=Mu(n);for(const t of n.hu)e.Jo(t.mutations)}),l_.apply(this,arguments)}function a0(n,e,t){return u_.apply(this,arguments)}function u_(){return u_=(0,Ee.Z)(function*(n,e,t){const r=n.hu.shift(),i=Vm.from(r,e,t);yield mI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yp(n)}),u_.apply(this,arguments)}function kE(n,e){return FE.apply(this,arguments)}function FE(){return FE=(0,Ee.Z)(function*(n,e){var t;e&&Mu(n).Ho&&(yield(t=(0,Ee.Z)(function*(r,i){if(Cv(a=i.code)&&a!==de.ABORTED){const c=r.hu.shift();Mu(r).ko(),yield mI(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield yp(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),_I(n)&&yI(n)}),FE.apply(this,arguments)}function c_(n,e){return d_.apply(this,arguments)}function d_(){return d_=(0,Ee.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Il(t);t.fu.add(3),yield Sh(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield n_(t)}),d_.apply(this,arguments)}function l0(n,e){return h_.apply(this,arguments)}function h_(){return h_=(0,Ee.Z)(function*(n,e){const t=rt(n);e?(t.fu.delete(2),yield n_(t)):e||(t.fu.add(2),yield Sh(t),t.wu.set("Unknown"))}),h_.apply(this,arguments)}function vp(n){return n.gu||(n.gu=function(e,t,r){const i=rt(e);return i.eu(),new t_(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:xE.bind(null,n),Yr:RE.bind(null,n),Qo:gI.bind(null,n)}),n.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.gu.ko(),r0(n)?n0(n):n.wu.set("Unknown")):(yield n.gu.stop(),OE(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Mu(n){return n.yu||(n.yu=function(e,t,r){const i=rt(e);return i.eu(),new ME(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:fN.bind(null,n),Yr:kE.bind(null,n),Xo:pN.bind(null,n),Yo:a0.bind(null,n)}),n.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.yu.ko(),yield yp(n)):(yield n.yu.stop(),n.hu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class u0{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new u0(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ou(n,e){if(_r("AsyncQueue",`${e}: ${n}`),yl(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Nh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=ww(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Nh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Nh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vI{constructor(){this.pu=new lt(qe.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):pt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class bp{constructor(e,t,r,i,a,c,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new bp(e,t,Nh.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class gN{constructor(){this.Tu=void 0,this.listeners=[]}}class bI{constructor(){this.queries=new Gc(e=>yv(e),oh),this.onlineState="Unknown",this.Eu=new Set}}function c0(n,e){return d0.apply(this,arguments)}function d0(){return d0=(0,Ee.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new gN),i)try{a.Tu=yield t.onListen(r)}catch(c){const f=Ou(c,`Initialization of query '${Im(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&Vs(t)}),d0.apply(this,arguments)}function LE(n,e){return h0.apply(this,arguments)}function h0(){return h0=(0,Ee.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),h0.apply(this,arguments)}function f0(n,e){const t=rt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Ru(i)&&(r=!0);c.Tu=i}}r&&Vs(t)}function wI(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Vs(n){n.Eu.forEach(e=>{e.next()})}class p0{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=bp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class g0{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class VE{constructor(e){this.M=e}fi(e){return qo(this.M,e)}di(e){return e.metadata.exists?FT(this.M,e.document,!1):Yn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return ci(e)}}class EI{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=f_(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new VE(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||En()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function cI(n,e,t,r){return zv.apply(this,arguments)}(e.localStore,new VE(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield vE(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function f_(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class m0{constructor(e){this.key=e}}class _0{constructor(e){this.key=e}}class BE{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=En(),this.mutatedKeys=En(),this.Uu=bv(e),this.qu=new Nh(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new vI,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m=qf(this.query)&&i.size===this.query.limit?i.last():null,b=jc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const R=i.get(T),B=Sm(this.query,A)?A:null,G=!!R&&this.mutatedKeys.has(R.key),Y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ye=!1;R&&B?R.data.isEqual(B.data)?G!==Y&&(r.track({type:3,doc:B}),ye=!0):this.ju(R,B)||(r.track({type:2,doc:B}),ye=!0,(m&&this.Uu(B,m)>0||b&&this.Uu(B,b)<0)&&(f=!0)):!R&&B?(r.track({type:0,doc:B}),ye=!0):R&&!B&&(r.track({type:1,doc:R}),ye=!0,(m||b)&&(f=!0)),ye&&(B?(c=c.add(B),a=Y?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),qf(this.query)||jc(this.query))for(;c.size>this.query.limit;){const T=qf(this.query)?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{qu:c,Qu:r,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((b,T)=>function(A,R){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return B(A)-B(R)}(b.type,T.type)||this.Uu(b.doc,T.doc)),this.Wu(r);const c=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,m=f!==this.Bu;return this.Bu=f,0!==a.length||m?{snapshot:new bp(this.query,e.qu,i,a,e.mutatedKeys,0===f,m,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new vI,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=En(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new _0(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new m0(r))}),t}Yu(e){this.$u=e.li,this.Lu=En();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return bp.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class UE{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class DI{constructor(e){this.key=e,this.Zu=!1}}class CI{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new Gc(f=>yv(f),oh),this.na=new Map,this.sa=new Set,this.ia=new lt(qe.comparator),this.ra=new Map,this.oa=new Km,this.ua={},this.aa=new Map,this.ca=Kc.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function TI(n,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Ee.Z)(function*(n,e){const t=N0(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const c=yield Au(t.localStore,Yi(e));t.isPrimaryClient&&mp(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield Sl(t,e,r,"current"===f)}return i}),wp.apply(this,arguments)}function Sl(n,e,t,r){return p_.apply(this,arguments)}function p_(){return p_=(0,Ee.Z)(function*(n,e,t,r){n.la=(T,A,R)=>{return(B=(0,Ee.Z)(function*(G,Y,ye,He){let ke=Y.view.Gu(ye);ke.ni&&(ke=yield Th(G.localStore,Y.query,!1).then(({documents:tt})=>Y.view.Gu(tt,ke)));const Qe=He&&He.targetChanges.get(Y.targetId),Le=Y.view.applyChanges(ke,G.isPrimaryClient,Qe);return m_(G,Y.targetId,Le.Hu),Le.snapshot}),function(G,Y,ye,He){return B.apply(this,arguments)})(n,T,A,R);var B};const i=yield Th(n.localStore,e,!0),a=new BE(e,i.li),c=a.Gu(i.documents),f=Xf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),m=a.applyChanges(c,n.isPrimaryClient,f);m_(n,t,m.Hu);const b=new UE(e,t,a);return n.ea.set(e,b),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),m.snapshot}),p_.apply(this,arguments)}function jE(n,e){return y0.apply(this,arguments)}function y0(){return y0=(0,Ee.Z)(function*(n,e){const t=rt(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!oh(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_p(t.remoteStore,r.targetId),ed(t,r.targetId)}).catch(Yc))):(ed(t,r.targetId),yield Nu(t.localStore,r.targetId,!0))}),y0.apply(this,arguments)}function v0(){return v0=(0,Ee.Z)(function*(n,e,t){const r=Sp(n);try{const i=yield function(a,c){const f=rt(a),m=yr.now(),b=c.reduce((A,R)=>A.add(R.key),En());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ci.Ks(A,b).next(R=>{T=R;const B=[];for(const G of c){const Y=vw(G,T.get(G.key));null!=Y&&B.push(new _l(G.key,Y,fv(Y.value.mapValue),Ar.exists(!0)))}return f.Bs.addMutationBatch(A,m,B,c)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let m=a.ua[a.currentUser.toKey()];m||(m=new lt(Zt)),m=m.insert(c,f),a.ua[a.currentUser.toKey()]=m}(r,i.batchId,t),yield Al(r,i.changes),yield yp(r.remoteStore)}catch(i){const a=Ou(i,"Failed to persist write");t.reject(a)}}),v0.apply(this,arguments)}function HE(n,e){return b0.apply(this,arguments)}function b0(){return b0=(0,Ee.Z)(function*(n,e){const t=rt(n);try{const r=yield uI(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ra.get(a);c&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Zu=!0:i.modifiedDocuments.size>0?Vt(c.Zu):i.removedDocuments.size>0&&(Vt(c.Zu),c.Zu=!1))}),yield Al(t,r,e)}catch(r){yield Yc(r)}}),b0.apply(this,arguments)}function w0(n,e,t){const r=rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,c)=>{const f=c.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=rt(a);f.onlineState=c;let m=!1;f.queries.forEach((b,T)=>{for(const A of T.listeners)A.Au(c)&&(m=!0)}),m&&Vs(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function II(n,e,t){return E0.apply(this,arguments)}function E0(){return E0=(0,Ee.Z)(function*(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let c=new lt(qe.comparator);c=c.insert(a,Yn.newNoDocument(a,Ot.min()));const f=En().add(a),m=new hh(Ot.min(),new Map,new Qn(Zt),c,f);yield HE(r,m),r.ia=r.ia.remove(a),r.ra.delete(e),C0(r)}else yield Nu(r.localStore,e,!1).then(()=>ed(r,e,t)).catch(Yc)}),E0.apply(this,arguments)}function _N(n,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Ee.Z)(function*(n,e){const t=rt(n),r=e.batch.batchId;try{const i=yield $v(t.localStore,e);Cp(t,r,null),Dp(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Al(t,i)}catch(i){yield Yc(i)}}),Ep.apply(this,arguments)}function $E(n,e,t){return D0.apply(this,arguments)}function D0(){return D0=(0,Ee.Z)(function*(n,e,t){const r=rt(n);try{const i=yield function(a,c){const f=rt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return f.Bs.lookupMutationBatch(m,c).next(T=>(Vt(null!==T),b=T.keys(),f.Bs.removeMutationBatch(m,T))).next(()=>f.Bs.performConsistencyCheck(m)).next(()=>f.ci.Ks(m,b))})}(r.localStore,e);Cp(r,e,t),Dp(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Al(r,i)}catch(i){yield Yc(i)}}),D0.apply(this,arguments)}function g_(){return g_=(0,Ee.Z)(function*(n,e){const t=rt(n);Il(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=rt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Ou(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),g_.apply(this,arguments)}function Dp(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Cp(n,e,t){const r=rt(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function ed(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||GE(n,r)})}function GE(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(_p(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),C0(n))}function m_(n,e,t){for(const r of t)r instanceof m0?(n.oa.addReference(r.key,e),zE(n,r)):r instanceof _0?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||GE(n,r.key)):pt()}function zE(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.sa.add(r),C0(n))}function C0(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new qe(hn.fromString(e)),r=n.ca.next();n.ra.set(r,new DI(t)),n.ia=n.ia.insert(t,r),mp(n.remoteStore,new vl(Yi(Uc(t.path)),r,2,Ls.A))}}function Al(n,e,t){return qE.apply(this,arguments)}function qE(){return qE=(0,Ee.Z)(function*(n,e,t){const r=rt(n),i=[],a=[],c=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,m)=>{c.push(r.la(m,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=Ch.Ys(m.targetId,b);a.push(T)}}))}),yield Promise.all(c),r.ta.Qo(i),yield(f=(0,Ee.Z)(function*(m,b){const T=rt(m);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>me.forEach(b,R=>me.forEach(R.Hs,B=>T.persistence.referenceDelegate.addReference(A,R.targetId,B)).next(()=>me.forEach(R.Js,B=>T.persistence.referenceDelegate.removeReference(A,R.targetId,B)))))}catch(A){if(!yl(A))throw A;Be("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const R=A.targetId;if(!A.fromCache){const B=T.ii.get(R),Y=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.ii=T.ii.insert(R,Y)}}}),function(m,b){return f.apply(this,arguments)})(r.localStore,a))}),qE.apply(this,arguments)}function yN(n,e){return __.apply(this,arguments)}function __(){return __=(0,Ee.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield Hv(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(c=>{c.forEach(f=>{f.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Al(t,r.hi)}var i}),__.apply(this,arguments)}function AI(n,e){const t=rt(n),r=t.ra.get(e);if(r&&r.Zu)return En().add(r.key);{let i=En();const a=t.na.get(e);if(!a)return i;for(const c of a){const f=t.ea.get(c);i=i.unionWith(f.view.Ku)}return i}}function NI(n,e){return T0.apply(this,arguments)}function T0(){return T0=(0,Ee.Z)(function*(n,e){const t=rt(n),r=yield Th(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&m_(t,e.targetId,i.Hu),i}),T0.apply(this,arguments)}function vN(n,e){return WE.apply(this,arguments)}function WE(){return WE=(0,Ee.Z)(function*(n,e){const t=rt(n);return _E(t.localStore,e).then(r=>Al(t,r))}),WE.apply(this,arguments)}function bN(n,e,t,r){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,Ee.Z)(function*(n,e,t,r){const i=rt(n),a=yield function(c,f){const m=rt(c),b=rt(m.Bs);return m.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.fn(T,f).next(A=>A?m.ci.Ks(T,A):me.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield yp(i.remoteStore):"acknowledged"===t||"rejected"===t?(Cp(i,e,r||null),Dp(i,e),f=e,rt(rt(i.localStore).Bs)._n(f)):pt(),yield Al(i,a)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),ZE.apply(this,arguments)}function I0(){return I0=(0,Ee.Z)(function*(n,e){const t=rt(n);if(N0(t),Sp(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Tp(t,r.toArray());t.ha=!0,yield l0(t.remoteStore,!0);for(const a of i)mp(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(ed(t,c),Nu(t.localStore,c,!0))),_p(t.remoteStore,c)}),yield i,yield Tp(t,r),function(a){const c=rt(a);c.ra.forEach((f,m)=>{_p(c.remoteStore,m)}),c.oa.bi(),c.ra=new Map,c.ia=new lt(qe.comparator)}(t),t.ha=!1,yield l0(t.remoteStore,!1)}}),I0.apply(this,arguments)}function Tp(n,e,t){return S0.apply(this,arguments)}function S0(){return S0=(0,Ee.Z)(function*(n,e,t){const r=rt(n),i=[],a=[];for(const c of e){let f;const m=r.na.get(c);if(m&&0!==m.length){f=yield Au(r.localStore,Yi(m[0]));for(const b of m){const T=r.ea.get(b),A=yield NI(r,T);A.snapshot&&a.push(A.snapshot)}}else{const b=yield Zm(r.localStore,c);f=yield Au(r.localStore,b),yield Sl(r,KE(b),c,!1)}i.push(f)}return r.ta.Qo(a),i}),S0.apply(this,arguments)}function KE(n){return lw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YE(n){const e=rt(n);return rt(rt(e.localStore).persistence).Fs()}function td(n,e,t,r){return y_.apply(this,arguments)}function y_(){return y_=(0,Ee.Z)(function*(n,e,t,r){const i=rt(n);if(i.ha)return void Be("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield _E(i.localStore,vv(a[0])),f=hh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Al(i,c,f);break}case"rejected":yield Nu(i.localStore,e,!0),ed(i,e,r);break;default:pt()}}),y_.apply(this,arguments)}function A0(n,e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Ee.Z)(function*(n,e,t){const r=N0(n);if(r.ha){for(const i of e){if(r.na.has(i)){Be("SyncEngine","Adding an already active target "+i);continue}const a=yield Zm(r.localStore,i),c=yield Au(r.localStore,a);yield Sl(r,KE(a),c.targetId,!1),mp(r.remoteStore,c)}for(const i of t)r.na.has(i)&&(yield Nu(r.localStore,i,!1).then(()=>{_p(r.remoteStore,i),ed(r,i)}).catch(Yc))}}),Ip.apply(this,arguments)}function N0(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=II.bind(null,e),e.ta.Qo=f0.bind(null,e.eventManager),e.ta.fa=wI.bind(null,e.eventManager),e}function Sp(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$E.bind(null,e),e}class Ap{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.M=Ih(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return gE(this.persistence,new fp,e.initialUser,this.M)}wa(e){return new CE(Ci.zi,this.M)}_a(e){return new SE}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MI extends Ap{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield Sp(r.ya.syncEngine),yield yp(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return gE(this.persistence,new fp,e.initialUser,this.M)}ma(e){return new lE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=jv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new hp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,e_(),Kv(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new SE}}class EN extends MI{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof Qm&&(r.sharedClientState.syncEngine={Mr:bN.bind(null,i),Or:td.bind(null,i),Fr:A0.bind(null,i),Fs:YE.bind(null,i),kr:vN.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,Ee.Z)(function*(c){yield function wN(n,e){return I0.apply(this,arguments)}(r.ya.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}_a(e){const t=e_();if(!Qm.vt(t))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class QE{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>w0(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yN.bind(null,r.syncEngine),yield l0(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bI}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),r=new Xm(e.databaseInfo);return new pI(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>w0(this.syncEngine,f,0),c=Jm.vt()?new Jm:new fI,new Xv(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,m,b){const T=new CI(r,i,a,c,f,m);return b&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=rt(t);Be("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield Sh(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function OI(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xI{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new ui,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new g0(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Ee.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class RI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(a,c){const f=rt(a),m=mh(f.M)+"/documents",b={documents:c.map(B=>gh(f.M,B))},T=yield f.ho("BatchGetDocuments",m,b),A=new Map;T.forEach(B=>{const G=function aN(n,e){return"found"in e?function(t,r){Vt(!!r.found);const i=qo(t,r.found.name),a=ci(r.found.updateTime),c=new Fi({mapValue:{fields:r.found.fields}});return Yn.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){Vt(!!r.missing),Vt(!!r.readTime);const i=qo(t,r.missing),a=ci(r.readTime);return Yn.newNoDocument(i,a)}(n,e):pt()}(f.M,B);A.set(G.key.toString(),G)});const R=[];return c.forEach(B=>{const G=A.get(B.toString());Vt(!!G),R.push(G)}),R}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=qe.fromPath(i);e.mutations.push(new Cu(a,e.precondition(a)))}),yield(r=(0,Ee.Z)(function*(i,a){const c=rt(i),f=mh(c.M)+"/documents",m={writes:a.map(b=>Pm(c.M,b))};yield c.oo("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Ot.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ar.updateTime(t):Ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(t)}return Ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class PI{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Yv(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Ee.Z)(function*(){const t=new RI(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Cv(t)}return!1}}class kI{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wi.UNAUTHENTICATED,this.clientId=W1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ee.Z)(function*(f){Be("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ou(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function O0(n,e){return v_.apply(this,arguments)}function v_(){return v_=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(a){r.isEqual(a)||(yield Hv(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),v_.apply(this,arguments)}function x0(n,e){return R0.apply(this,arguments)}function R0(){return R0=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield P0(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>c_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>c_(e.remoteStore,a)),n.onlineComponents=e}),R0.apply(this,arguments)}function P0(n){return b_.apply(this,arguments)}function b_(){return b_=(0,Ee.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield O0(n,new Ap)),n.offlineComponents}),b_.apply(this,arguments)}function Mh(n){return JE.apply(this,arguments)}function JE(){return JE=(0,Ee.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield x0(n,new QE)),n.onlineComponents}),JE.apply(this,arguments)}function k0(n){return P0(n).then(e=>e.persistence)}function Mp(n){return P0(n).then(e=>e.localStore)}function XE(n){return Mh(n).then(e=>e.remoteStore)}function F0(n){return Mh(n).then(e=>e.syncEngine)}function Op(n){return eD.apply(this,arguments)}function eD(){return eD=(0,Ee.Z)(function*(n){const e=yield Mh(n),t=e.eventManager;return t.onListen=TI.bind(null,e.syncEngine),t.onUnlisten=jE.bind(null,e.syncEngine),t}),eD.apply(this,arguments)}function VI(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,a,c,f,m){const b=new Np({next:A=>{a.enqueueAndForget(()=>LE(i,T));const R=A.docs.has(c);!R&&A.fromCache?m.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&f&&"server"===f.source?m.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new p0(Uc(c.path),b,{includeMetadataChanges:!0,Cu:!0});return c0(i,T)}(yield Op(n),n.asyncQueue,e,t,r)})),r.promise}function BI(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,a,c,f,m){const b=new Np({next:A=>{a.enqueueAndForget(()=>LE(i,T)),A.fromCache&&"server"===f.source?m.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new p0(c,b,{includeMetadataChanges:!0,Cu:!0});return c0(i,T)}(yield Op(n),n.asyncQueue,e,t,r)})),r.promise}const jI=new Map;function tD(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s(n,e,t,r){if(!0===e&&!0===r)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function o(n){if(!qe.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u(n){if(qe.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function d(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function h(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=d(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function p(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class y{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,s("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y({}),this._settingsFrozen=!1,e instanceof Oa?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(i.options.projectId)}(e))}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wT;switch(t.type){case"gapi":const r=t.client;return Vt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new pm(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jI.get(e);t&&(Be("ComponentProvider","Removing Datastore"),jI.delete(e),t.terminate())}(this),Promise.resolve()}}class S{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new F(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new S(this.firestore,e,this._key)}}class N{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new N(this.firestore,e,this._query)}}class F extends N{constructor(e,t,r){super(e,t,Uc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new S(this.firestore,null,new qe(e))}withConverter(e){return new F(this.firestore,e,this._path)}}function z(n,e,...t){if(n=(0,rn.m9)(n),tD("collection","path",e),n instanceof w){const r=hn.fromString(e,...t);return u(r),new F(n,null,r)}{if(!(n instanceof S||n instanceof F))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return u(r),new F(n.firestore,null,r)}}function be(n,e,...t){if(n=(0,rn.m9)(n),1===arguments.length&&(e=W1.R()),tD("doc","path",e),n instanceof w){const r=hn.fromString(e,...t);return o(r),new S(n,null,new qe(r))}{if(!(n instanceof S||n instanceof F))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return o(r),new S(n.firestore,n instanceof F?n.converter:null,new qe(r))}}function Ue(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),(n instanceof S||n instanceof F)&&(e instanceof S||e instanceof F)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ze(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),n instanceof N&&e instanceof N&&n.firestore===e.firestore&&oh(n._query,e._query)&&n.converter===e.converter}class ht{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Yv(this,"async_queue_retry"),this.qa=()=>{const t=Kv();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Kv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Kv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new ui;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!yl(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,_r("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=u0.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&pt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Se(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Tt{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nt extends w{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new ht,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||w_(this),this._firestoreClient.terminate()}}function nd(n=(0,ul.getApp)()){return(0,ul._getProvider)(n,"firestore").getImmediate()}function Er(n){return n._firestoreClient||w_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function w_(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new K1(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new kI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function E_(n,e,t){const r=new ui;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield O0(n,t),yield x0(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function AN(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(qr.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xu(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xp{constructor(e){this._methodName=e}}class nD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const OP=/^__.*__$/;class xP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _l(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}class NN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _l(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class rD{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new rD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return oD(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(MN(this.Xa)&&OP.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class RP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Ih(e)}ac(e,t,r,i=!1){return new rD({Xa:e,methodName:t,uc:r,path:zr.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=Ih(n._databaseId);return new RP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iD(n,e,t,r,i,a={}){const c=n.ac(a.merge||a.mergeFields?2:0,e,t,i);zI("Data must be an object, but it was:",c,r);const f=RN(r,c);let m,b;if(a.merge)m=new yu(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const R=qI(e,A,t);if(!c.contains(R))throw new Re(de.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);kN(T,R)||T.push(R)}m=new yu(T),b=c.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,b=c.fieldTransforms;return new xP(new Fi(f),m,b)}class $0 extends xp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $0}}function ON(n,e,t){return new rD({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class HI extends xp{_toFieldTransform(e){return new Wf(e.path,new ah)}isEqual(e){return e instanceof HI}}class PP extends xp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=ON(this,e,!0),r=this.cc.map(a=>Pp(a,t)),i=new Hc(r);return new Wf(e.path,i)}isEqual(e){return this===e}}class kP extends xp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=ON(this,e,!0),r=this.cc.map(a=>Pp(a,t)),i=new $c(r);return new Wf(e.path,i)}isEqual(e){return this===e}}class FP extends xp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new lh(e.M,hw(e.M,this.hc));return new Wf(e.path,t)}isEqual(e){return this===e}}function $I(n,e,t,r){const i=n.ac(1,e,t);zI("Data must be an object, but it was:",i,r);const a=[],c=Fi.empty();Zd(r,(m,b)=>{const T=sD(e,m,t);b=(0,rn.m9)(b);const A=i.sc(T);if(b instanceof $0)a.push(T);else{const R=Pp(b,A);null!=R&&(a.push(T),c.set(T,R))}});const f=new yu(a);return new NN(c,f,i.fieldTransforms)}function GI(n,e,t,r,i,a){const c=n.ac(1,e,t),f=[qI(e,r,t)],m=[i];if(a.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<a.length;R+=2)f.push(qI(e,a[R])),m.push(a[R+1]);const b=[],T=Fi.empty();for(let R=f.length-1;R>=0;--R)if(!kN(b,f[R])){const B=f[R];let G=m[R];G=(0,rn.m9)(G);const Y=c.sc(B);if(G instanceof $0)b.push(B);else{const ye=Pp(G,Y);null!=ye&&(b.push(B),T.set(B,ye))}}const A=new yu(b);return new NN(T,A,c.fieldTransforms)}function xN(n,e,t,r=!1){return Pp(t,n.ac(r?4:3,e))}function Pp(n,e){if(PN(n=(0,rn.m9)(n)))return zI("Unsupported field value:",e,n),RN(n,e);if(n instanceof xp)return function(t,r){if(!MN(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=Pp(c,r.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=yr.fromDate(t);return{timestampValue:tp(r.M,i)}}if(t instanceof yr){const i=new yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tp(r.M,i)}}if(t instanceof nD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xu)return{bytesValue:ph(r.M,t._byteString)};if(t instanceof S){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Iv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${d(t)}`)}(n,e)}function RN(n,e){const t={};return mm(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zd(n,(r,i)=>{const a=Pp(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function PN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yr||n instanceof nD||n instanceof xu||n instanceof S||n instanceof xp)}function zI(n,e,t){if(!PN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=d(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function qI(n,e,t){if((e=(0,rn.m9)(e))instanceof rd)return e._internalPath;if("string"==typeof e)return sD(n,e);throw oD("Field path arguments must be of type string or ",n,!1,void 0,t)}const LP=new RegExp("[~\\*/\\[\\]]");function sD(n,e,t){if(e.search(LP)>=0)throw oD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rd(...e.split("."))._internalPath}catch(r){throw oD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oD(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new Re(de.INVALID_ARGUMENT,f+n+m)}function kN(n,e){return n.some(t=>t.isEqual(e))}class G0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new S(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class VP extends G0{data(){return super.data()}}function aD(n,e){return"string"==typeof e?sD(n,e):e instanceof rd?e._internalPath:e._delegate._internalPath}class kp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends G0{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(aD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class z0 extends id{data(e={}){return super.data(e)}}class Oh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new kp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new z0(this._firestore,this._userDataWriter,r.key,r,new kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new z0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new kp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new z0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new kp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,b=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:BP(c.type),doc:f,oldIndex:m,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function FN(n,e){return n instanceof id&&e instanceof id?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Oh&&e instanceof Oh&&n._firestore===e._firestore&&Ze(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function LN(n){if(jc(n)&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q0{}function xh(n,...e){for(const t of e)n=t._apply(n);return n}class UP extends q0{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Rp(e.firestore),r=function(i,a,c,f,m,b,T){let A;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){$N(T,b);const B=[];for(const G of T)B.push(HN(f,i,G));A={arrayValue:{values:B}}}else A=HN(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||$N(T,b),A=xN(c,"where",T,"in"===b||"not-in"===b);const R=Ei.create(m,b,A);return function(B,G){if(G.S()){const ye=Cm(B);if(null!==ye&&!ye.isEqual(G.field))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${G.field.toString()}'`);const He=mv(B);null!==He&&GN(0,G.field,He)}const Y=function(ye,He){for(const ke of ye.filters)if(He.indexOf(ke.op)>=0)return ke.op;return null}(B,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==Y)throw new Re(de.INVALID_ARGUMENT,Y===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${Y.toString()}' filters.`)}(i,R),R}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new N(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new Pa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class HP extends q0{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ih(i,a);return function(f,m){if(null===mv(f)){const b=Cm(f);null!==b&&GN(0,b,m.field)}}(r,c),c}(e._query,this.lc,this._c);return new N(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Pa(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class VN extends q0{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new N(e.firestore,e.converter,_v(e._query,this.wc,this.mc))}}class BN extends q0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=jN(e,this.type,this.gc,this.yc);return new N(e.firestore,e.converter,(i=t,new Pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class UN extends q0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=jN(e,this.type,this.gc,this.yc);return new N(e.firestore,e.converter,(i=t,new Pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function jN(n,e,t,r){if(t[0]=(0,rn.m9)(t[0]),t[0]instanceof G0)return function(i,a,c,f,m){if(!f)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of Eu(i))if(T.field.isKeyField())b.push(ml(a,f.key));else{const A=f.data.field(T.field);if(lv(A))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const R=T.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}b.push(A)}return new wu(b,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rp(n.firestore);return function(a,c,f,m,b,T){const A=a.explicitOrderBy;if(b.length>A.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let B=0;B<b.length;B++){const G=b[B];if(A[B].field.isKeyField()){if("string"!=typeof G)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof G}`);if(!Tm(a)&&-1!==G.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${G}' contains a slash.`);const Y=a.path.child(hn.fromString(G));if(!qe.isDocumentKey(Y))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const ye=new qe(Y);R.push(ml(c,ye))}else{const Y=xN(f,m,G);R.push(Y)}}return new wu(R,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function HN(n,e,t){if("string"==typeof(t=(0,rn.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tm(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!qe.isDocumentKey(r))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ml(n,new qe(r))}if(t instanceof S)return ml(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d(t)}.`)}function $N(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function GN(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class WI{convertValue(e,t="none"){switch(vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return Zd(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new nD(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ym(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const t=Ho(e);return new yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);Vt(zc(r));const i=new Oa(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(t)||_r(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function lD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class YP extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new S(this.firestore,null,t)}}class zN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,t,r){this._verifyNotCommitted();const i=Rh(e,this._firestore),a=lD(i.converter,t,r),c=iD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Ar.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Rh(e,this._firestore);let c;return c="string"==typeof(t=(0,rn.m9)(t))||t instanceof rd?GI(this._dataReader,"WriteBatch.update",a._key,t,r,i):$I(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rh(e,this._firestore);return this._mutations=this._mutations.concat(new Yf(t._key,Ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rh(n,e){if((n=(0,rn.m9)(n)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Fp extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new S(this.firestore,null,t)}}function qN(n,e,t){n=h(n,S);const r=h(n.firestore,Nt),i=lD(n.converter,e,t);return D_(r,[iD(Rp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ar.none())])}function WN(n,e,t,...r){n=h(n,S);const i=h(n.firestore,Nt),a=Rp(i);let c;return c="string"==typeof(e=(0,rn.m9)(e))||e instanceof rd?GI(a,"updateDoc",n._key,e,t,r):$I(a,"updateDoc",n._key,e),D_(i,[c.toMutation(n._key,Ar.exists(!0))])}function ZN(n,...e){var t,r,i;n=(0,rn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Se(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Se(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let m,b,T;if(n instanceof S)b=h(n.firestore,Nt),T=Uc(n._key.path),m={next:A=>{e[c]&&e[c](ZI(b,n,A))},error:e[c+1],complete:e[c+2]};else{const A=h(n,N);b=h(A.firestore,Nt),T=A._query;const R=new Fp(b);m={next:B=>{e[c]&&e[c](new Oh(b,R,A,B))},error:e[c+1],complete:e[c+2]},LN(n._query)}return function(A,R,B,G){const Y=new Np(G),ye=new p0(R,Y,B);return A.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return c0(yield Op(A),ye)})),()=>{Y.Ia(),A.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return LE(yield Op(A),ye)}))}}(Er(b),T,f,m)}function D_(n,e){return function(t,r){const i=new ui;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function mN(n,e,t){return v0.apply(this,arguments)}(yield F0(t),r,i)})),i.promise}(Er(n),e)}function ZI(n,e,t){const r=t.docs.get(e._key),i=new Fp(n);return new id(n,i,e._key,r,new kp(t.hasPendingWrites,t.fromCache),e.converter)}class ok extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rp(e)}get(e){const t=Rh(e,this._firestore),r=new YP(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return pt();const a=i[0];if(a.isFoundDocument())return new G0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new G0(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const i=Rh(e,this._firestore),a=lD(i.converter,t,r),c=iD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Rh(e,this._firestore);let c;return c="string"==typeof(t=(0,rn.m9)(t))||t instanceof rd?GI(this._dataReader,"Transaction.update",a._key,t,r,i):$I(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rh(e,this._firestore),r=new Fp(this._firestore);return super.get(e).then(i=>new id(this._firestore,r,t._key,i._document,new kp(!1,!1),t.converter))}}function KI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function YN(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function QN(){if(!function av(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){xc=ul.SDK_VERSION,(0,ul._registerComponent)(new Fg.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Nt(i,new ET(t.getProvider("auth-internal")),new q1(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,ul.registerVersion)(iv,"3.4.8",n),(0,ul.registerVersion)(iv,"3.4.8","esm2017")}();class W0{constructor(e){this._delegate=e}static fromBase64String(e){return QN(),new W0(xu.fromBase64String(e))}static fromUint8Array(e){return YN(),new W0(xu.fromUint8Array(e))}toBase64(){return QN(),this._delegate.toBase64()}toUint8Array(){return YN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YI(n){return function gk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class mk{enableIndexedDbPersistence(e,t){return function L0(n,e){AN(n=h(n,Nt));const t=Er(n),r=n._freezeSettings(),i=new QE;return E_(t,i,new MI(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function V0(n){AN(n=h(n,Nt));const e=Er(n),t=n._freezeSettings(),r=new QE;return E_(e,r,new EN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function B0(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!co.vt())return Promise.resolve();const i=r+"main";yield co.delete(i)}),function(r){return t.apply(this,arguments)})(jv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class JN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function D(n,e,t,r={}){var i;const a=(n=h(n,w))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Rc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=wi.MOCK_USER;else{c=(0,rn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new wi(m)}n._authCredentials=new $1(new Pc(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function j0(n){return function FI(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield k0(n),t=yield XE(n);return e.setNetworkEnabled(!0),function(r){const i=rt(r);return i.fu.delete(0),n_(i)}(t)}))}(Er(n=h(n,Nt)))}(this._delegate)}disableNetwork(){return function H0(n){return function LI(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield k0(n),t=yield XE(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const a=rt(i);a.fu.add(0),yield Sh(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Er(n=h(n,Nt)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,s("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function U0(n){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function SI(n,e){return g_.apply(this,arguments)}(yield F0(e),t)})),t.promise}(Er(n=h(n,Nt)))}(this._delegate)}onSnapshotsInSync(e){return function sk(n,e){return function TN(n,e){const t=new Np(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield Op(n),i=t,rt(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield Op(n),i=t,void rt(r).Eu.delete(i);var r,i}))}}(Er(n=h(n,Nt)),Se(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new C_(this,z(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fa(this,be(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function J(n,e){if(n=h(n,w),tD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new N(n,null,(t=e,new Pa(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ak(n,e){return function UI(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(i=n,Mh(i).then(a=>a.datastore));var i;new PI(n.asyncQueue,r,e,t).run()})),t.promise}(Er(n=h(n,Nt)),t=>e(new ok(n,t)))}(this._delegate,t=>e(new XN(this,t)))}batch(){return Er(this._delegate),new eM(new zN(this._delegate,e=>D_(this._delegate,e)))}loadBundle(e){return function NP(n,e){const t=Er(n=h(n,Nt)),r=new Tt;return function IN(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,b){if(m instanceof Uint8Array)return OI(m,b);if(m instanceof ArrayBuffer)return OI(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new xI(m,c);var m}(t,Ih(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function M0(n,e,t){const r=rt(n);var i;(i=(0,Ee.Z)(function*(a,c,f){try{const m=yield c.getMetadata();if(yield function(R,B){const G=rt(R),Y=ci(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ye=>G._s.getBundleMetadata(ye,B.id)).then(ye=>!!ye&&ye.createTime.compareTo(Y)>=0)}(a.localStore,m))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);f._updateProgress(f_(m));const b=new EI(m,a.localStore,c.M);let T=yield c.da();for(;T;){const R=yield b.ku(T);R&&f._updateProgress(R),T=yield c.da()}const A=yield b.complete();return yield Al(a,A.Fu,void 0),yield function(R,B){const G=rt(R);return G.persistence.runTransaction("Save bundle","readwrite",Y=>G._s.saveBundleMetadata(Y,B))}(a.localStore,m),f._completeWith(A.progress),Promise.resolve(A.Ou)}catch(m){return Rc("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var R}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield F0(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function MP(n,e){return function SN(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const i=rt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Mp(n),e)}))}(Er(n=h(n,Nt)),e).then(t=>t?new N(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class uD extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new W0(new xu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fa.forKey(t,this.firestore,null)}}class XN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uD(e)}get(e){const t=Vp(e);return this._delegate.get(t).then(r=>new Z0(this._firestore,new id(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Vp(e);return r?(KI("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}}class eM{constructor(e){this._delegate=e}set(e,t,r){const i=Vp(e);return r?(KI("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new z0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new K0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Lp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Lp(e,new uD(e),t),i.set(t,a)),a}}Lp.INSTANCES=new WeakMap;class Fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fa(t,new S(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new Fa(t,new S(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new C_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new C_(this.firestore,z(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rn.m9)(e))instanceof S&&Ue(this._delegate,e)}set(e,t){t=KI("DocumentReference.set",t);try{return t?qN(this._delegate,e,t):qN(this._delegate,e)}catch(r){throw Bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?WN(this._delegate,e):WN(this._delegate,e,t,...r)}catch(i){throw Bs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function rk(n){return D_(h(n.firestore,Nt),[new Yf(n._key,Ar.none())])}(this._delegate)}onSnapshot(...e){const t=tM(e),r=nM(e,i=>new Z0(this.firestore,new id(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ZN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function JP(n){n=h(n,S);const e=h(n.firestore,Nt),t=Er(e),r=new Fp(e);return function DN(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,a,c){try{const f=yield function(m,b){const T=rt(m);return T.persistence.runTransaction("read document","readonly",A=>T.ci.Ls(A,b))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=Ou(f,`Failed to get document '${a} from cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield Mp(n),e,t);var r})),t.promise}(t,n._key).then(i=>new id(e,r,n._key,i,new kp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function XP(n){n=h(n,S);const e=h(n.firestore,Nt);return VI(Er(e),n._key,{source:"server"}).then(t=>ZI(e,n,t))}(this._delegate):function QP(n){n=h(n,S);const e=h(n.firestore,Nt);return VI(Er(e),n._key).then(t=>ZI(e,n,t))}(this._delegate),t.then(r=>new Z0(this.firestore,new id(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fa(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function tM(n){for(const e of n)if("object"==typeof e&&!YI(e))return e;return{}}function nM(n,e){var t,r;let i;return i=YI(n[0])?n[0]:YI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Z0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return FN(this._delegate,e._delegate)}}class K0 extends Z0{data(e){const t=this._delegate.data(e);return function iN(n,e){n||pt()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uD(e)}where(e,t,r){try{return new Us(this.firestore,xh(this._delegate,function jP(n,e,t){const r=e,i=aD("where",n);return new UP(i,r,t)}(e,t,r)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,xh(this._delegate,function $P(n,e="asc"){const t=e,r=aD("orderBy",n);return new HP(r,t)}(e,t)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,xh(this._delegate,function GP(n){return p("limit",n),new VN("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,xh(this._delegate,function zP(n){return p("limitToLast",n),new VN("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,xh(this._delegate,function qP(...n){return new BN("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,xh(this._delegate,function WP(...n){return new BN("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,xh(this._delegate,function ZP(...n){return new UN("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,xh(this._delegate,function KP(...n){return new UN("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return Ze(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tk(n){n=h(n,N);const e=h(n.firestore,Nt),t=Er(e),r=new Fp(e);return function CN(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,a,c){try{const f=yield Th(i,a,!0),m=new BE(a,f.li),b=m.Gu(f.documents),T=m.applyChanges(b,!1);c.resolve(T.snapshot)}catch(f){const m=Ou(f,`Failed to execute query '${a} against cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield Mp(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Oh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function nk(n){n=h(n,N);const e=h(n.firestore,Nt),t=Er(e),r=new Fp(e);return BI(t,n._query,{source:"server"}).then(i=>new Oh(e,r,n,i))}(this._delegate):function ek(n){n=h(n,N);const e=h(n.firestore,Nt),t=Er(e),r=new Fp(e);return LN(n._query),BI(t,n._query).then(i=>new Oh(e,r,n,i))}(this._delegate),t.then(r=>new QI(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=tM(e),r=nM(e,i=>new QI(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ZN(this._delegate,t,r)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}class yk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new K0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new K0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new K0(this._firestore,r))})}isEqual(e){return FN(this._delegate,e._delegate)}}class C_ extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fa(this.firestore,e):null}doc(e){try{return new Fa(this.firestore,void 0===e?be(this._delegate):be(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function ik(n,e){const t=h(n.firestore,Nt),r=be(n),i=lD(n.converter,e);return D_(t,[iD(Rp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Fa(this.firestore,t))}isEqual(e){return Ue(this._delegate,e._delegate)}withConverter(e){return new C_(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}function Vp(n){return h(n,S)}class JI{constructor(...e){this._delegate=new rd(...e)}static documentId(){return new JI(zr.keyField().canonicalString())}isEqual(e){return(e=(0,rn.m9)(e))instanceof rd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function uk(){return new HI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=function lk(){return new $0("deleteField")}();return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function ck(...n){return new PP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function dk(...n){return new kP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function hk(n){return new FP("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vk={Firestore:JN,GeoPoint:nD,Timestamp:yr,Blob:W0,Transaction:XN,WriteBatch:eM,DocumentReference:Fa,DocumentSnapshot:Z0,Query:Us,QueryDocumentSnapshot:K0,QuerySnapshot:QI,CollectionReference:C_,FieldPath:JI,FieldValue:Bp,setLogLevel:function _k(n){!function rN(n){_u.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function wk(n){(function bk(n,e){n.INTERNAL.registerComponent(new Fg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},vk)))})(n,(e,t)=>new JN(e,t,new mk)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(ZC.Z);var rM=P(6451),cD=P(5363),Ek=P(6063);class Dk extends wn.x{constructor(e=1/0,t=1/0,r=Ek.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var Ck=P(3099);function iM(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,Ck.B)({connector:()=>new Dk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function sM(n,e){return(0,gi.m)(e)?Bn(()=>n,e):Bn(()=>n)}var XI=P(9468),Up=P(5867);class T_{constructor(e){return e}}class oM{constructor(){return(0,Up.C6)()}}const eS=new l.OlP("angularfire2._apps"),Ik={provide:T_,useFactory:function Tk(n){return n&&1===n.length?n[0]:new T_((0,Up.Mq)())},deps:[[new l.FiY,eS]]},Sk={provide:oM,deps:[[new l.FiY,eS]]};function Ak(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new T_(r)}}let Nk=(()=>{class n{constructor(t){(0,Up.KN)("angularfire",Rn.q4.full,"core"),(0,Up.KN)("angularfire",Rn.q4.full,"app"),(0,Up.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ik,Sk]}),n})();function Mk(n,...e){return{ngModule:Nk,providers:[{provide:eS,useFactory:Ak(n),multi:!0,deps:[l.R0b,l.zs3,Rn.HU,...e]}]}}const Ok=(0,Rn.u3)(Up.ZF,!0),aM=new Map,xk={activated:!1,tokenObservers:[]},Rk={initialized:!1,enabled:!1};function Li(n){return aM.get(n)||xk}function Nl(n,e){aM.set(n,e)}function dD(){return Rk}class Vk{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new rn.BH,yield function Bk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const js=new rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uM(n){if(!Li(n).activated)throw js.create("use-before-activation",{appName:n.name})}function rS(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(A){throw js.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==c.status)throw js.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw js.create("fetch-parse-error",{originalErrorMessage:A.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(m[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),iS.apply(this,arguments)}function Gk(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Y0="firebase-app-check-store";let pD=null;function dM(){return pD||(pD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(js.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Y0,{keyPath:"compositeKey"})}}catch(t){e(js.create("storage-open",{originalErrorMessage:t.message}))}}),pD)}function sS(){return sS=(0,Ee.Z)(function*(n,e){const r=(yield dM()).transaction(Y0,"readwrite"),a=r.objectStore(Y0).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var b;f(js.create("storage-set",{originalErrorMessage:null===(b=m.target.error)||void 0===b?void 0:b.message}))}})}),sS.apply(this,arguments)}const Q0=new si.Yd("@firebase/app-check");function gM(n,e){return(0,rn.hl)()?function Zk(n,e){return function hM(n,e){return sS.apply(this,arguments)}(function pM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Q0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mM(){return dD().enabled}function _M(){return uS.apply(this,arguments)}function uS(){return uS=(0,Ee.Z)(function*(){const n=dD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),uS.apply(this,arguments)}const eF={error:"UNKNOWN_ERROR"};function tF(n){return rn.US.encodeString(JSON.stringify(n),!1)}function gD(n){return cS.apply(this,arguments)}function cS(){return cS=(0,Ee.Z)(function*(n,e=!1){const t=n.app;uM(t);const r=Li(t);let a,i=r.token;if(!i){const m=yield r.cachedTokenPromise;m&&mD(m)&&(i=m)}if(!e&&i&&mD(i))return{token:i.token};let f,c=!1;if(mM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rS(Gk(t,yield _M()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const m=yield r.exchangeTokenPromise;return yield gM(t,m),Nl(t,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(m=>(r.exchangeTokenPromise=void 0,m)),c=!0),i=yield r.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Q0.warn(m.message):Q0.error(m),a=m}return i?(f={token:i.token},Nl(t,Object.assign(Object.assign({},r),{token:i})),yield gM(t,i)):f=rF(a),c&&vM(t,f),f}),cS.apply(this,arguments)}function hS(n,e){const t=Li(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Nl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function yM(n){const{app:e}=n,t=Li(e);let r=t.tokenRefresher;r||(r=function nF(n){const{app:e}=n;return new Vk((0,Ee.Z)(function*(){let r;if(r=Li(e).token?yield gD(n,!0):yield gD(n),r.error)throw r.error}),()=>!0,()=>{const t=Li(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Nl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function vM(n,e){const t=Li(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function mD(n){return n.expireTimeMillis-Date.now()>0}function rF(n){return{token:tF(eF),error:n}}class iF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Li(this.app);for(const t of e)hS(this.app,t.next);return Promise.resolve()}}const SM="app-check-internal";!function yF(){(0,ul._registerComponent)(new Fg.wA("app-check",n=>function sF(n,e){return new iF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SM).initialize()})),(0,ul._registerComponent)(new Fg.wA(SM,n=>function oF(n){return{getToken:e=>gD(n,e),addTokenListener:e=>function dS(n,e,t,r){const{app:i}=n,a=Li(i),c={next:t,error:r,type:e};if(Nl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&mD(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),yM(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>yM(n))}(n,"INTERNAL",e),removeTokenListener:e=>hS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ul.registerVersion)("@firebase/app-check","0.5.7")}();class yD{constructor(){return(0,Rn.vb)("app-check")}}"undefined"!=typeof window&&window,P(127);const NM=new l.OlP("angularfire2.auth.use-emulator"),MM=new l.OlP("angularfire2.auth.settings"),OM=new l.OlP("angularfire2.auth.tenant-id"),xM=new l.OlP("angularfire2.auth.langugage-code"),RM=new l.OlP("angularfire2.auth.use-device-language"),PM=new l.OlP("angularfire.auth.persistence"),kM=(n,e,t,r,i,a,c,f)=>(0,Vo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))m.settings[b]=T;return f&&m.setPersistence(f),m},[t,r,i,a,c,f]);let FM=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A,R,B){const G=new wn.x,Y=wt(void 0).pipe((0,cD.Q)(c.outsideAngular),Bn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,Pt.U)(()=>(0,Vo.on)(t,a,r)),(0,Pt.U)(ye=>kM(ye,a,f,b,T,A,m,R)),iM({bufferSize:1,refCount:!1}));if(la(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{Y.pipe(No()).subscribe();const He=Y.pipe(Bn(Le=>Le.getRedirectResult().then(tt=>tt,()=>null)),Rn.iC,iM({bufferSize:1,refCount:!1})),ke=Y.pipe(Bn(Le=>new xn.y(tt=>({unsubscribe:a.runOutsideAngular(()=>Le.onAuthStateChanged(at=>tt.next(at),at=>tt.error(at),()=>tt.complete()))})))),Qe=Y.pipe(Bn(Le=>new xn.y(tt=>({unsubscribe:a.runOutsideAngular(()=>Le.onIdTokenChanged(at=>tt.next(at),at=>tt.error(at),()=>tt.complete()))}))));this.authState=He.pipe(sM(ke),(0,XI.R)(c.outsideAngular),(0,cD.Q)(c.insideAngular)),this.user=He.pipe(sM(Qe),(0,XI.R)(c.outsideAngular),(0,cD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Bn(Le=>Le?(0,Vn.D)(Le.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(Bn(Le=>Le?(0,Vn.D)(Le.getIdTokenResult()):wt(null))),this.credential=(0,rM.T)(He,G,this.authState.pipe(rr(Le=>!Le))).pipe((0,Pt.U)(Le=>(null==Le?void 0:Le.user)?Le:null),(0,XI.R)(c.outsideAngular),(0,cD.Q)(c.insideAngular))}return(0,Vo.pX)(this,Y,a,{spy:{apply:(ye,He,ke)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&ke.then(Qe=>G.next(Qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vo.Dh),l.LFG(Vo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Rn.HU),l.LFG(NM,8),l.LFG(MM,8),l.LFG(OM,8),l.LFG(xM,8),l.LFG(RM,8),l.LFG(PM,8),l.LFG(yD,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function LM(n,e){return function CF(n,e=py.z){return new xn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function _S(n,e){return LM(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function vD(n,e){return _S(n,e).pipe(ni(void 0),kg(),(0,Pt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const m=i.find(T=>T.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function VM(n,e,t){return vD(n,t).pipe(Oi((r,i)=>function IF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function SF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function kd(n,e=$i.y){return n=null!=n?n:Wb,(0,ur.e)((t,r)=>{let i,a=!0;t.subscribe((0,gn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,Pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function yS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function BM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class UM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=vD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ni(void 0),kg(),rr(([r,i])=>i.length>0||!r),(0,Pt.U)(([r,i])=>i),Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BM(e);return VM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return _S(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Rn.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(Rn.iC)}add(e){return this.ref.add(e)}doc(e){return new jM(this.ref.doc(e),this.afs)}}class jM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=HM(r,t);return new UM(i,a,this.afs)}snapshotChanges(){return function TF(n,e){return LM(n,e).pipe(ni(void 0),kg(),(0,Pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Vn.D)(this.ref.get(e)).pipe(Rn.iC)}}class AF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),rr(t=>t.length>0),Rn.iC):vD(this.query,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BM(e);return VM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return _S(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Rn.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(Rn.iC)}}const NF=new l.OlP("angularfire2.enableFirestorePersistence"),MF=new l.OlP("angularfire2.firestore.persistenceSettings"),OF=new l.OlP("angularfire2.firestore.settings"),xF=new l.OlP("angularfire2.firestore.use-emulator");function HM(n,e=(t=>t)){return{query:e(n),ref:n}}let RF=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A,R,B,G,Y,ye,He,ke){this.schedulers=m;const Qe=(0,Vo.on)(t,f,r),Le=T;A&&kM(Qe,f,R,G,Y,ye,B,He),[this.firestore,this.persistenceEnabled$]=(0,Vo.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const tt=f.runOutsideAngular(()=>Qe.firestore());if(a&&tt.settings(a),Le&&tt.useEmulator(...Le),i&&!la(c)){const at=()=>{try{return(0,Vn.D)(tt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(bt){return"undefined"!=typeof console&&console.warn(bt),wt(!1)}};return[tt,f.runOutsideAngular(at)]}return[tt,wt(!1)]},[a,Le,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=HM(i,r),f=this.schedulers.ngZone.run(()=>a);return new UM(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new AF(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new jM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vo.Dh),l.LFG(Vo.xv,8),l.LFG(NF,8),l.LFG(OF,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Rn.HU),l.LFG(MF,8),l.LFG(xF,8),l.LFG(FM,8),l.LFG(NM,8),l.LFG(MM,8),l.LFG(OM,8),l.LFG(xM,8),l.LFG(RM,8),l.LFG(PM,8),l.LFG(yD,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bD=(()=>{class n{constructor(t){this.firestore=t}getProductosMascotaService(){return this.firestore.collection("productosBD").snapshotChanges()}getProductosRefrigeracionService(){return this.firestore.collection("productosRefrigeracionBD").snapshotChanges()}getProductosOportunidadesService(){return this.firestore.collection("productosOportunidades").snapshotChanges()}getPreciosAires(){return this.firestore.collection("preciosAires").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(RF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var wD=P(5032);function Nr(n){return(0,ur.e)((e,t)=>{(0,ti.Xf)(n).subscribe((0,gn.x)(t,()=>t.complete(),wD.Z)),!t.closed&&e.subscribe(t)})}class $M{}const sd="*";function kF(n,e){return{type:7,name:n,definitions:e,options:{}}}function GM(n,e=null){return{type:4,styles:e,timings:n}}function zM(n,e=null){return{type:2,steps:n,options:e}}function J0(n){return{type:6,styles:n,offset:null}}function FF(n,e,t){return{type:0,name:n,styles:e,options:t}}function qM(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function WM(n){Promise.resolve(null).then(n)}class X0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){WM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?WM(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const LF=["overlay"];function VF(n,e){1&n&&l._UZ(0,"div")}function BF(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,VF,1,0,"div",6),l.qZA()),2&n){const t=l.oxw(2);l.Tol(t.spinner.class),l.Udp("color",t.spinner.color),l.xp6(1),l.Q6J("ngForOf",t.spinner.divArray)}}function UF(n,e){if(1&n&&(l._UZ(0,"div",7),l.ALo(1,"safeHtml")),2&n){const t=l.oxw(2);l.Q6J("innerHTML",l.lcZ(1,1,t.template),l.oJD)}}function jF(n,e){if(1&n&&(l.TgZ(0,"div",1,2),l.YNc(2,BF,2,5,"div",3),l.YNc(3,UF,2,3,"div",4),l.TgZ(4,"div",5),l.Hsn(5),l.qZA()()),2&n){const t=l.oxw();l.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),l.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),l.xp6(2),l.Q6J("ngIf",!t.template),l.xp6(1),l.Q6J("ngIf",t.template),l.xp6(1),l.Udp("z-index",t.spinner.zIndex)}}const HF=["*"],$F={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},wS="primary";class jp{constructor(e){Object.assign(this,e)}static create(e){return(null==(null==e?void 0:e.type)||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new jp(e)}}let eb=(()=>{class n{constructor(){this.spinnerObservable=new Kn(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(rr(r=>r&&r.name===t))}show(t=wS,r){return new Promise((i,a)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new jp(Object.assign(Object.assign({},r),{show:!0}))),i(!0)):(this.spinnerObservable.next(new jp({name:t,show:!0})),i(!0))},10)})}hide(t=wS,r=10){return new Promise((i,a)=>{setTimeout(()=>{this.spinnerObservable.next(new jp({name:t,show:!1})),i(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GF=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eo,16))},n.\u0275pipe=l.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),ED=(()=>{class n{constructor(t,r,i){this.spinnerService=t,this.changeDetector=r,this.elementRef=i,this.disableAnimation=!1,this.spinner=new jp,this.ngUnsubscribe=new wn.x,this.setDefaultOptions=()=>{this.spinner=jp.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=wS,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Nr(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const i=t[r];if(i.isFirstChange())return;void 0!==i.currentValue&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=$F[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((a,c)=>c);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+t+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eb),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&l.Gf(LF,5),2&t){let i;l.iGM(i=l.CRH())&&(r.spinnerDOM=i.first)}},hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.handleKeyboardEvent(a)},!1,l.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[l.TTD],ngContentSelectors:HF,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(l.F$t(),l.YNc(0,jF,6,12,"div",0)),2&t&&l.Q6J("ngIf",r.spinner.show)},directives:[Wn,pn],pipes:[GF],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[kF("fadeIn",[FF("in",J0({opacity:1})),qM(":enter",[J0({opacity:0}),GM(300)]),qM(":leave",GM(200,J0({opacity:0})))])]},changeDetection:0}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),qF=(()=>{class n{constructor(t,r){this._productosOportunidadesService=t,this.spinner=r,this.precioAires=[]}ngOnInit(){this.getPrecioAires(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}getPrecioAires(){this._productosOportunidadesService.getPreciosAires().subscribe(t=>{this.precioAires=[],t.forEach(r=>{this.precioAires.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.precioAires)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bD),l.Y36(eb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-aires"]],decls:67,vars:9,consts:[[1,"container"],[1,"title",2,"text-align","center"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[1,"rwd-table"],["scope","col",2,"color","white"],[2,"color","white","font-size","larger"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado con la instalacion de aires acondicionados. %0D%0A Muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Productos de Refrigeracion "),l.qZA()(),l.TgZ(5,"div",2),l._UZ(6,"div",3),l.TgZ(7,"div",4),l._UZ(8,"i",5),l.qZA(),l._UZ(9,"div",3),l.qZA(),l.TgZ(10,"div")(11,"div")(12,"h3",6),l._uU(13,"Compra de productos de refrigeracion"),l.qZA(),l.TgZ(14,"div"),l._UZ(15,"ngx-spinner",7),l.qZA(),l.TgZ(16,"div",0)(17,"table",8)(18,"tr")(19,"th",9),l._uU(20,"Descripcion"),l.qZA(),l.TgZ(21,"th",9),l._uU(22,"Sobre piso"),l.qZA(),l.TgZ(23,"th",9),l._uU(24,"En vacio"),l.qZA()(),l.TgZ(25,"tr")(26,"td",10),l._uU(27," 2200 a 3000 frigorias. "),l.qZA(),l.TgZ(28,"td",10),l._uU(29),l.qZA(),l.TgZ(30,"td",10),l._uU(31),l.qZA()(),l.TgZ(32,"tr")(33,"td",10),l._uU(34," 3000 a 4500 frigorias. "),l.qZA(),l.TgZ(35,"td",10),l._uU(36),l.qZA(),l.TgZ(37,"td",10),l._uU(38),l.qZA()(),l.TgZ(39,"tr")(40,"td",10),l._uU(41," 4500 a 6000 frigorias. "),l.qZA(),l.TgZ(42,"td",10),l._uU(43),l.qZA(),l.TgZ(44,"td",10),l._uU(45),l.qZA()(),l.TgZ(46,"tr")(47,"td",10),l._uU(48," Reivision + Carga de gas. "),l.qZA(),l.TgZ(49,"td",10),l._uU(50),l.qZA(),l.TgZ(51,"td",10),l._uU(52),l.qZA()(),l.TgZ(53,"tr")(54,"td",10),l._uU(55,"Visita"),l.qZA(),l.TgZ(56,"td",10),l._uU(57),l.qZA(),l._UZ(58,"td",10),l.qZA()()(),l.TgZ(59,"div",11),l._uU(60," > "),l._UZ(61,"link",12),l.TgZ(62,"a",13)(63,"i",14),l._uU(64,"HACE TU CONSULTA"),l.qZA()()(),l._UZ(65,"br")(66,"br"),l.qZA()()()),2&t&&(l.xp6(29),l.hij("$",r.precioAires[0].sobrePiso," "),l.xp6(2),l.hij("$",r.precioAires[0].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[1].sobrePiso,""),l.xp6(2),l.hij("$",r.precioAires[1].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[2].sobrePiso,""),l.xp6(2),l.hij("$",r.precioAires[2].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[3].sobrePiso,""),l.xp6(2),l.hij("$",r.precioAires[3].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[4].precioVisita,""))},directives:[ED],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})(),KM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Hp=(()=>{class n extends KM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const fo=new l.OlP("NgValueAccessor"),KF={provide:fo,useExisting:(0,l.Gpc)(()=>tb),multi:!0},QF=new l.OlP("CompositionEventMode");let tb=(()=>{class n extends KM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function YF(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(QF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([KF]),l.qOj]}),n})();const es=new l.OlP("NgValidators"),kh=new l.OlP("NgAsyncValidators");function eO(n){return function Ph(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function DD(n){return null}function oO(n){return null!=n}function aO(n){const e=(0,l.QGY)(n)?(0,Vn.D)(n):n;return(0,l.CqO)(e),e}function lO(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uO(n,e){return e.map(t=>t(n))}function cO(n){return n.map(e=>function XF(n){return!n.validate}(e)?e:t=>e.validate(t))}function ES(n){return null!=n?function dO(n){if(!n)return null;const e=n.filter(oO);return 0==e.length?null:function(t){return lO(uO(t,e))}}(cO(n)):null}function DS(n){return null!=n?function hO(n){if(!n)return null;const e=n.filter(oO);return 0==e.length?null:function(t){return function WF(...n){const e=(0,gr.jO)(n),{args:t,keys:r}=Is(n),i=new xn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let m=c,b=c;for(let T=0;T<c;T++){let A=!1;(0,ti.Xf)(t[T]).subscribe((0,gn.x)(a,R=>{A||(A=!0,b--),f[T]=R},()=>m--,void 0,()=>{(!m||!A)&&(b||a.next(r?Ja(r,f):f),a.complete())}))}});return e?i.pipe(ba(e)):i}(uO(t,e).map(aO)).pipe((0,Pt.U)(lO))}}(cO(n)):null}function fO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function CS(n){return n?Array.isArray(n)?n:[n]:[]}function CD(n,e){return Array.isArray(n)?n.includes(e):n===e}function mO(n,e){const t=CS(e);return CS(n).forEach(i=>{CD(t,i)||t.push(i)}),t}function _O(n,e){return CS(e).filter(t=>!CD(n,t))}class yO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ES(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fh extends yO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hs extends yO{get formDirective(){return null}get path(){return null}}class vO{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let TS=(()=>{class n extends vO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fh,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),IS=(()=>{class n extends vO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function nb(n,e){NS(n,e),e.valueAccessor.writeValue(n.value),function aL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wO(n,e)})}(n,e),function uL(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function oL(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function AD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NS(n,e){const t=function pO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(fO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function gO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(fO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();AD(e._rawValidators,i),AD(e._rawAsyncValidators,i)}function wO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const rb="VALID",MD="INVALID",I_="PENDING",ib="DISABLED";function PS(n){return(OD(n)?n.validators:n)||null}function TO(n){return Array.isArray(n)?ES(n):n||null}function kS(n,e){return(OD(e)?e.asyncValidators:n)||null}function IO(n){return Array.isArray(n)?DS(n):n||null}function OD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const FS=n=>n instanceof VS;function AO(n){return(n=>n instanceof OO)(n)?n.value:n.getRawValue()}function NO(n,e){const t=FS(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function MO(n,e){FS(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})}class LS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=TO(this._rawValidators),this._composedAsyncValidatorFn=IO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rb}get invalid(){return this.status===MD}get pending(){return this.status==I_}get disabled(){return this.status===ib}get enabled(){return this.status!==ib}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=TO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=IO(e)}addValidators(e){this.setValidators(mO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_O(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_O(e,this._rawAsyncValidators))}hasValidator(e){return CD(this._rawValidators,e)}hasAsyncValidator(e){return CD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=I_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ib,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rb,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rb||this.status===I_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ib:rb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=I_,this._hasOwnPendingAsyncValidator=!0;const t=aO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function fL(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=FS(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof gL)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ib:this.errors?MD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(I_)?I_:this._anyControlsHaveStatus(MD)?MD:rb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){OD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class OO extends LS{constructor(e=null,t,r){super(PS(t),kS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),OD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class VS extends LS{constructor(e,t,r){super(PS(t),kS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){MO(this,e),Object.keys(e).forEach(r=>{NO(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=AO(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class gL extends LS{constructor(e,t,r){super(PS(t),kS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){MO(this,e),e.forEach((r,i)=>{NO(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>AO(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const mL={provide:Hs,useExisting:(0,l.Gpc)(()=>ob)},sb=(()=>Promise.resolve(null))();let ob=(()=>{class n extends Hs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new VS({},ES(t),DS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),nb(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sb.then(()=>{const r=this._findContainer(t.path),i=new VS({});(function EO(n,e){NS(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){sb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function CO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(es,10),l.Y36(kh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([mL]),l.qOj]}),n})();const yL={provide:Fh,useExisting:(0,l.Gpc)(()=>xD)},PO=(()=>Promise.resolve(null))();let xD=(()=>{class n extends Fh{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new OO,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function OS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===tb?t=a:function hL(n){return Object.getPrototypeOf(n.constructor)===Hp}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function MS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PO.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;PO.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function ID(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hs,9),l.Y36(es,10),l.Y36(kh,10),l.Y36(fo,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([yL]),l.qOj,l.TTD]}),n})(),BS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const AL={provide:fo,useExisting:(0,l.Gpc)(()=>$S),multi:!0};function $O(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let $S=(()=>{class n extends Hp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=$O(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function NL(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([AL]),l.qOj]}),n})(),GO=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue($O(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36($S,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const ML={provide:fo,useExisting:(0,l.Gpc)(()=>GS),multi:!0};function zO(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let GS=(()=>{class n extends Hp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,c)=>{a._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const c=a;for(let f=0;f<c.length;f++){const b=this._getOptionValue(c[f].value);i.push(b)}}else{const c=r.options;for(let f=0;f<c.length;f++){const m=c[f];if(m.selected){const b=this._getOptionValue(m.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function OL(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([ML]),l.qOj]}),n})(),qO=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(zO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(GS,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),$p=(()=>{class n{constructor(){this._validator=DD}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):DD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const kL={provide:es,useExisting:(0,l.Gpc)(()=>ab),multi:!0};let ab=(()=>{class n extends $p{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function xL(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>eO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([kL]),l.qOj]}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[FO]]}),n})(),nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[jL]}),n})();var HL=P(1144);const $L=["addListener","removeListener"],GL=["addEventListener","removeEventListener"],zL=["on","off"];function ts(n,e,t,r){if((0,gi.m)(t)&&(r=t,t=void 0),r)return ts(n,e,t).pipe(ba(r));const[i,a]=function ZL(n){return(0,gi.m)(n.addEventListener)&&(0,gi.m)(n.removeEventListener)}(n)?GL.map(c=>f=>n[c](e,f,t)):function qL(n){return(0,gi.m)(n.addListener)&&(0,gi.m)(n.removeListener)}(n)?$L.map(rx(n,e)):function WL(n){return(0,gi.m)(n.on)&&(0,gi.m)(n.off)}(n)?zL.map(rx(n,e)):[];if(!i&&(0,HL.z)(n))return(0,In.z)(c=>ts(c,e,t))((0,ti.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new xn.y(c=>{const f=(...m)=>c.next(1<m.length?m:m[0]);return i(f),()=>a(f)})}function rx(n,e){return t=>r=>n[t](e,r)}var KL=P(3532);function zS(n=0,e,t=py.P){let r=-1;return null!=e&&((0,KL.K)(e)?t=e:r=e),new xn.y(i=>{let a=function YL(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:QL}=Array;function ix(n){return 1===n.length&&QL(n[0])?n[0]:n}function sx(...n){return 1===(n=ix(n)).length?(0,ti.Xf)(n[0]):new xn.y(function JL(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ti.Xf)(n[r]).subscribe((0,gn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))}function RD(...n){const e=(0,gr.jO)(n),t=ix(n);return t.length?new xn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,ti.Xf)(t[c]).subscribe((0,gn.x)(r,f=>{if(i[c].push(f),i.every(m=>m.length)){const m=i.map(b=>b.shift());r.next(e?e(...m):m),i.some((b,T)=>!b.length&&a[T])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):io.E}function qS(...n){const e=(0,gr.jO)(n);return(0,ur.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,ti.Xf)(n[m]).subscribe((0,gn.x)(r,b=>{a[m]=b,!f&&!c[m]&&(c[m]=!0,(f=c.every($i.y))&&(c=null))},wD.Z));t.subscribe((0,gn.x)(r,m=>{if(f){const b=[m,...a];r.next(e?e(...b):b)}}))})}function ax(n,e){return e?t=>ec(e.pipe((0,nr.q)(1),function e2(){return(0,ur.e)((n,e)=>{n.subscribe((0,gn.x)(e,wD.Z))})}()),t.pipe(ax(n))):(0,In.z)((t,r)=>n(t,r).pipe((0,nr.q)(1),function t2(n){return(0,Pt.U)(()=>n)}(t)))}new xn.y(wD.Z);var s2={left:"right",right:"left",bottom:"top",top:"bottom"};function PD(n){return n.replace(/left|right|bottom|top/g,function(e){return s2[e]})}function Ru(n){return n.split("-")[0]}var o2={start:"end",end:"start"};function lx(n){return n.replace(/start|end/g,function(e){return o2[e]})}var Qo="top",Ml="bottom",Ol="right",Jo="left",WS="auto",lb=[Qo,Ml,Ol,Jo],S_="start",ub="end",ux="viewport",cb="popper",cx=lb.reduce(function(n,e){return n.concat([e+"-"+S_,e+"-"+ub])},[]),dx=[].concat(lb,[WS]).reduce(function(n,e){return n.concat([e,e+"-"+S_,e+"-"+ub])},[]),y2=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xl(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function A_(n){return n instanceof xl(n).Element||n instanceof Element}function La(n){return n instanceof xl(n).HTMLElement||n instanceof HTMLElement}function ZS(n){return"undefined"!=typeof ShadowRoot&&(n instanceof xl(n).ShadowRoot||n instanceof ShadowRoot)}function Lh(n){return((A_(n)?n.ownerDocument:n.document)||window.document).documentElement}var Gp=Math.max,kD=Math.min,N_=Math.round;function M_(n,e){void 0===e&&(e=!1);var t=n.getBoundingClientRect(),r=1,i=1;if(La(n)&&e){var a=n.offsetHeight,c=n.offsetWidth;c>0&&(r=N_(t.width)/c||1),a>0&&(i=N_(t.height)/a||1)}return{width:t.width/r,height:t.height/i,top:t.top/i,right:t.right/r,bottom:t.bottom/i,left:t.left/r,x:t.left/r,y:t.top/i}}function KS(n){var e=xl(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function YS(n){return M_(Lh(n)).left+KS(n).scrollLeft}function od(n){return xl(n).getComputedStyle(n)}function Pu(n){return n?(n.nodeName||"").toLowerCase():null}function FD(n){return"html"===Pu(n)?n:n.assignedSlot||n.parentNode||(ZS(n)?n.host:null)||Lh(n)}function QS(n){var e=od(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function hx(n){return["html","body","#document"].indexOf(Pu(n))>=0?n.ownerDocument.body:La(n)&&QS(n)?n:hx(FD(n))}function db(n,e){var t;void 0===e&&(e=[]);var r=hx(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),a=xl(r),c=i?[a].concat(a.visualViewport||[],QS(r)?r:[]):r,f=e.concat(c);return i?f:f.concat(db(FD(c)))}function w2(n){return["table","td","th"].indexOf(Pu(n))>=0}function fx(n){return La(n)&&"fixed"!==od(n).position?n.offsetParent:null}function hb(n){for(var e=xl(n),t=fx(n);t&&w2(t)&&"static"===od(t).position;)t=fx(t);return t&&("html"===Pu(t)||"body"===Pu(t)&&"static"===od(t).position)?e:t||function E2(n){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&La(n)&&"fixed"===od(n).position)return null;var i=FD(n);for(ZS(i)&&(i=i.host);La(i)&&["html","body"].indexOf(Pu(i))<0;){var a=od(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(n)||e}function px(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&ZS(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function JS(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function gx(n,e){return e===ux?JS(function v2(n){var e=xl(n),t=Lh(n),r=e.visualViewport,i=t.clientWidth,a=t.clientHeight,c=0,f=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,f=r.offsetTop)),{width:i,height:a,x:c+YS(n),y:f}}(n)):A_(e)?function D2(n){var e=M_(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(e):JS(function b2(n){var e,t=Lh(n),r=KS(n),i=null==(e=n.ownerDocument)?void 0:e.body,a=Gp(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=Gp(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+YS(n),m=-r.scrollTop;return"rtl"===od(i||t).direction&&(f+=Gp(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:c,x:f,y:m}}(Lh(n)))}function O_(n){return n.split("-")[1]}function XS(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function mx(n){var m,e=n.reference,t=n.element,r=n.placement,i=r?Ru(r):null,a=r?O_(r):null,c=e.x+e.width/2-t.width/2,f=e.y+e.height/2-t.height/2;switch(i){case Qo:m={x:c,y:e.y-t.height};break;case Ml:m={x:c,y:e.y+e.height};break;case Ol:m={x:e.x+e.width,y:f};break;case Jo:m={x:e.x-t.width,y:f};break;default:m={x:e.x,y:e.y}}var b=i?XS(i):null;if(null!=b){var T="y"===b?"height":"width";switch(a){case S_:m[b]=m[b]-(e[T]/2-t[T]/2);break;case ub:m[b]=m[b]+(e[T]/2-t[T]/2)}}return m}function yx(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function vx(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function eA(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,a=e.boundary,c=void 0===a?"clippingParents":a,f=e.rootBoundary,m=void 0===f?ux:f,b=e.elementContext,T=void 0===b?cb:b,A=e.altBoundary,R=void 0!==A&&A,B=e.padding,G=void 0===B?0:B,Y=yx("number"!=typeof G?G:vx(G,lb)),He=n.rects.popper,ke=n.elements[R?T===cb?"reference":cb:T],Qe=function T2(n,e,t){var r="clippingParents"===e?function C2(n){var e=db(FD(n)),r=["absolute","fixed"].indexOf(od(n).position)>=0&&La(n)?hb(n):n;return A_(r)?e.filter(function(i){return A_(i)&&px(i,r)&&"body"!==Pu(i)}):[]}(n):[].concat(e),i=[].concat(r,[t]),c=i.reduce(function(f,m){var b=gx(n,m);return f.top=Gp(b.top,f.top),f.right=kD(b.right,f.right),f.bottom=kD(b.bottom,f.bottom),f.left=Gp(b.left,f.left),f},gx(n,i[0]));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(A_(ke)?ke:ke.contextElement||Lh(n.elements.popper),c,m),Le=M_(n.elements.reference),tt=mx({reference:Le,element:He,strategy:"absolute",placement:i}),at=JS(Object.assign({},He,tt)),bt=T===cb?at:Le,Bt={top:Qe.top-bt.top+Y.top,bottom:bt.bottom-Qe.bottom+Y.bottom,left:Qe.left-bt.left+Y.left,right:bt.right-Qe.right+Y.right},Jn=n.modifiersData.offset;if(T===cb&&Jn){var Xn=Jn[i];Object.keys(Bt).forEach(function(cr){var rs=[Ol,Ml].indexOf(cr)>=0?1:-1,Zr=[Qo,Ml].indexOf(cr)>=0?"y":"x";Bt[cr]+=Xn[Zr]*rs})}return Bt}const N2={name:"flip",enabled:!0,phase:"main",fn:function A2(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=void 0===i||i,c=t.altAxis,f=void 0===c||c,m=t.fallbackPlacements,b=t.padding,T=t.boundary,A=t.rootBoundary,R=t.altBoundary,B=t.flipVariations,G=void 0===B||B,Y=t.allowedAutoPlacements,ye=e.options.placement,He=Ru(ye),Qe=m||(He!==ye&&G?function S2(n){if(Ru(n)===WS)return[];var e=PD(n);return[lx(n),e,lx(e)]}(ye):[PD(ye)]),Le=[ye].concat(Qe).reduce(function(Mn,Pl){return Mn.concat(Ru(Pl)===WS?function I2(n,e){void 0===e&&(e={});var i=e.boundary,a=e.rootBoundary,c=e.padding,f=e.flipVariations,m=e.allowedAutoPlacements,b=void 0===m?dx:m,T=O_(e.placement),A=T?f?cx:cx.filter(function(G){return O_(G)===T}):lb,R=A.filter(function(G){return b.indexOf(G)>=0});0===R.length&&(R=A);var B=R.reduce(function(G,Y){return G[Y]=eA(n,{placement:Y,boundary:i,rootBoundary:a,padding:c})[Ru(Y)],G},{});return Object.keys(B).sort(function(G,Y){return B[G]-B[Y]})}(e,{placement:Pl,boundary:T,rootBoundary:A,padding:b,flipVariations:G,allowedAutoPlacements:Y}):Pl)},[]),tt=e.rects.reference,at=e.rects.popper,bt=new Map,Bt=!0,Jn=Le[0],Xn=0;Xn<Le.length;Xn++){var cr=Le[Xn],rs=Ru(cr),Zr=O_(cr)===S_,jh=[Qo,Ml].indexOf(rs)>=0,Hh=jh?"width":"height",it=eA(e,{placement:cr,boundary:T,rootBoundary:A,altBoundary:R,padding:b}),gt=jh?Zr?Ol:Jo:Zr?Ml:Qo;tt[Hh]>at[Hh]&&(gt=PD(gt));var xt=PD(gt),Xt=[];if(a&&Xt.push(it[rs]<=0),f&&Xt.push(it[gt]<=0,it[xt]<=0),Xt.every(function(Mn){return Mn})){Jn=cr,Bt=!1;break}bt.set(cr,Xt)}if(Bt)for(var mo=function(Pl){var tg=Le.find(function(di){var Gs=bt.get(di);if(Gs)return Gs.slice(0,Pl).every(function(Ua){return Ua})});if(tg)return Jn=tg,"break"},Ii=G?3:1;Ii>0&&"break"!==mo(Ii);Ii--);e.placement!==Jn&&(e.modifiersData[r]._skip=!0,e.placement=Jn,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function fb(n,e,t){return Gp(n,kD(e,t))}function tA(n){var e=M_(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const R2={name:"preventOverflow",enabled:!0,phase:"main",fn:function x2(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=void 0===i||i,c=t.altAxis,f=void 0!==c&&c,R=t.tether,B=void 0===R||R,G=t.tetherOffset,Y=void 0===G?0:G,ye=eA(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),He=Ru(e.placement),ke=O_(e.placement),Qe=!ke,Le=XS(He),tt=function M2(n){return"x"===n?"y":"x"}(Le),at=e.modifiersData.popperOffsets,bt=e.rects.reference,Bt=e.rects.popper,Jn="function"==typeof Y?Y(Object.assign({},e.rects,{placement:e.placement})):Y,Xn="number"==typeof Jn?{mainAxis:Jn,altAxis:Jn}:Object.assign({mainAxis:0,altAxis:0},Jn),cr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,rs={x:0,y:0};if(at){if(a){var Zr,jh="y"===Le?Qo:Jo,Hh="y"===Le?Ml:Ol,it="y"===Le?"height":"width",gt=at[Le],xt=gt+ye[jh],Xt=gt-ye[Hh],Mr=B?-Bt[it]/2:0,mo=ke===S_?bt[it]:Bt[it],Ii=ke===S_?-Bt[it]:-bt[it],ta=e.elements.arrow,Mn=B&&ta?tA(ta):{width:0,height:0},Pl=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tg=Pl[jh],di=Pl[Hh],Gs=fb(0,bt[it],Mn[it]),Ua=Qe?bt[it]/2-Mr-Gs-tg-Xn.mainAxis:mo-Gs-tg-Xn.mainAxis,ad=Qe?-bt[it]/2+Mr+Gs+di+Xn.mainAxis:Ii+Gs+di+Xn.mainAxis,ng=e.elements.arrow&&hb(e.elements.arrow),bP=null!=(Zr=null==cr?void 0:cr[Le])?Zr:0,BH=gt+ad-bP,wP=fb(B?kD(xt,gt+Ua-bP-(ng?"y"===Le?ng.clientTop||0:ng.clientLeft||0:0)):xt,gt,B?Gp(Xt,BH):Xt);at[Le]=wP,rs[Le]=wP-gt}if(f){var EP,rg=at[tt],pC="y"===tt?"height":"width",DP=rg+ye["x"===Le?Qo:Jo],CP=rg-ye["x"===Le?Ml:Ol],qA=-1!==[Qo,Jo].indexOf(He),TP=null!=(EP=null==cr?void 0:cr[tt])?EP:0,IP=qA?DP:rg-bt[pC]-Bt[pC]-TP+Xn.altAxis,SP=qA?rg+bt[pC]+Bt[pC]-TP-Xn.altAxis:CP,AP=B&&qA?function O2(n,e,t){var r=fb(n,e,t);return r>t?t:r}(IP,rg,SP):fb(B?IP:DP,rg,B?SP:CP);at[tt]=AP,rs[tt]=AP-rg}e.modifiersData[r]=rs}},requiresIfExists:["offset"]},L2={name:"arrow",enabled:!0,phase:"main",fn:function k2(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,c=t.modifiersData.popperOffsets,f=Ru(t.placement),m=XS(f),T=[Jo,Ol].indexOf(f)>=0?"height":"width";if(a&&c){var A=function(e,t){return yx("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:vx(e,lb))}(i.padding,t),R=tA(a),B="y"===m?Qo:Jo,G="y"===m?Ml:Ol,Y=t.rects.reference[T]+t.rects.reference[m]-c[m]-t.rects.popper[T],ye=c[m]-t.rects.reference[m],He=hb(a),ke=He?"y"===m?He.clientHeight||0:He.clientWidth||0:0,at=ke/2-R[T]/2+(Y/2-ye/2),bt=fb(A[B],at,ke-R[T]-A[G]);t.modifiersData[r]=((e={})[m]=bt,e.centerOffset=bt-at,e)}},effect:function F2(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!px(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function j2(n,e,t){void 0===t&&(t=!1);var r=La(e),i=La(e)&&function U2(n){var e=n.getBoundingClientRect(),t=N_(e.width)/n.offsetWidth||1,r=N_(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),a=Lh(e),c=M_(n,i),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(r||!r&&!t)&&(("body"!==Pu(e)||QS(a))&&(f=function B2(n){return n!==xl(n)&&La(n)?function V2(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):KS(n)}(e)),La(e)?((m=M_(e,!0)).x+=e.clientLeft,m.y+=e.clientTop):a&&(m.x=YS(a))),{x:c.left+f.scrollLeft-m.x,y:c.top+f.scrollTop-m.y,width:c.width,height:c.height}}function H2(n){var e=new Map,t=new Set,r=[];function i(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(f){if(!t.has(f)){var m=e.get(f);m&&i(m)}}),r.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||i(a)}),r}function G2(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var bx={placement:"bottom",modifiers:[],strategy:"absolute"};function wx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function q2(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,a=void 0===i?bx:i;return function(f,m,b){void 0===b&&(b=a);var T={placement:"bottom",orderedModifiers:[],options:Object.assign({},bx,a),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},A=[],R=!1,B={state:T,setOptions:function(He){var ke="function"==typeof He?He(T.options):He;Y(),T.options=Object.assign({},a,T.options,ke),T.scrollParents={reference:A_(f)?db(f):f.contextElement?db(f.contextElement):[],popper:db(m)};var Qe=function $2(n){var e=H2(n);return y2.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function z2(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,T.options.modifiers)));return T.orderedModifiers=Qe.filter(function(cr){return cr.enabled}),function G(){T.orderedModifiers.forEach(function(ye){var ke=ye.options,Le=ye.effect;if("function"==typeof Le){var tt=Le({state:T,name:ye.name,instance:B,options:void 0===ke?{}:ke});A.push(tt||function(){})}})}(),B.update()},forceUpdate:function(){if(!R){var He=T.elements,ke=He.reference,Qe=He.popper;if(wx(ke,Qe)){T.rects={reference:j2(ke,hb(Qe),"fixed"===T.options.strategy),popper:tA(Qe)},T.reset=!1,T.placement=T.options.placement,T.orderedModifiers.forEach(function(cr){return T.modifiersData[cr.name]=Object.assign({},cr.data)});for(var tt=0;tt<T.orderedModifiers.length;tt++)if(!0!==T.reset){var at=T.orderedModifiers[tt],bt=at.fn,Bt=at.options;"function"==typeof bt&&(T=bt({state:T,options:void 0===Bt?{}:Bt,name:at.name,instance:B})||T)}else T.reset=!1,tt=-1}}},update:G2(function(){return new Promise(function(ye){B.forceUpdate(),ye(T)})}),destroy:function(){Y(),R=!0}};if(!wx(f,m))return B;function Y(){A.forEach(function(ye){return ye()}),A=[]}return B.setOptions(b).then(function(ye){!R&&b.onFirstUpdate&&b.onFirstUpdate(ye)}),B}}var LD={passive:!0};const Z2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function W2(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=void 0===i||i,c=r.resize,f=void 0===c||c,m=xl(e.elements.popper),b=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&b.forEach(function(T){T.addEventListener("scroll",t.update,LD)}),f&&m.addEventListener("resize",t.update,LD),function(){a&&b.forEach(function(T){T.removeEventListener("scroll",t.update,LD)}),f&&m.removeEventListener("resize",t.update,LD)}},data:{}},Y2={name:"popperOffsets",enabled:!0,phase:"read",fn:function K2(n){var e=n.state;e.modifiersData[n.name]=mx({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var Q2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ex(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,c=n.offsets,f=n.position,m=n.gpuAcceleration,b=n.adaptive,T=n.roundOffsets,A=n.isFixed,R=c.x,B=void 0===R?0:R,G=c.y,Y=void 0===G?0:G,ye="function"==typeof T?T({x:B,y:Y}):{x:B,y:Y};B=ye.x,Y=ye.y;var He=c.hasOwnProperty("x"),ke=c.hasOwnProperty("y"),Qe=Jo,Le=Qo,tt=window;if(b){var at=hb(t),bt="clientHeight",Bt="clientWidth";at===xl(t)&&"static"!==od(at=Lh(t)).position&&"absolute"===f&&(bt="scrollHeight",Bt="scrollWidth"),at=at,(i===Qo||(i===Jo||i===Ol)&&a===ub)&&(Le=Ml,Y-=(A&&at===tt&&tt.visualViewport?tt.visualViewport.height:at[bt])-r.height,Y*=m?1:-1),i!==Jo&&(i!==Qo&&i!==Ml||a!==ub)||(Qe=Ol,B-=(A&&at===tt&&tt.visualViewport?tt.visualViewport.width:at[Bt])-r.width,B*=m?1:-1)}var Zr,cr=Object.assign({position:f},b&&Q2),rs=!0===T?function J2(n){var t=n.y,i=window.devicePixelRatio||1;return{x:N_(n.x*i)/i||0,y:N_(t*i)/i||0}}({x:B,y:Y}):{x:B,y:Y};return B=rs.x,Y=rs.y,Object.assign({},cr,m?((Zr={})[Le]=ke?"0":"",Zr[Qe]=He?"0":"",Zr.transform=(tt.devicePixelRatio||1)<=1?"translate("+B+"px, "+Y+"px)":"translate3d("+B+"px, "+Y+"px, 0)",Zr):((e={})[Le]=ke?Y+"px":"",e[Qe]=He?B+"px":"",e.transform="",e))}const eV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function X2(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,a=t.adaptive,c=void 0===a||a,f=t.roundOffsets,m=void 0===f||f,T={placement:Ru(e.placement),variation:O_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Ex(Object.assign({},T,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:m})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ex(Object.assign({},T,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var rV=[Z2,Y2,eV,{name:"applyStyles",enabled:!0,phase:"write",fn:function tV(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!La(a)||!Pu(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(c){var f=i[c];!1===f?a.removeAttribute(c):a.setAttribute(c,!0===f?"":f)}))})},effect:function nV(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},f=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(m,b){return m[b]="",m},{});!La(i)||!Pu(i)||(Object.assign(i.style,f),Object.keys(a).forEach(function(m){i.removeAttribute(m)}))})}},requires:["computeStyles"]}],iV=q2({defaultModifiers:rV});const aV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function oV(n){var e=n.state,r=n.name,i=n.options.offset,a=void 0===i?[0,0]:i,c=dx.reduce(function(T,A){return T[A]=function sV(n,e,t){var r=Ru(n),i=[Jo,Qo].indexOf(r)>=0?-1:1,a="function"==typeof t?t(Object.assign({},e,{placement:n})):t,c=a[0],f=a[1];return c=c||0,f=(f||0)*i,[Jo,Ol].indexOf(r)>=0?{x:f,y:c}:{x:c,y:f}}(A,e.rects,a),T},{}),f=c[e.placement],b=f.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=f.x,e.modifiersData.popperOffsets.y+=b),e.modifiersData[r]=c}},gV=["*"],wV=["ngbDatepickerDayView",""],EV=["month"],DV=["year"];function CV(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,null==r.date?null:r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,null==r.date?null:r.date.year))}}function TV(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function IV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){return l.CHM(t),l.oxw().select.emit(i)}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function SV(n,e){1&n&&l._UZ(0,"div",0)}function AV(n,e){1&n&&l._UZ(0,"div",0)}function NV(n,e){if(1&n&&(l.YNc(0,SV,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,AV,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function MV(n,e){if(1&n&&l.YNc(0,NV,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}const OV=["defaultDayTemplate"],xV=["content"];function RV(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,a=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",a)("focused",c)}}function PV(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function kV(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,PV,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function FV(n,e){if(1&n&&l.YNc(0,kV,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function LV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){return l.CHM(t),l.oxw().onNavigateEvent(i)})("select",function(i){return l.CHM(t),l.oxw().onNavigateDateSelect(i)}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function VV(n,e){}function BV(n,e){}function UV(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function jV(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function HV(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,UV,2,1,"div",3),l.YNc(2,jV,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function $V(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function GV(n,e){}function zV(n,e){if(1&n&&l.YNc(0,GV,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function qV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),i.preventDefault()}),l.YNc(1,zV,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function WV(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,$V,2,1,"div",9),l.YNc(2,qV,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function ZV(n,e){1&n&&l.YNc(0,WV,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const KV=["dialog"];function po(n){return parseInt(`${n}`,10)}function pb(n){return"string"==typeof n}function ns(n){return!isNaN(po(n))}function go(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function zp(n){return null!=n}function Cx(n){return ns(n)?`0${n}`.slice(-2):""}function Tx(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function x_(n){return(n||document.body).getBoundingClientRect()}const Ix={animation:!0,transitionTimerDelayMs:5},$B=()=>{},{transitionTimerDelayMs:GB}=Ix,gb=new Map,$s=(n,e,t,r)=>{let i=r.context||{};const a=gb.get(e);if(a)switch(r.runningTransition){case"continue":return io.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),gb.delete(e)}const c=t(e,r.animation,i)||$B;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),wt(void 0).pipe(function jB(n){return e=>new xn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new wn.x,m=new wn.x,b=f.pipe(function XL(...n){return e=>ec(e,wt(...n))}(!0));gb.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const T=function HB(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=ts(e,"transitionend").pipe(Nr(b),rr(({target:B})=>B===e));sx(zS(T+GB).pipe(Nr(b)),A,m).pipe(Nr(b)).subscribe(()=>{gb.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()};let VD=(()=>{class n{constructor(){this.animation=Ix.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),Bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Ti{constructor(e,t,r){this.year=go(e)?e:null,this.month=go(t)?t:null,this.day=go(r)?r:null}static from(e){return e instanceof Ti?e:e?new Ti(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function R_(n,e){return!function rU(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function Ux(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function UD(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function oA(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:a}=e;return!(null==n||i||a&&a(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function jx(n){return new Ti(n.getFullYear(),n.getMonth()+1,n.getDate())}function jD(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let HD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function hU(){return new fU}()},providedIn:"root"}),n})(),fU=(()=>{class n extends HD{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let a=jD(t),c=!0,f=a.getMonth();switch(r){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":f+=i,a.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":a.setDate(a.getDate()+i),c=!1;break;default:return t}return c&&a.getMonth()!==f&&a.setDate(0),jx(a)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=jD(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=jD(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return jx(new Date)}isValid(t){if(!(t&&go(t.year)&&go(t.month)&&go(t.day)&&0!==t.year))return!1;const r=jD(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Wp=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function pU(n){return new gU(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),gU=(()=>{class n extends Wp{constructor(t){super(),this._locale=t,this._monthsShort=ze(t,ie.Standalone,ae.Abbreviated),this._monthsFull=ze(t,ie.Standalone,ae.Wide)}getWeekdayLabel(t,r){const i=ln(this._locale,ie.Standalone,void 0===r?ae.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return Yr(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),aA=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(go(i=po(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(go(i=po(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const a=this.toValidDate(i,null);if(R_(this._state.maxDate,a))return{maxDate:a}},minDate:i=>{const a=this.toValidDate(i,null);if(R_(this._state.minDate,a))return{minDate:a}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const a=!0===i||!1===i?ae.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==a||this._state.weekdaysVisible!==c)return{weekdayWidth:a,weekdaysVisible:c}}},this._model$=new wn.x,this._dateSelect$=new wn.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:ae.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(rr(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(rr(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,a)=>Object.assign(Object.assign({},i),a),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&R_(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){oA(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||Ux(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(R_(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&oA(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Ti.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:a,focusDate:c,focusVisible:f,disabled:m,outsideDays:b}=t;t.months.forEach(T=>{T.weeks.forEach(A=>{A.days.forEach(R=>{c&&(R.context.focused=c.equals(R.date)&&f),R.tabindex=!m&&c&&R.date.equals(c)&&c.month===T.number?0:-1,!0===m&&(R.context.disabled=!0),void 0!==a&&(R.context.selected=null!==a&&a.equals(R.date)),T.number!==R.date.month&&(R.hidden="hidden"===b||"collapsed"===b||i>1&&R.date.after(r[0].firstDate)&&R.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function iU(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=UD(r.focusDate,r.minDate,r.maxDate),r.firstDate=UD(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=UD(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=UD(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function uU(n,e,t,r,i){const{displayMonths:a,months:c}=t,f=c.splice(0,c.length);return Array.from({length:a},(b,T)=>{const A=Object.assign(n.getNext(e,"m",T),{day:1});if(c[T]=null,!i){const R=f.findIndex(B=>B.firstDate.equals(A));-1!==R&&(c[T]=f.splice(R,1)[0])}return A}).forEach((b,T)=>{null===c[T]&&(c[T]=function cU(n,e,t,r,i={}){const{dayTemplateData:a,minDate:c,maxDate:f,firstDayOfWeek:m,markDisabled:b,outsideDays:T,weekdayWidth:A,weekdaysVisible:R}=t,B=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function dU(n,e,t){const r=n.getDaysPerWeek(),i=new Ti(e.year,e.month,1),a=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+a-t)%r)}(n,e,m),R||(i.weekdays.length=0);for(let G=0;G<n.getWeeksPerMonth();G++){let Y=i.weeks[G];Y||(Y=i.weeks[G]={number:0,days:[],collapsed:!0});const ye=Y.days;for(let He=0;He<n.getDaysPerWeek();He++){0===G&&R&&(i.weekdays[He]=r.getWeekdayLabel(n.getWeekday(e),A));const ke=new Ti(e.year,e.month,e.day),Qe=n.getNext(ke),Le=r.getDayAriaLabel(ke);let tt=!!(c&&ke.before(c)||f&&ke.after(f));!tt&&b&&(tt=b(ke,{month:i.number,year:i.year}));let at=ke.equals(B),bt=a?a(ke,{month:i.number,year:i.year}):void 0;null===i.firstDate&&ke.month===i.number&&(i.firstDate=ke),ke.month===i.number&&Qe.month!==i.number&&(i.lastDate=ke);let Bt=ye[He];Bt||(Bt=ye[He]={}),Bt.date=ke,Bt.context=Object.assign(Bt.context||{},{$implicit:ke,date:ke,data:bt,currentMonth:i.number,currentYear:i.year,disabled:tt,focused:!1,selected:!1,today:at}),Bt.tabindex=-1,Bt.ariaLabel=Le,Bt.hidden=!1,e=Qe}Y.number=n.getWeekNumber(ye.map(He=>He.date),m),Y.collapsed="collapsed"===T&&ye[0].date.month!==i.number&&ye[ye.length-1].date.month!==i.number}return i}(n,b,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!oA(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function oU(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,a=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(a);for(let f=0;f<a;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function sU(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const a=i.findIndex(c=>c===t.month);i=i.slice(a)}if(r&&e.year===r.year){const a=i.findIndex(c=>c===r.month);i=i.slice(0,a+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function lU(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function aU(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(HD),l.LFG(Wp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var P_=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(P_||(P_={})),P_))();let lA=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=ae.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function mU(){return new _U}()},providedIn:"root"}),n})(),_U=(()=>{class n extends uA{fromModel(t){return t&&go(t.year)&&go(t.month)&&go(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&go(t.year)&&go(t.month)&&go(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),yU=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:wV,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),vU=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Ti(this.date.year,po(t),1))}changeYear(t){this.select.emit(new Ti(po(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wp),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(EV,7,l.SBq),l.Gf(DV,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(a){return r.changeMonth(a.target.value)}),l.YNc(2,CV,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(a){return r.changeYear(a.target.value)}),l.YNc(5,TV,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},directives:[pn,GO,qO],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),bU=(()=>{class n{constructor(t){this.i18n=t,this.navigation=P_,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(a){return r.onClickPrev(a)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,IV,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,MV,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(a){return r.onClickNext(a)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},directives:[vU,Wn,pn],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Pn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Pn||(Pn={})),Pn))();let wU=(()=>{class n{processKey(t,r){const{state:i,calendar:a}=r;switch(t.which){case Pn.PageUp:r.focusDate(a.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Pn.PageDown:r.focusDate(a.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Pn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Pn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Pn.ArrowLeft:r.focusDate(a.getPrev(i.focusedDate,"d",1));break;case Pn.ArrowUp:r.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case Pn.ArrowRight:r.focusDate(a.getNext(i.focusedDate,"d",1));break;case Pn.ArrowDown:r.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case Pn.Enter:case Pn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]]}),n})(),Hx=(()=>{class n{constructor(t,r,i,a,c,f,m,b){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=b,this._controlValue=null,this._destroyed$=new wn.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=T=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(T=>this[T]=a[T]),t.dateSelect$.pipe(Nr(this._destroyed$)).subscribe(T=>{this.dateSelect.emit(T)}),t.model$.pipe(Nr(this._destroyed$)).subscribe(T=>{const A=T.firstDate,R=this.model?this.model.firstDate:null;this._publicState={maxDate:T.maxDate,minDate:T.minDate,firstDate:T.firstDate,lastDate:T.lastDate,focusedDate:T.focusDate,months:T.months.map(He=>He.firstDate)};let B=!1;if(!A.equals(R)&&(this.navigate.emit({current:R?{year:R.year,month:R.month}:null,next:{year:A.year,month:A.month},preventDefault:()=>B=!0}),B&&null!==R))return void this._service.open(R);const G=T.selectedDate,Y=T.focusDate,ye=this.model?this.model.focusDate:null;this.model=T,R_(G,this._controlValue)&&(this._controlValue=G,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(G))),R_(Y,ye)&&ye&&T.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Ti.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,nr.q)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Ti.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=ts(this._contentEl.nativeElement,"focusin"),r=ts(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,rM.T)(t,r).pipe(rr(({target:a,relatedTarget:c})=>!(Tx(a,"ngb-dp-day")&&Tx(c,"ngb-dp-day")&&i.contains(a)&&i.contains(c))),Nr(this._destroyed$)).subscribe(({type:a})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===a})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:a}=t.startDate;Ux(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case P_.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case P_.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Ti.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(aA),l.Y36(HD),l.Y36(Wp),l.Y36(lA),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(uA),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,EU,7),2&t){let a;l.iGM(a=l.CRH())&&(r.contentTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(OV,7),l.Gf(xV,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[l._Bn([{provide:fo,useExisting:(0,l.Gpc)(()=>n),multi:!0},aA]),l.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,RV,1,5,"ng-template",null,0,l.W1O),l.YNc(2,FV,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,LV,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,VV,0,0,"ng-template",6),l.qZA(),l.YNc(9,BV,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},directives:function(){return[yU,DU,bU,pn,Wn,us]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})(),DU=(()=>{class n{constructor(t,r,i,a){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=a}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wp),l.Y36(Hx),l.Y36(wU),l.Y36(aA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.onKeyDown(a)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,HV,3,2,"div",0),l.YNc(1,ZV,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},directives:[Wn,pn,us],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})();const $D=(n,e)=>!!e&&e.some(t=>t.contains(n)),$x=(n,e)=>!e||null!=function UB(n,e){return e&&void 0!==n.closest?n.closest(e):null}(n,e),CU="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Gx(n,e,t,r,i,a,c,f){t&&n.runOutsideAngular((n=>CU?()=>setTimeout(()=>n(),100):n)(()=>{const b=ts(e,"keydown").pipe(Nr(i),rr(R=>R.which===Pn.Escape),(0,jr.b)(R=>R.preventDefault())),T=ts(e,"mousedown").pipe((0,Pt.U)(R=>{const B=R.target;return 2!==R.button&&!$D(B,c)&&("inside"===t?$D(B,a)&&$x(B,f):"outside"===t?!$D(B,a):$x(B,f)||!$D(B,a))}),Nr(i)),A=ts(e,"mouseup").pipe(qS(T),rr(([R,B])=>B),function n2(n,e=py.z){const t=zS(n,e);return ax(()=>t)}(0),Nr(i));sx([b.pipe((0,Pt.U)(R=>0)),A.pipe((0,Pt.U)(R=>1))]).subscribe(R=>n.run(()=>r(R)))}))}const zx=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qx(n){const e=Array.from(n.querySelectorAll(zx)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const Wx=(n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=ts(e,"focusin").pipe(Nr(t),(0,Pt.U)(a=>a.target));ts(e,"keydown").pipe(Nr(t),rr(a=>a.which===Pn.Tab),qS(i)).subscribe(([a,c])=>{const[f,m]=qx(e);(c===f||c===e)&&a.shiftKey&&(m.focus(),a.preventDefault()),c===m&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&ts(e,"click").pipe(Nr(t),qS(i),(0,Pt.U)(a=>a[1])).subscribe(a=>a.focus())})},IU=/\s+/,SU=/  +/gi,AU=/^start/,NU=/^end/,MU=/-(top|left)$/,OU=/-(bottom|right)$/,RU=/^left/,PU=/^right/,kU=/^start/,FU=/^end/;function Zx({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(IU),i=t.findIndex(m=>"auto"===m);i>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(m){null==t.find(b=>-1!==b.search("^"+m))&&t.splice(i++,1,m)});const a=t.map(m=>function xU(n){return n.replace(AU,"left").replace(NU,"right").replace(MU,"-start").replace(OU,"-end")}(m));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:m}){const b=new RegExp(e+"-[a-z]+","gi"),T=m.elements.popper,A=m.placement;let R=T.className;R=R.replace(b,""),R+=` ${function LU(n,e){let[t,r]=e.split("-");const i=t.replace(RU,"start").replace(PU,"end");let a=[i];if(r){let c=r;("left"===t||"right"===t)&&(c=c.replace(kU,"top").replace(FU,"bottom")),a.push(`${i}-${c}`)}return n&&(a=a.map(c=>`${n}-${c}`)),a.join(" ")}(e,A)}`,R=R.trim().replace(SU," "),T.className=R}},N2,R2,L2,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Kx(n){return n}let Qx=(()=>{class n extends lA{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.restoreFocus=!0}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jx(n){return e=>(e.modifiers.push(aV,{name:"offset",options:{offset:()=>n}}),e)}let Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function VU(){return new BU}()},providedIn:"root"}),n})(),BU=(()=>{class n extends Xx{parse(t){if(null!=t){const r=t.trim().split("-");if(1===r.length&&ns(r[0]))return{year:po(r[0]),month:null,day:null};if(2===r.length&&ns(r[0])&&ns(r[1]))return{year:po(r[0]),month:po(r[1]),day:null};if(3===r.length&&ns(r[0])&&ns(r[1])&&ns(r[2]))return{year:po(r[0]),month:po(r[1]),day:po(r[2])}}return null}format(t){return t?`${t.year}-${ns(t.month)?Cx(t.month):""}-${ns(t.day)?Cx(t.day):""}`:""}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),eR=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A){this._parserFormatter=t,this._elRef=r,this._vcRef=i,this._renderer=a,this._ngZone=c,this._calendar=f,this._dateAdapter=m,this._document=b,this._changeDetector=T,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=function Yx(){let n=null;return{createPopper(e){if(!n){let r=(e.updatePopperOptions||Kx)(Zx(e));n=iV(e.hostElement,e.targetElement,r)}},update(){n&&n.update()},setOptions(e){if(n){let r=(e.updatePopperOptions||Kx)(Zx(e));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}(),this._destroyCloseHandlers$=new wn.x,this.dateSelect=new l.vpe,this.navigate=new l.vpe,this.closed=new l.vpe,this._onChange=R=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(R=>this[R]=A[R]),this._zoneSubscription=c.onStable.subscribe(()=>this._positioning.update())}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:r}=t;if(null!=r){const i=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!i)return{ngbDate:{invalid:r}};if(this.minDate&&i.before(Ti.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&i.after(Ti.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,r=!1){const i=t!==this._inputValue;i&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(i||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let t;if(this._cRef=this._vcRef.createComponent(Hx),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Wx(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>{var r;return null===(r=this._cRef)||void 0===r?void 0:r.instance.focus()}),t=pb(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.onStable.pipe((0,nr.q)(1)).subscribe(()=>{this._cRef&&this._positioning.createPopper({hostElement:t,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Jx([0,2])})}),this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;pb(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus(),this._positioning.destroy()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){if((t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t))),t.datepickerClass){const{currentValue:r,previousValue:i}=t.datepickerClass;this._applyPopupClass(r,i)}t.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{void 0!==this[r]&&(t[r]=this[r])}),t.startDate=this.startDate||this._model}_applyPopupClass(t,r){var i;const a=null===(i=this._cRef)||void 0===i?void 0:i.location.nativeElement;a&&(t&&this._renderer.addClass(a,t),r&&this._renderer.removeClass(a,r))}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(r=>this.navigate.emit(r)),t.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(t){const r=this._parserFormatter.format(t);this._inputValue=r,this._renderer.setProperty(this._elRef.nativeElement,"value",r),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const r=t?new Ti(t.year,t.month,t.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Gx(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xx),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(l.Qsj),l.Y36(l.R0b),l.Y36(HD),l.Y36(uA),l.Y36(le),l.Y36(l.sBO),l.Y36(Qx))},n.\u0275dir=l.lG2({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r.manualDateChange(a.target.value)})("change",function(a){return r.manualDateChange(a.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&t&&l.Ikx("disabled",r.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[l._Bn([{provide:fo,useExisting:(0,l.Gpc)(()=>n),multi:!0},{provide:es,useExisting:(0,l.Gpc)(()=>n),multi:!0},{provide:lA,useExisting:Qx}]),l.TTD]}),n})();new Date(1882,10,12),new Date(2174,10,25);let oR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr,nx]]}),n})(),fA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),uR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Yp{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let KU=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,nr.q)(1)).subscribe(()=>{$s(this._zone,this._el.nativeElement,(t,r)=>{r&&x_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $s(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class cR{close(e){}dismiss(e){}}class YU{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new wn.x,this._dismissed=new wn.x,this._hidden=new wn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Nr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Nr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Dx(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():wt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),RD(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(vb||(vb={})),vb))();let QU=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new wn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new wn.x,this.hidden=new wn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":pb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,nr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=RD($s(this._zone,t,()=>t.classList.remove("show"),r),$s(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};RD($s(this._zone,this._elRef.nativeElement,(a,c)=>{c&&x_(a),a.classList.add("show")},t),$s(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ts(t,"keydown").pipe(Nr(this._closed$),rr(i=>i.which===Pn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(vb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;ts(this._dialogEl.nativeElement,"mousedown").pipe(Nr(this._closed$),(0,jr.b)(()=>r=!1),Bn(()=>ts(t,"mouseup").pipe(Nr(this._closed$),(0,nr.q)(1))),rr(({target:i})=>t===i)).subscribe(()=>{r=!0}),ts(t,"click").pipe(Nr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(vb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=qx(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$s(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(le),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(KV,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:gV,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),JU=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XU=(()=>{class n{constructor(t,r,i,a,c,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=c,this._ngZone=f,this._activeWindowCmptHasChanged=new wn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];Wx(this._ngZone,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,a){const c=a.container instanceof HTMLElement?a.container:zp(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new cR,b=this._getContentRef(t,a.injector||r,i,m,a);let T=!1!==a.backdrop?this._attachBackdrop(t,c):void 0,A=this._attachWindowComponent(t,c,b),R=new YU(A,b,T,a.beforeDismiss);return this._registerModalRef(R),this._registerWindowCmpt(A),R.hidden.pipe((0,nr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=B=>{R.close(B)},m.dismiss=B=>{R.dismiss(B)},this._applyWindowOptions(A.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,a),T.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),R}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let a=t.resolveComponentFactory(KU).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,r,i){let c=t.resolveComponentFactory(QU).create(this._injector,i.nodes);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{zp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{zp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,a):pb(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,c):new Yp([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new Yp([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Yp([[r]])}_createFromComponent(t,r,i,a,c){const f=t.resolveComponentFactory(i),m=l.zs3.create({providers:[{provide:cR,useValue:a}],parent:r}),b=f.create(m),T=b.location.nativeElement;return c.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Yp([[T]],b.hostView,b)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(le),l.LFG(JU),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ej=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(VD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tj=(()=>{class n{constructor(t,r,i,a){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=a}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(XU),l.LFG(ej))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tj]}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),TR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),IR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),SR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),NR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),MR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function pj(){return 100}});let OR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const gj=[xx,Rx,kx,Vx,Bx,oR,uR,dR,gR,xR,DR,TR,IR,SR,AR,NR,MR,OR];let mj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gj,xx,Rx,kx,Vx,Bx,oR,uR,dR,gR,xR,DR,TR,IR,SR,AR,NR,MR,OR]}),n})(),_j=(()=>{class n{constructor(){}valorInputOirgen(t){this.mensajeOrigen=t}valorInputDestino(t){this.mensajeDestino=t}valorInputDisponibilidad(t){this.mensajeDia=t.day}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-fletes"]],decls:40,vars:6,consts:[[1,"container"],[1,"title",2,"text-align","center"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],[1,"row",2,"color","white"],[2,"text-align","center"],["type","text","name","origen","placeholder","Origen direccion exacta","required","",1,"form-control",3,"ngModel","ngModelChange"],[2,"margin-top","16px"],["type","text","name","destino","placeholder","Destino direccion exacta","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12",2,"margin-top","16px"],[1,"input-group"],["placeholder","Selecciona disponibilidad","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn",2,"background-color","white",3,"click"],[1,"far","fa-calendar-minus"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"]],template:function(t,r){if(1&t){const i=l.EpF();l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Necesitas un flete "),l.qZA()(),l.TgZ(5,"div",2),l._UZ(6,"div",3),l.TgZ(7,"div",4),l._UZ(8,"i",5),l.qZA(),l._UZ(9,"div",3),l.qZA(),l.TgZ(10,"div")(11,"div")(12,"h3",6),l._uU(13,"Completa tus datos! "),l.qZA(),l._UZ(14,"br")(15,"br"),l.TgZ(16,"div",0),l._uU(17," > "),l.TgZ(18,"div",7)(19,"div",8)(20,"form")(21,"div")(22,"input",9),l.NdJ("ngModelChange",function(c){return r.modelOrigen=c})("ngModelChange",function(c){return r.valorInputOirgen(c)}),l.qZA()(),l.TgZ(23,"div",10)(24,"input",11),l.NdJ("ngModelChange",function(c){return r.modelDestino=c})("ngModelChange",function(c){return r.valorInputDestino(c)}),l.qZA()(),l.TgZ(25,"div",12)(26,"div",13)(27,"input",14,15),l.NdJ("ngModelChange",function(c){return r.model=c})("ngModelChange",function(c){return r.valorInputDisponibilidad(c)}),l.qZA(),l._UZ(29,"br"),l.TgZ(30,"button",16),l.NdJ("click",function(){return l.CHM(i),l.MAs(28).toggle()}),l._UZ(31,"i",17),l.qZA()()()()()()(),l.TgZ(32,"div",18),l._uU(33," >"),l._UZ(34,"link",19),l.TgZ(35,"a",20)(36,"i",21),l._uU(37,"CONSULTA COTIZACION"),l.qZA()()(),l._UZ(38,"br")(39,"br"),l.qZA()()()}2&t&&(l.xp6(22),l.Q6J("ngModel",r.modelOrigen),l.xp6(2),l.Q6J("ngModel",r.modelDestino),l.xp6(3),l.Q6J("ngModel",r.model),l.xp6(8),l.cQ8("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el siguiente viaje. %0D%0A Desde ",r.mensajeOrigen," hasta ",r.mensajeDestino," y mi disponibilidad la tengo el dia ",r.mensajeDia," de este mes. %0D%0A Muchas gracias.",l.LSH))},directives:[BS,IS,ob,tb,ab,TS,xD,eR],styles:[""]}),n})();function yj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr",26)(1,"td",27),l._UZ(2,"img",28),l.qZA(),l.TgZ(3,"td",29),l._uU(4),l.qZA(),l.TgZ(5,"td",29),l._uU(6),l.ALo(7,"currency"),l.TgZ(8,"label",30)(9,"input",31),l.NdJ("change",function(i){return l.CHM(t),l.oxw().onChangeCheck(i)}),l.qZA(),l.TgZ(10,"div",32),l._UZ(11,"div",33),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(2),l.hij(" ",t.nombre," "),l.xp6(2),l.hij(" ",l.lcZ(7,5,t.precio)," "),l.xp6(3),l.Q6J("checked",!1)("value",t.nombre)}}let vj=(()=>{class n{constructor(t,r){this._productosMascotasService=t,this.spinner=r,this.mensajeProducto=[],this.productosMascotas=[]}ngOnInit(){this.getProductosMascotas(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}getProductosMascotas(){this._productosMascotasService.getProductosMascotaService().subscribe(t=>{this.productosMascotas=[],t.forEach(r=>{console.log(r.payload.doc.id),this.productosMascotas.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.productosMascotas)})}onChangeCheck(t){1==t.target.checked?this.mensajeProducto.push(t.target.value):this.mensajeProducto.splice(this.mensajeProducto.indexOf(t.target.value),1),this.mensajeFinal=this.mensajeProducto.join("-"),console.log(this.mensajeFinal)}valorInput(t){this.mensajeDia=t.day,this.mensajeMes=t.month}valorInputName(t){this.mensajeNombre=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bD),l.Y36(eb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-mascotas"]],decls:56,vars:7,consts:[["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[1,"title",2,"text-align","center"],[1,"container"],[1,"d-flex","justify-content-center"],[1,"form"],[1,"presentacion",2,"text-align","CENTER"],[1,"presentacion",2,"color","white"],["type","text","name","name","placeholder","Nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12",2,"margin-top","16px"],[1,"input-group"],["placeholder","Selecciona disponibilidad","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn",2,"background-color","white",3,"click"],[1,"far","fa-calendar-minus"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[1,"presentacion",2,"color","white","text-align","CENTER"],[1,"rwd-table",2,"justify-content","center"],["scope","col",2,"color","white","text-align","center"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"w-25"],["width","100px","height","100px",2,"display","block","margin","0 auto",3,"src"],[2,"color","white","font-size","larger"],[1,"toggler-wrapper","style-1"],["type","checkbox",3,"checked","value","change"],[1,"toggler-slider"],[1,"toggler-knob"]],template:function(t,r){if(1&t){const i=l.EpF();l.TgZ(0,"body")(1,"div"),l._UZ(2,"ngx-spinner",0),l.qZA(),l.TgZ(3,"h2",1),l._uU(4,"Traslado de mascotas"),l.qZA(),l.TgZ(5,"div",2)(6,"div",3)(7,"form",4)(8,"h3",5),l._uU(9,"Lavado y traslado"),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"label",6),l._uU(12,"Ingresa tu nombre y disponibilidad"),l.qZA(),l.TgZ(13,"div")(14,"input",7),l.NdJ("ngModelChange",function(c){return r.modelName=c})("ngModelChange",function(c){return r.valorInputName(c)}),l.qZA()(),l.TgZ(15,"div",8)(16,"div",9)(17,"input",10,11),l.NdJ("ngModelChange",function(c){return r.model=c})("ngModelChange",function(c){return r.valorInput(c)}),l.qZA(),l._UZ(19,"br"),l.TgZ(20,"button",12),l.NdJ("click",function(){return l.CHM(i),l.MAs(18).toggle()}),l._UZ(21,"i",13),l.qZA()()(),l.TgZ(22,"div",14),l._uU(23," > "),l._UZ(24,"link",15),l.TgZ(25,"a",16)(26,"i",17),l._uU(27,"ENVIANOS TU CONSULTA"),l.qZA()()()()()(),l.TgZ(28,"div",18),l._UZ(29,"div",19),l.TgZ(30,"div",20),l._UZ(31,"i",21),l.qZA(),l._UZ(32,"div",19),l.qZA(),l.TgZ(33,"h3",1),l._uU(34,"Compra de alimentos y envios"),l.qZA(),l.TgZ(35,"h3",22),l._uU(36," Selecciona el producto, te lo llevamos! "),l.qZA(),l._UZ(37,"br")(38,"br"),l.TgZ(39,"table",23)(40,"tr")(41,"th",24),l._uU(42," Image "),l.qZA(),l.TgZ(43,"th",24),l._uU(44," Articulo "),l.qZA(),l.TgZ(45,"th",24),l._uU(46," Precio "),l.qZA()(),l.YNc(47,yj,12,7,"tr",25),l.qZA(),l.TgZ(48,"div",14),l._uU(49," > "),l._UZ(50,"link",15),l.TgZ(51,"a",16)(52,"i",17),l._uU(53,"CONSULTA STOCK"),l.qZA()()(),l._UZ(54,"br")(55,"br"),l.qZA()}2&t&&(l.xp6(14),l.Q6J("ngModel",r.modelName),l.xp6(3),l.Q6J("ngModel",r.model),l.xp6(8),l.cQ8("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, mi nombre es ",r.mensajeNombre," estoy interesado en el lavado de mi mascota el dia Fecha disponible: ",r.mensajeDia,"/",r.mensajeMes,"",l.LSH),l.xp6(22),l.Q6J("ngForOf",r.productosMascotas),l.xp6(4),l.MGl("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el/los siguientes productos: %0D%0A ",r.mensajeFinal,"  muchas gracias.",l.LSH))},directives:[ED,BS,IS,ob,tb,ab,TS,xD,eR,pn],pipes:[Bl],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})();function bj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td",15),l._UZ(2,"img",16),l.qZA(),l.TgZ(3,"td",17),l._uU(4),l.qZA(),l.TgZ(5,"td",17),l._uU(6),l.ALo(7,"currency"),l.TgZ(8,"label",18)(9,"input",19),l.NdJ("change",function(i){return l.CHM(t),l.oxw().onChangeCheck(i)}),l.qZA(),l.TgZ(10,"div",20),l._UZ(11,"div",21),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(2),l.hij(" ",t.oportunidad," "),l.xp6(2),l.hij(" ",l.lcZ(7,5,t.precio)," "),l.xp6(3),l.Q6J("checked",!1)("value",t.oportunidad)}}let wj=(()=>{class n{constructor(t,r){this._productosOportunidadesService=t,this.spinner=r,this.mensajeProducto=[],this.productosOportunidades=[]}ngOnInit(){this.getProductosOportunidades(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}onChangeCheck(t){1==t.target.checked?this.mensajeProducto.push(t.target.value):this.mensajeProducto.splice(this.mensajeProducto.indexOf(t.target.value),1),this.mensajeFinal=this.mensajeProducto.join("-"),console.log(this.mensajeFinal)}getProductosOportunidades(){this._productosOportunidadesService.getProductosOportunidadesService().subscribe(t=>{this.productosOportunidades=[],t.forEach(r=>{this.productosOportunidades.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bD),l.Y36(eb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-oportunidades"]],decls:36,vars:2,consts:[[1,"container"],[1,"title",2,"text-align","center"],["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[2,"text-align","CENTER"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[1,"rwd-table",2,"justify-content","center"],["scope","col",2,"color","white","text-align","center"],[4,"ngFor","ngForOf"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"],[1,"w-25"],["width","100px","height","100px",2,"display","block","margin","0 auto",3,"src"],[2,"color","white","font-size","larger"],[1,"toggler-wrapper","style-1"],["type","checkbox",3,"checked","value","change"],[1,"toggler-slider"],[1,"toggler-knob"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Estas son nuestras oportunidades "),l.qZA()(),l.TgZ(5,"div"),l._UZ(6,"ngx-spinner",2),l.qZA(),l._UZ(7,"br")(8,"br"),l.TgZ(9,"h3",3),l._uU(10,"No te los pierdas! "),l.qZA(),l.TgZ(11,"div",4),l._UZ(12,"div",5),l.TgZ(13,"div",6),l._UZ(14,"i",7),l.qZA(),l._UZ(15,"div",5),l.qZA(),l.TgZ(16,"div"),l._UZ(17,"br")(18,"br"),l.TgZ(19,"table",8)(20,"tr")(21,"th",9),l._uU(22," Producto "),l.qZA(),l.TgZ(23,"th",9),l._uU(24," Oportunidad "),l.qZA(),l.TgZ(25,"th",9),l._uU(26," Precio "),l.qZA()(),l.YNc(27,bj,12,7,"tr",10),l.qZA(),l.TgZ(28,"div",11),l._uU(29," > "),l._UZ(30,"link",12),l.TgZ(31,"a",13)(32,"i",14),l._uU(33,"CONSULTA STOCK"),l.qZA()()(),l._UZ(34,"br")(35,"br"),l.qZA()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",r.productosOportunidades),l.xp6(4),l.MGl("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el/los siguientes productos: ",r.mensajeFinal," %0D%0A muchas gracias.",l.LSH))},directives:[ED,pn],pipes:[Bl],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})();function Ej(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td",17),l._UZ(2,"img",18),l.qZA(),l.TgZ(3,"td",19),l._uU(4),l.qZA(),l.TgZ(5,"td",19),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"td")(9,"label",20)(10,"input",21),l.NdJ("change",function(i){return l.CHM(t),l.oxw().onChangeCheck(i)}),l.qZA(),l.TgZ(11,"div",22),l._UZ(12,"div",23),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(2),l.hij(" ",t.descripcion," "),l.xp6(2),l.hij(" ",l.lcZ(7,5,t.precio)," "),l.xp6(4),l.Q6J("checked",!1)("value",t.descripcion)}}const Dj=[{path:"home",component:qb},{path:"",redirectTo:"home",pathMatch:"full"},{path:"mascotas",component:vj},{path:"fletes",component:_j},{path:"refrigeracion",component:(()=>{class n{constructor(t,r){this._productosRefrigeracionService=t,this.spinner=r,this.mensajeProducto=[],this.productosRefrigeracion=[]}ngOnInit(){this.getProductosRefrigeracion(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}getProductosRefrigeracion(){this._productosRefrigeracionService.getProductosRefrigeracionService().subscribe(t=>{this.productosRefrigeracion=[],t.forEach(r=>{this.productosRefrigeracion.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}onChangeCheck(t){1==t.target.checked?this.mensajeProducto.push(t.target.value):this.mensajeProducto.splice(this.mensajeProducto.indexOf(t.target.value),1),this.mensajeFinal=this.mensajeProducto.join("-"),console.log(this.mensajeFinal)}onItemChange(t){console.log(" Value is : ",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bD),l.Y36(eb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-refrigeracion"]],decls:36,vars:2,consts:[[1,"container"],[1,"title",2,"text-align","center"],["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],[1,"row",2,"color","white"],[2,"text-align","center"],[1,"rwd-table",2,"justify-content","center"],["scope","col",2,"color","white","text-align","center"],[4,"ngFor","ngForOf"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"],[1,"w-25"],["width","100px","height","100px",2,"display","block","margin","0 auto",3,"src"],[2,"color","white","font-size","larger"],[1,"toggler-wrapper","style-1"],["type","checkbox",3,"checked","value","change"],[1,"toggler-slider"],[1,"toggler-knob"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Productos de Refrigeracion "),l.qZA()(),l._UZ(5,"ngx-spinner",2),l.TgZ(6,"div",3),l._UZ(7,"div",4),l.TgZ(8,"div",5),l._UZ(9,"i",6),l.qZA(),l._UZ(10,"div",4),l.qZA(),l.TgZ(11,"div")(12,"div")(13,"h3",7),l._uU(14,"Compra de productos de refrigeracion "),l.qZA(),l._UZ(15,"br")(16,"br"),l.TgZ(17,"div",8)(18,"div",9)(19,"table",10)(20,"tr")(21,"th",11),l._uU(22," Image "),l.qZA(),l.TgZ(23,"th",11),l._uU(24," Articulo "),l.qZA(),l.TgZ(25,"th",11),l._uU(26," Precio "),l.qZA()(),l.YNc(27,Ej,13,7,"tr",12),l.qZA()()(),l.TgZ(28,"div",13),l._uU(29," > "),l._UZ(30,"link",14),l.TgZ(31,"a",15)(32,"i",16),l._uU(33,"CONSULTA STOCK"),l.qZA()()(),l._UZ(34,"br")(35,"br"),l.qZA()()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",r.productosRefrigeracion),l.xp6(4),l.MGl("href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en el/los siguientes productos: ",r.mensajeFinal," %0D%0A muchas gracias.",l.LSH))},directives:[ED,pn],pipes:[Bl],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})()},{path:"oportunidades",component:wj},{path:"aires",component:qF},{path:"**",redirectTo:"home",pathMatch:"full"}];let Cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yf.forRoot(Dj)],yf]}),n})(),Tj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:5,vars:0,consts:[[1,"navbar","navbar-inverse","navbar-fixed-bottom"],[1,"container-fluid"],[1,"navbar-header"],["routerLink","home",1,"navbar-brand"],[1,"far","fa-arrow-alt-circle-left",2,"font-size","30px","color","white"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),l._UZ(4,"i",4),l.qZA()()()())},directives:[fA,Og],styles:[""]}),n})(),Ij=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer","text-center"],[1,"row"],[1,"container"],[1,"text-uppercase","mb-4"],[1,"lead","mb-0"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+541126518411&text= Hola, estoy interesado en sus servicios muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"]],template:function(t,r){1&t&&(l.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h4",3),l._uU(4,"mas de 20 a\xf1os en la industria"),l.qZA(),l.TgZ(5,"p",4),l._UZ(6,"link",5),l.TgZ(7,"a",6)(8,"i",7),l._uU(9,"Consulta lo que necesites"),l.qZA()()()()()())},styles:[""]}),n})(),Sj=(()=>{class n{constructor(){this.title="project-cni"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[Tj,fc,Ij],styles:[""]}),n})();const _A_firebase={projectId:"cni-project-4bbcc",appId:"1:119158717211:web:d17ed3bbd63f4ad28cb1be",storageBucket:"cni-project-4bbcc.appspot.com",apiKey:"AIzaSyDWnHkmYoiifZZfNLOzl3dmbuJ92Bv6fWw",authDomain:"cni-project-4bbcc.firebaseapp.com",messagingSenderId:"119158717211"};P(573);class PR{constructor(){return(0,Rn.vb)("auth")}}class bA{constructor(e){return e}}const kR="firestore",wA=new l.OlP("angularfire2.firestore-instances");function Rj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bA(r)}}const Pj={provide:class Oj{constructor(){return(0,Rn.vb)(kR)}},deps:[[new l.FiY,wA]]},kj={provide:bA,useFactory:function xj(n,e){const t=(0,Rn.JM)(kR,n,e);return t&&new bA(t)},deps:[[new l.FiY,wA],T_]};let Fj=(()=>{class n{constructor(){(0,Up.KN)("angularfire",Rn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kj,Pj]}),n})();function Lj(n,...e){return{ngModule:Fj,providers:[{provide:wA,useFactory:Rj(n),multi:!0,deps:[l.R0b,l.zs3,Rn.HU,oM,[new l.FiY,PR],[new l.FiY,yD],...e]}]}}const Vj=(0,Rn.u3)(nd,!0),cn=!1;function FR(n){return new l.vHH(3e3,cn)}function y3(){return"undefined"!=typeof window&&void 0!==window.document}function EA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Bh(n){switch(n.length){case 0:return new X0;case 1:return n[0];default:return new ZM(n)}}function LR(n,e,t,r,i={},a={}){const c=[],f=[];let m=-1,b=null;if(r.forEach(T=>{const A=T.offset,R=A==m,B=R&&b||{};Object.keys(T).forEach(G=>{let Y=G,ye=T[G];if("offset"!==G)switch(Y=e.normalizePropertyName(Y,c),ye){case"!":ye=i[G];break;case sd:ye=a[G];break;default:ye=e.normalizeStyleValue(G,Y,ye,c)}B[Y]=ye}),R||f.push(B),b=B,m=A}),c.length)throw function a3(n){return new l.vHH(3502,cn)}();return f}function DA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&CA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&CA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&CA(t,"destroy",n)))}}function CA(n,e,t){const r=t.totalTime,a=TA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function TA(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function Xo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function VR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let IA=(n,e)=>!1,BR=(n,e,t)=>[],UR=null;function SA(n){const e=n.parentNode||n.host;return e===UR?null:e}(EA()||"undefined"!=typeof Element)&&(y3()?(UR=(()=>document.documentElement)(),IA=(n,e)=>{for(;e;){if(e===n)return!0;e=SA(e)}return!1}):IA=(n,e)=>n.contains(e),BR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Qp=null,jR=!1;function HR(n){Qp||(Qp=function b3(){return"undefined"!=typeof document?document.body:null}()||{},jR=!!Qp.style&&"WebkitAppearance"in Qp.style);let e=!0;return Qp.style&&!function v3(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Qp.style,!e&&jR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Qp.style)),e}const $R=IA,GR=BR;let zR=(()=>{class n{validateStyleProperty(t){return HR(t)}matchesElement(t,r){return!1}containsElement(t,r){return $R(t,r)}getParentElement(t){return SA(t)}query(t,r,i){return GR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],m){return new X0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),AA=(()=>{class n{}return n.NOOP=new zR,n})();const NA="ng-enter",YD="ng-leave",QD="ng-trigger",JD=".ng-trigger",WR="ng-animating",MA=".ng-animating";function Jp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OA(parseFloat(e[1]),e[2])}function OA(n,e){return"s"===e?1e3*n:n}function XD(n,e,t){return n.hasOwnProperty("duration")?n:function D3(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(FR()),{duration:0,delay:0,easing:""};i=OA(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(a=OA(parseFloat(m),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function Bj(){return new l.vHH(3100,cn)}()),f=!0),a<0&&(e.push(function Uj(){return new l.vHH(3101,cn)}()),f=!0),f&&e.splice(m,0,FR())}return{duration:i,delay:a,easing:c}}(n,e,t)}function F_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Uh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else F_(n,t);return t}function KR(n,e,t){return t?e+":"+t+";":""}function YR(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=KR(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=KR(0,I3(t),n.style[t]));n.setAttribute("style",e)}function ku(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=RA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),EA()&&YR(n))}function Xp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=RA(t);n.style[r]=""}),EA()&&YR(n))}function bb(n){return Array.isArray(n)?1==n.length?n[0]:zM(n):n}const xA=new RegExp("{{\\s*(.+?)\\s*}}","g");function QR(n){let e=[];if("string"==typeof n){let t;for(;t=xA.exec(n);)e.push(t[1]);xA.lastIndex=0}return e}function eC(n,e,t){const r=n.toString(),i=r.replace(xA,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function Hj(n){return new l.vHH(3003,cn)}()),f=""),f.toString()});return i==r?n:i}function tC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const T3=/-+([a-z0-9])/g;function RA(n){return n.replace(T3,(...e)=>e[1].toUpperCase())}function I3(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $j(n){return new l.vHH(3004,cn)}()}}function JR(n,e){return window.getComputedStyle(n)[e]}function x3(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function R3(n,e,t){if(":"==n[0]){const m=function P3(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function r3(n){return new l.vHH(3016,cn)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function n3(n){return new l.vHH(3015,cn)}()),e;const i=r[1],a=r[2],c=r[3];e.push(XR(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(XR(c,i))}(r,t,e)):t.push(n),t}const sC=new Set(["true","1"]),oC=new Set(["false","0"]);function XR(n,e){const t=sC.has(n)||oC.has(n),r=sC.has(e)||oC.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?sC.has(n):oC.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?sC.has(e):oC.has(e)),c&&f}}const k3=new RegExp("s*:selfs*,?","g");function PA(n,e,t,r){return new F3(n).build(e,t,r)}class F3{constructor(e){this._driver=e}build(e,t,r){const i=new B3(t);this._resetContextStyleTimingState(i);const a=ea(this,bb(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function zj(){return new l.vHH(3006,cn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,b=m.name;b.toString().split(/\s*,\s*/).forEach(T=>{m.name=T,a.push(this.visitState(m,t))}),m.name=b}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,c.push(m)}else t.errors.push(function qj(){return new l.vHH(3007,cn)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(aC(f)){const m=f;Object.keys(m).forEach(b=>{QR(m[b]).forEach(T=>{c.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(tC(a.values()),t.errors.push(function Wj(n,e){return new l.vHH(3008,cn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ea(this,bb(e.animation),t);return{type:1,matchers:x3(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:eg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ea(this,r,t)),options:eg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=ea(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:eg(e.options)}}visitAnimate(e,t){const r=function j3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kA(XD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=kA(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=XD(t,e);return kA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:J0({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=J0(b)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(c,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==sd?r.push(c):t.errors.push(function Zj(n){return new l.vHH(3002,cn)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(aC(c)){const f=c,m=f.easing;if(m&&(a=m,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const m=t.collectedStyles[t.currentQuerySelector],b=m[f];let T=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function Kj(n,e,t,r,i){return new l.vHH(3010,cn)}()),T=!1),a=b.startTime),T&&(m[f]={startTime:a,endTime:i}),t.options&&function C3(n,e,t){const r=e.params||{},i=QR(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function jj(n){return new l.vHH(3001,cn)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Yj(){return new l.vHH(3011,cn)}()),r;let a=0;const c=[];let f=!1,m=!1,b=0;const T=e.steps.map(He=>{const ke=this._makeStyleAst(He,t);let Qe=null!=ke.offset?ke.offset:function U3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(aC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(aC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ke.styles),Le=0;return null!=Qe&&(a++,Le=ke.offset=Qe),m=m||Le<0||Le>1,f=f||Le<b,b=Le,c.push(Le),ke});m&&t.errors.push(function Qj(){return new l.vHH(3012,cn)}()),f&&t.errors.push(function Jj(){return new l.vHH(3200,cn)}());const A=e.steps.length;let R=0;a>0&&a<A?t.errors.push(function Xj(){return new l.vHH(3202,cn)}()):0==a&&(R=1/(A-1));const B=A-1,G=t.currentTime,Y=t.currentAnimateTimings,ye=Y.duration;return T.forEach((He,ke)=>{const Qe=R>0?ke==B?1:R*ke:c[ke],Le=Qe*ye;t.currentTime=G+Y.delay+Le,Y.duration=Le,this._validateStyleAst(He,t),He.offset=Qe,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:ea(this,bb(e.animation),t),options:eg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:eg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:eg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function L3(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(k3,"")),n=n.replace(/@\*/g,JD).replace(/@\w+/g,t=>JD+"-"+t.substr(1)).replace(/:animating/g,MA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Xo(t.collectedStyles,t.currentQuerySelector,{});const f=ea(this,bb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:eg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function e3(){return new l.vHH(3013,cn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:XD(e.timings,t.errors,!0);return{type:12,animation:ea(this,bb(e.animation),t),timings:r,options:null}}}class B3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function aC(n){return!Array.isArray(n)&&"object"==typeof n}function eg(n){return n?(n=F_(n)).params&&(n.params=function V3(n){return n?F_(n):null}(n.params)):n={},n}function kA(n,e,t){return{duration:n,delay:e,easing:t}}function FA(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class lC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const G3=new RegExp(":enter","g"),q3=new RegExp(":leave","g");function LA(n,e,t,r,i,a={},c={},f,m,b=[]){return(new W3).buildKeyframes(n,e,t,r,i,a,c,f,m,b)}class W3{buildKeyframes(e,t,r,i,a,c,f,m,b,T=[]){b=b||new lC;const A=new VA(e,t,b,i,a,T,[]);A.options=m,A.currentTimeline.setStyles([c],null,A.errors,m),ea(this,r,A);const R=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let G=R.length-1;G>=0;G--){const Y=R[G];if(Y.element===t){B=Y;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,m)}return R.length?R.map(B=>B.buildKeyframes()):[FA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Jp(r.duration):null,f=null!=r.delay?Jp(r.delay):null;return 0!==c&&e.forEach(m=>{const b=t.appendInstructionToTimeline(m,c,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uC);const c=Jp(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ea(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Jp(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ea(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return XD(t.params?eC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*a),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Jp(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uC);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,b);a&&A.delayNextStep(a),b===t.element&&(m=A.currentTimeline),ea(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let m=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const T=t.currentTimeline;m&&T.delayNextStep(m);const A=T.currentTime;ea(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const uC={};class VA{constructor(e,t,r,i,a,c,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new cC(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Jp(r.duration)),null!=r.delay&&(i.delay=Jp(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=eC(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new VA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=uC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new Z3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(G3,"."+this._enterClassName)).replace(q3,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&c.push(function t3(n){return new l.vHH(3014,cn)}()),f}}class cC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||sd,this._currentKeyframe[t]=sd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function K3(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=sd})):Uh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const m=eC(c[f],a,r);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:sd),this._updateStyle(f,m)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const b=Uh(f,!0);Object.keys(b).forEach(T=>{const A=b[T];"!"==A?e.add(T):A==sd&&t.add(T)}),r||(b.offset=m/this.duration),i.push(b)});const a=e.size?tC(e.values()):[],c=t.size?tC(t.values()):[];if(r){const f=i[0],m=F_(f);f.offset=0,m.offset=1,i=[f,m]}return FA(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class Z3 extends cC{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,m=Uh(e[0],!1);m.offset=0,a.push(m);const b=Uh(e[0],!1);b.offset=nP(f),a.push(b);const T=e.length-1;for(let A=1;A<=T;A++){let R=Uh(e[A],!1);R.offset=nP((t+R.offset*r)/c),a.push(R)}r=c,t=0,i="",e=a}return FA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function nP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class BA{}class Y3 extends BA{normalizePropertyName(e,t){return RA(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(Q3[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Gj(n,e){return new l.vHH(3005,cn)}())}return c+a}}const Q3=(()=>function J3(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function rP(n,e,t,r,i,a,c,f,m,b,T,A,R){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:m,preStyleProps:b,postStyleProps:T,totalTime:A,errors:R}}const UA={};class iP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function X3(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,m,b,T){const A=[],R=this.ast.options&&this.ast.options.params||UA,G=this.buildStyles(r,f&&f.params||UA,A),Y=m&&m.params||UA,ye=this.buildStyles(i,Y,A),He=new Set,ke=new Map,Qe=new Map,Le="void"===i,tt={params:Object.assign(Object.assign({},R),Y)},at=T?[]:LA(e,t,this.ast.animation,a,c,G,ye,tt,b,A);let bt=0;if(at.forEach(Jn=>{bt=Math.max(Jn.duration+Jn.delay,bt)}),A.length)return rP(t,this._triggerName,r,i,Le,G,ye,[],[],ke,Qe,bt,A);at.forEach(Jn=>{const Xn=Jn.element,cr=Xo(ke,Xn,{});Jn.preStyleProps.forEach(Zr=>cr[Zr]=!0);const rs=Xo(Qe,Xn,{});Jn.postStyleProps.forEach(Zr=>rs[Zr]=!0),Xn!==t&&He.add(Xn)});const Bt=tC(He.values());return rP(t,this._triggerName,r,i,Le,G,ye,at,Bt,ke,Qe,bt)}}class eH{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=F_(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let m=c[f];m.length>1&&(m=eC(m,i,t));const b=this.normalizer.normalizePropertyName(f,t);m=this.normalizer.normalizeStyleValue(f,b,m,t),r[b]=m})}}),r}}class nH{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new eH(i.style,i.options&&i.options.params||{},r)}),sP(this.states,"true","1"),sP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new iP(e,i,this.states))}),this.fallbackTransition=function rH(n,e,t){return new iP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function sP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const iH=new lC;class sH{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=PA(this._driver,t,r,[]);if(r.length)throw function l3(n){return new l.vHH(3503,cn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=LR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=LA(this._driver,t,a,NA,YD,{},{},r,iH,i),c.forEach(T=>{const A=Xo(f,T.element,{});T.postStyleProps.forEach(R=>A[R]=null)})):(i.push(function u3(){return new l.vHH(3300,cn)}()),c=[]),i.length)throw function c3(n){return new l.vHH(3504,cn)}();f.forEach((T,A)=>{Object.keys(T).forEach(R=>{T[R]=this._driver.computeStyle(A,R,sd)})});const b=Bh(c.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function d3(n){return new l.vHH(3301,cn)}();return t}listen(e,t,r,i){const a=TA(t,"","","");return DA(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const oP="ng-animate-queued",jA="ng-animate-disabled",cH=[],aP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Va="__ng_removed";class HA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function gH(n){return null!=n?n:null}(r?e.value:e),r){const a=F_(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const wb="void",$A=new HA(wb);class hH{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ba(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function h3(n,e){return new l.vHH(3302,cn)}();if(null==r||0==r.length)throw function f3(n){return new l.vHH(3303,cn)}();if(!function mH(n){return"start"==n||"done"==n}(r))throw function p3(n,e){return new l.vHH(3400,cn)}();const a=Xo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=Xo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ba(e,QD),Ba(e,QD+"-"+t),f[t]=$A),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(c);m>=0&&a.splice(m,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function g3(n){return new l.vHH(3401,cn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new GA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ba(e,QD),Ba(e,QD+"-"+t),this._engine.statesByElement.set(e,f={}));let m=f[t];const b=new HA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),f[t]=b,m||(m=$A),b.value!==wb&&m.value===b.value){if(!function vH(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(m.params,b.params)){const Y=[],ye=a.matchStyles(m.value,m.params,Y),He=a.matchStyles(b.value,b.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Xp(e,ye),ku(e,He)})}return}const R=Xo(this._engine.playersByElement,e,[]);R.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let B=a.matchTransition(m.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:m,toState:b,player:c,isFallbackTransition:G}),G||(Ba(e,oP),c.onStart(()=>{L_(e,oP)})),c.onDone(()=>{let Y=this.players.indexOf(c);Y>=0&&this.players.splice(Y,1);const ye=this._engine.playersByElement.get(e);if(ye){let He=ye.indexOf(c);He>=0&&ye.splice(He,1)}}),this.players.push(c),R.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,JD,!0);r.forEach(i=>{if(i[Va])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(m=>{if(c.set(m,a[m].value),this._triggers[m]){const b=this.trigger(e,m,wb,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Bh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const m=this._triggers[c].fallbackTransition,b=r[c]||$A,T=new HA(wb),A=new GA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:m,fromState:b,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Va];(!a||a===aP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ba(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const m=TA(a,r.triggerName,r.fromState.value,r.toState.value);m._data=e,DA(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class fH{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new hH(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const b=r.indexOf(m);r.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(dC(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!dC(t))return;const a=t[Va];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ba(e,jA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),L_(e,jA))}removeNode(e,t,r,i){if(dC(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Va]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return dC(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,JD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,MA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Va];if(r&&r.setForRemoval){if(e[Va]=aP,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(jA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ba(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Bh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function m3(n){return new l.vHH(3402,cn)}()}_flushAnimations(e,t){const r=new lC,i=[],a=new Map,c=[],f=new Map,m=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(it=>{T.add(it);const gt=this.driver.query(it,".ng-animate-queued",!0);for(let xt=0;xt<gt.length;xt++)T.add(gt[xt])});const A=this.bodyNode,R=Array.from(this.statesByElement.keys()),B=cP(R,this.collectedEnterElements),G=new Map;let Y=0;B.forEach((it,gt)=>{const xt=NA+Y++;G.set(gt,xt),it.forEach(Xt=>Ba(Xt,xt))});const ye=[],He=new Set,ke=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const gt=this.collectedLeaveElements[it],xt=gt[Va];xt&&xt.setForRemoval&&(ye.push(gt),He.add(gt),xt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Xt=>He.add(Xt)):ke.add(gt))}const Qe=new Map,Le=cP(R,Array.from(He));Le.forEach((it,gt)=>{const xt=YD+Y++;Qe.set(gt,xt),it.forEach(Xt=>Ba(Xt,xt))}),e.push(()=>{B.forEach((it,gt)=>{const xt=G.get(gt);it.forEach(Xt=>L_(Xt,xt))}),Le.forEach((it,gt)=>{const xt=Qe.get(gt);it.forEach(Xt=>L_(Xt,xt))}),ye.forEach(it=>{this.processLeaveNode(it)})});const tt=[],at=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(xt=>{const Xt=xt.player,Mr=xt.element;if(tt.push(Xt),this.collectedEnterElements.length){const di=Mr[Va];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(xt.triggerName)){const Gs=di.previousTriggersValues.get(xt.triggerName),Ua=this.statesByElement.get(xt.element);Ua&&Ua[xt.triggerName]&&(Ua[xt.triggerName].value=Gs)}return void Xt.destroy()}}const mo=!A||!this.driver.containsElement(A,Mr),Ii=Qe.get(Mr),ta=G.get(Mr),Mn=this._buildInstruction(xt,r,ta,Ii,mo);if(Mn.errors&&Mn.errors.length)return void at.push(Mn);if(mo)return Xt.onStart(()=>Xp(Mr,Mn.fromStyles)),Xt.onDestroy(()=>ku(Mr,Mn.toStyles)),void i.push(Xt);if(xt.isFallbackTransition)return Xt.onStart(()=>Xp(Mr,Mn.fromStyles)),Xt.onDestroy(()=>ku(Mr,Mn.toStyles)),void i.push(Xt);const Pl=[];Mn.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||Pl.push(di)}),Mn.timelines=Pl,r.append(Mr,Mn.timelines),c.push({instruction:Mn,player:Xt,element:Mr}),Mn.queriedElements.forEach(di=>Xo(f,di,[]).push(Xt)),Mn.preStyleProps.forEach((di,Gs)=>{const Ua=Object.keys(di);if(Ua.length){let ad=m.get(Gs);ad||m.set(Gs,ad=new Set),Ua.forEach(ng=>ad.add(ng))}}),Mn.postStyleProps.forEach((di,Gs)=>{const Ua=Object.keys(di);let ad=b.get(Gs);ad||b.set(Gs,ad=new Set),Ua.forEach(ng=>ad.add(ng))})});if(at.length){const it=[];at.forEach(gt=>{it.push(function _3(n,e){return new l.vHH(3505,cn)}())}),tt.forEach(gt=>gt.destroy()),this.reportError(it)}const bt=new Map,Bt=new Map;c.forEach(it=>{const gt=it.element;r.has(gt)&&(Bt.set(gt,gt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,bt))}),i.forEach(it=>{const gt=it.element;this._getPreviousPlayers(gt,!1,it.namespaceId,it.triggerName,null).forEach(Xt=>{Xo(bt,gt,[]).push(Xt),Xt.destroy()})});const Jn=ye.filter(it=>hP(it,m,b)),Xn=new Map;uP(Xn,this.driver,ke,b,sd).forEach(it=>{hP(it,m,b)&&Jn.push(it)});const rs=new Map;B.forEach((it,gt)=>{uP(rs,this.driver,new Set(it),m,"!")}),Jn.forEach(it=>{const gt=Xn.get(it),xt=rs.get(it);Xn.set(it,Object.assign(Object.assign({},gt),xt))});const Zr=[],jh=[],Hh={};c.forEach(it=>{const{element:gt,player:xt,instruction:Xt}=it;if(r.has(gt)){if(T.has(gt))return xt.onDestroy(()=>ku(gt,Xt.toStyles)),xt.disabled=!0,xt.overrideTotalTime(Xt.totalTime),void i.push(xt);let Mr=Hh;if(Bt.size>1){let Ii=gt;const ta=[];for(;Ii=Ii.parentNode;){const Mn=Bt.get(Ii);if(Mn){Mr=Mn;break}ta.push(Ii)}ta.forEach(Mn=>Bt.set(Mn,Mr))}const mo=this._buildAnimation(xt.namespaceId,Xt,bt,a,rs,Xn);if(xt.setRealPlayer(mo),Mr===Hh)Zr.push(xt);else{const Ii=this.playersByElement.get(Mr);Ii&&Ii.length&&(xt.parentPlayer=Bh(Ii)),i.push(xt)}}else Xp(gt,Xt.fromStyles),xt.onDestroy(()=>ku(gt,Xt.toStyles)),jh.push(xt),T.has(gt)&&i.push(xt)}),jh.forEach(it=>{const gt=a.get(it.element);if(gt&&gt.length){const xt=Bh(gt);it.setRealPlayer(xt)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<ye.length;it++){const gt=ye[it],xt=gt[Va];if(L_(gt,YD),xt&&xt.hasAnimation)continue;let Xt=[];if(f.size){let mo=f.get(gt);mo&&mo.length&&Xt.push(...mo);let Ii=this.driver.query(gt,MA,!0);for(let ta=0;ta<Ii.length;ta++){let Mn=f.get(Ii[ta]);Mn&&Mn.length&&Xt.push(...Mn)}}const Mr=Xt.filter(mo=>!mo.destroyed);Mr.length?_H(this,gt,Mr):this.processLeaveNode(gt)}return ye.length=0,Zr.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const gt=this.players.indexOf(it);this.players.splice(gt,1)}),it.play()}),Zr}elementContainsData(e,t){let r=!1;const i=t[Va];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const m=!a||a==wb;f.forEach(b=>{b.queued||!m&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const b=m.element,T=b!==a,A=Xo(r,b,[]);this._getPreviousPlayers(b,T,c,f,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),A.push(B)})}Xp(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,m=t.element,b=[],T=new Set,A=new Set,R=t.timelines.map(G=>{const Y=G.element;T.add(Y);const ye=Y[Va];if(ye&&ye.removedBeforeQueried)return new X0(G.duration,G.delay);const He=Y!==m,ke=function yH(n){const e=[];return dP(n,e),e}((r.get(Y)||cH).map(bt=>bt.getRealPlayer())).filter(bt=>!!bt.element&&bt.element===Y),Qe=a.get(Y),Le=c.get(Y),tt=LR(0,this._normalizer,0,G.keyframes,Qe,Le),at=this._buildPlayer(G,tt,ke);if(G.subTimeline&&i&&A.add(Y),He){const bt=new GA(e,f,Y);bt.setRealPlayer(at),b.push(bt)}return at});b.forEach(G=>{Xo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function pH(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),T.forEach(G=>Ba(G,WR));const B=Bh(R);return B.onDestroy(()=>{T.forEach(G=>L_(G,WR)),ku(m,t.toStyles)}),A.forEach(G=>{Xo(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new X0(e.duration,e.delay)}}class GA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new X0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>DA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function dC(n){return n&&1===n.nodeType}function lP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function uP(n,e,t,r,i){const a=[];t.forEach(m=>a.push(lP(m)));const c=[];r.forEach((m,b)=>{const T={};m.forEach(A=>{const R=T[A]=e.computeStyle(b,A,i);(!R||0==R.length)&&(b[Va]=dH,c.push(b))}),n.set(b,T)});let f=0;return t.forEach(m=>lP(m,a[f++])),c}function cP(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let m=a.get(f);if(m)return m;const b=f.parentNode;return m=t.has(b)?b:i.has(b)?1:c(b),a.set(f,m),m}return e.forEach(f=>{const m=c(f);1!==m&&t.get(m).push(f)}),t}function Ba(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function L_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function _H(n,e,t){Bh(t).onDone(()=>n.processLeaveNode(e))}function dP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ZM?dP(r.players,e):e.push(r)}}function hP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class hC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new fH(e,t,r),this._timelineEngine=new sH(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const m=[],T=PA(this._driver,a,m,[]);if(m.length)throw function o3(n,e){return new l.vHH(3404,cn)}();f=function tH(n,e,t){return new nH(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=VR(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=VR(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wH=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ku(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ku(this._element,this._initialStyles),this._endStyles&&(ku(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xp(this._element,this._endStyles),this._endStyles=null),ku(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];EH(i)&&(e=e||{},e[i]=n[i])}return e}function EH(n){return"display"===n||"position"===n}class fP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:JR(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class DH{validateStyleProperty(e){return HR(e)}matchesElement(e,t){return!1}containsElement(e,t){return $R(e,t)}getParentElement(e){return SA(e)}query(e,t,r){return GR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(m.easing=a);const b={},T=c.filter(R=>R instanceof fP);(function S3(n,e){return 0===n||0===e})(r,i)&&T.forEach(R=>{let B=R.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function A3(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(m){f[m]=JR(n,m)})}}return e}(e,t=t.map(R=>Uh(R,!1)),b);const A=function bH(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=zA(e[0]),e.length>1&&(r=zA(e[e.length-1]))):e&&(t=zA(e)),t||r?new wH(n,t,r):null}(e,t);return new fP(e,t,m,A)}}let CH=(()=>{class n extends $M{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?zM(t):t;return pP(this._renderer,null,r,"register",[i]),new TH(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class TH extends class PF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new IH(this._id,e,t||{},this._renderer)}}class IH{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return pP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function pP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const gP="@.disabled";let SH=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new mP("",a,this.engine),this._rendererCache.set(a,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=T=>{Array.isArray(T)?T.forEach(m):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(m),new AH(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(hC),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==gP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class AH extends mP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==gP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function NH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function MH(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let OH=(()=>{class n extends hC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le),l.LFG(AA),l.LFG(BA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _P=new l.OlP("AnimationModuleType"),yP=[{provide:$M,useClass:CH},{provide:BA,useFactory:function xH(){return new Y3}},{provide:hC,useClass:OH},{provide:l.FYo,useFactory:function RH(n,e,t){return new SH(n,e,t)},deps:[Cn,hC,l.R0b]}],vP=[{provide:AA,useFactory:()=>new DH},{provide:_P,useValue:"BrowserAnimations"},...yP],PH=[{provide:AA,useClass:zR},{provide:_P,useValue:"NoopAnimations"},...yP];let kH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?PH:vP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:vP,imports:[Qs]}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Sj]}),n.\u0275inj=l.cJS({providers:[],imports:[[Mk(()=>Ok(_A_firebase)),Lj(()=>Vj()),Vo.hO.initializeApp(_A_firebase),Qs,Cj,mj,nx,Vo.hO,kH,zF]]}),n})();(0,l.G48)(),Za().bootstrapModule(FH).catch(n=>console.error(n))},5867:(mt,Ie,P)=>{P.d(Ie,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=P(9681);(0,l.registerVersion)("firebase","9.7.0","app")},127:(mt,Ie,P)=>{P.d(Ie,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(mt,Ie,P)=>{P.r(Ie);var l=P(5861),$=P(3942),x=P(573),se=P(2090),le=(P(9681),P(1877),P(4859));function ce(){return window}function q(){return(q=(0,l.Z)(function*(k,V,H){var ue;const{BuildInfo:je}=ce();(0,x.ap)(V.sessionId,"AuthEvent did not contain a session ID");const Ye=yield De(V.sessionId),St={};return(0,x.aq)()?St.ibi=je.packageName:(0,x.ar)()?St.apn=je.packageName:(0,x.as)(k,"operation-not-supported-in-this-environment"),je.displayName&&(St.appDisplayName=je.displayName),St.sessionId=Ye,(0,x.at)(k,H,V.type,void 0,null!==(ue=V.eventId)&&void 0!==ue?ue:void 0,St)})).apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(k){const{BuildInfo:V}=ce(),H={};(0,x.aq)()?H.iosBundleId=V.packageName:(0,x.ar)()?H.androidPackageName=V.packageName:(0,x.as)(k,"operation-not-supported-in-this-environment"),yield(0,x.au)(k,H)})).apply(this,arguments)}function Ve(){return(Ve=(0,l.Z)(function*(k,V,H){const{cordova:ue}=ce();let je=()=>{};try{yield new Promise((Ye,St)=>{let ut=null;function Rt(){var Jt;Ye();const Vr=null===(Jt=ue.plugins.browsertab)||void 0===Jt?void 0:Jt.close;"function"==typeof Vr&&Vr(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function An(){ut||(ut=window.setTimeout(()=>{St((0,x.av)(k,"redirect-cancelled-by-user"))},2e3))}function hr(){"visible"===(null==document?void 0:document.visibilityState)&&An()}V.addPassiveListener(Rt),document.addEventListener("resume",An,!1),(0,x.ar)()&&document.addEventListener("visibilitychange",hr,!1),je=()=>{V.removePassiveListener(Rt),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",hr,!1),ut&&window.clearTimeout(ut)}})}finally{je()}})).apply(this,arguments)}function De(k){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(k){const V=Ge(k),H=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(H)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ge(k){if((0,x.ap)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(k);const V=new ArrayBuffer(k.length),H=new Uint8Array(V);for(let ue=0;ue<k.length;ue++)H[ue]=k.charCodeAt(ue);return H}class Ne extends x.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(V)),super.onEvent(V)}initialized(){var V=this;return(0,l.Z)(function*(){yield V.initPromise})()}}function te(k){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(k){const V=yield ie()._get(ae(k));return V&&(yield ie()._remove(ae(k))),V})).apply(this,arguments)}function oe(){const k=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const ue=Math.floor(Math.random()*V.length);k.push(V.charAt(ue))}return k.join("")}function ie(){return(0,x.ax)(x.b)}function ae(k){return(0,x.ay)("authEvent",k.config.apiKey,k.name)}function Fe(k){if(!(null==k?void 0:k.includes("?")))return{};const[V,...H]=k.split("?");return(0,se.zd)(H.join("?"))}function ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.av)("no-auth-event")}}function nn(){var k;return(null===(k=null==self?void 0:self.location)||void 0===k?void 0:k.protocol)||null}function Fn(k=(0,se.z$)()){return!("file:"!==nn()&&"ionic:"!==nn()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Si(){try{const k=self.localStorage,V=x.aG();if(k)return k.setItem(V,"1"),k.removeItem(V),!function is(k=(0,se.z$)()){return function Fr(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Or(k=(0,se.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,se.hl)()}catch(k){return Tr()&&(0,se.hl)()}return!1}function Tr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function xr(){return(function on(){return"http:"===nn()||"https:"===nn()}()||(0,se.ru)()||Fn())&&!function Cr(){return(0,se.b$)()||(0,se.UG)()}()&&Si()&&!Tr()}function _s(){return Fn()&&"undefined"!=typeof document}function Lr(){return(Lr=(0,l.Z)(function*(){return!!_s()&&new Promise(k=>{const V=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),k(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},er=x.aw,Ai="persistence";function Ln(k){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(k){yield k._initializationPromise;const V=qt(),H=x.ay(Ai,k.config.apiKey,k.name);V&&V.setItem(H,k._getPersistence())})).apply(this,arguments)}function qt(){var k;try{return(null===(k=function Hn(){return"undefined"!=typeof window?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch(V){return null}}const yt=x.aw;class ct{constructor(){this.browserResolver=x.ax(x.k),this.cordovaResolver=x.ax(class en{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aA}_initialize(V){var H=this;return(0,l.Z)(function*(){const ue=V._key();let je=H.eventManagers.get(ue);return je||(je=new Ne(V),H.eventManagers.set(ue,je),H.attachCallbackListeners(V,je)),je})()}_openPopup(V){(0,x.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,H,ue,je){var Ye=this;return(0,l.Z)(function*(){!function ge(k){var V,H,ue,je,Ye,St,ut,Rt,An,hr;const Jt=ce();(0,x.aw)("function"==typeof(null===(V=null==Jt?void 0:Jt.universalLinks)||void 0===V?void 0:V.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.aw)(void 0!==(null===(H=null==Jt?void 0:Jt.BuildInfo)||void 0===H?void 0:H.packageName),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.aw)("function"==typeof(null===(Ye=null===(je=null===(ue=null==Jt?void 0:Jt.cordova)||void 0===ue?void 0:ue.plugins)||void 0===je?void 0:je.browsertab)||void 0===Ye?void 0:Ye.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aw)("function"==typeof(null===(Rt=null===(ut=null===(St=null==Jt?void 0:Jt.cordova)||void 0===St?void 0:St.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===Rt?void 0:Rt.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aw)("function"==typeof(null===(hr=null===(An=null==Jt?void 0:Jt.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===hr?void 0:hr.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const St=yield Ye._initialize(V);yield St.initialized(),St.resetRedirect(),(0,x.aB)(),yield Ye._originValidation(V);const ut=function we(k,V,H=null){return{type:V,eventId:H,urlResponse:null,sessionId:oe(),postBody:null,tenantId:k.tenantId,error:(0,x.av)(k,"no-auth-event")}}(V,ue,je);yield function Je(k,V){return ie()._set(ae(k),V)}(V,ut);const Rt=yield function W(k,V,H){return q.apply(this,arguments)}(V,ut,H),An=yield function xe(k){const{cordova:V}=ce();return new Promise(H=>{V.plugins.browsertab.isAvailable(ue=>{let je=null;ue?V.plugins.browsertab.openUrl(k):je=V.InAppBrowser.open(k,(0,x.ao)()?"_blank":"_system","location=yes"),H(je)})})}(Rt);return function Pe(k,V,H){return Ve.apply(this,arguments)}(V,St,An)})()}_isIframeWebStorageSupported(V,H){throw new Error("Method not implemented.")}_originValidation(V){const H=V._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ee(k){return Ke.apply(this,arguments)}(V)),this.originValidationPromises[H]}attachCallbackListeners(V,H){const{universalLinks:ue,handleOpenURL:je,BuildInfo:Ye}=ce(),St=setTimeout((0,l.Z)(function*(){yield te(V),H.onEvent(ze())}),500),ut=function(){var hr=(0,l.Z)(function*(Jt){clearTimeout(St);const Vr=yield te(V);let Vi=null;Vr&&(null==Jt?void 0:Jt.url)&&(Vi=function et(k,V){var H,ue;const je=function fe(k){const V=Fe(k),H=V.link?decodeURIComponent(V.link):void 0,ue=Fe(H).link,je=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Fe(je).link||je||ue||H||k}(V);if(je.includes("/__/auth/callback")){const Ye=Fe(je),St=Ye.firebaseError?function Ce(k){try{return JSON.parse(k)}catch(V){return null}}(decodeURIComponent(Ye.firebaseError)):null,ut=null===(ue=null===(H=null==St?void 0:St.code)||void 0===H?void 0:H.split("auth/"))||void 0===ue?void 0:ue[1],Rt=ut?(0,x.av)(ut):null;return Rt?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:je,postBody:null}}return null}(Vr,Jt.url)),H.onEvent(Vi||ze())});return function(Vr){return hr.apply(this,arguments)}}();void 0!==ue&&"function"==typeof ue.subscribe&&ue.subscribe(null,ut);const Rt=je,An=`${Ye.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var hr=(0,l.Z)(function*(Jt){if(Jt.toLowerCase().startsWith(An)&&ut({url:Jt}),"function"==typeof Rt)try{Rt(Jt)}catch(Vr){console.error(Vr)}});return function(Jt){return hr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aA}_initialize(V){var H=this;return(0,l.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,H,ue,je){var Ye=this;return(0,l.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(V,H,ue,je)})()}_openRedirect(V,H,ue,je){var Ye=this;return(0,l.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(V,H,ue,je)})()}_isIframeWebStorageSupported(V,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,H)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return _s()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,l.Z)(function*(){if(V.underlyingResolver)return;const H=yield function _t(){return Lr.apply(this,arguments)}();V.underlyingResolver=H?V.cordovaResolver:V.browserResolver})()}}function Yr(k){return k.unwrap()}function Kt(k){return Gn(k)}function Gn(k){const{_tokenResponse:V}=k instanceof se.ZR?k.customData:k;if(!V)return null;if(!(k instanceof se.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return x.P.credentialFromResult(k);const H=V.providerId;if(!H||H===x.o.PASSWORD)return null;let ue;switch(H){case x.o.GOOGLE:ue=x.N;break;case x.o.FACEBOOK:ue=x.M;break;case x.o.GITHUB:ue=x.Q;break;case x.o.TWITTER:ue=x.V;break;default:const{oauthIdToken:je,oauthAccessToken:Ye,oauthTokenSecret:St,pendingToken:ut,nonce:Rt}=V;return Ye||St||je||ut?ut?H.startsWith("saml.")?x.aJ._create(H,ut):x.I._fromParams({providerId:H,signInMethod:H,pendingToken:ut,idToken:je,accessToken:Ye}):new x.T(H).credential({idToken:je,accessToken:Ye,rawNonce:Rt}):null}return k instanceof se.ZR?ue.credentialFromError(k):ue.credentialFromResult(k)}function dn(k,V){return V.catch(H=>{throw H instanceof se.ZR&&function os(k,V){var H;const ue=null===(H=V.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Yt(k,x.am(k,V));else if(ue){const je=Gn(V),Ye=V;je&&(Ye.credential=je,Ye.tenantId=ue.tenantId||void 0,Ye.email=ue.email||void 0,Ye.phoneNumber=ue.phoneNumber||void 0)}}(k,H),H}).then(H=>{const je=H.user;return{operationType:H.operationType,credential:Kt(H),additionalUserInfo:x.ak(H),user:We.getOrCreate(je)}})}function Et(k,V){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(k,V){const H=yield V;return{verificationId:H.verificationId,confirm:ue=>dn(k,H.confirm(ue))}})).apply(this,arguments)}class Yt{constructor(V,H){this.resolver=H,this.auth=function ss(k){return k.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return dn(Yr(this.auth),this.resolver.resolveSignIn(V))}}class We{constructor(V){this._delegate=V,this.multiFactor=x.an(V)}static getOrCreate(V){return We.USER_MAP.has(V)||We.USER_MAP.set(V,new We(V)),We.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var H=this;return(0,l.Z)(function*(){return dn(H.auth,x.Y(H._delegate,V))})()}linkWithPhoneNumber(V,H){var ue=this;return(0,l.Z)(function*(){return Et(ue.auth,x.l(ue._delegate,V,H))})()}linkWithPopup(V){var H=this;return(0,l.Z)(function*(){return dn(H.auth,x.d(H._delegate,V,ct))})()}linkWithRedirect(V){var H=this;return(0,l.Z)(function*(){return yield Ln(x.aC(H.auth)),x.g(H._delegate,V,ct)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var H=this;return(0,l.Z)(function*(){return dn(H.auth,x.Z(H._delegate,V))})()}reauthenticateWithPhoneNumber(V,H){return Et(this.auth,x.r(this._delegate,V,H))}reauthenticateWithPopup(V){return dn(this.auth,x.e(this._delegate,V,ct))}reauthenticateWithRedirect(V){var H=this;return(0,l.Z)(function*(){return yield Ln(x.aC(H.auth)),x.h(H._delegate,V,ct)})()}sendEmailVerification(V){return x.aa(this._delegate,V)}unlink(V){var H=this;return(0,l.Z)(function*(){return yield x.aj(H._delegate,V),H})()}updateEmail(V){return x.af(this._delegate,V)}updatePassword(V){return x.ag(this._delegate,V)}updatePhoneNumber(V){return x.u(this._delegate,V)}updateProfile(V){return x.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,H){return x.ab(this._delegate,V,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}We.USER_MAP=new WeakMap;const Te=x.aw;let ot=(()=>{class k{constructor(H,ue){if(this.app=H,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=H.options;Te(je,"invalid-api-key",{appName:H.name}),Te(je,"invalid-api-key",{appName:H.name});const Ye="undefined"!=typeof window?ct:void 0;this._delegate=ue.initialize({options:{persistence:Ut(je,H.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(x.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?We.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,ue){x.E(this._delegate,H,ue)}applyActionCode(H){return x.a1(this._delegate,H)}checkActionCode(H){return x.a2(this._delegate,H)}confirmPasswordReset(H,ue){return x.a0(this._delegate,H,ue)}createUserWithEmailAndPassword(H,ue){var je=this;return(0,l.Z)(function*(){return dn(je._delegate,x.a4(je._delegate,H,ue))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return x.a9(this._delegate,H)}isSignInWithEmailLink(H){return x.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,l.Z)(function*(){Te(xr(),H._delegate,"operation-not-supported-in-this-environment");const ue=yield x.j(H._delegate,ct);return ue?dn(H._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function tn(k,V){(0,x.aC)(k)._logFramework(V)}(this._delegate,H)}onAuthStateChanged(H,ue,je){const{next:Ye,error:St,complete:ut}=vt(H,ue,je);return this._delegate.onAuthStateChanged(Ye,St,ut)}onIdTokenChanged(H,ue,je){const{next:Ye,error:St,complete:ut}=vt(H,ue,je);return this._delegate.onIdTokenChanged(Ye,St,ut)}sendSignInLinkToEmail(H,ue){return x.a6(this._delegate,H,ue)}sendPasswordResetEmail(H,ue){return x.$(this._delegate,H,ue||void 0)}setPersistence(H){var ue=this;return(0,l.Z)(function*(){let je;switch(function $n(k,V){er(Object.values(un).includes(V),k,"invalid-persistence-type"),(0,se.b$)()?er(V!==un.SESSION,k,"unsupported-persistence-type"):(0,se.UG)()?er(V===un.NONE,k,"unsupported-persistence-type"):Tr()?er(V===un.NONE||V===un.LOCAL&&(0,se.hl)(),k,"unsupported-persistence-type"):er(V===un.NONE||Si(),k,"unsupported-persistence-type")}(ue._delegate,H),H){case un.SESSION:je=x.a;break;case un.LOCAL:je=(yield x.ax(x.i)._isAvailable())?x.i:x.b;break;case un.NONE:je=x.K;break;default:return x.as("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return dn(this._delegate,x.W(this._delegate))}signInWithCredential(H){return dn(this._delegate,x.X(this._delegate,H))}signInWithCustomToken(H){return dn(this._delegate,x._(this._delegate,H))}signInWithEmailAndPassword(H,ue){return dn(this._delegate,x.a5(this._delegate,H,ue))}signInWithEmailLink(H,ue){return dn(this._delegate,x.a8(this._delegate,H,ue))}signInWithPhoneNumber(H,ue){return Et(this._delegate,x.s(this._delegate,H,ue))}signInWithPopup(H){var ue=this;return(0,l.Z)(function*(){return Te(xr(),ue._delegate,"operation-not-supported-in-this-environment"),dn(ue._delegate,x.c(ue._delegate,H,ct))})()}signInWithRedirect(H){var ue=this;return(0,l.Z)(function*(){return Te(xr(),ue._delegate,"operation-not-supported-in-this-environment"),yield Ln(ue._delegate),x.f(ue._delegate,H,ct)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return x.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=un,k})();function vt(k,V,H){let ue=k;"function"!=typeof k&&({next:ue,error:V,complete:H}=k);const je=ue;return{next:St=>je(St&&We.getOrCreate(St)),error:V,complete:H}}function Ut(k,V){const H=function _o(k,V){const H=qt();if(!H)return[];const ue=x.ay(Ai,k,V);switch(H.getItem(ue)){case un.NONE:return[x.K];case un.LOCAL:return[x.i,x.a];case un.SESSION:return[x.a];default:return[]}}(k,V);if("undefined"!=typeof self&&!H.includes(x.i)&&H.push(x.i),"undefined"!=typeof window)for(const ue of[x.b,x.a])H.includes(ue)||H.push(ue);return H.includes(x.K)||H.push(x.K),H}class jt{constructor(){this.providerId="phone",this._delegate=new x.P(Yr($.Z.auth()))}static credential(V,H){return x.P.credential(V,H)}verifyPhoneNumber(V,H){return this._delegate.verifyPhoneNumber(V,H)}unwrap(){return this._delegate}}jt.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,jt.PROVIDER_ID=x.P.PROVIDER_ID;const Z=x.aw;class j{constructor(V,H,ue=$.Z.app()){var je;Z(null===(je=ue.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new x.R(V,H,ue.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(k){k.INTERNAL.registerComponent(new le.wA("auth-compat",V=>{const H=V.getProvider("app-compat").getImmediate(),ue=V.getProvider("auth");return new ot(H,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.L,FacebookAuthProvider:x.M,GithubAuthProvider:x.Q,GoogleAuthProvider:x.N,OAuthProvider:x.T,SAMLAuthProvider:x.U,PhoneAuthProvider:jt,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:j,TwitterAuthProvider:x.V,Auth:ot,AuthCredential:x.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.2.12")}($.Z)},8306:(mt,Ie,P)=>{P.d(Ie,{y:()=>W});var l=P(930),$=P(727),x=P(8822),se=P(4671);var le=P(2416),ce=P(576),pe=P(2806);let W=(()=>{class xe{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const ge=new xe;return ge.source=this,ge.operator=Ve,ge}subscribe(Ve,ge,De){const st=function Ke(xe){return xe&&xe instanceof l.Lv||function ee(xe){return xe&&(0,ce.m)(xe.next)&&(0,ce.m)(xe.error)&&(0,ce.m)(xe.complete)}(xe)&&(0,$.Nn)(xe)}(Ve)?Ve:new l.Hp(Ve,ge,De);return(0,pe.x)(()=>{const{operator:Ge,source:Oe}=this;st.add(Ge?Ge.call(st,Oe):Oe?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(ge){Ve.error(ge)}}forEach(Ve,ge){return new(ge=q(ge))((De,st)=>{const Ge=new l.Hp({next:Oe=>{try{Ve(Oe)}catch(Ne){st(Ne),Ge.unsubscribe()}},error:st,complete:De});this.subscribe(Ge)})}_subscribe(Ve){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Ve)}[x.L](){return this}pipe(...Ve){return function ve(xe){return 0===xe.length?se.y:1===xe.length?xe[0]:function(Ve){return xe.reduce((ge,De)=>De(ge),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=q(Ve))((ge,De)=>{let st;this.subscribe(Ge=>st=Ge,Ge=>De(Ge),()=>ge(st))})}}return xe.create=Pe=>new xe(Pe),xe})();function q(xe){var Pe;return null!==(Pe=null!=xe?xe:le.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(mt,Ie,P)=>{P.d(Ie,{x:()=>le});var l=P(8306),$=P(727);const se=(0,P(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),ve=P(2806);let le=(()=>{class pe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ee=new ce(this,this);return ee.operator=q,ee}_throwIfClosed(){if(this.closed)throw new se}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ee}=this;for(;ee.length;)ee.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ee,isStopped:Ke,observers:xe}=this;return ee||Ke?$.Lc:(this.currentObservers=null,xe.push(q),new $.w0(()=>{this.currentObservers=null,(0,ne.P)(xe,q)}))}_checkFinalizedStatuses(q){const{hasError:ee,thrownError:Ke,isStopped:xe}=this;ee?q.error(Ke):xe&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return pe.create=(W,q)=>new ce(W,q),pe})();class ce extends le{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ee||ee.call(q,W)}error(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ee||ee.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,ee;return null!==(ee=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==ee?ee:$.Lc}}},930:(mt,Ie,P)=>{P.d(Ie,{Hp:()=>Ve,Lv:()=>ee});var l=P(576),$=P(727),x=P(2416),se=P(7849),ne=P(5032);const ve=pe("C",void 0,void 0);function pe(Oe,Ne,we){return{kind:Oe,value:Ne,error:we}}var W=P(3410),q=P(2806);class ee extends $.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,$.Nn)(Ne)&&Ne.add(this)):this.destination=Ge}static create(Ne,we,Je){return new Ve(Ne,we,Je)}next(Ne){this.isStopped?st(function ce(Oe){return pe("N",Oe,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?st(function le(Oe){return pe("E",void 0,Oe)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?st(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function xe(Oe,Ne){return Ke.call(Oe,Ne)}class Pe{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:we}=this;if(we.next)try{we.next(Ne)}catch(Je){ge(Je)}}error(Ne){const{partialObserver:we}=this;if(we.error)try{we.error(Ne)}catch(Je){ge(Je)}else ge(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(we){ge(we)}}}class Ve extends ee{constructor(Ne,we,Je){let te;if(super(),(0,l.m)(Ne)||!Ne)te={next:null!=Ne?Ne:void 0,error:null!=we?we:void 0,complete:null!=Je?Je:void 0};else{let nt;this&&x.v.useDeprecatedNextContext?(nt=Object.create(Ne),nt.unsubscribe=()=>this.unsubscribe(),te={next:Ne.next&&xe(Ne.next,nt),error:Ne.error&&xe(Ne.error,nt),complete:Ne.complete&&xe(Ne.complete,nt)}):te=Ne}this.destination=new Pe(te)}}function ge(Oe){x.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Oe):(0,se.h)(Oe)}function st(Oe,Ne){const{onStoppedNotification:we}=x.v;we&&W.z.setTimeout(()=>we(Oe,Ne))}const Ge={closed:!0,next:ne.Z,error:function De(Oe){throw Oe},complete:ne.Z}},727:(mt,Ie,P)=>{P.d(Ie,{Lc:()=>ve,w0:()=>ne,Nn:()=>le});var l=P(576);const x=(0,P(3888).d)(pe=>function(q){pe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ee,Ke)=>`${Ke+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var se=P(8737);class ne{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const xe of q)xe.remove(this);else q.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(xe){W=xe instanceof x?xe.errors:[xe]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const xe of Ke)try{ce(xe)}catch(Pe){W=null!=W?W:[],Pe instanceof x?W=[...W,...Pe.errors]:W.push(Pe)}}if(W)throw new x(W)}}add(W){var q;if(W&&W!==this)if(this.closed)ce(W);else{if(W instanceof ne){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,se.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,se.P)(q,W),W instanceof ne&&W._removeParent(this)}}ne.EMPTY=(()=>{const pe=new ne;return pe.closed=!0,pe})();const ve=ne.EMPTY;function le(pe){return pe instanceof ne||pe&&"closed"in pe&&(0,l.m)(pe.remove)&&(0,l.m)(pe.add)&&(0,l.m)(pe.unsubscribe)}function ce(pe){(0,l.m)(pe)?pe():pe.unsubscribe()}},2416:(mt,Ie,P)=>{P.d(Ie,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Ie,P)=>{P.d(Ie,{E:()=>$});const $=new(P(8306).y)(ne=>ne.complete())},8996:(mt,Ie,P)=>{P.d(Ie,{D:()=>Ne});var l=P(8421),$=P(5363),x=P(9468),ve=P(8306),ce=P(2202),pe=P(576),W=P(9672);function ee(we,Je){if(!we)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,W.f)(te,Je,()=>{const nt=we[Symbol.asyncIterator]();(0,W.f)(te,Je,()=>{nt.next().then(et=>{et.done?te.complete():te.next(et.value)})},0,!0)})})}var Ke=P(3670),xe=P(8239),Pe=P(1144),Ve=P(6495),ge=P(2206),De=P(4532),st=P(3260);function Ne(we,Je){return Je?function Oe(we,Je){if(null!=we){if((0,Ke.c)(we))return function se(we,Je){return(0,l.Xf)(we).pipe((0,x.R)(Je),(0,$.Q)(Je))}(we,Je);if((0,Pe.z)(we))return function le(we,Je){return new ve.y(te=>{let nt=0;return Je.schedule(function(){nt===we.length?te.complete():(te.next(we[nt++]),te.closed||this.schedule())})})}(we,Je);if((0,xe.t)(we))return function ne(we,Je){return(0,l.Xf)(we).pipe((0,x.R)(Je),(0,$.Q)(Je))}(we,Je);if((0,ge.D)(we))return ee(we,Je);if((0,Ve.T)(we))return function q(we,Je){return new ve.y(te=>{let nt;return(0,W.f)(te,Je,()=>{nt=we[ce.h](),(0,W.f)(te,Je,()=>{let et,oe;try{({value:et,done:oe}=nt.next())}catch(ie){return void te.error(ie)}oe?te.complete():te.next(et)},0,!0)}),()=>(0,pe.m)(null==nt?void 0:nt.return)&&nt.return()})}(we,Je);if((0,st.L)(we))return function Ge(we,Je){return ee((0,st.Q)(we),Je)}(we,Je)}throw(0,De.z)(we)}(we,Je):(0,l.Xf)(we)}},8421:(mt,Ie,P)=>{P.d(Ie,{Xf:()=>Ke});var l=P(655),$=P(1144),x=P(8239),se=P(8306),ne=P(3670),ve=P(2206),le=P(4532),ce=P(6495),pe=P(3260),W=P(576),q=P(7849),ee=P(8822);function Ke(Oe){if(Oe instanceof se.y)return Oe;if(null!=Oe){if((0,ne.c)(Oe))return function xe(Oe){return new se.y(Ne=>{const we=Oe[ee.L]();if((0,W.m)(we.subscribe))return we.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,$.z)(Oe))return function Pe(Oe){return new se.y(Ne=>{for(let we=0;we<Oe.length&&!Ne.closed;we++)Ne.next(Oe[we]);Ne.complete()})}(Oe);if((0,x.t)(Oe))return function Ve(Oe){return new se.y(Ne=>{Oe.then(we=>{Ne.closed||(Ne.next(we),Ne.complete())},we=>Ne.error(we)).then(null,q.h)})}(Oe);if((0,ve.D)(Oe))return De(Oe);if((0,ce.T)(Oe))return function ge(Oe){return new se.y(Ne=>{for(const we of Oe)if(Ne.next(we),Ne.closed)return;Ne.complete()})}(Oe);if((0,pe.L)(Oe))return function st(Oe){return De((0,pe.Q)(Oe))}(Oe)}throw(0,le.z)(Oe)}function De(Oe){return new se.y(Ne=>{(function Ge(Oe,Ne){var we,Je,te,nt;return(0,l.mG)(this,void 0,void 0,function*(){try{for(we=(0,l.KL)(Oe);!(Je=yield we.next()).done;)if(Ne.next(Je.value),Ne.closed)return}catch(et){te={error:et}}finally{try{Je&&!Je.done&&(nt=we.return)&&(yield nt.call(we))}finally{if(te)throw te.error}}Ne.complete()})})(Oe,Ne).catch(we=>Ne.error(we))})}},6451:(mt,Ie,P)=>{P.d(Ie,{T:()=>ve});var l=P(8189),$=P(8421),x=P(515),se=P(3269),ne=P(8996);function ve(...le){const ce=(0,se.yG)(le),pe=(0,se._6)(le,1/0),W=le;return W.length?1===W.length?(0,$.Xf)(W[0]):(0,l.J)(pe)((0,ne.D)(W,ce)):x.E}},5403:(mt,Ie,P)=>{P.d(Ie,{x:()=>$});var l=P(930);function $(se,ne,ve,le,ce){return new x(se,ne,ve,le,ce)}class x extends l.Lv{constructor(ne,ve,le,ce,pe,W){super(ne),this.onFinalize=pe,this.shouldUnsubscribe=W,this._next=ve?function(q){try{ve(q)}catch(ee){ne.error(ee)}}:super._next,this._error=ce?function(q){try{ce(q)}catch(ee){ne.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(q){ne.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(mt,Ie,P)=>{P.d(Ie,{U:()=>x});var l=P(4482),$=P(5403);function x(se,ne){return(0,l.e)((ve,le)=>{let ce=0;ve.subscribe((0,$.x)(le,pe=>{le.next(se.call(ne,pe,ce++))}))})}},8189:(mt,Ie,P)=>{P.d(Ie,{J:()=>x});var l=P(5577),$=P(4671);function x(se=1/0){return(0,l.z)($.y,se)}},5577:(mt,Ie,P)=>{P.d(Ie,{z:()=>ce});var l=P(4004),$=P(8421),x=P(4482),se=P(9672),ne=P(5403),le=P(576);function ce(pe,W,q=1/0){return(0,le.m)(W)?ce((ee,Ke)=>(0,l.U)((xe,Pe)=>W(ee,xe,Ke,Pe))((0,$.Xf)(pe(ee,Ke))),q):("number"==typeof W&&(q=W),(0,x.e)((ee,Ke)=>function ve(pe,W,q,ee,Ke,xe,Pe,Ve){const ge=[];let De=0,st=0,Ge=!1;const Oe=()=>{Ge&&!ge.length&&!De&&W.complete()},Ne=Je=>De<ee?we(Je):ge.push(Je),we=Je=>{xe&&W.next(Je),De++;let te=!1;(0,$.Xf)(q(Je,st++)).subscribe((0,ne.x)(W,nt=>{null==Ke||Ke(nt),xe?Ne(nt):W.next(nt)},()=>{te=!0},void 0,()=>{if(te)try{for(De--;ge.length&&De<ee;){const nt=ge.shift();Pe?(0,se.f)(W,Pe,()=>we(nt)):we(nt)}Oe()}catch(nt){W.error(nt)}}))};return pe.subscribe((0,ne.x)(W,Ne,()=>{Ge=!0,Oe()})),()=>{null==Ve||Ve()}}(ee,Ke,pe,q)))}},5363:(mt,Ie,P)=>{P.d(Ie,{Q:()=>se});var l=P(9672),$=P(4482),x=P(5403);function se(ne,ve=0){return(0,$.e)((le,ce)=>{le.subscribe((0,x.x)(ce,pe=>(0,l.f)(ce,ne,()=>ce.next(pe),ve),()=>(0,l.f)(ce,ne,()=>ce.complete(),ve),pe=>(0,l.f)(ce,ne,()=>ce.error(pe),ve)))})}},3099:(mt,Ie,P)=>{P.d(Ie,{B:()=>ve});var l=P(8996),$=P(5698),x=P(7579),se=P(930),ne=P(4482);function ve(ce={}){const{connector:pe=(()=>new x.x),resetOnError:W=!0,resetOnComplete:q=!0,resetOnRefCountZero:ee=!0}=ce;return Ke=>{let xe=null,Pe=null,Ve=null,ge=0,De=!1,st=!1;const Ge=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Oe=()=>{Ge(),xe=Ve=null,De=st=!1},Ne=()=>{const we=xe;Oe(),null==we||we.unsubscribe()};return(0,ne.e)((we,Je)=>{ge++,!st&&!De&&Ge();const te=Ve=null!=Ve?Ve:pe();Je.add(()=>{ge--,0===ge&&!st&&!De&&(Pe=le(Ne,ee))}),te.subscribe(Je),xe||(xe=new se.Hp({next:nt=>te.next(nt),error:nt=>{st=!0,Ge(),Pe=le(Oe,W,nt),te.error(nt)},complete:()=>{De=!0,Ge(),Pe=le(Oe,q),te.complete()}}),(0,l.D)(we).subscribe(xe))})(Ke)}}function le(ce,pe,...W){return!0===pe?(ce(),null):!1===pe?null:pe(...W).pipe((0,$.q)(1)).subscribe(()=>ce())}},9468:(mt,Ie,P)=>{P.d(Ie,{R:()=>$});var l=P(4482);function $(x,se=0){return(0,l.e)((ne,ve)=>{ve.add(x.schedule(()=>ne.subscribe(ve),se))})}},5698:(mt,Ie,P)=>{P.d(Ie,{q:()=>se});var l=P(515),$=P(4482),x=P(5403);function se(ne){return ne<=0?()=>l.E:(0,$.e)((ve,le)=>{let ce=0;ve.subscribe((0,x.x)(le,pe=>{++ce<=ne&&(le.next(pe),ne<=ce&&le.complete())}))})}},8505:(mt,Ie,P)=>{P.d(Ie,{b:()=>ne});var l=P(576),$=P(4482),x=P(5403),se=P(4671);function ne(ve,le,ce){const pe=(0,l.m)(ve)||le||ce?{next:ve,error:le,complete:ce}:ve;return pe?(0,$.e)((W,q)=>{var ee;null===(ee=pe.subscribe)||void 0===ee||ee.call(pe);let Ke=!0;W.subscribe((0,x.x)(q,xe=>{var Pe;null===(Pe=pe.next)||void 0===Pe||Pe.call(pe,xe),q.next(xe)},()=>{var xe;Ke=!1,null===(xe=pe.complete)||void 0===xe||xe.call(pe),q.complete()},xe=>{var Pe;Ke=!1,null===(Pe=pe.error)||void 0===Pe||Pe.call(pe,xe),q.error(xe)},()=>{var xe,Pe;Ke&&(null===(xe=pe.unsubscribe)||void 0===xe||xe.call(pe)),null===(Pe=pe.finalize)||void 0===Pe||Pe.call(pe)}))}):se.y}},4408:(mt,Ie,P)=>{P.d(Ie,{o:()=>ne});var l=P(727);class $ extends l.w0{constructor(le,ce){super()}schedule(le,ce=0){return this}}const x={setInterval(ve,le,...ce){const{delegate:pe}=x;return(null==pe?void 0:pe.setInterval)?pe.setInterval(ve,le,...ce):setInterval(ve,le,...ce)},clearInterval(ve){const{delegate:le}=x;return((null==le?void 0:le.clearInterval)||clearInterval)(ve)},delegate:void 0};var se=P(8737);class ne extends ${constructor(le,ce){super(le,ce),this.scheduler=le,this.work=ce,this.pending=!1}schedule(le,ce=0){if(this.closed)return this;this.state=le;const pe=this.id,W=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(W,pe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(W,this.id,ce),this}requestAsyncId(le,ce,pe=0){return x.setInterval(le.flush.bind(le,this),pe)}recycleAsyncId(le,ce,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ce;x.clearInterval(ce)}execute(le,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(le,ce);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ce){let W,pe=!1;try{this.work(le)}catch(q){pe=!0,W=q||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:le,scheduler:ce}=this,{actions:pe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(pe,this),null!=le&&(this.id=this.recycleAsyncId(ce,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Ie,P)=>{P.d(Ie,{v:()=>x});var l=P(6063);class ${constructor(ne,ve=$.now){this.schedulerActionCtor=ne,this.now=ve}schedule(ne,ve=0,le){return new this.schedulerActionCtor(this,ne).schedule(le,ve)}}$.now=l.l.now;class x extends ${constructor(ne,ve=$.now){super(ne,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ve}=this;if(this._active)return void ve.push(ne);let le;this._active=!0;do{if(le=ne.execute(ne.state,ne.delay))break}while(ne=ve.shift());if(this._active=!1,le){for(;ne=ve.shift();)ne.unsubscribe();throw le}}}},4986:(mt,Ie,P)=>{P.d(Ie,{P:()=>se,z:()=>x});var l=P(4408);const x=new(P(7565).v)(l.o),se=x},6063:(mt,Ie,P)=>{P.d(Ie,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(mt,Ie,P)=>{P.d(Ie,{z:()=>l});const l={setTimeout($,x,...se){const{delegate:ne}=l;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout($,x,...se):setTimeout($,x,...se)},clearTimeout($){const{delegate:x}=l;return((null==x?void 0:x.clearTimeout)||clearTimeout)($)},delegate:void 0}},2202:(mt,Ie,P)=>{P.d(Ie,{h:()=>$});const $=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Ie,P)=>{P.d(Ie,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Ie,P)=>{P.d(Ie,{_6:()=>ve,jO:()=>se,yG:()=>ne});var l=P(576),$=P(3532);function x(le){return le[le.length-1]}function se(le){return(0,l.m)(x(le))?le.pop():void 0}function ne(le){return(0,$.K)(x(le))?le.pop():void 0}function ve(le,ce){return"number"==typeof x(le)?le.pop():ce}},8737:(mt,Ie,P)=>{function l($,x){if($){const se=$.indexOf(x);0<=se&&$.splice(se,1)}}P.d(Ie,{P:()=>l})},3888:(mt,Ie,P)=>{function l($){const se=$(ne=>{Error.call(ne),ne.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ie,{d:()=>l})},2806:(mt,Ie,P)=>{P.d(Ie,{O:()=>se,x:()=>x});var l=P(2416);let $=null;function x(ne){if(l.v.useDeprecatedSynchronousErrorHandling){const ve=!$;if(ve&&($={errorThrown:!1,error:null}),ne(),ve){const{errorThrown:le,error:ce}=$;if($=null,le)throw ce}}else ne()}function se(ne){l.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ne)}},9672:(mt,Ie,P)=>{function l($,x,se,ne=0,ve=!1){const le=x.schedule(function(){se(),ve?$.add(this.schedule(null,ne)):this.unsubscribe()},ne);if($.add(le),!ve)return le}P.d(Ie,{f:()=>l})},4671:(mt,Ie,P)=>{function l($){return $}P.d(Ie,{y:()=>l})},1144:(mt,Ie,P)=>{P.d(Ie,{z:()=>l});const l=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(mt,Ie,P)=>{P.d(Ie,{D:()=>$});var l=P(576);function $(x){return Symbol.asyncIterator&&(0,l.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(mt,Ie,P)=>{function l($){return"function"==typeof $}P.d(Ie,{m:()=>l})},3670:(mt,Ie,P)=>{P.d(Ie,{c:()=>x});var l=P(8822),$=P(576);function x(se){return(0,$.m)(se[l.L])}},6495:(mt,Ie,P)=>{P.d(Ie,{T:()=>x});var l=P(2202),$=P(576);function x(se){return(0,$.m)(null==se?void 0:se[l.h])}},8239:(mt,Ie,P)=>{P.d(Ie,{t:()=>$});var l=P(576);function $(x){return(0,l.m)(null==x?void 0:x.then)}},3260:(mt,Ie,P)=>{P.d(Ie,{L:()=>se,Q:()=>x});var l=P(655),$=P(576);function x(ne){return(0,l.FC)(this,arguments,function*(){const le=ne.getReader();try{for(;;){const{value:ce,done:pe}=yield(0,l.qq)(le.read());if(pe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ce)}}finally{le.releaseLock()}})}function se(ne){return(0,$.m)(null==ne?void 0:ne.getReader)}},3532:(mt,Ie,P)=>{P.d(Ie,{K:()=>$});var l=P(576);function $(x){return x&&(0,l.m)(x.schedule)}},4482:(mt,Ie,P)=>{P.d(Ie,{A:()=>$,e:()=>x});var l=P(576);function $(se){return(0,l.m)(null==se?void 0:se.lift)}function x(se){return ne=>{if($(ne))return ne.lift(function(ve){try{return se(ve,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Ie,P)=>{function l(){}P.d(Ie,{Z:()=>l})},7849:(mt,Ie,P)=>{P.d(Ie,{h:()=>x});var l=P(2416),$=P(3410);function x(se){$.z.setTimeout(()=>{const{onUnhandledError:ne}=l.v;if(!ne)throw se;ne(se)})}},4532:(mt,Ie,P)=>{function l($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>l})},655:(mt,Ie,P)=>{function se(oe,ie){var ae={};for(var Ce in oe)Object.prototype.hasOwnProperty.call(oe,Ce)&&ie.indexOf(Ce)<0&&(ae[Ce]=oe[Ce]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(Ce=Object.getOwnPropertySymbols(oe);fe<Ce.length;fe++)ie.indexOf(Ce[fe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Ce[fe])&&(ae[Ce[fe]]=oe[Ce[fe]])}return ae}function ce(oe,ie,ae,Ce){return new(ae||(ae=Promise))(function(Fe,kt){function en(tn){try{ze(Ce.next(tn))}catch(dr){kt(dr)}}function ln(tn){try{ze(Ce.throw(tn))}catch(dr){kt(dr)}}function ze(tn){tn.done?Fe(tn.value):function fe(Fe){return Fe instanceof ae?Fe:new ae(function(kt){kt(Fe)})}(tn.value).then(en,ln)}ze((Ce=Ce.apply(oe,ie||[])).next())})}function ge(oe){return this instanceof ge?(this.v=oe,this):new ge(oe)}function De(oe,ie,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Ce=ae.apply(oe,ie||[]),Fe=[];return fe={},kt("next"),kt("throw"),kt("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function kt(kn){Ce[kn]&&(fe[kn]=function(sn){return new Promise(function(nn,on){Fe.push([kn,sn,nn,on])>1||en(kn,sn)})})}function en(kn,sn){try{!function ln(kn){kn.value instanceof ge?Promise.resolve(kn.value.v).then(ze,tn):dr(Fe[0][2],kn)}(Ce[kn](sn))}catch(nn){dr(Fe[0][3],nn)}}function ze(kn){en("next",kn)}function tn(kn){en("throw",kn)}function dr(kn,sn){kn(sn),Fe.shift(),Fe.length&&en(Fe[0][0],Fe[0][1])}}function Ge(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ie=oe[Symbol.asyncIterator];return ie?ie.call(oe):(oe=function ee(oe){var ie="function"==typeof Symbol&&Symbol.iterator,ae=ie&&oe[ie],Ce=0;if(ae)return ae.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ce>=oe.length&&(oe=void 0),{value:oe&&oe[Ce++],done:!oe}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ae={},Ce("next"),Ce("throw"),Ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Ce(Fe){ae[Fe]=oe[Fe]&&function(kt){return new Promise(function(en,ln){!function fe(Fe,kt,en,ln){Promise.resolve(ln).then(function(ze){Fe({value:ze,done:en})},kt)}(en,ln,(kt=oe[Fe](kt)).done,kt.value)})}}}P.d(Ie,{FC:()=>De,KL:()=>Ge,_T:()=>se,mG:()=>ce,qq:()=>ge})},5e3:(mt,Ie,P)=>{P.d(Ie,{$8M:()=>nr,$Z:()=>zr,AFp:()=>u_,ALo:()=>cp,AaK:()=>ce,CHM:()=>zh,CRH:()=>Wr,CZH:()=>a0,CqO:()=>uv,EJc:()=>Nh,EiD:()=>Dg,EpF:()=>Oa,F$t:()=>Vc,F4k:()=>Yd,FYo:()=>Um,FiY:()=>qi,G48:()=>Al,Gf:()=>wE,GfV:()=>jm,Gpc:()=>q,Hsn:()=>vm,Ikx:()=>_l,JOm:()=>Na,JVY:()=>cc,L6k:()=>yg,LAX:()=>vg,LFG:()=>$e,LSH:()=>Od,Lbi:()=>l0,MAs:()=>rv,MGl:()=>Qd,NdJ:()=>qe,OlP:()=>Un,Oqu:()=>Eu,PXZ:()=>HE,Q6J:()=>yu,QGY:()=>pl,Qsj:()=>Jw,QtT:()=>co,R0b:()=>Vs,RDi:()=>Zs,Rgc:()=>Cl,SBq:()=>bl,SDv:()=>Ov,Sil:()=>c0,Suo:()=>Km,TTD:()=>aa,TgZ:()=>_m,Tol:()=>iw,Udp:()=>rh,VKq:()=>Dl,VLi:()=>TI,W1O:()=>TE,WLB:()=>Zc,X6Q:()=>C0,XFs:()=>_t,Xpm:()=>jt,Y36:()=>Gf,YKP:()=>iE,YNc:()=>j1,Yjl:()=>je,Yz7:()=>sn,ZZ4:()=>Mh,_Bn:()=>Vm,_UZ:()=>sr,_Vd:()=>ka,_c5:()=>FI,_uU:()=>Tm,aQg:()=>Mp,c2e:()=>Mu,cJS:()=>on,cQ8:()=>bm,cg1:()=>br,dDg:()=>UE,deG:()=>hg,dqk:()=>Kt,eBb:()=>cf,eFA:()=>w0,ekj:()=>Dm,evT:()=>ey,g9A:()=>d_,h0i:()=>Ko,hGG:()=>LI,hij:()=>Yi,iGM:()=>bE,ifc:()=>qt,ip1:()=>l_,kEZ:()=>Lv,kL8:()=>Cv,lG2:()=>ue,lcZ:()=>hE,mCW:()=>M,n5z:()=>tc,oAB:()=>k,oJD:()=>Y_,oxw:()=>gl,pB0:()=>df,pQV:()=>vh,q3G:()=>_n,q4F:()=>bh,qLn:()=>Ig,qOj:()=>Yy,qZA:()=>Ho,qzn:()=>oo,s9C:()=>ml,sBO:()=>AI,sIi:()=>Wd,s_b:()=>fp,soG:()=>Ou,tBr:()=>ps,tb:()=>h_,tp0:()=>Wi,uIk:()=>hm,vHH:()=>Pe,vpe:()=>Yo,wAp:()=>lt,xp6:()=>Kb,yhl:()=>ru,z2F:()=>Dp,z3N:()=>ko,zSh:()=>nm,zs3:()=>bi});var l=P(7579),$=P(727),x=P(8306),se=P(6451),ne=P(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=ve({__forward_ref__:ve});function q(s){return s.__forward_ref__=q,s.toString=function(){return ce(this())},s}function ee(s){return Ke(s)?s():s}function Ke(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===q}class Pe extends Error{constructor(o,u){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function Ne(s,o){const u=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${De(s)} found${u}`)}function ze(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function on(s){return{providers:s.providers||[],imports:s.imports||[]}}function Fn(s){return Cr(s,Si)||Cr(s,xr)}function Cr(s,o){return s.hasOwnProperty(o)?s[o]:null}function is(s){return s&&(s.hasOwnProperty(Tr)||s.hasOwnProperty(_s))?s[Tr]:null}const Si=ve({\u0275prov:ve}),Tr=ve({\u0275inj:ve}),xr=ve({ngInjectableDef:ve}),_s=ve({ngInjectorDef:ve});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Lr;function un(s){const o=Lr;return Lr=s,o}function er(s,o,u){const d=Fn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&_t.Optional?null:void 0!==o?o:void Ne(ce(s),"Injector")}function $n(s){return{toString:s}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const yt="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,Yr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=yt||"undefined"!=typeof global&&global||ct||Yr,dn={},Et=[],zn=ve({\u0275cmp:ve}),Yt=ve({\u0275dir:ve}),We=ve({\u0275pipe:ve}),Te=ve({\u0275mod:ve}),ot=ve({\u0275fac:ve}),vt=ve({__NG_ELEMENT_ID__:ve});let Ut=0;function jt(s){return $n(()=>{const u={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Et,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||Et,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return d.id+=Ut++,d.inputs=H(s.inputs,u),d.outputs=H(s.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(j):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(K):null,d})}function j(s){return Ye(s)||function St(s){return s[Yt]||null}(s)}function K(s){return function ut(s){return s[We]||null}(s)}const he={};function k(s){return $n(()=>{const o={type:s.type,bootstrap:s.bootstrap||Et,declarations:s.declarations||Et,imports:s.imports||Et,exports:s.exports||Et,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),o})}function H(s,o){if(null==s)return dn;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}const ue=jt;function je(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ye(s){return s[zn]||null}function Rt(s,o){const u=s[Te]||null;if(!u&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return u}function hi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ls(s){return Array.isArray(s)&&!0===s[1]}function Ll(s){return 0!=(8&s.flags)}function ra(s){return 2==(2&s.flags)}function ia(s){return 1==(1&s.flags)}function Bi(s){return null!==s.template}function Lu(s){return 0!=(512&s[2])}function Ni(s,o){return s.hasOwnProperty(ot)?s[ot]:null}class Bl{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function aa(){return Ul}function Ul(s){return s.type.prototype.ngOnChanges&&(s.setInput=$a),$h}function $h(){const s=Ui(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===dn)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function $a(s,o,u,d){const h=Ui(s)||function Es(s,o){return s[Qr]=o}(s,{previous:dn,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[u],D=y[w];p[w]=new Bl(D&&D.currentValue,o,y===dn),s[d]=o}aa.ngInherit=!0;const Qr="__ngSimpleChanges__";function Ui(s){return s[Qr]||null}let Hl;function Zs(s){Hl=s}function bo(){return void 0!==Hl?Hl:"undefined"!=typeof document?document:void 0}function Tn(s){return!!s.listen}const wo={createRenderer:(s,o)=>bo()};function bn(s){for(;Array.isArray(s);)s=s[0];return s}function Ks(s,o){return bn(o[s])}function Rr(s,o){return bn(o[s.index])}function $l(s,o){return s.data[o]}function Mi(s,o){return s[o]}function Jr(s,o){const u=o[s];return hi(u)?u:u[0]}function Ds(s){return 4==(4&s[2])}function Do(s){return 128==(128&s[2])}function ji(s,o){return null==o?null:s[o]}function cs(s){s[18]=0}function Cs(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const Dt={lFrame:qu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function fa(){return Dt.bindingsEnabled}function Ae(){return Dt.lFrame.lView}function zt(){return Dt.lFrame.tView}function zh(s){return Dt.lFrame.contextLView=s,s[8]}function Cn(){let s=Gl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Gl(){return Dt.lFrame.currentTNode}function Ys(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Hi(s,o){const u=Dt.lFrame;u.currentTNode=s,u.isParent=o}function ju(){return Dt.lFrame.isParent}function Wa(){Dt.lFrame.isParent=!1}function pa(){return Dt.isInCheckNoChangesMode}function ga(s){Dt.isInCheckNoChangesMode=s}function pr(){const s=Dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ds(){return Dt.lFrame.bindingIndex}function _a(){return Dt.lFrame.bindingIndex++}function pi(s){const o=Dt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function ya(s){Dt.lFrame.inI18n=s}function md(s,o){const u=Dt.lFrame;u.bindingIndex=u.bindingRootIndex=s,$u(o)}function $u(s){Dt.lFrame.currentDirectiveIndex=s}function Wh(){return Dt.lFrame.currentQueryIndex}function Gu(s){Dt.lFrame.currentQueryIndex=s}function zu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function zl(s,o,u){if(u&_t.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&_t.Host||(h=zu(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Dt.lFrame=Co();return d.currentTNode=o,d.lView=s,!0}function Ka(s){const o=Co(),u=s[1];Dt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Co(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?qu(s):o}function qu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Zh(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const _d=Zh;function To(){const s=Zh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Xr(){return Dt.lFrame.selectedIndex}function Xs(s){Dt.lFrame.selectedIndex=s}function Zn(){const s=Dt.lFrame;return $l(s.tView,s.selectedIndex)}function Ya(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:N}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-u,D),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(u,N)}}function Ku(s,o,u){vd(s,o,3,u)}function ql(s,o,u,d){(3&s[2])===u&&vd(s,o,u,d)}function lr(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function vd(s,o,u,d){const p=null!=d?d:-1,y=o.length-1;let w=0;for(let D=void 0!==d?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=d&&w>=d)break}else o[D]<0&&(s[18]+=65536),(w<p||-1==p)&&(bd(s,u,o,D),s[18]=(4294901760&s[18])+D+2),D++}function bd(s,o,u,d){const h=u[d]<0,p=u[d+1],w=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Wl{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function wt(s,o,u){const d=Tn(s);let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const y=u[h++],w=u[h++],D=u[h++];d?s.setAttribute(o,w,D,y):o.setAttributeNS(y,w,D)}else{const y=p,w=u[++h];Kn(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function wn(s){return 3===s||4===s||6===s}function Kn(s){return 64===s.charCodeAt(0)}function xn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||Ed(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function Ed(s,o,u,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function tr(s){return-1!==s}function to(s){return 32767&s}function Is(s,o){let u=function Qu(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let va=!0;function $i(s){const o=va;return va=s,o}let ba=0;function gn(s,o){const u=Xa(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,no(d.data,s),no(o,null),no(d.blueprint,null));const h=ei(s,o),p=s.injectorIndex;if(tr(h)){const y=to(h),w=Is(h,o),D=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|D[y+S]}return o[p+8]=h,p}function no(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Xa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ei(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function So(s,o,u){!function Ja(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(vt)&&(d=u[vt]),null==d&&(d=u[vt]=ba++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function ro(s,o,u){if(u&_t.Optional)return s;Ne(o,"NodeInjector")}function el(s,o,u,d){if(u&_t.Optional&&void 0===d&&(d=null),0==(u&(_t.Self|_t.Host))){const h=s[9],p=un(void 0);try{return h?h.get(o,d,u&_t.Optional):er(o,d,u&_t.Optional)}finally{un(p)}}return ro(d,o,u)}function Ao(s,o,u,d=_t.Default,h){if(null!==s){const p=function io(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(vt)?s[vt]:void 0;return"number"==typeof o?o>=0?255&o:Xu:o}(u);if("function"==typeof p){if(!zl(o,s,d))return d&_t.Host?ro(h,u,d):el(o,u,d,h);try{const y=p(d);if(null!=y||d&_t.Optional)return y;Ne(u)}finally{_d()}}else if("number"==typeof p){let y=null,w=Xa(s,o),D=-1,S=d&_t.Host?o[16][6]:null;for((-1===w||d&_t.SkipSelf)&&(D=-1===w?ei(s,o):o[w+8],-1!==D&&ur(d,!1)?(y=o[1],w=to(D),o=Is(D,o)):w=-1);-1!==w;){const N=o[1];if(tl(p,w,N.data)){const F=ec(w,o,u,y,d,S);if(F!==Ss)return F}D=o[w+8],-1!==D&&ur(d,o[1].data[w+8]===S)&&tl(p,w,o)?(y=N,w=to(D),o=Is(D,o)):w=-1}}}return el(o,u,d,h)}const Ss={};function Xu(){return new As(Cn(),Ae())}function ec(s,o,u,d,h,p){const y=o[1],w=y.data[s+8],N=ti(w,y,u,null==d?ra(w)&&va:d!=y&&0!=(3&w.type),h&_t.Host&&p===w);return null!==N?wa(o,y,N,w):Ss}function ti(s,o,u,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,D=s.directiveStart,N=p>>20,z=h?w+N:s.directiveEnd;for(let J=d?w:w+N;J<z;J++){const be=y[J];if(J<D&&u===be||J>=D&&be.type===u)return J}if(h){const J=y[D];if(J&&Bi(J)&&J.type===u)return D}return null}function wa(s,o,u,d){let h=s[u];const p=o.data;if(function Qa(s){return s instanceof Wl}(h)){const y=h;y.resolving&&function st(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${u}`)}(De(p[u]));const w=$i(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?un(y.injectImpl):null;zl(s,d,_t.Default);try{h=s[u]=y.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Io(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Ul(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==D&&un(D),$i(w),y.resolving=!1,_d()}}return h}function tl(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function ur(s,o){return!(s&_t.Self||s&_t.Host&&o)}class As{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Ao(this._tNode,this._lView,o,d,u)}}function tc(s){return $n(()=>{const o=s.prototype.constructor,u=o[ot]||Bn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[ot]||Bn(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Bn(s){return Ke(s)?()=>{const o=Bn(ee(s));return o&&o()}:Ni(s)}function nr(s){return function gi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(wn(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(Cn(),s)}const Ns="__parameters__";function In(s,o,u){return $n(()=>{const d=function hs(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(D,S,N){const F=D.hasOwnProperty(Ns)?D[Ns]:Object.defineProperty(D,Ns,{value:[]})[Ns];for(;F.length<=N;)F.push(null);return(F[N]=F[N]||[]).push(y),D}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Un{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hg=new Un("AnalyzeForEntryComponents");function ri(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(o===s&&(o=s.slice(0,u)),ri(d,o)):o!==s&&o.push(d)}return o}function Gi(s,o){s.forEach(u=>Array.isArray(u)?Gi(u,o):o(u))}function Ca(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function il(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function mi(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function Ir(s,o,u){let d=Ms(s,o);return d>=0?s[1|d]=u:(d=~d,function rc(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function sc(s,o){const u=Ms(s,o);if(u>=0)return s[1|u]}function Ms(s,o){return function Kl(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const so={},Ql="__NG_DI_FLAG__",Sa="ngTempTokenPath",C=/\n/gm,O="__source",U=ve({provide:String,useValue:ve});let Q;function re(s){const o=Q;return Q=s,o}function _e(s,o=_t.Default){if(void 0===Q)throw new Pe(203,"");return null===Q?er(s,void 0,o):Q.get(s,o&_t.Optional?null:void 0,o)}function $e(s,o=_t.Default){return(function Hn(){return Lr}()||_e)(ee(s),o)}const Ct=$e;function Qt(s){const o=[];for(let u=0;u<s.length;u++){const d=ee(s[u]);if(Array.isArray(d)){if(0===d.length)throw new Pe(900,"");let h,p=_t.Default;for(let y=0;y<d.length;y++){const w=d[y],D=Hr(w);"number"==typeof D?-1===D?h=w.token:p|=D:h=w}o.push($e(h,p))}else o.push($e(d))}return o}function At(s,o){return s[Ql]=o,s.prototype[Ql]=o,s}function Hr(s){return s[Ql]}const ps=At(In("Inject",s=>({token:s})),-1),qi=At(In("Optional"),8),Wi=At(In("SkipSelf"),4);let Ro,Nd;function ol(s){var o;return(null===(o=function Ad(){if(void 0===Ro&&(Ro=null,Kt.trustedTypes))try{Ro=Kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ro}())||void 0===o?void 0:o.createHTML(s))||s}function sf(s){var o;return(null===(o=function nu(){if(void 0===Nd&&(Nd=null,Kt.trustedTypes))try{Nd=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Nd}())||void 0===o?void 0:o.createHTML(s))||s}class Po{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class lf extends Po{getTypeName(){return"HTML"}}class G_ extends Po{getTypeName(){return"Style"}}class al extends Po{getTypeName(){return"Script"}}class z_ extends Po{getTypeName(){return"URL"}}class uf extends Po{getTypeName(){return"ResourceURL"}}function ko(s){return s instanceof Po?s.changingThisBreaksApplicationSecurity:s}function oo(s,o){const u=ru(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function ru(s){return s instanceof Po&&s.getTypeName()||null}function cc(s){return new lf(s)}function yg(s){return new G_(s)}function cf(s){return new al(s)}function vg(s){return new z_(s)}function df(s){return new uf(s)}function bg(s){const o=new Tb(s);return function v(){try{return!!(new window.DOMParser).parseFromString(ol(""),"text/html")}catch(s){return!1}}()?new q_(o):o}class q_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ol(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Tb{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ol(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ol(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,E=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function M(s){return(s=String(s)).match(g)||s.match(E)?s:"unsafe:"+s}function L(s){return(s=String(s)).split(",").map(o=>M(o.trim())).join(", ")}function X(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Me(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const ft=X("area,br,col,hr,img,wbr"),It=X("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$t=X("rp,rt"),iu=Me(ft,Me(It,X("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Me($t,X("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Me($t,It)),Md=X("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dc=X("srcset"),Aa=Me(Md,dc,X("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),X("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wg=X("script,style,template");class su{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!iu.hasOwnProperty(u))return this.sanitizedSomething=!0,!wg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!Aa.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=p.value;Md[w]&&(D=M(D)),dc[w]&&(D=L(D)),this.buf.push(" ",y,'="',hf(D),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();iu.hasOwnProperty(u)&&!ft.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(hf(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const fc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eg=/([^\#-~ |!])/g;function hf(s){return s.replace(/&/g,"&amp;").replace(fc,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Eg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ll;function Dg(s,o){let u=null;try{ll=ll||bg(s);let d=o?String(o):"";u=ll.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=u.innerHTML,u=ll.getInertBodyElement(d)}while(d!==p);return ol((new su).sanitizeChildren(Z_(u)||u))}finally{if(u){const d=Z_(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Z_(s){return"content"in s&&function K_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var _n=(()=>((_n=_n||{})[_n.NONE=0]="NONE",_n[_n.HTML=1]="HTML",_n[_n.STYLE=2]="STYLE",_n[_n.SCRIPT=3]="SCRIPT",_n[_n.URL=4]="URL",_n[_n.RESOURCE_URL=5]="RESOURCE_URL",_n))();function Y_(s){const o=ou();return o?sf(o.sanitize(_n.HTML,s)||""):oo(s,"HTML")?sf(ko(s)):Dg(bo(),ge(s))}function Od(s){const o=ou();return o?o.sanitize(_n.URL,s)||"":oo(s,"URL")?ko(s):M(ge(s))}function ou(){const s=Ae();return s&&s[12]}const Sb="__ngContext__";function Pi(s,o){s[Sb]=o}function J_(s){const o=function pf(s){return s[Sb]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function mc(s){return s.ngOriginalError}function SC(s,...o){s.error(...o)}class Ig{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),d=function IC(s){return s&&s.ngErrorLogger||SC}(o);d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&mc(o);for(;u&&mc(u);)u=mc(u);return u||null}}const MC=/^>|^->|<!--|-->|--!>|<!-$/g,OC=/(<|>)/;const FC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function ey(s){return s.ownerDocument}function Lo(s){return s instanceof Function?s():s}var Na=(()=>((Na=Na||{})[Na.Important=1]="Important",Na[Na.DashCase=2]="DashCase",Na))();let ty;function Sg(s,o){return ty(s,o)}function mf(s){const o=s[3];return ls(o)?o[3]:o}function _f(s){return Fb(s[13])}function Ng(s){return Fb(s[4])}function Fb(s){for(;null!==s&&!ls(s);)s=s[4];return s}function xd(s,o,u,d,h){if(null!=d){let p,y=!1;ls(d)?p=d:hi(d)&&(y=!0,d=d[0]);const w=bn(d);0===s&&null!==u?null==h?ly(o,u,w):Rs(o,u,w,h||null,!0):1===s&&null!==u?Rs(o,u,w,h||null,!0):2===s?hy(o,w,y):3===s&&o.destroyNode(w),null!=p&&function py(s,o,u,d,h){const p=u[7];p!==bn(u)&&xd(o,s,d,p,h);for(let w=10;w<u.length;w++){const D=u[w];Pg(D[1],D,s,o,d,p)}}(o,s,p,u,h)}}function ny(s,o){return Tn(s)?s.createText(o):s.createTextNode(o)}function ry(s,o,u){Tn(s)?s.setValue(o,u):o.textContent=u}function jC(s,o){return s.createComment(function Ob(s){return s.replace(MC,o=>o.replace(OC,"\u200b$1\u200b"))}(o))}function iy(s,o,u){if(Tn(s))return s.createElement(o,u);{const d=null!==u?function fd(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function Vb(s,o){const u=s[9],d=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Cs(h,-1)),u.splice(d,1)}function sy(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&Vb(h,d),o>0&&(s[u-1][4]=d[4]);const p=il(s,10+o);!function xs(s,o){Pg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function oy(s,o){if(!(256&o[2])){const u=o[11];Tn(u)&&u.destroyNode&&Pg(s,o,u,3,null,null),function Mg(s){let o=s[13];if(!o)return ay(s[1],s);for(;o;){let u=null;if(hi(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)hi(o)&&ay(o[1],o),o=o[3];null===o&&(o=s),hi(o)&&ay(o[1],o),u=o&&o[4]}o=u}}(o)}}function ay(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Ub(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof Wl)){const p=u[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],D=p[y+1];try{D.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Bb(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+1],w="function"==typeof y?y(o):bn(o[y]),D=d[h=u[p+2]],S=u[p+3];"boolean"==typeof S?w.removeEventListener(u[p],D,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),p+=2}else{const y=d[h=u[p+1]];u[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&Tn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&ls(o[3])){u!==o[3]&&Vb(u,o);const d=o[19];null!==d&&d.detachView(s)}}}function xg(s,o,u){return $C(s,o.parent,u)}function $C(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return Rr(d,u)}function Rs(s,o,u,d,h){Tn(s)?s.insertBefore(o,u,d,h):o.insertBefore(u,d,h)}function ly(s,o,u){Tn(s)?s.appendChild(o,u):o.appendChild(u)}function jb(s,o,u,d,h){null!==d?Rs(s,o,u,d,h):ly(s,o,u)}function yf(s,o){return Tn(s)?s.parentNode(o):o.parentNode}function Hb(s,o,u){return uy(s,o,u)}function $b(s,o,u){return 40&s.type?Rr(s,u):null}let cy,uy=$b;function Gb(s,o){uy=s,cy=o}function Rg(s,o,u,d){const h=xg(s,d,o),p=o[11],w=Hb(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let D=0;D<u.length;D++)jb(p,h,u[D],w,!1);else jb(p,h,u,w,!1);void 0!==cy&&cy(p,d,o,u,h)}function Pd(s,o){if(null!==o){const u=o.type;if(3&u)return Rr(o,s);if(4&u)return dy(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return Pd(s,d);{const h=s[o.index];return ls(h)?dy(-1,h):bn(h)}}if(32&u)return Sg(o,s)()||bn(s[o.index]);{const d=zb(s,o);return null!==d?Array.isArray(d)?d[0]:Pd(mf(s[16]),d):Pd(s,o.next)}}return null}function zb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function dy(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return Pd(d,h)}return o[7]}function hy(s,o,u){const d=yf(s,o);d&&function GC(s,o,u,d){Tn(s)?s.removeChild(o,u,d):o.removeChild(u)}(s,d,o,u)}function fy(s,o,u,d,h,p,y){for(;null!=u;){const w=d[u.index],D=u.type;if(y&&0===o&&(w&&Pi(bn(w),d),u.flags|=4),64!=(64&u.flags))if(8&D)fy(s,o,u.child,d,h,p,!1),xd(o,s,h,w,p);else if(32&D){const S=Sg(u,d);let N;for(;N=S();)xd(o,s,h,N,p);xd(o,s,h,w,p)}else 16&D?qb(s,o,d,u,h,p):xd(o,s,h,w,p);u=y?u.projectionNext:u.next}}function Pg(s,o,u,d,h,p){fy(u,d,s.firstChild,o,h,p,!1)}function qb(s,o,u,d,h,p){const y=u[16],D=y[6].projection[d.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)xd(o,s,h,D[S],p);else fy(s,o,D,y[3],h,p,!0)}function kg(s,o,u){Tn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function kd(s,o,u){Tn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function Wb(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}const WC="ng-template";function ZC(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==Wb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ee(s){return 4===s.type&&s.value!==WC}function ul(s,o,u){return o===(4!==s.type||u?s.value:WC)}function Fg(s,o,u){let d=4;const h=s.attrs||[],p=function dt(s){for(let o=0;o<s.length;o++)if(wn(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&d){if(d=2|1&d,""!==D&&!ul(s,D,u)||""===D&&1===o.length){if(si(d))return!1;y=!0}}else{const S=8&d?D:o[++w];if(8&d&&null!==s.attrs){if(!ZC(s.attrs,S,u)){if(si(d))return!1;y=!0}continue}const F=rn(8&d?"class":D,h,Ee(s),u);if(-1===F){if(si(d))return!1;y=!0;continue}if(""!==S){let z;z=F>p?"":h[F+1].toLowerCase();const J=8&d?z:null;if(J&&-1!==Wb(J,S,0)||2&d&&S!==z){if(si(d))return!1;y=!0}}}}else{if(!y&&!si(d)&&!si(D))return!1;if(y&&si(D))continue;y=!1,d=D|1&d}}return si(d)||y}function si(s){return 0==(1&s)}function rn(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function gy(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function Zb(s,o,u=!1){for(let d=0;d<o.length;d++)if(Fg(s,o[d],u))return!0;return!1}function Gt(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function vf(s,o){return s?":not("+o.trim()+")":o}function my(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const w=s[++u];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!si(y)&&(o+=vf(p,h),h=""),d=y,p=p||!si(d);u++}return""!==h&&(o+=vf(p,h)),o}const Lt={};function Kb(s){Yb(zt(),Ae(),Xr()+s,pa())}function Yb(s,o,u,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ku(o,p,u)}else{const p=s.preOrderHooks;null!==p&&ql(o,p,0,u)}Xs(u)}function Pr(s,o){return s<<17|o<<2}function gs(s){return s>>17&32767}function _y(s){return 2|s}function dl(s){return(131068&s)>>2}function Lg(s,o){return-131069&s|o<<2}function vy(s){return 1|s}function Ay(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],p=u[d+1];if(-1!==p){const y=s.data[p];Gu(h),y.contentQueries(2,o[p],p)}}}function Fd(s,o,u,d,h,p,y,w,D,S){const N=o.blueprint.slice();return N[0]=h,N[2]=140|d,cs(N),N[3]=N[15]=s,N[8]=u,N[10]=y||s&&s[10],N[11]=w||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=S||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function vc(s,o,u,d,h){let p=s.data[o];if(null===p)p=If(s,o,u,d,h),function qh(){return Dt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const y=Ys();p.injectorIndex=null===y?-1:y.injectorIndex}return Hi(p,!0),p}function If(s,o,u,d,h){const p=Gl(),y=ju(),D=s.data[o]=function Oy(s,o,u,d,h,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}function bc(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Sf(s,o,u){Ka(o);try{const d=s.viewQuery;null!==d&&tm(1,d,u);const h=s.template;null!==h&&Gg(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ay(s,o),s.staticViewQueries&&tm(2,s.viewQuery,u);const p=s.components;null!==p&&function tT(s,o){for(let u=0;u<o.length;u++)By(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,To()}}function uu(s,o,u,d){const h=o[2];if(256==(256&h))return;Ka(o);const p=pa();try{cs(o),function ma(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Gg(s,o,u,2,d);const y=3==(3&h);if(!p)if(y){const S=s.preOrderCheckHooks;null!==S&&Ku(o,S,null)}else{const S=s.preOrderHooks;null!==S&&ql(o,S,0,null),lr(o,0)}if(function y1(s){for(let o=_f(s);null!==o;o=Ng(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],p=h[3];0==(1024&h[2])&&Cs(p,1),h[2]|=1024}}}(o),function Vy(s){for(let o=_f(s);null!==o;o=Ng(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];Do(d)&&uu(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Ay(s,o),!p)if(y){const S=s.contentCheckHooks;null!==S&&Ku(o,S)}else{const S=s.contentHooks;null!==S&&ql(o,S,1),lr(o,1)}!function Sy(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Xs(~h);else{const p=h,y=u[++d],w=u[++d];md(y,p),w(2,o[p])}}}finally{Xs(-1)}}(s,o);const w=s.components;null!==w&&function l1(s,o){for(let u=0;u<o.length;u++)v1(s,o[u])}(o,w);const D=s.viewQuery;if(null!==D&&tm(2,D,d),!p)if(y){const S=s.viewCheckHooks;null!==S&&Ku(o,S)}else{const S=s.viewHooks;null!==S&&ql(o,S,2),lr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Cs(o[3],-1))}finally{To()}}function Ny(s,o,u,d){const h=o[10],p=!pa(),y=Ds(o);try{p&&!y&&h.begin&&h.begin(),y&&Sf(s,o,d),uu(s,o,u,d)}finally{p&&!y&&h.end&&h.end()}}function Gg(s,o,u,d,h){const p=Xr(),y=2&d;try{Xs(-1),y&&o.length>20&&Yb(s,o,20,pa()),u(d,h)}finally{Xs(p)}}function Gr(s,o,u){!fa()||(function iT(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;s.firstCreatePass||gn(u,o),Pi(d,o);const y=u.initialInputs;for(let w=h;w<p;w++){const D=s.data[w],S=Bi(D);S&&Nf(o,u,D);const N=wa(o,s,w,u);Pi(N,o),null!==y&&_1(0,w-h,N,D,0,y),S&&(Jr(u.index,o)[8]=N)}}(s,o,u,Rr(u,o)),128==(128&u.flags)&&function sT(s,o,u){const d=u.directiveStart,h=u.directiveEnd,y=u.index,w=function Za(){return Dt.lFrame.currentDirectiveIndex}();try{Xs(y);for(let D=d;D<h;D++){const S=s.data[D],N=o[D];$u(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&wc(S,N)}}finally{Xs(-1),$u(w)}}(s,o,u))}function Ld(s,o,u=Rr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?u(o,s):s[y];s[h++]=w}}}function zg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=qg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function qg(s,o,u,d,h,p,y,w,D,S){const N=20+d,F=N+h,z=function nT(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Lt);return u}(N,F),J="function"==typeof S?S():S;return z[1]={type:s,blueprint:z,template:u,queries:null,viewQuery:w,declTNode:o,data:z.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:J,incompleteFirstPass:!1}}function Wg(s,o,u,d){const h=w1(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&Ud(s).push(d,h.length-1))}function c1(s,o,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function Ps(s,o,u,d,h,p,y,w){const D=Rr(o,u);let N,S=o.inputs;!w&&null!=S&&(N=S[d])?(jd(s,u,N,d,h),ra(o)&&function Zg(s,o){const u=Jr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(d=function d1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,Tn(p)?p.setProperty(D,d,h):Kn(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function Yg(s,o,u,d){let h=!1;if(fa()){const p=function oT(s,o,u){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Zb(u,y.selectors,!1)&&(h||(h=[]),So(gn(u,o),s,y.type),Bi(y)?(g1(s,u),h.unshift(y)):h.push(y))}return h}(s,o,u),y=null===d?null:{"":-1};if(null!==p){h=!0,Af(u,s.data.length,p.length);for(let N=0;N<p.length;N++){const F=p[N];F.providersResolver&&F.providersResolver(F)}let w=!1,D=!1,S=bc(s,o,p.length,null);for(let N=0;N<p.length;N++){const F=p[N];u.mergedAttrs=xn(u.mergedAttrs,F.hostAttrs),ky(s,u,o,S,F),m1(S,F,y),null!==F.contentQueries&&(u.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(u.flags|=128);const z=F.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!D&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),D=!0),S++}!function xy(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,D=null;for(let S=o.directiveStart;S<d;S++){const N=h[S],F=N.inputs,z=null===p||Ee(o)?null:Mf(F,p);y.push(z),w=c1(F,S,w),D=c1(N.outputs,S,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=D}(s,u)}y&&function Ec(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new Pe(-301,!1);d.push(o[h],p)}}}(u,d,y)}return u.mergedAttrs=xn(u.mergedAttrs,u.attrs),h}function Py(s,o,u,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function Qg(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(w)!=D&&w.push(D),w.push(d,h,y)}}function wc(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function g1(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function m1(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;Bi(o)&&(u[""]=s)}}function Af(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function ky(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=Ni(h.type)),y=new Wl(p,Bi(h),null);s.blueprint[d]=y,u[d]=y,Py(s,o,0,d,bc(s,u,h.hostVars,Lt),h)}function Nf(s,o,u){const d=Rr(o,s),h=zg(u),p=s[10],y=Vd(s,Fd(s,h,null,u.onPush?64:16,d,o,p,p.createRenderer(d,u),null,null));s[o.index]=y}function vi(s,o,u,d,h,p,y){if(null==p)Tn(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const w=null==y?ge(p):y(p,d||"",h);Tn(s)?s.setAttribute(o,h,w,u):u?o.setAttributeNS(u,h,w):o.setAttribute(h,w)}}function _1(s,o,u,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let D=0;D<y.length;){const S=y[D++],N=y[D++],F=y[D++];null!==w?d.setInput(u,F,S,N):u[N]=F}}}function Mf(s,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function Ly(s,o,u,d){return new Array(s,!0,!1,o,null,0,d,u,null,null)}function v1(s,o){const u=Jr(o,s);if(Do(u)){const d=u[1];80&u[2]?uu(d,u,d.template,u[8]):u[5]>0&&Dc(u)}}function Dc(s){for(let d=_f(s);null!==d;d=Ng(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];uu(y,p,y.template,p[8])}else p[5]>0&&Dc(p)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Jr(u[d],s);Do(h)&&h[5]>0&&Dc(h)}}function By(s,o){const u=Jr(o,s),d=u[1];(function Uy(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Sf(d,u,u[8])}function Vd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Bd(s){for(;s;){s[2]|=64;const o=mf(s);if(Lu(s)&&!o)return s;s=o}return null}function jy(s,o,u){const d=o[10];d.begin&&d.begin();try{uu(s,o,s.template,u)}catch(h){throw xf(o,h),h}finally{d.end&&d.end()}}function Xg(s){!function Jg(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],d=J_(u),h=d[1];Ny(h,d,h.template,u)}}(s[8])}function tm(s,o,u){Gu(0),o(s,u)}const b1=(()=>Promise.resolve(null))();function w1(s){return s[7]||(s[7]=[])}function Ud(s){return s.cleanup||(s.cleanup=[])}function xf(s,o){const u=s[9],d=u?u.get(Ig,null):null;d&&d.handleError(o)}function jd(s,o,u,d,h){for(let p=0;p<u.length;){const y=u[p++],w=u[p++],D=o[y],S=s.data[y];null!==S.setInput?S.setInput(D,h,d,w):D[w]=h}}function Hd(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=pe(h,w):2==p&&(d=pe(d,w+": "+o[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}const Pf=new Un("INJECTOR",-1);class cu{get(o,u=so){if(u===so){const d=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw d.name="NullInjectorError",d}return u}}const nm=new Un("Set Injector scope."),kf={},Cc={};let jo;function Ff(){return void 0===jo&&(jo=new cu),jo}function Lf(s,o=null,u=null,d){const h=Vf(s,o,u,d);return h._resolveInjectorDefTypes(),h}function Vf(s,o=null,u=null,d){return new E1(s,u,o||Ff(),d)}class E1{constructor(o,u,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];u&&Gi(u,w=>this.processProvider(w,o,u)),Gi([o],w=>this.processInjectorType(w,[],p)),this.records.set(Pf,Ma(void 0,this));const y=this.records.get(nm);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=so,d=_t.Default){this.assertNotDestroyed();const h=re(this),p=un(void 0);try{if(!(d&_t.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function Bf(s){return"function"==typeof s||"object"==typeof s&&s instanceof Un}(o)&&Fn(o);w=D&&this.injectableDefInScope(D)?Ma(jn(o),kf):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&_t.Self?Ff():this.parent).get(o,u=d&_t.Optional&&u===so?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Sa]=y[Sa]||[]).unshift(ce(o)),h)throw y;return function mr(s,o,u,d){const h=s[Sa];throw o[O]&&h.unshift(o[O]),s.message=function Os(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(C,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[Sa]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{un(p),re(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,u,d){if(!(o=ee(o)))return!1;let h=is(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=is(p)),null==h)return!1;if(null!=h.imports&&!w){let N;d.push(y);try{Gi(h.imports,F=>{this.processInjectorType(F,u,d)&&(void 0===N&&(N=[]),N.push(F))})}finally{}if(void 0!==N)for(let F=0;F<N.length;F++){const{ngModule:z,providers:J}=N[F];Gi(J,be=>this.processProvider(be,z,J||Et))}}this.injectorDefTypes.add(y);const D=Ni(y)||(()=>new y);this.records.set(y,Ma(D,kf));const S=h.providers;if(null!=S&&!w){const N=o;Gi(S,F=>this.processProvider(F,N,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,u,d){let h=Gd(o=ee(o))?o:ee(o&&o.provide);const p=function uT(s,o,u){return $d(s)?Ma(void 0,s.useValue):Ma(D1(s),kf)}(o);if(Gd(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Ma(void 0,kf,!0),y.factory=()=>Qt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,u){return u.value===kf&&(u.value=Cc,u.value=u.factory()),"object"==typeof u.value&&u.value&&function fT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=ee(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function jn(s){const o=Fn(s),u=null!==o?o.factory:Ni(s);if(null!==u)return u;if(s instanceof Un)throw new Pe(204,!1);if(s instanceof Function)return function rm(s){const o=s.length;if(o>0)throw mi(o,"?"),new Pe(204,!1);const u=function Fr(s){const o=s&&(s[Si]||s[xr]);if(o){const u=function Or(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Pe(204,!1)}function D1(s,o,u){let d;if(Gd(s)){const h=ee(s);return Ni(h)||jn(h)}if($d(s))d=()=>ee(s.useValue);else if(function C1(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Qt(s.deps||[]));else if(function cT(s){return!(!s||!s.useExisting)}(s))d=()=>$e(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function hT(s){return!!s.deps}(s))return Ni(h)||jn(h);d=()=>new h(...Qt(s.deps))}return d}function Ma(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function $d(s){return null!==s&&"object"==typeof s&&U in s}function Gd(s){return"function"==typeof s}let bi=(()=>{class s{static create(u,d){var h;if(Array.isArray(u))return Lf({name:""},d,u,"");{const p=null!==(h=u.name)&&void 0!==h?h:"";return Lf({name:p},u.parent,u.providers,p)}}}return s.THROW_IF_NOT_FOUND=so,s.NULL=new cu,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>$e(Pf)}),s.__NG_ELEMENT_ID__=-1,s})();function R1(s,o){Ya(J_(s)[1],Cn())}function Yy(s){let o=function P1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(Bi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");h=o.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=am(s.inputs),y.declaredInputs=am(s.declaredInputs),y.outputs=am(s.outputs);const w=h.hostBindings;w&&lm(s,w);const D=h.viewQuery,S=h.contentQueries;if(D&&k1(s,D),S&&F1(s,S),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),Bi(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Yy&&(u=!1)}}o=Object.getPrototypeOf(o)}!function yT(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=xn(h.hostAttrs,u=xn(u,h.hostAttrs))}}(d)}function am(s){return s===dn?{}:s===Et?[]:s}function k1(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function F1(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function lm(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let um=null;function du(){if(!um){const s=Kt.Symbol;if(s&&s.iterator)um=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(um=d)}}}return um}function Wd(s){return!!dm(s)&&(Array.isArray(s)||!(s instanceof Map)&&du()in s)}function dm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ao(s,o,u){return s[o]=u}function ki(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function fu(s,o,u,d){const h=ki(s,o,u);return ki(s,o+1,d)||h}function pu(s,o,u,d,h){const p=fu(s,o,u,d);return ki(s,o+2,h)||p}function hm(s,o,u,d){const h=Ae();return ki(h,_a(),o)&&(zt(),function Uo(s,o,u,d,h,p){const y=Rr(s,o);vi(o[11],y,p,s.value,u,d,h)}(Zn(),h,s,o,u,d)),hm}function mu(s,o,u,d){return ki(s,_a(),u)?o+ge(u)+d:Lt}function j1(s,o,u,d,h,p,y,w){const D=Ae(),S=zt(),N=s+20,F=S.firstCreatePass?function nv(s,o,u,d,h,p,y,w,D){const S=o.consts,N=vc(o,s,4,y||null,ji(S,w));Yg(o,u,N,ji(S,D)),Ya(o,N);const F=N.tViews=qg(2,N,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),F.queries=o.queries.embeddedTView(N)),N}(N,S,D,o,u,d,h,p,y):S.data[N];Hi(F,!1);const z=D[11].createComment("");Rg(S,D,z,F),Pi(z,D),Vd(D,D[N]=Ly(z,D,z,F)),ia(F)&&Gr(S,D,F),null!=y&&Ld(D,F,w)}function rv(s){return Mi(function Hu(){return Dt.lFrame.contextLView}(),20+s)}function Gf(s,o=_t.Default){const u=Ae();return null===u?$e(s,o):Ao(Cn(),u,ee(s),o)}function zr(){throw new Error("invalid")}function yu(s,o,u){const d=Ae();return ki(d,_a(),o)&&Ps(zt(),Zn(),d,s,o,d[11],u,!1),yu}function av(s,o,u,d,h){const y=h?"class":"style";jd(s,u,o.inputs[y],y,d)}function _m(s,o,u,d){const h=Ae(),p=zt(),y=20+s,w=h[11],D=h[y]=iy(w,o,function yd(){return Dt.lFrame.currentNamespace}()),S=p.firstCreatePass?function qr(s,o,u,d,h,p,y){const w=o.consts,S=vc(o,s,2,h,ji(w,p));return Yg(o,u,S,ji(w,y)),null!==S.attrs&&Hd(S,S.attrs,!1),null!==S.mergedAttrs&&Hd(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,u,d):p.data[y];Hi(S,!0);const N=S.mergedAttrs;null!==N&&wt(w,D,N);const F=S.classes;null!==F&&kd(w,D,F);const z=S.styles;return null!==z&&kg(w,D,z),64!=(64&S.flags)&&Rg(p,h,D,S),0===function pd(){return Dt.lFrame.elementDepthCount}()&&Pi(D,h),function ha(){Dt.lFrame.elementDepthCount++}(),ia(S)&&(Gr(p,h,S),function $r(s,o,u){if(Ll(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,u[p],p)}}}(p,S,h)),null!==d&&Ld(h,S),_m}function Ho(){let s=Cn();ju()?Wa():(s=s.parent,Hi(s,!1));const o=s;!function gd(){Dt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(Ya(u,s),Ll(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function wd(s){return 0!=(16&s.flags)}(o)&&av(u,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function B_(s){return 0!=(32&s.flags)}(o)&&av(u,o,Ae(),o.stylesWithoutHost,!1),Ho}function sr(s,o,u,d){return _m(s,o,u,d),Ho(),sr}function Oa(){return Ae()}function pl(s){return!!s&&"function"==typeof s.then}function Yd(s){return!!s&&"function"==typeof s.subscribe}const uv=Yd;function qe(s,o,u,d){const h=Ae(),p=zt(),y=Cn();return function vu(s,o,u,d,h,p,y,w){const D=ia(d),N=s.firstCreatePass&&Ud(s),F=o[8],z=w1(o);let J=!0;if(3&d.type||w){const Ze=Rr(d,o),ht=w?w(Ze):Ze,Se=z.length,Tt=w?an=>w(bn(an[d.index])):d.index;if(Tn(u)){let an=null;if(!w&&D&&(an=function Y1(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===d){const w=o[7],D=h[p+2];return w.length>D?w[D]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==an)(an.__ngLastListenerFn__||an).__ngNextListenerFn__=p,an.__ngLastListenerFn__=p,J=!1;else{p=Lc(d,o,F,p,!1);const Nt=u.listen(ht,h,p);z.push(p,Nt),N&&N.push(h,Tt,Se,Se+1)}}else p=Lc(d,o,F,p,!0),ht.addEventListener(h,p,y),z.push(p),N&&N.push(h,Tt,Se,y)}else p=Lc(d,o,F,p,!1);const be=d.outputs;let Ue;if(J&&null!==be&&(Ue=be[h])){const Ze=Ue.length;if(Ze)for(let ht=0;ht<Ze;ht+=2){const ho=o[Ue[ht]][Ue[ht+1]].subscribe(p),nd=z.length;z.push(p,ho),N&&N.push(h,d.index,nd,-(nd+1))}}}(p,h,h[11],y,s,o,!!u,d),qe}function $o(s,o,u,d){try{return!1!==u(d)}catch(h){return xf(s,h),!1}}function Lc(s,o,u,d,h){return function p(y){if(y===Function)return d;const w=2&s.flags?Jr(s.index,o):o;0==(32&o[2])&&Bd(w);let D=$o(o,0,d,y),S=p.__ngNextListenerFn__;for(;S;)D=$o(o,0,S,y)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function gl(s=1){return function Js(s){return(Dt.lFrame.contextLView=function Wu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function Q1(s,o){let u=null;const d=function cl(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?Zb(s,p,!0):Gt(d,p))return h}else u=h}return u}function Vc(s){const o=Ae()[16][6];if(!o.projection){const d=o.projection=mi(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?Q1(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function vm(s,o=0,u){const d=Ae(),h=zt(),p=vc(h,20+s,16,null,u||null);null===p.projection&&(p.projection=o),Wa(),64!=(64&p.flags)&&function qC(s,o,u){qb(o[11],0,o,u,xg(s,u,o),Hb(u.parent||o[6],u,o))}(h,d,p)}function ml(s,o,u){return Qd(s,"",o,"",u),ml}function Qd(s,o,u,d,h){const p=Ae(),y=mu(p,o,u,d);return y!==Lt&&Ps(zt(),Zn(),p,s,y,p[11],h,!1),Qd}function bm(s,o,u,d,h,p,y,w,D){const S=Ae(),N=function fl(s,o,u,d,h,p,y,w){const S=pu(s,ds(),u,h,y);return pi(3),S?o+ge(u)+d+ge(h)+p+ge(y)+w:Lt}(S,o,u,d,h,p,y,w);return N!==Lt&&Ps(zt(),Zn(),S,s,N,S[11],D,!1),bm}function fv(s,o,u,d,h){const p=s[u+1],y=null===o;let w=d?gs(p):dl(p),D=!1;for(;0!==w&&(!1===D||y);){const N=s[w+1];Yn(s[w],o)&&(D=!0,s[w+1]=d?vy(N):_y(N)),w=d?gs(N):dl(N)}D&&(s[u+1]=d?_y(p):vy(p))}function Yn(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ms(s,o)>=0}const vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wm(s){return s.substring(vr.key,vr.keyEnd)}function eh(s,o){const u=vr.textEnd;return u===o?-1:(o=vr.keyEnd=function TT(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,vr.key=o,u),th(s,o,u))}function th(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function rh(s,o,u){return zo(s,o,u,!1),rh}function Dm(s,o){return zo(s,o,null,!0),Dm}function iw(s){!function uo(s,o,u,d){const h=zt(),p=pi(2);h.firstUpdatePass&&ow(h,null,p,d);const y=Ae();if(u!==Lt&&ki(y,p,u)){const w=h.data[Xr()];if(Cm(w,d)&&!sw(h,p)){let D=d?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(u=pe(D,u||"")),av(h,w,y,u,d)}else!function lw(s,o,u,d,h,p,y,w){h===Lt&&(h=Et);let D=0,S=0,N=0<h.length?h[0]:null,F=0<p.length?p[0]:null;for(;null!==N||null!==F;){const z=D<h.length?h[D+1]:void 0,J=S<p.length?p[S+1]:void 0;let Ue,be=null;N===F?(D+=2,S+=2,z!==J&&(be=F,Ue=J)):null===F||null!==N&&N<F?(D+=2,be=N):(S+=2,be=F,Ue=J),null!==be&&Uc(s,o,u,d,be,Ue,y,w),N=D<h.length?h[D]:null,F=S<p.length?p[S]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function aw(s,o,u){if(null==u||""===u)return Et;const d=[],h=ko(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,p)}}(Ir,Ra,s,!0)}function Ra(s,o){for(let u=function Em(s){return function xa(s){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=s.length}(s),eh(s,th(s,0,vr.textEnd))}(o);u>=0;u=eh(o,u))Ir(s,wm(o),!0)}function zo(s,o,u,d){const h=Ae(),p=zt(),y=pi(2);p.firstUpdatePass&&ow(p,s,y,d),o!==Lt&&ki(h,y,o)&&Uc(p,p.data[Xr()],h,h[11],s,h[y+1]=function mv(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(ko(s)))),s}(o,u),d,y)}function sw(s,o){return o>=s.expandoStartIndex}function ow(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[Xr()],y=sw(s,u);Cm(p,d)&&null===o&&!y&&(o=!1),o=function ST(s,o,u,d){const h=function Qs(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=sh(u=gv(null,s,o,u,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=gv(h,s,o,u,d),null===p){let D=function AT(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==dl(d))return s[gs(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=gv(null,s,o,D[1],d),D=sh(D,o.attrs,d),function wu(s,o,u,d){s[gs(u?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else p=function ih(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=sh(d,s[p].hostAttrs,u);return sh(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function ew(s,o,u,d,h,p){let y=p?o.classBindings:o.styleBindings,w=gs(y),D=dl(y);s[d]=u;let N,S=!1;if(Array.isArray(u)){const F=u;N=F[1],(null===N||Ms(F,N)>0)&&(S=!0)}else N=u;if(h)if(0!==D){const z=gs(s[w+1]);s[d+1]=Pr(z,w),0!==z&&(s[z+1]=Lg(s[z+1],d)),s[w+1]=function au(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Pr(w,0),0!==w&&(s[w+1]=Lg(s[w+1],d)),w=d;else s[d+1]=Pr(D,0),0===w?w=d:s[D+1]=Lg(s[D+1],d),D=d;S&&(s[d+1]=_y(s[d+1])),fv(s,N,d,!0),fv(s,N,d,!1),function Fi(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ms(p,o)>=0&&(u[d+1]=vy(u[d+1]))}(o,N,s,d,p),y=Pr(w,D),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,d)}}function gv(s,o,u,d,h){let p=null;const y=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<y&&(p=o[w],d=sh(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(u.directiveStylingLast=w),d}function sh(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ir(s,y,!!u||o[++p]))}return void 0===s?null:s}function Uc(s,o,u,d,h,p,y,w){if(!(3&o.type))return;const D=s.data,S=D[w+1];jc(function yy(s){return 1==(1&s)}(S)?qf(D,o,u,h,dl(S),y):void 0)||(jc(p)||function oi(s){return 2==(2&s)}(S)&&(p=qf(D,null,u,h,w,y)),function Rn(s,o,u,d,h){const p=Tn(s);if(o)h?p?s.addClass(u,d):u.classList.add(d):p?s.removeClass(u,d):u.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Na.DashCase;if(null==h)p?s.removeStyle(u,d,y):u.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=Na.Important),p?s.setStyle(u,d,h,y):u.style.setProperty(d,h,w?"important":"")}}}(d,y,Ks(Xr(),u),h,p))}function qf(s,o,u,d,h,p){const y=null===o;let w;for(;h>0;){const D=s[h],S=Array.isArray(D),N=S?D[1]:D,F=null===N;let z=u[h+1];z===Lt&&(z=F?Et:void 0);let J=F?sc(z,d):N===d?z:void 0;if(S&&!jc(J)&&(J=sc(D,d)),jc(J)&&(w=J,y))return w;const be=s[h+1];h=y?gs(be):dl(be)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=sc(D,d))}return w}function jc(s){return void 0!==s}function Cm(s,o){return 0!=(s.flags&(o?16:32))}function Tm(s,o=""){const u=Ae(),d=zt(),h=s+20,p=d.firstCreatePass?vc(d,h,1,o,null):d.data[h],y=u[h]=ny(u[11],o);Rg(d,u,y,p),Hi(p,!1)}function Eu(s){return Yi("",s,""),Eu}function Yi(s,o,u){const d=Ae(),h=mu(d,s,o,u);return h!==Lt&&function Ki(s,o,u){const d=Ks(o,s);ry(s[11],d,u)}(d,Xr(),h),Yi}function _l(s,o,u){const d=Ae();return ki(d,_a(),o)&&Ps(zt(),Zn(),d,s,o,d[11],u,!0),_l}const Du=void 0;var Yf=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bw(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Cu={};function br(s){const o=function Mm(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Tv(o);if(u)return u;const d=o.split("-")[0];if(u=Tv(d),u)return u;if("en"===d)return Yf;throw new Error(`Missing locale data for the locale "${s}".`)}function Cv(s){return br(s)[lt.PluralCase]}function Tv(s){return s in Cu||(Cu[s]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[s]),Cu[s]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const Di=["zero","one","two","few","many"],Qf="en-US",Om={marker:"element"},Qi={marker:"ICU"};var wr=(()=>((wr=wr||{})[wr.SHIFT=2]="SHIFT",wr[wr.APPEND_EAGERLY=1]="APPEND_EAGERLY",wr[wr.COMMENT=2]="COMMENT",wr))();let dh=Qf;function En(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?$b(s,0,u):bn(u[h])}function Ew(s,o,u,d,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,w=null;if(3&o.type||(w=y,y=h),null!==y&&0==(2&o.flags))for(let D=1;D<p.length;D++)Rs(s,y,u[p[D]],w,!1)}}function Jf(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];hh(d)||Xf(d,o)&&null===xm(d)&&Dw(d,o.index)}}function hh(s){return!(64&s.type)}function Xf(s,o){return hh(o)||s.index>o.index}function xm(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Dw(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(Gb(En,Ew),s.insertBeforeIndex=o)}function fh(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Tw(s,o,u){const d=If(s,u,64,null,null);return Jf(o,d),d}function ep(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Iw(s){return s>>>17}function Sw(s){return(131070&s)>>>1}let ph=0,np=0;function gh(s,o,u,d){const h=u[11];let y,p=null;for(let w=0;w<o.length;w++){const D=o[w];if("string"==typeof D){const S=o[++w];null===u[S]&&(u[S]=ny(h,D))}else if("number"==typeof D)switch(1&D){case 0:const S=Iw(D);let N,F;if(null===p&&(p=S,y=yf(h,d)),S===p?(N=d,F=y):(N=null,F=bn(u[S])),null!==F){const Ue=Sw(D);Rs(h,F,u[Ue],N,!1);const ht=fh(s,Ue);if(null!==ht&&"object"==typeof ht){const Se=ep(ht,u);null!==Se&&gh(s,ht.create[Se],u,u[ht.anchorIdx])}}break;case 1:const J=o[++w],be=o[++w];vi(h,Ks(D>>>1,u),null,null,J,be,null)}else switch(D){case Qi:const S=o[++w],N=o[++w];null===u[N]&&Pi(u[N]=jC(h,S),u);break;case Om:const F=o[++w],z=o[++w];null===u[z]&&Pi(u[z]=iy(h,F,null),u)}}}function qo(s,o,u,d,h){for(let p=0;p<u.length;p++){const y=u[p],w=u[++p];if(y&h){let D="";for(let S=p+1;S<=p+w;S++){const N=u[S];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=ge(o[d-N]);else{const F=N>>>2;switch(3&N){case 1:const z=u[++S],J=u[++S],be=s.data[F];"string"==typeof be?vi(o[11],o[F],null,be,z,D,J):Ps(s,be,o,z,D,o[11],J,!1);break;case 0:const Ue=o[F];null!==Ue&&ry(o[11],Ue,D);break;case 2:Mw(s,fh(s,F),o,D);break;case 3:Rm(s,fh(s,F),d,o)}}}}else{const D=u[p+1];if(D>0&&3==(3&D)){const N=fh(s,D>>>2);o[N.currentCaseLViewIndex]<0&&Rm(s,N,d,o)}}p+=w}}function Rm(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let p=ph;h<0&&(h=d[o.currentCaseLViewIndex]=~h,p=-1),qo(s,d,o.update[h],u,p)}}function Mw(s,o,u,d){const h=function Ow(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function Qn(s,o){const u=Cv(o)(parseInt(s,10)),d=Di[u];return void 0!==d?d:"other"}(o,function PT(){return dh}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(ep(o,u)!==h&&(mh(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=u[o.anchorIdx];y&&gh(s,o.create[h],u,y)}}function mh(s,o,u){let d=ep(o,u);if(null!==d){const h=o.remove[d];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const w=Ks(y,u);null!==w&&hy(u[11],w)}else mh(s,fh(s,~y),u)}}}function xw(){const s=[];let u,d,o=-1;function p(w,D){o=0;const S=ep(w,D);d=null!==S?w.remove[S]:Et}function y(){if(o<d.length){const w=d[o++];return w>0?u[w]:(s.push(o,d),p(u[1].data[~w],u),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(w,D){for(u=D;s.length;)s.pop();return p(w.value,D),y}}const Fm=/\ufffd(\d+):?\d*\ufffd/gi,Pw=/\ufffd(\d+)\ufffd/,Sv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,kw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,LT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,VT=/\uE500/g;function Fw(s,o,u,d,h,p,y){const w=bc(s,d,1,null);let D=w<<wr.SHIFT,S=Ys();o===S&&(S=null),null===S&&(D|=wr.APPEND_EAGERLY),y&&(D|=wr.COMMENT,function UC(s){void 0===ty&&(ty=s())}(xw)),h.push(D,null===p?"":p);const N=If(s,w,y?32:1,null===p?"":p,null);Jf(u,N);const F=N.index;return Hi(N,!1),null!==S&&o!==S&&function kT(s,o){let u=s.insertBeforeIndex;null===u?(Gb(En,Ew),u=s.insertBeforeIndex=[null,o]):(function et(s,o,u){s!=o&&ze(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(S,F),N}function BT(s,o,u,d,h,p,y){const w=y.match(Fm),D=Fw(s,o,u,p,d,w?null:y,!1);w&&zc(h,y,D.index,null,0,null)}function zc(s,o,u,d,h,p){const y=s.length,w=y+1;s.push(null,null);const D=y+2,S=o.split(Fm);let N=0;for(let F=0;F<S.length;F++){const z=S[F];if(1&F){const J=h+parseInt(z,10);s.push(-1-J),N|=Lw(J)}else""!==z&&s.push(z)}return s.push(u<<2|(d?1:0)),d&&s.push(d,p),s[y]=N,s[w]=s.length-D,N}function Lw(s){return 1<<Math.min(s,31)}function Wo(s){let o,p,u="",d=0,h=!1;for(;null!==(o=kw.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),p=o[1],h=!0);return u+=s.substr(d),u}function ip(s,o,u,d,h,p){let y=0;const w={type:h.type,currentCaseLViewIndex:bc(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function $T(s,o,u){s.push(Lw(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,p),function Cw(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,p,w);const D=h.values;for(let S=0;S<D.length;S++){const N=D[S],F=[];for(let z=0;z<N.length;z++){const J=N[z];if("string"!=typeof J){const be=F.push(J)-1;N[z]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}y=jT(s,w,o,u,d,h.cases[S],N.join(""),F)|y}y&&function GT(s,o,u){s.push(o,1,u<<2|3)}(u,y,p)}function Uw(s){const o=[],u=[];let d=1,h=0;const p=Av(s=s.replace(Sv,function(y,w,D){return d="select"===D?0:1,h=parseInt(w.substr(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const D=Av(p[y++]);o.length>u.length&&u.push(D)}return{type:d,mainBinding:h,cases:o,values:u}}function Av(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const w=p.index;if("}"==p[0]){if(u.pop(),0==u.length){const D=s.substring(o,w);Sv.test(D)?d.push(Uw(D)):d.push(D),o=w+1}}else{if(0==u.length){const D=s.substring(o,w);d.push(D),o=w+1}u.push("{")}}const y=s.substring(o);return d.push(y),d}function jT(s,o,u,d,h,p,y,w){const D=[],S=[],N=[];o.cases.push(p),o.create.push(D),o.remove.push(S),o.update.push(N);const z=bg(bo()).getInertBodyElement(y),J=Z_(z)||z;return J?jw(s,o,u,d,D,S,N,J,h,w,0):0}function jw(s,o,u,d,h,p,y,w,D,S,N){let F=0,z=w.firstChild;for(;z;){const J=bc(s,u,1,null);switch(z.nodeType){case Node.ELEMENT_NODE:const be=z,Ue=be.tagName.toLowerCase();if(iu.hasOwnProperty(Ue)){Nv(h,Om,Ue,D,J),s.data[J]=Ue;const Tt=be.attributes;for(let an=0;an<Tt.length;an++){const Nt=Tt.item(an),ho=Nt.name.toLowerCase();Nt.value.match(Fm)?Aa.hasOwnProperty(ho)&&zc(y,Nt.value,J,Nt.name,0,Md[ho]?M:dc[ho]?L:null):zT(h,J,Nt)}F=jw(s,o,u,d,h,p,y,z,J,S,N+1)|F,Hw(p,J,N)}break;case Node.TEXT_NODE:const Ze=z.textContent||"",ht=Ze.match(Fm);Nv(h,null,ht?"":Ze,D,J),Hw(p,J,N),ht&&(F=zc(y,Ze,J,null,0,null)|F);break;case Node.COMMENT_NODE:const Se=Pw.exec(z.textContent||"");if(Se){const an=S[parseInt(Se[1],10)];Nv(h,Qi,"",D,J),ip(s,u,d,D,an,J),HT(p,J,N)}}z=z.nextSibling}return F}function Hw(s,o,u){0===u&&s.push(o)}function HT(s,o,u){0===u&&(s.push(~o),s.push(o))}function Nv(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function tp(s,o,u){return s|o<<17|u<<1}(0,d,h))}function zT(s,o,u){s.push(o<<1|1,u.name,u.value)}function qw(s,o,u=-1){const d=zt(),h=Ae(),p=20+s,y=ji(d.consts,o),w=Ys();d.firstCreatePass&&function yh(s,o,u,d,h,p){const y=Ys(),w=[],D=[],S=[[]];h=function Bw(s,o){if(function Vw(s){return-1===s}(o))return Wo(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Wo(s.substring(u,d))}}(h,p);const N=function _h(s){return s.replace(VT," ")}(h).split(LT);for(let F=0;F<N.length;F++){let z=N[F];if(0==(1&F)){const J=Av(z);for(let be=0;be<J.length;be++){let Ue=J[be];if(0==(1&be)){const Ze=Ue;""!==Ze&&BT(s,y,S[0],w,D,u,Ze)}else{const Ze=Ue;if("object"!=typeof Ze)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ip(s,u,D,o,Ze,Fw(s,y,S[0],u,w,"",!0).index)}}}else{const J=47===z.charCodeAt(0),Ue=(z.charCodeAt(J?1:0),20+Number.parseInt(z.substring(J?2:1)));if(J)S.shift(),Hi(Ys(),!1);else{const Ze=Tw(s,S[0],Ue);S.unshift([]),Hi(Ze,!0)}}}s.data[d]={create:w,update:D}}(d,null===w?0:w.index,h,p,y,u);const D=d.data[p],N=$C(d,w===h[6]?null:w,h);(function Nw(s,o,u,d){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],D=(y&wr.COMMENT)===wr.COMMENT,S=(y&wr.APPEND_EAGERLY)===wr.APPEND_EAGERLY,N=y>>>wr.SHIFT;let F=s[N];null===F&&(F=s[N]=D?h.createComment(w):ny(h,w)),S&&null!==u&&Rs(h,u,F,d,!1)}})(h,D.create,N,w&&8&w.type?h[w.index]:null),ya(!0)}function Ov(s,o,u){qw(s,o,u),function Mv(){ya(!1)}()}function vh(s){return function ci(s){s&&(ph|=1<<Math.min(np,31)),np++}(ki(Ae(),_a(),s)),vh}function co(s){!function Iv(s,o,u){if(np>0){const d=s.data[u];qo(s,o,Array.isArray(d)?d:d.update,ds()-np-1,ph)}ph=0,np=0}(zt(),Ae(),s+20)}function yl(s,o,u,d,h){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)yl(s[p],o,u,d,h);else{const p=zt(),y=Ae();let w=Gd(s)?s:ee(s.provide),D=D1(s);const S=Cn(),N=1048575&S.providerIndexes,F=S.directiveStart,z=S.providerIndexes>>20;if(Gd(s)||!s.multi){const J=new Wl(D,h,Gf),be=Lm(w,o,h?N:N+z,F);-1===be?(So(gn(S,y),p,w),xv(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(J),y.push(J)):(u[be]=J,y[be]=J)}else{const J=Lm(w,o,N+z,F),be=Lm(w,o,N,N+z),Ue=J>=0&&u[J],Ze=be>=0&&u[be];if(h&&!Ze||!h&&!Ue){So(gn(S,y),p,w);const ht=function Pv(s,o,u,d,h){const p=new Wl(s,u,Gf);return p.multi=[],p.index=o,p.componentProviders=0,Tu(p,h,d&&!u),p}(h?Ww:Rv,u.length,h,d,D);!h&&Ze&&(u[be].providerFactory=ht),xv(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(ht),y.push(ht)}else xv(p,s,J>-1?J:be,Tu(u[h?be:J],D,!h&&d));!h&&d&&Ze&&u[be].componentProviders++}}}function xv(s,o,u,d){const h=Gd(o),p=function dT(s){return!!s.useClass}(o);if(h||p){const D=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=S.indexOf(u);-1===N?S.push(u,[d,D]):S[N+1].push(d,D)}else S.push(u,D)}}}function Tu(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Lm(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function Rv(s,o,u,d){return kr(this.multi,[])}function Ww(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=wa(u,u[1],this.providerFactory.index,d);p=w.slice(0,y),kr(h,p);for(let D=y;D<w.length;D++)p.push(w[D])}else p=[],kr(h,p);return p}function kr(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Vm(s,o=[]){return u=>{u.providersResolver=(d,h)=>function sp(s,o,u){const d=zt();if(d.firstCreatePass){const h=Bi(s);yl(u,d.data,d.blueprint,h,!0),yl(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class vl{}class Bm{resolveComponentFactory(o){throw function Zw(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ka=(()=>{class s{}return s.NULL=new Bm,s})();function qc(){return Zo(Cn(),Ae())}function Zo(s,o){return new bl(Rr(s,o))}let bl=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=qc,s})();function Yw(s){return s instanceof bl?s.nativeElement:s}class Um{}let Jw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Xw(){const s=Ae(),u=Jr(Cn().index,s);return function eI(s){return s[11]}(hi(u)?u:s)}(),s})(),eE=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class jm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const bh=new jm("13.3.5"),wl={};function Hm(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(bn(p)),ls(p))for(let w=10;w<p.length;w++){const D=p[w],S=D[1].firstChild;null!==S&&Hm(D[1],D,S,d)}const y=u.type;if(8&y)Hm(s,o,u.child,d);else if(32&y){const w=Sg(u,o);let D;for(;D=w();)d.push(D)}else if(16&y){const w=zb(o,u);if(Array.isArray(w))d.push(...w);else{const D=mf(o[16]);Hm(D[1],D,w,d,!0)}}u=h?u.projectionNext:u.next}return d}class wh{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Hm(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ls(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(sy(o,d),il(u,d))}this._attachedToViewContainer=!1}oy(this._lView[1],this._lView)}onDestroy(o){Wg(this._lView[1],this._lView,null,o)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){jy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function em(s,o,u){ga(!0);try{jy(s,o,u)}finally{ga(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lb(s,o){Pg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class tI extends wh{constructor(o){super(o),this._view=o}detectChanges(){Xg(this._view)}checkNoChanges(){!function Hy(s){ga(!0);try{Xg(s)}finally{ga(!1)}}(this._view)}get context(){return null}}class tE extends ka{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Ye(o);return new El(u,this.ngModule)}}function nE(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class El extends vl{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function bf(s){return s.map(my).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return nE(this.componentDef.inputs)}get outputs(){return nE(this.componentDef.outputs)}create(o,u,d,h){const p=(h=h||this.ngModule)?function Iu(s,o){return{get:(u,d,h)=>{const p=s.get(u,wl,h);return p!==wl||d===wl?p:o.get(u,d,h)}}}(o,h.injector):o,y=p.get(Um,wo),w=p.get(eE,null),D=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=d?function u1(s,o,u){if(Tn(s))return s.selectRootElement(o,u===qt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(D,d,this.componentDef.encapsulation):iy(y.createRenderer(null,this.componentDef),S,function op(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),F=this.componentDef.onPush?576:528,z=function Sr(s,o){return{components:[],scheduler:s||FC,clean:b1,playerHandler:o||null,flags:0}}(),J=qg(0,null,null,1,0,null,null,null,null,null),be=Fd(null,J,z,F,null,null,y,D,w,p);let Ue,Ze;Ka(be);try{const ht=function qd(s,o,u,d,h,p){const y=u[1];u[20]=s;const D=vc(y,20,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(Hd(D,S,!0),null!==s&&(wt(h,s,S),null!==D.classes&&kd(h,s,D.classes),null!==D.styles&&kg(h,s,D.styles)));const N=d.createRenderer(s,o),F=Fd(u,zg(o),null,o.onPush?64:16,u[20],D,d,N,p||null,null);return y.firstCreatePass&&(So(gn(D,u),y,o.type),g1(y,D),Af(D,u.length,1)),Vd(u,F),u[20]=F}(N,this.componentDef,be,y,D);if(N)if(d)wt(D,N,["ng-version",bh.full]);else{const{attrs:Se,classes:Tt}=function KC(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!si(h))break;h=p}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Se&&wt(D,N,Se),Tt&&Tt.length>0&&kd(D,N,Tt.join(" "))}if(Ze=$l(J,20),void 0!==u){const Se=Ze.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const an=u[Tt];Se.push(null!=an?Array.from(an):null)}}Ue=function x1(s,o,u,d,h){const p=u[1],y=function p1(s,o,u){const d=Cn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),ky(s,d,o,bc(s,o,1,null),u));const h=wa(o,s,d.directiveStart,d);Pi(h,o);const p=Rr(d,o);return p&&Pi(p,o),h}(p,u,o);if(d.components.push(y),s[8]=y,h&&h.forEach(D=>D(y,o)),o.contentQueries){const D=Cn();o.contentQueries(1,y,D.directiveStart)}const w=Cn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Xs(w.index),Py(u[1],w,0,w.directiveStart,w.directiveEnd,o),wc(o,y)),y}(ht,this.componentDef,be,z,[R1]),Sf(J,be,null)}finally{To()}return new nI(this.componentType,Ue,Zo(Ze,be),be,Ze)}}class nI extends class kv{}{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new tI(h),this.componentType=o}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ko{}class iE{}const Wc=new Map;class lp extends Ko{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tE(this);const d=Rt(o);this._bootstrapComponents=Lo(d.bootstrap),this._r3Injector=Vf(o,u,[{provide:Ko,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=bi.THROW_IF_NOT_FOUND,d=_t.Default){return o===bi||o===Ko||o===Pf?this:this._r3Injector.get(o,u,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class up extends iE{constructor(o){super(),this.moduleType=o,null!==Rt(o)&&function Gm(s){const o=new Set;!function u(d){const h=Rt(d,!0),p=h.id;null!==p&&(function ap(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(p,Wc.get(p),d),Wc.set(p,d));const y=Lo(h.imports);for(const w of y)o.has(w)||(o.add(w),u(w))}(s)}(o)}create(o){return new lp(this.moduleType,o)}}function Dl(s,o,u,d){return Vv(Ae(),pr(),s,o,u,d)}function Zc(s,o,u,d,h){return function aE(s,o,u,d,h,p,y){const w=o+u;return fu(s,w,h,p)?ao(s,w+2,y?d.call(y,h,p):d(h,p)):Qc(s,w+2)}(Ae(),pr(),s,o,u,d,h)}function Lv(s,o,u,d,h,p){return function lE(s,o,u,d,h,p,y,w){const D=o+u;return pu(s,D,h,p,y)?ao(s,D+3,w?d.call(w,h,p,y):d(h,p,y)):Qc(s,D+3)}(Ae(),pr(),s,o,u,d,h,p)}function Qc(s,o){const u=s[o];return u===Lt?void 0:u}function Vv(s,o,u,d,h,p){const y=o+u;return ki(s,y,h)?ao(s,y+1,p?d.call(p,h):d(h)):Qc(s,y+1)}function cp(s,o){const u=zt();let d;const h=s+20;u.firstCreatePass?(d=function dE(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=Ni(d.type)),y=un(Gf);try{const w=$i(!1),D=p();return $i(w),function vT(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,Ae(),h,D),D}finally{un(y)}}function hE(s,o,u){const d=s+20,h=Ae(),p=Mi(h,d);return function Dh(s,o){return s[1].data[o].pure}(h,d)?Vv(h,pr(),o,p.transform,u,p):p.transform(u)}function Bv(s){return o=>{setTimeout(s,void 0,o)}}const Yo=class pE extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){var h,p,y;let w=o,D=u||(()=>null),S=d;if(o&&"object"==typeof o){const F=o;w=null===(h=F.next)||void 0===h?void 0:h.bind(F),D=null===(p=F.error)||void 0===p?void 0:p.bind(F),S=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(D=Bv(D),w&&(w=Bv(w)),S&&(S=Bv(S)));const N=super.subscribe({next:w,error:D,complete:S});return o instanceof $.w0&&o.add(N),N}};function Uv(){return this._results[du()]()}class hp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=du(),d=hp.prototype;d[u]||(d[u]=Uv)}get changes(){return this._changes||(this._changes=new Yo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=ri(o);(this._changesDetected=!function rl(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cl=(()=>{class s{}return s.__NG_ELEMENT_ID__=aI,s})();const zm=Cl,jv=class extends zm{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o){const u=this._declarationTContainer.tViews,d=Fd(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(u)),Sf(u,d,o),new wh(d)}};function aI(){return Ch(Cn(),Ae())}function Ch(s,o){return 4&s.type?new jv(o,s,Zo(s,o)):null}let fp=(()=>{class s{}return s.__NG_ELEMENT_ID__=lI,s})();function lI(){return Gv(Cn(),Ae())}const gE=fp,Hv=class extends gE{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const o=ei(this._hostTNode,this._hostLView);if(tr(o)){const u=Is(o,this._hostLView),d=to(o);return new As(u[1].data[d+8],u)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=qm(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){const h=o.createEmbeddedView(u||{});return this.insert(h,d),h}createComponent(o,u,d,h,p){const y=o&&!function Zl(s){return"function"==typeof s}(o);let w;if(y)w=u;else{const F=u||{};w=F.index,d=F.injector,h=F.projectableNodes,p=F.ngModuleRef}const D=y?o:new El(Ye(o)),S=d||this.parentInjector;if(!p&&null==D.ngModule){const z=(y?S:this.parentInjector).get(Ko,null);z&&(p=z)}const N=D.create(S,h,void 0,p);return this.insert(N.hostView,w),N}insert(o,u){const d=o._lView,h=d[1];if(function da(s){return ls(s[3])}(d)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const F=d[3],z=new Hv(F,F[6],F[3]);z.detach(z.indexOf(o))}}const p=this._adjustIndex(u),y=this._lContainer;!function Og(s,o,u,d){const h=10+d,p=u.length;d>0&&(u[h-1][4]=o),d<p-10?(o[4]=u[h],Ca(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function Rd(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,y,p);const w=dy(p,y),D=d[11],S=yf(D,y[7]);return null!==S&&function HC(s,o,u,d,h,p){d[0]=h,d[6]=o,Pg(s,d,u,1,h,p)}(h,y[6],D,d,S,w),o.attachToViewContainerRef(),Ca($v(y),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=qm(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=sy(this._lContainer,u);d&&(il($v(this._lContainer),u),oy(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=sy(this._lContainer,u);return d&&null!=il($v(this._lContainer),u)?new wh(d):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function qm(s){return s[8]}function $v(s){return s[8]||(s[8]=[])}function Gv(s,o){let u;const d=o[s.index];if(ls(d))u=d;else{let h;if(8&s.type)h=bn(d);else{const p=o[11];h=p.createComment("");const y=Rr(s,o);Rs(p,yf(p,y),h,function zC(s,o){return Tn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=u=Ly(d,o,h,s),Vd(o,u)}return new Hv(u,s,o)}class Au{constructor(o){this.queryList=o,this.matches=null}clone(){return new Au(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Nu(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==CE(o,u).matches&&this.queries[u].setDirty()}}class Wm{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Th{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new Th(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zm{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Zm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,_E(u,p)),this.matchTNodeWithReadOption(o,u,ti(u,o,p,!1,!1))}else d===Cl?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ti(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===bl||h===fp||h===Cl&&4&u.type)this.addMatch(u.index,-2);else{const p=ti(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function _E(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function cI(s,o,u,d){return-1===u?function yE(s,o){return 11&s.type?Zo(s,o):4&s.type?Ch(s,o):null}(o,s):-2===u?function zv(s,o,u){return u===bl?Zo(o,s):u===Cl?Ch(o,s):u===fp?Gv(o,s):void 0}(s,o,d):wa(s,s[1],u,o)}function vE(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=u.matches,w=[];for(let D=0;D<y.length;D+=2){const S=y[D];w.push(S<0?null:cI(o,p[S],y[D+1],u.metadata.read))}h.matches=w}return h.matches}function pp(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=vE(s,o,h,u);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)d.push(y[w/2]);else{const S=p[w+1],N=o[-D];for(let F=10;F<N.length;F++){const z=N[F];z[17]===z[3]&&pp(z[1],z,S,d)}if(null!==N[9]){const F=N[9];for(let z=0;z<F.length;z++){const J=F[z];pp(J[1],J,S,d)}}}}}return d}function bE(s){const o=Ae(),u=zt(),d=Wh();Gu(d+1);const h=CE(u,d);if(s.dirty&&Ds(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?pp(u,o,d,[]):vE(u,o,h,d);s.reset(p,Yw),s.notifyOnChanges()}return!0}return!1}function wE(s,o,u){const d=zt();d.firstCreatePass&&(DE(d,new Wm(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),EE(d,Ae(),o)}function Km(s,o,u,d){const h=zt();if(h.firstCreatePass){const p=Cn();DE(h,new Wm(o,u,d),p.index),function hI(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}EE(h,Ae(),u)}function Wr(){return function dI(s,o){return s[19].queries[o].queryList}(Ae(),Wh())}function EE(s,o,u){const d=new hp(4==(4&u));Wg(s,o,d,d.destroy),null===o[19]&&(o[19]=new Nu),o[19].queries.push(new Au(d))}function DE(s,o,u){null===s.queries&&(s.queries=new Th),s.queries.track(new Zm(o,u))}function CE(s,o){return s.queries.getByIndex(o)}function TE(s,o){return Ch(s,o)}function Ah(...s){}const l_=new Un("Application Initializer");let a0=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Ah,this.reject=Ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(pl(p))u.push(p);else if(uv(p)){const y=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)($e(l_,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const u_=new Un("AppId",{providedIn:"root",factory:function kE(){return`${c_()}${c_()}${c_()}`}});function c_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const d_=new Un("Platform Initializer"),l0=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h_=new Un("appBootstrapListener");let Mu=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ou=new Un("LocaleId",{providedIn:"root",factory:()=>Ct(Ou,_t.Optional|_t.SkipSelf)||function u0(){return"undefined"!=typeof $localize&&$localize.locale||Qf}()}),Nh=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class bI{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let c0=(()=>{class s{compileModuleSync(u){return new up(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=Lo(Rt(u).declarations).reduce((y,w)=>{const D=Ye(w);return D&&y.push(new El(D)),y},[]);return new bI(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const h0=(()=>Promise.resolve(0))();function f0(s){"undefined"==typeof Zone?h0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Vs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yo(!1),this.onMicrotaskEmpty=new Yo(!1),this.onStable=new Yo(!1),this.onError=new Yo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function wI(){let s=Kt.requestAnimationFrame,o=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function EI(s){const o=()=>{!function VE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,f_(s),s.isCheckStableRunning=!0,g0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),f_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,y,w)=>{try{return m0(s),u.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),_0(s)}},onInvoke:(u,d,h,p,y,w,D)=>{try{return m0(s),u.invoke(h,p,y,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),_0(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,f_(s),g0(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,p0,Ah,Ah);try{return p.runTask(y,u,d)}finally{p.cancelTask(y)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const p0={};function g0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function f_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function m0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function _0(s){s._nesting--,g0(s)}class BE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yo,this.onMicrotaskEmpty=new Yo,this.onStable=new Yo,this.onError=new Yo}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}let UE=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vs.assertNotInAngularZone(),f0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())f0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)($e(Vs))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),DI=(()=>{class s{constructor(){this._applications=new Map,wp.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return wp.findTestabilityInTree(this,u,d)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class CI{addToWindow(o){}findTestabilityInTree(o,u,d){return null}}function TI(s){wp=s}let wp=new CI,Sl=null;const p_=new Un("AllowMultipleToken"),jE=new Un("PlatformOnDestroy");class HE{constructor(o,u){this.name=o,this.token=u}}function w0(s,o,u=[]){const d=`Platform: ${o}`,h=new Un(d);return(p=[])=>{let y=Ep();if(!y||y.injector.get(p_,!1)){const w=[...u,...p,{provide:h,useValue:!0}];s?s(w):function b0(s){if(Sl&&!Sl.get(p_,!1))throw new Pe(400,"");Sl=s;const o=s.get($E),u=s.get(d_,null);u&&u.forEach(d=>d())}(function E0(s=[],o){return bi.create({name:o,providers:[{provide:nm,useValue:"platform"},{provide:jE,useValue:()=>Sl=null},...s]})}(w,d))}return function II(s){const o=Ep();if(!o)throw new Pe(401,"");return o}()}}function Ep(){var s;return null!==(s=null==Sl?void 0:Sl.get($E))&&void 0!==s?s:null}let $E=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const w=function D0(s,o){let u;return u="noop"===s?new BE:("zone.js"===s?void 0:s)||new Vs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Vs,useValue:w}];return w.run(()=>{const S=bi.create({providers:D,parent:this.injector,name:u.moduleType.name}),N=u.create(S),F=N.injector.get(Ig,null);if(!F)throw new Pe(402,"");return w.runOutsideAngular(()=>{const z=w.onError.subscribe({next:J=>{F.handleError(J)}});N.onDestroy(()=>{Cp(this._modules,N),z.unsubscribe()})}),function SI(s,o,u){try{const d=u();return pl(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(F,w,()=>{const z=N.injector.get(a0);return z.runInitializers(),z.donePromise.then(()=>(function RT(s){(function ln(s,o){null==s&&ze(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(dh=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(Ou,Qf)||Qf),this._moduleDoBootstrap(N),N))})})}bootstrapModule(u,d=[]){const h=g_({},d);return function y0(s,o,u){const d=new up(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(Dp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Pe(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(jE,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)($e(bi))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function g_(s,o){return Array.isArray(o)?o.reduce(g_,s):Object.assign(Object.assign({},s),o)}let Dp=(()=>{class s{constructor(u,d,h,p){this._zone=u,this._injector=d,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new x.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new x.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Vs.assertNotInAngularZone(),f0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Vs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=(0,se.T)(y,w.pipe((0,ne.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Pe(405,"");let h;h=u instanceof vl?u:this._injector.get(ka).resolveComponentFactory(u),this.componentTypes.push(h.componentType);const p=function v0(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Ko),w=h.create(bi.NULL,[],d||h.selector,p),D=w.location.nativeElement,S=w.injector.get(UE,null),N=S&&w.injector.get(DI);return S&&N&&N.registerApplication(D,S),w.onDestroy(()=>{this.detachView(w.hostView),Cp(this.components,w),N&&N.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Cp(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(h_,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)($e(Vs),$e(bi),$e(Ig),$e(a0))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Cp(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let m_=!0,zE=!1;function C0(){return zE=!0,m_}function Al(){if(zE)throw new Error("Cannot enable prod mode after platform setup.");m_=!1}let AI=(()=>{class s{}return s.__NG_ELEMENT_ID__=NI,s})();function NI(s){return function T0(s,o,u){if(ra(s)&&!u){const d=Jr(s.index,o);return new wh(d,d)}return 47&s.type?new wh(o[16],o):null}(Cn(),Ae(),16==(16&s))}class Np{constructor(){}supports(o){return Wd(o)}create(o){return new RI(o)}}const xI=(s,o)=>o;class RI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||xI}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const y=!d||u&&u.currentIndex<v_(d,h,p)?u:d,w=v_(y,h,p),D=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const S=w-h,N=D-h;if(S!=N){for(let z=0;z<S;z++){const J=z<p.length?p[z]:p[z]=0,be=J+z;N<=be&&be<S&&(p[z]=J+1)}p[y.previousIndex]=N-S}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Wd(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,p,y,w)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,w),d=!0),u=u._next}else h=0,function cm(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[du()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,w,y,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new PI(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new O0),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new O0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class PI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class O0{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new kI,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function v_(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class x0{constructor(){}supports(o){return o instanceof Map||dm(o)}create(){return new R0}}class R0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||dm(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new P0(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class P0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function b_(){return new Mh([new Np])}let Mh=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||b_()),deps:[[s,new Wi,new qi]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new Pe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:b_}),s})();function k0(){return new Mp([new x0])}let Mp=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||k0()),deps:[[s,new Wi,new qi]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(d)return d;throw new Pe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:k0}),s})();const FI=w0(null,"core",[]);let LI=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)($e(Dp))},s.\u0275mod=k({type:s}),s.\u0275inj=on({}),s})()},3942:(mt,Ie,P)=>{P.d(Ie,{Z:()=>Pe});var l=P(2090),$=P(4859),x=P(9681),se=P(1877);class ne{constructor(ge,De){this._delegate=ge,this.firebase=De,(0,x._addComponent)(ge,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ge,De=x._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(ge);return!Ge.isInitialized()&&"EXPLICIT"===(null===(st=Ge.getComponent())||void 0===st?void 0:st.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:De})}_removeServiceInstance(ge,De=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(De)}_addComponent(ge){(0,x._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,x._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function pe(){const Ve=function ce(Ve){const ge={},De={__esModule:!0,initializeApp:function Oe(te,nt={}){const et=x.initializeApp(te,nt);if((0,l.r3)(ge,et.name))return ge[et.name];const oe=new Ve(et,De);return ge[et.name]=oe,oe},app:Ge,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function we(te){const nt=te.name,et=nt.replace("-compat","");if(x._registerComponent(te)&&"PUBLIC"===te.type){const oe=(ie=Ge())=>{if("function"!=typeof ie[et])throw le.create("invalid-app-argument",{appName:nt});return ie[et]()};void 0!==te.serviceProps&&(0,l.ZB)(oe,te.serviceProps),De[et]=oe,Ve.prototype[et]=function(...ie){return this._getService.bind(this,nt).apply(this,te.multipleInstances?ie:[])}}return"PUBLIC"===te.type?De[et]:null},removeApp:function st(te){delete ge[te]},useAsService:function Je(te,nt){return"serverAuth"===nt?null:nt},modularAPIs:x}};function Ge(te){if(!(0,l.r3)(ge,te=te||x._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:te});return ge[te]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ne(){return Object.keys(ge).map(te=>ge[te])}}),Ge.App=Ve,De}(ne);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(De){(0,l.ZB)(Ve,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ve}(),q=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=W;!function xe(Ve){(0,x.registerVersion)("@firebase/app-compat","0.1.23",Ve)}()},9681:(mt,Ie,P)=>{P.r(Ie),P.d(Ie,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>dr,_addOrOverwriteComponent:()=>kn,_apps:()=>ze,_clearComponents:()=>Fn,_components:()=>tn,_getProvider:()=>nn,_registerComponent:()=>sn,_removeServiceInstance:()=>on,deleteApp:()=>_s,getApp:()=>Tr,getApps:()=>xr,initializeApp:()=>Si,onLog:()=>Hn,registerVersion:()=>Lr,setLogLevel:()=>un});var l=P(5861),$=P(4859),x=P(1877),se=P(2090);class ne{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function ve(We){const Te=We.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(ot)){const vt=ot.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(ot=>ot).join(" ")}}const le="@firebase/app",pe=new x.Yd("@firebase/app"),en="[DEFAULT]",ln={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,tn=new Map;function dr(We,Te){try{We.container.addComponent(Te)}catch(ot){pe.debug(`Component ${Te.name} failed to register with FirebaseApp ${We.name}`,ot)}}function kn(We,Te){We.container.addOrOverwriteComponent(Te)}function sn(We){const Te=We.name;if(tn.has(Te))return pe.debug(`There were multiple attempts to register component ${Te}.`),!1;tn.set(Te,We);for(const ot of ze.values())dr(ot,We);return!0}function nn(We,Te){const ot=We.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),We.container.getProvider(Te)}function on(We,Te,ot=en){nn(We,Te).clearInstance(ot)}function Fn(){tn.clear()}const Fr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Or{constructor(Te,ot,vt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const is="9.7.0";function Si(We,Te={}){"object"!=typeof Te&&(Te={name:Te});const ot=Object.assign({name:en,automaticDataCollectionEnabled:!1},Te),vt=ot.name;if("string"!=typeof vt||!vt)throw Fr.create("bad-app-name",{appName:String(vt)});const Ut=ze.get(vt);if(Ut){if((0,se.vZ)(We,Ut.options)&&(0,se.vZ)(ot,Ut.config))return Ut;throw Fr.create("duplicate-app",{appName:vt})}const jt=new $.H0(vt);for(const j of tn.values())jt.addComponent(j);const Z=new Or(We,ot,jt);return ze.set(vt,Z),Z}function Tr(We=en){const Te=ze.get(We);if(!Te)throw Fr.create("no-app",{appName:We});return Te}function xr(){return Array.from(ze.values())}function _s(We){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(We){const Te=We.name;ze.has(Te)&&(ze.delete(Te),yield Promise.all(We.container.getProviders().map(ot=>ot.delete())),We.isDeleted=!0)})).apply(this,arguments)}function Lr(We,Te,ot){var vt;let Ut=null!==(vt=ln[We])&&void 0!==vt?vt:We;ot&&(Ut+=`-${ot}`);const jt=Ut.match(/\s|\//),Z=Te.match(/\s|\//);if(jt||Z){const j=[`Unable to register library "${Ut}" with version "${Te}":`];return jt&&j.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),jt&&Z&&j.push("and"),Z&&j.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void pe.warn(j.join(" "))}sn(new $.wA(`${Ut}-version`,()=>({library:Ut,version:Te}),"VERSION"))}function Hn(We,Te){if(null!==We&&"function"!=typeof We)throw Fr.create("invalid-log-argument");(0,x.Am)(We,Te)}function un(We){(0,x.Ub)(We)}const $n="firebase-heartbeat-store";let Ln=null;function Kr(){return Ln||(Ln=(0,se.X3)("firebase-heartbeat-database",1,(We,Te)=>{0===Te&&We.createObjectStore($n)}).catch(We=>{throw Fr.create("storage-open",{originalErrorMessage:We.message})})),Ln}function qt(){return(qt=(0,l.Z)(function*(We){try{return(yield Kr()).transaction($n).objectStore($n).get(Yr(We))}catch(Te){throw Fr.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function yt(We,Te){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(We,Te){try{const vt=(yield Kr()).transaction($n,"readwrite");return yield vt.objectStore($n).put(Te,Yr(We)),vt.complete}catch(ot){throw Fr.create("storage-set",{originalErrorMessage:ot.message})}})).apply(this,arguments)}function Yr(We){return`${We.name}!${We.options.appId}`}class os{constructor(Te){this.container=Te,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new Et(ot),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Te=this;return(0,l.Z)(function*(){const vt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=Gn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Te._heartbeatsCache.heartbeats.some(jt=>jt.date===Ut))return Te._heartbeatsCache.heartbeats.push({date:Ut,agent:vt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(jt=>{const Z=new Date(jt.date).valueOf();return Date.now()-Z<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,l.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const ot=Gn(),{heartbeatsToSend:vt,unsentEntries:Ut}=function dn(We,Te=1024){const ot=[];let vt=We.slice();for(const Ut of We){const jt=ot.find(Z=>Z.agent===Ut.agent);if(jt){if(jt.dates.push(Ut.date),zn(ot)>Te){jt.dates.pop();break}}else if(ot.push({agent:Ut.agent,dates:[Ut.date]}),zn(ot)>Te){ot.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:vt}}(Te._heartbeatsCache.heartbeats),jt=(0,se.L)(JSON.stringify({version:2,heartbeats:vt}));return Te._heartbeatsCache.lastSentHeartbeatDate=ot,Ut.length>0?(Te._heartbeatsCache.heartbeats=Ut,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),jt})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class Et{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,l.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function _o(We){return qt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var ot=this;return(0,l.Z)(function*(){var vt;if(yield ot._canUseIndexedDBPromise){const jt=yield ot.read();return yt(ot.app,{lastSentHeartbeatDate:null!==(vt=Te.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var ot=this;return(0,l.Z)(function*(){var vt;if(yield ot._canUseIndexedDBPromise){const jt=yield ot.read();return yt(ot.app,{lastSentHeartbeatDate:null!==(vt=Te.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Te.heartbeats]})}})()}}function zn(We){return(0,se.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Yt(We){sn(new $.wA("platform-logger",Te=>new ne(Te),"PRIVATE")),sn(new $.wA("heartbeat",Te=>new os(Te),"PRIVATE")),Lr(le,"0.7.22",We),Lr(le,"0.7.22","esm2017"),Lr("fire-js","")}("")},4859:(mt,Ie,P)=>{P.d(Ie,{H0:()=>ce,wA:()=>x});var l=P(5861),$=P(2090);class x{constructor(W,q,ee){this.name=W,this.instanceFactory=q,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const se="[DEFAULT]";class ne{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const ee=new $.BH;if(this.instancesDeferred.set(q,ee),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:q});Ke&&ee.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const ee=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),Ke=null!==(q=null==W?void 0:W.optional)&&void 0!==q&&q;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(xe){if(Ke)return null;throw xe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function le(pe){return"EAGER"===pe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch(q){}for(const[q,ee]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(q);try{const xe=this.getOrInitializeService({instanceIdentifier:Ke});ee.resolve(xe)}catch(xe){}}}}clearInstance(W=se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...q.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=se){return this.instances.has(W)}getOptions(W=se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ee,options:q});for(const[xe,Pe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(xe)&&Pe.resolve(Ke);return Ke}onInit(W,q){var ee;const Ke=this.normalizeInstanceIdentifier(q),xe=null!==(ee=this.onInitCallbacks.get(Ke))&&void 0!==ee?ee:new Set;xe.add(W),this.onInitCallbacks.set(Ke,xe);const Pe=this.instances.get(Ke);return Pe&&W(Pe,Ke),()=>{xe.delete(W)}}invokeOnInitCallbacks(W,q){const ee=this.onInitCallbacks.get(q);if(ee)for(const Ke of ee)try{Ke(W,q)}catch(xe){}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=W,pe===se?void 0:pe),options:q}),this.instances.set(W,ee),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch(Ke){}var pe;return ee||null}normalizeInstanceIdentifier(W=se){return this.component?this.component.multipleInstances?W:se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new ne(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Ie,P)=>{P.d(Ie,{Am:()=>pe,Ub:()=>ce,Yd:()=>le,in:()=>$});const l=[];var $=(()=>{return(W=$||($={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",$;var W})();const x={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},se=$.INFO,ne={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ve=(W,q,...ee)=>{if(q<W.logLevel)return;const Ke=(new Date).toISOString(),xe=ne[q];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[xe](`[${Ke}]  ${W.name}:`,...ee)};class le{constructor(q){this.name=q,this._logLevel=se,this._logHandler=ve,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?x[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function ce(W){l.forEach(q=>{q.setLogLevel(W)})}function pe(W,q){for(const ee of l){let Ke=null;q&&q.level&&(Ke=x[q.level]),ee.userLogHandler=null===W?null:(xe,Pe,...Ve)=>{const ge=Ve.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(st){return null}}).filter(De=>De).join(" ");Pe>=(null!=Ke?Ke:xe.logLevel)&&W({level:$[Pe].toLowerCase(),message:ge,args:Ve,type:xe.name})}}}},5861:(mt,Ie,P)=>{function l(x,se,ne,ve,le,ce,pe){try{var W=x[ce](pe),q=W.value}catch(ee){return void ne(ee)}W.done?se(q):Promise.resolve(q).then(ve,le)}function $(x){return function(){var se=this,ne=arguments;return new Promise(function(ve,le){var ce=x.apply(se,ne);function pe(q){l(ce,ve,le,pe,W,"next",q)}function W(q){l(ce,ve,le,pe,W,"throw",q)}pe(void 0)})}}P.d(Ie,{Z:()=>$})}},mt=>{mt(mt.s=3986)}]);