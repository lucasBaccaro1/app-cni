"use strict";(self.webpackChunkproject_cni=self.webpackChunkproject_cni||[]).push([[179],{2011:(gt,Ie,P)=>{P.d(Ie,{Dh:()=>ce,GT:()=>ve,cc:()=>Re,hO:()=>Ke,on:()=>W,pX:()=>ne,xv:()=>pe});var l=P(5e3),$=P(127),R=P(5813);gt=P.hmd(gt);const se=["ngOnDestroy"],ne=(Ee,st,Ge,Oe={})=>new Proxy(Ee,{get:(Ne,we)=>Ge.runOutsideAngular(()=>{var Je;if(Ee[we])return(null===(Je=null==Oe?void 0:Oe.spy)||void 0===Je?void 0:Je.get)&&Oe.spy.get(we,Ee[we]),Ee[we];if(se.indexOf(we)>-1)return()=>{};const te=st.toPromise().then(rt=>{const tt=rt&&rt[we];return"function"==typeof tt?tt.bind(rt):tt&&tt.then?tt.then(oe=>Ge.run(()=>oe)):Ge.run(()=>tt)});return new Proxy(()=>{},{get:(rt,tt)=>te[tt],apply:(rt,tt,oe)=>te.then(ie=>{var ae;const De=ie&&ie(...oe);return(null===(ae=null==Oe?void 0:Oe.spy)||void 0===ae?void 0:ae.apply)&&Oe.spy.apply(we,oe,De),De})})})}),ve=(Ee,st)=>{st.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Oe=>{Object.defineProperty(Ee.prototype,Oe,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Oe))})})};class le{constructor(st){return st}}const ce=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function W(Ee,st,Ge){const Ne="object"==typeof Ge&&Ge||{};Ne.name=Ne.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Je=$.Z.apps.filter(te=>te&&te.name===Ne.name)[0]||st.runOutsideAngular(()=>$.Z.initializeApp(Ee,Ne));try{JSON.stringify(Ee)!==JSON.stringify(Je.options)&&q("error",`${Je.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(te){}return new le(Je)}const q=(Ee,...st)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ee](...st)},ee={provide:le,useFactory:W,deps:[ce,l.R0b,[new l.FiY,pe]]};let Ke=(()=>{class Ee{constructor(Ge){$.Z.registerVersion("angularfire",R.q4.full,"core"),$.Z.registerVersion("angularfire",R.q4.full,"app-compat"),$.Z.registerVersion("angular",l.q4F.full,Ge.toString())}static initializeApp(Ge,Oe){return{ngModule:Ee,providers:[{provide:ce,useValue:Ge},{provide:pe,useValue:Oe}]}}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)(l.LFG(l.Lbi))},Ee.\u0275mod=l.oAB({type:Ee}),Ee.\u0275inj=l.cJS({providers:[ee]}),Ee})();function Re(Ee,st,Ge,Oe,Ne){const[,we,Je]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===Ee)||[];if(we)return function Pe(Ee,st){try{return Ee.toString()===st.toString()}catch(Ge){return Ee===st}}(Ne,Je)||(ge("error",`${st} was already initialized on the ${Ge} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ne,was:Je})),we;{const te=Oe();return globalThis.\u0275AngularfireInstanceCache.push([Ee,te,Ne]),te}}const Ue=!!gt.hot,ge=(Ee,...st)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ee](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(gt,Ie,P)=>{P.d(Ie,{q4:()=>pl,iC:()=>co,HU:()=>Fd,vb:()=>au,JM:()=>_g,u3:()=>Ld});var l=P(5e3),$=P(5867),R=P(5861),se=P(9681),ne=P(2090),ve=P(4859),le=P(1877);const ce="@firebase/installations",q="w:0.5.8",ee="FIS_v2",Ee=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(D){return D instanceof ne.ZR&&D.code.includes("request-failed")}function Ge({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Oe(D){return{token:D.token,requestStatus:2,expiresIn:oe(D.expiresIn),creationTime:Date.now()}}function Ne(D,I){return we.apply(this,arguments)}function we(){return(we=(0,R.Z)(function*(D,I){const U=(yield I.json()).error;return Ee.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Je({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function te(D,{refreshToken:I}){const O=Je(D);return O.append("Authorization",function ie(D){return`${ee} ${D}`}(I)),O}function rt(D){return tt.apply(this,arguments)}function tt(){return(tt=(0,R.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function oe(D){return Number(D.replace("s","000"))}function ae(D,I){return De.apply(this,arguments)}function De(){return(De=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:O}){const U=Ge(D),Q=Je(D),re=I.getImmediate({optional:!0});if(re){const Dt=yield re.getHeartbeatsHeader();Dt&&Q.append("x-firebase-client",Dt)}const $e={method:"POST",headers:Q,body:JSON.stringify({fid:O,authVersion:ee,appId:D.appId,sdkVersion:q})},Mt=yield rt(()=>fetch(U,$e));if(Mt.ok){const Dt=yield Mt.json();return{fid:Dt.fid||O,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Oe(Dt.authToken)}}throw yield Ne("Create Installation",Mt)})).apply(this,arguments)}function fe(D){return new Promise(I=>{setTimeout(I,D)})}const Pt=/^[cdef][\w-]{21}$/;function an(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function ze(D){return function Le(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Pt.test(O)?O:""}catch(D){return""}}function tn(D){return`${D.appName}!${D.appId}`}const mr=new Map;function kn(D,I){const O=tn(D);on(O,I),function Fn(D,I){const O=function Ur(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=D=>{on(D.data.key,D.data.fid)}),Ir}();O&&O.postMessage({key:D,fid:I}),function Rr(){0===mr.size&&Ir&&(Ir.close(),Ir=null)}()}(O,I)}function on(D,I){const O=mr.get(D);if(O)for(const U of O)U(I)}let Ir=null;const Sr="firebase-installations-store";let xr=null;function Ds(){return xr||(xr=(0,ne.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(Sr)})),xr}function mt(D,I){return jr.apply(this,arguments)}function jr(){return(jr=(0,R.Z)(function*(D,I){const O=tn(D),Q=(yield Ds()).transaction(Sr,"readwrite"),re=Q.objectStore(Sr),_e=yield re.get(O);return yield re.put(I,O),yield Q.complete,(!_e||_e.fid!==I.fid)&&kn(D,I.fid),I})).apply(this,arguments)}function Gn(D){return un.apply(this,arguments)}function un(){return(un=(0,R.Z)(function*(D){const I=tn(D),U=(yield Ds()).transaction(Sr,"readwrite");yield U.objectStore(Sr).delete(I),yield U.complete})).apply(this,arguments)}function tr(D,I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,R.Z)(function*(D,I){const O=tn(D),Q=(yield Ds()).transaction(Sr,"readwrite"),re=Q.objectStore(Sr),_e=yield re.get(O),$e=I(_e);return void 0===$e?yield re.delete(O):yield re.put($e,O),yield Q.complete,$e&&(!_e||_e.fid!==$e.fid)&&kn(D,$e.fid),$e})).apply(this,arguments)}function zn(D){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,R.Z)(function*(D){let I;const O=yield tr(D.appConfig,U=>{const Q=Jr(U),re=Ao(D,Q);return I=re.registrationPromise,re.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Jr(D){return Zt(D||{fid:an(),registrationStatus:0})}function Ao(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ee.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function qt(D,I){return _t.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ut(D)}:{installationEntry:I}}function _t(){return(_t=(0,R.Z)(function*(D,I){try{const O=yield ae(D,I);return mt(D.appConfig,O)}catch(O){throw st(O)&&409===O.customData.serverCode?yield Gn(D.appConfig):yield mt(D.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ut(D){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,R.Z)(function*(D){let I=yield as(D.appConfig);for(;1===I.registrationStatus;)yield fe(100),I=yield as(D.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield zn(D);return U||O}return I})).apply(this,arguments)}function as(D){return tr(D,I=>{if(!I)throw Ee.create("installation-not-found");return Zt(I)})}function Zt(D){return function ls(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function qn(D,I){return hn.apply(this,arguments)}function hn(){return(hn=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:I},O){const U=wt(D,O),Q=te(D,O),re=I.getImmediate({optional:!0});if(re){const Dt=yield re.getHeartbeatsHeader();Dt&&Q.append("x-firebase-client",Dt)}const $e={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:q,appId:D.appId}})},Mt=yield rt(()=>fetch(U,$e));if(Mt.ok)return Oe(yield Mt.json());throw yield Ne("Generate Auth Token",Mt)})).apply(this,arguments)}function wt(D,{fid:I}){return`${Ge(D)}/${I}/authTokens:generate`}function Wn(D){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,R.Z)(function*(D,I=!1){let O;const U=yield tr(D.appConfig,re=>{if(!Ut(re))throw Ee.create("not-registered");const _e=re.authToken;if(!I&&Z(_e))return re;if(1===_e.requestStatus)return O=We(D,I),re;{if(!navigator.onLine)throw Ee.create("app-offline");const $e=K(re);return O=yt(D,$e),$e}});return O?yield O:U.authToken})).apply(this,arguments)}function We(D,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,R.Z)(function*(D,I){let O=yield ot(D.appConfig);for(;1===O.authToken.requestStatus;)yield fe(100),O=yield ot(D.appConfig);const U=O.authToken;return 0===U.requestStatus?Wn(D,I):U})).apply(this,arguments)}function ot(D){return tr(D,I=>{if(!Ut(I))throw Ee.create("not-registered");return function he(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function yt(D,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(D,I){try{const O=yield qn(D,I),U=Object.assign(Object.assign({},I),{authToken:O});return yield mt(D.appConfig,U),O}catch(O){if(!st(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield mt(D.appConfig,U)}else yield Gn(D.appConfig);throw O}})).apply(this,arguments)}function Ut(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function j(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function K(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function V(){return(V=(0,R.Z)(function*(D){const I=D,{installationEntry:O,registrationPromise:U}=yield zn(I);return U?U.catch(console.error):Wn(I).catch(console.error),O.fid})).apply(this,arguments)}function ue(){return(ue=(0,R.Z)(function*(D,I=!1){const O=D;return yield je(O),(yield Wn(O,I)).token})).apply(this,arguments)}function je(D){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,R.Z)(function*(D){const{registrationPromise:I}=yield zn(D);I&&(yield I)})).apply(this,arguments)}function ar(D){return Ee.create("missing-app-config-values",{valueName:D})}const Wl="installations",Xe=D=>{const I=D.getProvider("app").getImmediate(),O=function Gi(D){if(!D||!D.options)throw ar("App Configuration");if(!D.name)throw ar("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!D.options[O])throw ar(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Wt=D=>{const I=D.getProvider("app").getImmediate(),O=(0,se._getProvider)(I,Wl).getImmediate();return{getId:()=>function k(D){return V.apply(this,arguments)}(O),getToken:Q=>function H(D){return ue.apply(this,arguments)}(O,Q)}};(function bn(){(0,se._registerComponent)(new ve.wA(Wl,Xe,"PUBLIC")),(0,se._registerComponent)(new ve.wA("installations-internal",Wt,"PRIVATE"))})(),(0,se.registerVersion)(ce,"0.5.8"),(0,se.registerVersion)(ce,"0.5.8","esm2017");const $r="@firebase/remote-config",Zn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yu{constructor(I,O,U,Q){this.client=I,this.storage=O,this.storageCache=U,this.logger=Q}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,Q=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var O=this;return(0,R.Z)(function*(){const[U,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(I.cacheMaxAgeMillis,U))return Q;I.eTag=Q&&Q.eTag;const re=yield O.client.fetch(I),_e=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&_e.push(O.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(_e),re})()}}function ds(D=navigator){return D.languages&&D.languages[0]||D.language}class Qs{constructor(I,O,U,Q,re,_e){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=U,this.projectId=Q,this.apiKey=re,this.appId=_e}fetch(I){var O=this;return(0,R.Z)(function*(){const[U,Q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),_e=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Mt={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:O.appId,language_code:ds()},Dt={method:"POST",headers:$e,body:JSON.stringify(Mt)},Yt=fetch(_e,Dt),At=new Promise((ki,Xi)=>{I.signal.addEventListener(()=>{const cu=new Error("The operation was aborted.");cu.name="AbortError",Xi(cu)})});let qr;try{yield Promise.race([Yt,At]),qr=yield Yt}catch(ki){let Xi="fetch-client-network";throw"AbortError"===ki.name&&(Xi="fetch-timeout"),Zn.create(Xi,{originalErrorMessage:ki.message})}let wr=qr.status;const Vs=qr.headers.get("ETag")||void 0;let ms,Ji;if(200===qr.status){let ki;try{ki=yield qr.json()}catch(Xi){throw Zn.create("fetch-client-parse",{originalErrorMessage:Xi.message})}ms=ki.entries,Ji=ki.state}if("INSTANCE_STATE_UNSPECIFIED"===Ji?wr=500:"NO_CHANGE"===Ji?wr=304:("NO_TEMPLATE"===Ji||"EMPTY_CONFIG"===Ji)&&(ms={}),304!==wr&&200!==wr)throw Zn.create("fetch-status",{httpStatus:wr});return{status:wr,eTag:Vs,config:ms}})()}}class Ss{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,R.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:U}){var Q=this;return(0,R.Z)(function*(){yield function fi(D,I){return new Promise((O,U)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(O,Q);D.addEventListener(()=>{clearTimeout(re),U(Zn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const re=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function og(D){if(!(D instanceof ne.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(re))throw re;const _e={throttleEndTimeMillis:Date.now()+(0,ne.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(_e),Q.attemptFetch(I,_e)}})()}}class lg{constructor(I,O,U,Q,re){this.app=I,this._client=O,this._storageCache=U,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qa(D,I){const O=D.target.error||void 0;return Zn.create(I,{originalErrorMessage:O&&O.message})}const aa="app_namespace_store";class wd{constructor(I,O,U,Q=function cg(){return new Promise((D,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{I(Qa(U,"storage-open"))},O.onsuccess=U=>{D(U.target.result)},O.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(aa,{keyPath:"compositeKey"})}}catch(O){I(Zn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,R.Z)(function*(){const U=yield O.openDbPromise;return new Promise((Q,re)=>{const $e=U.transaction([aa],"readonly").objectStore(aa),Mt=O.createCompositeKey(I);try{const Dt=$e.get(Mt);Dt.onerror=Yt=>{re(Qa(Yt,"storage-get"))},Dt.onsuccess=Yt=>{const At=Yt.target.result;Q(At?At.value:void 0)}}catch(Dt){re(Zn.create("storage-get",{originalErrorMessage:Dt&&Dt.message}))}})})()}set(I,O){var U=this;return(0,R.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((re,_e)=>{const Mt=Q.transaction([aa],"readwrite").objectStore(aa),Dt=U.createCompositeKey(I);try{const Yt=Mt.put({compositeKey:Dt,value:O});Yt.onerror=At=>{_e(Qa(At,"storage-set"))},Yt.onsuccess=()=>{re()}}catch(Yt){_e(Zn.create("storage-set",{originalErrorMessage:Yt&&Yt.message}))}})})()}delete(I){var O=this;return(0,R.Z)(function*(){const U=yield O.openDbPromise;return new Promise((Q,re)=>{const $e=U.transaction([aa],"readwrite").objectStore(aa),Mt=O.createCompositeKey(I);try{const Dt=$e.delete(Mt);Dt.onerror=Yt=>{re(Qa(Yt,"storage-delete"))},Dt.onsuccess=()=>{Q()}}catch(Dt){re(Zn.create("storage-delete",{originalErrorMessage:Dt&&Dt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class la{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const O=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),re=yield O;re&&(I.lastFetchStatus=re);const _e=yield U;_e&&(I.lastSuccessfulFetchTimestampMillis=_e);const $e=yield Q;$e&&(I.activeConfig=$e)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Ed(){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,R.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(D){return!1}})).apply(this,arguments)}!function dg(){(0,se._registerComponent)(new ve.wA("remote-config",function D(I,{instanceIdentifier:O}){const U=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Zn.create("registration-window");if(!(0,ne.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:re,apiKey:_e,appId:$e}=U.options;if(!re)throw Zn.create("registration-project-id");if(!_e)throw Zn.create("registration-api-key");if(!$e)throw Zn.create("registration-app-id");const Mt=new wd($e,U.name,O=O||"firebase"),Dt=new la(Mt),Yt=new le.Yd($r);Yt.logLevel=le.in.ERROR;const At=new Qs(Q,se.SDK_VERSION,O,re,_e,$e),qr=new Ss(At,Mt),wr=new Yu(qr,Mt,Dt,Yt),Vs=new lg(U,wr,Dt,Mt,Yt);return function Kn(D){const I=(0,ne.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Vs),Vs},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)($r,"0.3.7"),(0,se.registerVersion)($r,"0.3.7","esm2017")}();const As="/firebase-messaging-sw.js",Ja="/firebase-cloud-messaging-push-scope",Ri="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ua="google.c.a.c_id",Jl="google.c.a.c_l",Wh="google.c.a.ts",Xa="google.c.a.e";var qi=(()=>{return(D=qi||(qi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",qi;var D})();function Ns(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xl(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),Q=new Uint8Array(U.length);for(let re=0;re<U.length;++re)Q[re]=U.charCodeAt(re);return Q}const el="fcm_token_details_db",ca="fcm_token_object_Store";function hg(D){return da.apply(this,arguments)}function da(){return da=(0,R.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(el))return null;let I=null;return(yield(0,ne.X3)(el,5,function(){var U=(0,R.Z)(function*(Q,re,_e,$e){var Mt;if(re<2||!Q.objectStoreNames.contains(ca))return;const Dt=$e.objectStore(ca),Yt=yield Dt.index("fcmSenderId").get(D);if(yield Dt.clear(),Yt)if(2===re){const At=Yt;if(!At.auth||!At.p256dh||!At.endpoint)return;I={token:At.fcmToken,createTime:null!==(Mt=At.createTime)&&void 0!==Mt?Mt:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:Ns(At.vapidKey)}}}else if(3===re){const At=Yt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Ns(At.auth),p256dh:Ns(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Ns(At.vapidKey)}}}else if(4===re){const At=Yt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Ns(At.auth),p256dh:Ns(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Ns(At.vapidKey)}}}});return function(Q,re,_e,$e){return U.apply(this,arguments)}}())).close(),yield(0,ne.Lj)(el),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Qu(I)?I:null}),da.apply(this,arguments)}function Qu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Xs="firebase-messaging-store";let Oo=null;function Ju(){return Oo||(Oo=(0,ne.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(Xs)})),Oo}function In(D){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,R.Z)(function*(D){const I=eo(D),U=yield(yield Ju()).transaction(Xs).objectStore(Xs).get(I);if(U)return U;{const Q=yield hg(D.appConfig.senderId);if(Q)return yield xo(D,Q),Q}})).apply(this,arguments)}function xo(D,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,R.Z)(function*(D,I){const O=eo(D),Q=(yield Ju()).transaction(Xs,"readwrite");return yield Q.objectStore(Xs).put(I,O),yield Q.complete,I})).apply(this,arguments)}function Xu(D){return ha.apply(this,arguments)}function ha(){return(ha=(0,R.Z)(function*(D){const I=eo(D),U=(yield Ju()).transaction(Xs,"readwrite");yield U.objectStore(Xs).delete(I),yield U.complete})).apply(this,arguments)}function eo({appConfig:D}){return D.appId}const lr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tu(D,I){return xi.apply(this,arguments)}function xi(){return(xi=(0,R.Z)(function*(D,I){const O=yield hs(D),U=Ct(I),Q={method:"POST",headers:O,body:JSON.stringify(U)};let re;try{re=yield(yield fetch(Wi(D.appConfig),Q)).json()}catch(_e){throw lr.create("token-subscribe-failed",{errorInfo:_e})}if(re.error)throw lr.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw lr.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function ti(D,I){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,R.Z)(function*(D,I){const O=yield hs(D),U=Ct(I.subscriptionOptions),Q={method:"PATCH",headers:O,body:JSON.stringify(U)};let re;try{re=yield(yield fetch(`${Wi(D.appConfig)}/${I.token}`,Q)).json()}catch(_e){throw lr.create("token-update-failed",{errorInfo:_e})}if(re.error)throw lr.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw lr.create("token-update-no-token");return re.token})).apply(this,arguments)}function Po(D,I){return fa.apply(this,arguments)}function fa(){return(fa=(0,R.Z)(function*(D,I){const U={method:"DELETE",headers:yield hs(D)};try{const re=yield(yield fetch(`${Wi(D.appConfig)}/${I}`,U)).json();if(re.error)throw lr.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw lr.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Wi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function hs(D){return Os.apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*({appConfig:D,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ct({p256dh:D,auth:I,endpoint:O,vapidKey:U}){const Q={web:{endpoint:O,auth:I,p256dh:D}};return U!==Ri&&(Q.web.applicationPubKey=U),Q}const tl=6048e5;function Dd(D){return pa.apply(this,arguments)}function pa(){return(pa=(0,R.Z)(function*(D){const I=yield Kh(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Ns(I.getKey("auth")),p256dh:Ns(I.getKey("p256dh"))},U=yield In(D.firebaseDependencies);if(U){if(nu(U.subscriptionOptions,O))return Date.now()>=U.createTime+tl?Zh(D,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield Po(D.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return Se(D.firebaseDependencies,O)}return Se(D.firebaseDependencies,O)})).apply(this,arguments)}function Td(D){return ga.apply(this,arguments)}function ga(){return(ga=(0,R.Z)(function*(D){const I=yield In(D.firebaseDependencies);I&&(yield Po(D.firebaseDependencies,I.token),yield Xu(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Zh(D,I){return nl.apply(this,arguments)}function nl(){return(nl=(0,R.Z)(function*(D,I){try{const O=yield ti(D.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield xo(D.firebaseDependencies,U),O}catch(O){throw yield Td(D),O}})).apply(this,arguments)}function Se(D,I){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,R.Z)(function*(D,I){const U={token:yield tu(D,I),createTime:Date.now(),subscriptionOptions:I};return yield xo(D,U),U.token})).apply(this,arguments)}function Kh(D,I){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,R.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xl(I)})})).apply(this,arguments)}function nu(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function to(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Zi(D,I){if(!I.notification)return;D.notification={};const O=I.notification.title;O&&(D.notification.title=O);const U=I.notification.body;U&&(D.notification.body=U);const Q=I.notification.image;Q&&(D.notification.image=Q)}(I,D),function ec(D,I){!I.data||(D.data=I.data)}(I,D),function rl(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const O=I.fcmOptions.link;O&&(D.fcmOptions.link=O);const U=I.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(I,D),I}function fg(D){return"object"==typeof D&&!!D&&ua in D}function tc(D,I){const O=[];for(let U=0;U<D.length;U++)O.push(D.charAt(U)),U<I.length&&O.push(I.charAt(U));return O.join("")}function _a(D){return lr.create("missing-app-config-values",{valueName:D})}tc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vr{constructor(I,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function ma(D){if(!D||!D.options)throw _a("App Configuration Object");if(!D.name)throw _a("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const U of I)if(!O[U])throw _a(U);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function fs(D){return ya.apply(this,arguments)}function ya(){return(ya=(0,R.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(As,{scope:Ja}),D.swRegistration.update().catch(()=>{})}catch(I){throw lr.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function va(D,I){return pi.apply(this,arguments)}function pi(){return(pi=(0,R.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield fs(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Yh(D,I){return ba.apply(this,arguments)}function ba(){return(ba=(0,R.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Ri)})).apply(this,arguments)}function il(){return(il=(0,R.Z)(function*(D,I){if(!navigator)throw lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lr.create("permission-blocked");return yield Yh(D,null==I?void 0:I.vapidKey),yield va(D,null==I?void 0:I.serviceWorkerRegistration),Dd(D)})).apply(this,arguments)}function nc(D,I,O){return no.apply(this,arguments)}function no(){return(no=(0,R.Z)(function*(D,I,O){const U=Qh(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[ua],message_name:O[Jl],message_time:O[Wh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qh(D){switch(D){case qi.NOTIFICATION_CLICKED:return"notification_open";case qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ic(){return(ic=(0,R.Z)(function*(D,I){const O=I.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===qi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(to(O)):D.onMessageHandler.next(to(O)));const U=O.data;fg(U)&&"1"===U[Xa]&&(yield nc(D,O.messageType,U))})).apply(this,arguments)}const ru="@firebase/messaging",ko=D=>{const I=new vr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function rc(D,I){return ic.apply(this,arguments)}(I,O)),I},sc=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:U=>function Id(D,I){return il.apply(this,arguments)}(I,U)}};function Sd(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,R.Z)(function*(){try{yield(0,ne.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jh(){(0,se._registerComponent)(new ve.wA("messaging",ko,"PUBLIC")),(0,se._registerComponent)(new ve.wA("messaging-internal",sc,"PRIVATE")),(0,se.registerVersion)(ru,"0.9.12"),(0,se.registerVersion)(ru,"0.9.12","esm2017")}();const ac="analytics",Ad="firebase_id",lc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iu="https://www.googletagmanager.com/gtag/js",ur=new le.Yd("@firebase/analytics");function Nd(D){return Promise.all(D.map(I=>I.catch(O=>O)))}function Md(D,I){const O=document.createElement("script");O.src=`${iu}?l=${D}&id=${I}`,O.async=!0,document.head.appendChild(O)}function su(D,I,O,U,Q,re){return al.apply(this,arguments)}function al(){return(al=(0,R.Z)(function*(D,I,O,U,Q,re){const _e=U[Q];try{if(_e)yield I[_e];else{const Mt=(yield Nd(O)).find(Dt=>Dt.measurementId===Q);Mt&&(yield I[Mt.appId])}}catch($e){ur.error($e)}D("config",Q,re)})).apply(this,arguments)}function ef(D,I,O,U,Q){return so.apply(this,arguments)}function so(){return(so=(0,R.Z)(function*(D,I,O,U,Q){try{let re=[];if(Q&&Q.send_to){let _e=Q.send_to;Array.isArray(_e)||(_e=[_e]);const $e=yield Nd(O);for(const Mt of _e){const Dt=$e.find(At=>At.measurementId===Mt),Yt=Dt&&I[Dt.appId];if(!Yt){re=[];break}re.push(Yt)}}0===re.length&&(re=Object.values(I)),yield Promise.all(re),D("event",U,Q||{})}catch(re){ur.error(re)}})).apply(this,arguments)}function b_(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(iu))return I;return null}const br=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xn=new class Qn{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Rd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function nr(D){return oo.apply(this,arguments)}function oo(){return(oo=(0,R.Z)(function*(D){var I;const{appId:O,apiKey:U}=D,Q={method:"GET",headers:Rd(U)},re=lc.replace("{app-id}",O),_e=yield fetch(re,Q);if(200!==_e.status&&304!==_e.status){let $e="";try{const Mt=yield _e.json();(null===(I=Mt.error)||void 0===I?void 0:I.message)&&($e=Mt.error.message)}catch(Mt){}throw br.create("config-fetch-failed",{httpStatus:_e.status,responseMessage:$e})}return _e.json()})).apply(this,arguments)}function cc(D){return xs.apply(this,arguments)}function xs(){return(xs=(0,R.Z)(function*(D,I=xn,O){const{appId:U,apiKey:Q,measurementId:re}=D.options;if(!U)throw br.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:U};throw br.create("no-api-key")}const _e=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new xd;return setTimeout((0,R.Z)(function*(){$e.abort()}),void 0!==O?O:6e4),wa({appId:U,apiKey:Q,measurementId:re},_e,$e,I)})).apply(this,arguments)}function wa(D,I,O){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,R.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:O},U,Q=xn){const{appId:re,measurementId:_e}=D;try{yield xt(U,I)}catch($e){if(_e)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:re,measurementId:_e};throw $e}try{const $e=yield nr(D);return Q.deleteThrottleMetadata(re),$e}catch($e){if(!dc($e)){if(Q.deleteThrottleMetadata(re),_e)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:re,measurementId:_e};throw $e}const Mt=503===Number($e.customData.httpStatus)?(0,ne.$s)(O,Q.intervalMillis,30):(0,ne.$s)(O,Q.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+Mt,backoffCount:O+1};return Q.setThrottleMetadata(re,Dt),ur.debug(`Calling attemptFetch again in ${Mt} millis`),wa(D,Dt,U,Q)}})).apply(this,arguments)}function xt(D,I){return new Promise((O,U)=>{const Q=Math.max(I-Date.now(),0),re=setTimeout(O,Q);D.addEventListener(()=>{clearTimeout(re),U(br.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function dc(D){if(!(D instanceof ne.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class xd{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ea(){return ll.apply(this,arguments)}function ll(){return(ll=(0,R.Z)(function*(){if(!(0,ne.hl)())return ur.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(D){return ur.warn(br.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(D,I,O,U,Q,re,_e){var $e;const Mt=cc(D);Mt.then(wr=>{O[wr.measurementId]=wr.appId,D.options.measurementId&&wr.measurementId!==D.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wr=>ur.error(wr)),I.push(Mt);const Dt=Ea().then(wr=>{if(wr)return U.getId()}),[Yt,At]=yield Promise.all([Mt,Dt]);b_()||Md(re,Yt.measurementId),Q("js",new Date);const qr=null!==($e=null==_e?void 0:_e.config)&&void 0!==$e?$e:{};return qr.origin="firebase",qr.update=!0,null!=At&&(qr[Ad]=At),Q("config",Yt.measurementId,qr),Yt.measurementId})).apply(this,arguments)}class ul{constructor(I){this.app=I}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},Vo=[];const gi={};let Bo,Ps,lo="dataLayer",hc=!1;function Ca(D,I,O){!function ii(){const D=[];if((0,ne.ru)()&&D.push("This is a browser extension environment."),(0,ne.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),O=br.create("invalid-analytics-context",{errorInfo:I});ur.warn(O.message)}}();const U=D.options.appId;if(!U)throw br.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw br.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[U])throw br.create("already-exists",{id:U});if(!hc){!function Rs(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(lo);const{wrappedGtag:re,gtagCore:_e}=function Od(D,I,O,U,Q){let re=function(..._e){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function uc(D,I,O,U){function re(){return(re=(0,R.Z)(function*(_e,$e,Mt){try{"event"===_e?yield ef(D,I,O,$e,Mt):"config"===_e?yield su(D,I,O,U,$e,Mt):D("set",$e)}catch(Dt){ur.error(Dt)}})).apply(this,arguments)}return function Q(_e,$e,Mt){return re.apply(this,arguments)}}(re,D,I,O),{gtagCore:re,wrappedGtag:window[Q]}}(ri,Vo,gi,lo,"gtag");Ps=re,Bo=_e,hc=!0}return ri[U]=function gn(D,I,O,U,Q,re,_e){return ao.apply(this,arguments)}(D,Vo,gi,I,Bo,lo,O),new ul(D)}function dl(){return(dl=(0,R.Z)(function*(D,I,O,U,Q){if(Q&&Q.global)D("event",O,U);else{const re=yield I;D("event",O,Object.assign(Object.assign({},U),{send_to:re}))}})).apply(this,arguments)}function Sn(){return Da.apply(this,arguments)}function Da(){return(Da=(0,R.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(D){return!1}})).apply(this,arguments)}const Uo="@firebase/analytics";!function mg(){(0,se._registerComponent)(new ve.wA(ac,(I,{options:O})=>Ca(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new ve.wA("analytics-internal",function D(I){try{const O=I.getProvider(ac).getImmediate();return{logEvent:(U,Q,re)=>function tf(D,I,O,U){D=(0,ne.m9)(D),function uo(D,I,O,U,Q){return dl.apply(this,arguments)}(Ps,ri[D.app.options.appId],I,O,U).catch(Q=>ur.error(Q))}(O,U,Q,re)}}catch(O){throw br.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(Uo,"0.7.8"),(0,se.registerVersion)(Uo,"0.7.8","esm2017")}();var gs=P(4408),Ta=P(7565);const hl=new class sr extends Ta.v{}(class jo extends gs.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,O,U):I.flush(this)}});var kd=P(4986),fl=P(8306),oi=P(8505),Yi=P(9468),Ia=P(5363);const pl=new l.GfV("7.3.0"),mi="__angularfire_symbol__analyticsIsSupportedValue",Sa="__angularfire_symbol__analyticsIsSupported",gc="__angularfire_symbol__remoteConfigIsSupportedValue",mc="__angularfire_symbol__remoteConfigIsSupported",_c="__angularfire_symbol__messagingIsSupportedValue",jt="__angularfire_symbol__messagingIsSupported";function _g(D,I,O){if(I){if(1===I.length)return I[0];const re=I.filter(_e=>_e.app===O);if(1===re.length)return re[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[Sa]||(globalThis[Sa]=Sn().then(D=>globalThis[mi]=D).catch(()=>globalThis[mi]=!1)),globalThis[jt]||(globalThis[jt]=Sd().then(D=>globalThis[_c]=D).catch(()=>globalThis[_c]=!1)),globalThis[mc]||(globalThis[mc]=Ed().then(D=>globalThis[gc]=D).catch(()=>globalThis[gc]=!1));const au=(D,I)=>{const O=I?[I]:(0,$.C6)(),U=[];return O.forEach(Q=>{Q.container.getProvider(D).instances.forEach(_e=>{U.includes(_e)||U.push(_e)})}),U};function Aa(){}class _i{constructor(I,O=hl){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,U){const Q=this.zone;return this.delegate.schedule(function(_e){Q.runGuarded(()=>{I.apply(this,[_e])})},O,U)}}class lu{constructor(I){this.zone=I,this.task=null}call(I,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)),O.pipe((0,oi.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fd=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new _i(Zone.current)),this.insideAngular=O.run(()=>new _i(Zone.current,kd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Qi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function nf(D){return Qi().ngZone.runOutsideAngular(()=>D())}function An(D){return Qi().ngZone.run(()=>D())}function co(D){return Qi(),function uu(D){return function(O){return(O=O.lift(new lu(D.ngZone))).pipe((0,Yi.R)(D.outsideAngular),(0,Ia.Q)(D.insideAngular))}}(Qi())(D)}const Na=(D,I)=>function(){const U=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),An(()=>D.apply(void 0,U))},Ld=(D,I)=>function(){let O;const U=arguments;for(let re=0;re<arguments.length;re++)"function"==typeof U[re]&&(I&&(O||(O=An(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)))),U[re]=Na(U[re],O));const Q=nf(()=>D.apply(this,U));if(!I){if(Q instanceof fl.y){const re=Qi();return Q.pipe((0,Yi.R)(re.outsideAngular),(0,Ia.Q)(re.insideAngular))}return An(()=>Q)}return Q instanceof fl.y?Q.pipe(co):Q instanceof Promise?An(()=>new Promise((re,_e)=>Q.then($e=>An(()=>re($e)),$e=>An(()=>_e($e))))):"function"==typeof Q&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),Q.apply(this,arguments)}:An(()=>Q)}},573:(gt,Ie,P)=>{P.d(Ie,{$:()=>Dd,A:()=>q,E:()=>Wt,G:()=>Gr,I:()=>Ss,K:()=>j,L:()=>Yl,M:()=>Ql,N:()=>ua,P:()=>pl,Q:()=>Jl,R:()=>zr,T:()=>Ri,U:()=>qi,V:()=>Ns,W:()=>hg,X:()=>Pr,Y:()=>tu,Z:()=>ti,_:()=>Wi,a:()=>bt,a0:()=>Td,a1:()=>Zh,a2:()=>Se,a3:()=>Kh,a4:()=>nu,a5:()=>Zi,a6:()=>ec,a7:()=>fg,a8:()=>tc,a9:()=>fs,aA:()=>At,aB:()=>uu,aC:()=>vn,aG:()=>xn,aJ:()=>Xa,aa:()=>va,ab:()=>Yh,ae:()=>nc,af:()=>Qh,ag:()=>rc,aj:()=>Xs,ak:()=>oc,am:()=>lc,an:()=>su,ao:()=>Nn,ap:()=>tt,aq:()=>Rt,ar:()=>Ye,as:()=>Ge,at:()=>_l,au:()=>du,av:()=>Oe,aw:()=>te,ax:()=>ie,ay:()=>K,az:()=>Ji,b:()=>Vn,c:()=>yc,d:()=>Aa,e:()=>_g,f:()=>D,g:()=>_e,h:()=>U,i:()=>ii,j:()=>Dt,k:()=>ho,l:()=>sr,m:()=>bg,o:()=>ce,r:()=>ou,s:()=>jo,u:()=>Yi,z:()=>Re});var l=P(5861),$=P(2090),R=P(9681),se=P(655),ne=P(1877),ve=P(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pe=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ne.Yd("@firebase/auth");function st(v,...g){Ee.logLevel<=ne.in.ERROR&&Ee.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function Ge(v,...g){throw Je(v,...g)}function Oe(v,...g){return Je(v,...g)}function Ne(v,g,_){const E=Object.assign(Object.assign({},Pe()),{[g]:_});return new $.LL("auth","Firebase",E).create(g,{appName:v.name})}function we(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ge(v,"argument-error"),Ne(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(v,...g){if("string"!=typeof v){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(_,...E)}return Ue.create(v,...g)}function te(v,g,..._){if(!v)throw Je(g,..._)}function rt(v){const g="INTERNAL ASSERTION FAILED: "+v;throw st(g),new Error(g)}function tt(v,g){v||rt(g)}const oe=new Map;function ie(v){tt(v instanceof Function,"Expected a class definition");let g=oe.get(v);return g?(tt(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,oe.set(v,g),g)}function fe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Le(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ze{constructor(g,_){this.shortDelay=g,this.longDelay=_,tt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function en(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Le()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tn(v,g){tt(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class mr{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new ze(3e4,6e4);function nn(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function on(v,g,_,E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,g,_,E,N={}){return Ir(v,N,(0,l.Z)(function*(){let F={},X={};E&&("GET"===g?X=E:F={body:JSON.stringify(E)});const Me=(0,$.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),ht=yield v._getAdditionalHeaders();return ht["Content-Type"]="application/json",v.languageCode&&(ht["X-Firebase-Locale"]=v.languageCode),mr.fetch()(Mi(v,v.config.apiHost,_,Me),Object.assign({method:g,headers:ht,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Ir(v,g,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(v,g,_){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},kn),g);try{const N=new Sr(v),F=yield Promise.race([_(),N.promise]);N.clearNetworkTimeout();const X=yield F.json();if("needConfirmation"in X)throw xr(v,"account-exists-with-different-credential",X);if(F.ok&&!("errorMessage"in X))return X;{const Me=F.ok?X.errorMessage:X.error.message,[ht,It]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw xr(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===ht)throw xr(v,"email-already-in-use",X);const Ht=E[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Ne(v,Ht,It);Ge(v,Ht)}}catch(N){if(N instanceof $.ZR)throw N;Ge(v,"network-request-failed")}})).apply(this,arguments)}function Rr(v,g,_,E){return os.apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(v,g,_,E,N={}){const F=yield on(v,g,_,E,N);return"mfaPendingCredential"in F&&Ge(v,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Mi(v,g,_,E){const N=`${g}${_}?${E}`;return v.config.emulator?tn(v.config,N):`${v.config.apiScheme}://${N}`}class Sr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Oe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xr(v,g,_){const E={appName:v.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const N=Oe(v,g,E);return N.customData._tokenResponse=_,N}function mt(){return(mt=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function jr(v,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function un(v,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Oi(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Jr(){return(Jr=(0,l.Z)(function*(v,g=!1){const _=(0,$.m9)(v),E=yield _.getIdToken(g),N=qt(E);te(N&&N.exp&&N.auth_time&&N.iat,_.auth,"internal-error");const F="object"==typeof N.firebase?N.firebase:void 0,X=null==F?void 0:F.sign_in_provider;return{claims:N,token:E,authTime:Oi(Ao(N.auth_time)),issuedAtTime:Oi(Ao(N.iat)),expirationTime:Oi(Ao(N.exp)),signInProvider:X||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function Ao(v){return 1e3*Number(v)}function qt(v){const[g,_,E]=v.split(".");if(void 0===g||void 0===_||void 0===E)return st("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(_);return N?JSON.parse(N):(st("Failed to decode base64 JWT payload"),null)}catch(N){return st("Caught error parsing JWT payload as JSON",N),null}}function ut(v,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof $.ZR&&as(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function as({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Zt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const N=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class ls{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(v){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v){var g;const _=v.auth,E=yield v.getIdToken(),N=yield ut(v,un(_,{idToken:E}));te(null==N?void 0:N.users.length,_,"internal-error");const F=N.users[0];v._notifyReloadListener(F);const X=(null===(g=F.providerUserInfo)||void 0===g?void 0:g.length)?We(F.providerUserInfo):[],Me=Kt(v.providerData,X),Ht=!!v.isAnonymous&&!(v.email&&F.passwordHash||(null==Me?void 0:Me.length)),mn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Me,metadata:new ls(F.createdAt,F.lastLoginAt),isAnonymous:Ht};Object.assign(v,mn)})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(v){const g=(0,$.m9)(v);yield qn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Kt(v,g){return[...v.filter(E=>!g.some(N=>N.providerId===E.providerId)),...g]}function We(v){return v.map(g=>{var{providerId:_}=g,E=(0,se._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ot(){return(ot=(0,l.Z)(function*(v,g){const _=yield Ir(v,{},(0,l.Z)(function*(){const E=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:F}=v.config,X=Mi(v,N,"/v1/token",`key=${F}`),Me=yield v._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",mr.fetch()(X,{method:"POST",headers:Me,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){te(g.idToken,"internal-error"),te(void 0!==g.idToken,"internal-error"),te(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function _t(v){const g=qt(v);return te(g,"internal-error"),te(void 0!==g.exp,"internal-error"),te(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,l.Z)(function*(){return te(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,l.Z)(function*(){const{accessToken:N,refreshToken:F,expiresIn:X}=yield function Te(v,g){return ot.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(N,F,Number(X))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:N,expirationTime:F}=_,X=new yt;return E&&(te("string"==typeof E,"internal-error",{appName:g}),X.refreshToken=E),N&&(te("string"==typeof N,"internal-error",{appName:g}),X.accessToken=N),F&&(te("number"==typeof F,"internal-error",{appName:g}),X.expirationTime=F),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new yt,this.toJSON())}_performRefresh(){return rt("not implemented")}}function Bt(v,g){te("string"==typeof v||void 0===v,"internal-error",{appName:g})}class Ut{constructor(g){var{uid:_,auth:E,stsTokenManager:N}=g,F=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new ls(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const E=yield ut(_,_.stsTokenManager.getToken(_.auth,g));return te(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function Ln(v){return Jr.apply(this,arguments)}(this,g)}reload(){return function wt(v){return Wn.apply(this,arguments)}(this)}_assign(g){this!==g&&(te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ut(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,l.Z)(function*(){let N=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),N=!0),_&&(yield qn(E)),yield E.auth._persistUserIfCurrent(E),N&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield ut(g,function Ds(v,g){return mt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,N,F,X,Me,ht,It,Ht;const mn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Wo=null!==(N=_.email)&&void 0!==N?N:void 0,es=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,mu=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Ud=null!==(Me=_.tenantId)&&void 0!==Me?Me:void 0,Dc=null!==(ht=_._redirectEventId)&&void 0!==ht?ht:void 0,A_=null!==(It=_.createdAt)&&void 0!==It?It:void 0,Tc=null!==(Ht=_.lastLoginAt)&&void 0!==Ht?Ht:void 0,{uid:Ma,emailVerified:Cg,isAnonymous:_u,providerData:Ic,stsTokenManager:Dg}=_;te(Ma&&Dg,g,"internal-error");const mf=yt.fromJSON(this.name,Dg);te("string"==typeof Ma,g,"internal-error"),Bt(mn,g.name),Bt(Wo,g.name),te("boolean"==typeof Cg,g,"internal-error"),te("boolean"==typeof _u,g,"internal-error"),Bt(es,g.name),Bt(mu,g.name),Bt(Ud,g.name),Bt(Dc,g.name),Bt(A_,g.name),Bt(Tc,g.name);const yl=new Ut({uid:Ma,auth:g,email:Wo,emailVerified:Cg,displayName:mn,isAnonymous:_u,photoURL:mu,phoneNumber:es,tenantId:Ud,stsTokenManager:mf,createdAt:A_,lastLoginAt:Tc});return Ic&&Array.isArray(Ic)&&(yl.providerData=Ic.map(Tg=>Object.assign({},Tg))),Dc&&(yl._redirectEventId=Dc),yl}static _fromIdTokenResponse(g,_,E=!1){return(0,l.Z)(function*(){const N=new yt;N.updateFromServerResponse(_);const F=new Ut({uid:_.localId,auth:g,stsTokenManager:N,isAnonymous:E});return yield qn(F),F})()}}const j=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,E){var N=this;return(0,l.Z)(function*(){N.storage[_]=E})()}_get(_){var E=this;return(0,l.Z)(function*(){const N=E.storage[_];return void 0===N?null:N})()}_remove(_){var E=this;return(0,l.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return v.type="NONE",v})();function K(v,g,_){return`firebase:${v}:${g}:${_}`}class he{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:N,name:F}=this.auth;this.fullUserKey=K(this.userKey,N.apiKey,F),this.fullPersistenceKey=K("persistence",N.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Ut._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,l.Z)(function*(){if(!_.length)return new he(ie(j),g,E);const N=(yield Promise.all(_.map(function(){var It=(0,l.Z)(function*(Ht){if(yield Ht._isAvailable())return Ht});return function(Ht){return It.apply(this,arguments)}}()))).filter(It=>It);let F=N[0]||ie(j);const X=K(E,g.config.apiKey,g.name);let Me=null;for(const It of _)try{const Ht=yield It._get(X);if(Ht){const mn=Ut._fromJSON(g,Ht);It!==F&&(Me=mn),F=It;break}}catch(Ht){}const ht=N.filter(It=>It._shouldAllowMigration);return F._shouldAllowMigration&&ht.length?(F=ht[0],Me&&(yield F._set(X,Me.toJSON())),yield Promise.all(_.map(function(){var It=(0,l.Z)(function*(Ht){if(Ht!==F)try{yield Ht._remove(X)}catch(mn){}});return function(Ht){return It.apply(this,arguments)}}())),new he(F,g,E)):new he(F,g,E)})()}}function k(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(je(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(St(g))return"Blackberry";if(lt(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||ue(g))&&!g.includes("edge/"))return"Chrome";if(Ye(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function V(v=(0,$.z$)()){return/firefox\//i.test(v)}function H(v=(0,$.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ue(v=(0,$.z$)()){return/crios\//i.test(v)}function je(v=(0,$.z$)()){return/iemobile/i.test(v)}function Ye(v=(0,$.z$)()){return/android/i.test(v)}function St(v=(0,$.z$)()){return/blackberry/i.test(v)}function lt(v=(0,$.z$)()){return/webos/i.test(v)}function Rt(v=(0,$.z$)()){return/iphone|ipad|ipod/i.test(v)}function Nn(v=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Hr(v=(0,$.z$)()){return Rt(v)||Ye(v)||lt(v)||St(v)||/windows phone/i.test(v)||je(v)}function ar(v,g=[]){let _;switch(v){case"Browser":_=k((0,$.z$)());break;case"Worker":_=`${k((0,$.z$)())}-${v}`;break;default:_=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${E}`}class Wl{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xe(this),this.idTokenSubscription=new Xe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var N,F;if(!E._deleted&&(E.persistenceManager=yield he.create(E,g),!E._deleted)){if(null===(N=E._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(X){}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var E;let N=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const F=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,X=null==N?void 0:N._redirectEventId,Me=yield _.tryRedirectSignIn(g);(!F||F===X)&&(null==Me?void 0:Me.user)&&(N=Me.user)}return N?N._redirectEventId?(te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)):_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(N){yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield qn(g)}catch(E){if("auth/network-request-failed"!==E.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function an(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const E=g?(0,$.m9)(g):null;return E&&te(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){if(!_._deleted)return g&&te(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,l.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,l.Z)(function*(){const N=yield E.getOrInitRedirectPersistenceManager(_);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&ie(g)||_._popupRedirectResolver;te(E,_,"argument-error"),_.redirectPersistenceManager=yield he.create(_,[ie(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var E,N;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(N=_.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,N){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return te(X,this,"internal-error"),X.then(()=>F(this.currentUser)),"function"==typeof _?g.addObserver(_,E,N):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return N&&(E["X-Firebase-Client"]=N),E})()}}function vn(v){return(0,$.m9)(v)}class Xe{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wt(v,g,_){const E=vn(v);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const N=!!(null==_?void 0:_.disableWarnings),F=bn(g),{host:X,port:Me}=function $r(v){const g=bn(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(E);if(N){const F=N[1];return{host:F,port:Ts(E.substr(F.length+1))}}{const[F,X]=E.split(":");return{host:F,port:Ts(X)}}}(g);E.config.emulator={url:`${F}//${X}${null===Me?"":`:${Me}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:Me,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function yr(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function bn(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Ts(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Gr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return rt("not implemented")}_getIdTokenResponse(g){return rt("not implemented")}_linkToIdToken(g,_){return rt("not implemented")}_getReauthenticationResolver(g){return rt("not implemented")}}function Mn(v,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:resetPassword",nn(v,g))})).apply(this,arguments)}function No(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zl(v,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",nn(v,g))})).apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signInWithPassword",nn(v,g))})).apply(this,arguments)}function pn(v,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:sendOobCode",nn(v,g))})).apply(this,arguments)}function Mo(v,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function Dn(v,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function yd(v,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function cs(v,g){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(v,g){return pn(v,g)})).apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signInWithEmailLink",nn(v,g))})).apply(this,arguments)}function Yu(){return(Yu=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signInWithEmailLink",nn(v,g))})).apply(this,arguments)}class ds extends Gr{constructor(g,_,E,N=null){super("password",E),this._email=g,this._password=_,this._tenantId=N}static _fromEmailAndPassword(g,_){return new ds(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new ds(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Ku(v,g){return us.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function sa(v,g){return oa.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ge(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return No(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function zi(v,g){return Yu.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Ge(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Qs(v,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signInWithIdp",nn(v,g))})).apply(this,arguments)}class Ss extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ss(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ge("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:N}=_,F=(0,se._T)(_,["providerId","signInMethod"]);if(!E||!N)return null;const X=new Ss(E,N);return X.idToken=F.idToken||void 0,X.accessToken=F.accessToken||void 0,X.secret=F.secret,X.nonce=F.nonce,X.pendingToken=F.pendingToken||null,X}_getIdTokenResponse(g){return Qs(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Qs(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Qs(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,$.xO)(_)}return g}}function ag(v,g){return vd.apply(this,arguments)}function vd(){return(vd=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:sendVerificationCode",nn(v,g))})).apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,g))})).apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(v,g){const _=yield Rr(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,g));if(_.temporaryProof)throw xr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ug={USER_NOT_FOUND:"user-not-found"};function wd(){return(wd=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signInWithPhoneNumber",nn(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ug)})).apply(this,arguments)}class la extends Gr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new la({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new la({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function lg(v,g){return Qa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function aa(v,g){return bd.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function cg(v,g){return wd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:N}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:N,temporaryProof:F}=g;return E||_||N||F?new la({verificationId:_,verificationCode:E,phoneNumber:N,temporaryProof:F}):null}}class Js{constructor(g){var _,E,N,F,X,Me;const ht=(0,$.zd)((0,$.pd)(g)),It=null!==(_=ht.apiKey)&&void 0!==_?_:null,Ht=null!==(E=ht.oobCode)&&void 0!==E?E:null,mn=function dg(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ht.mode)&&void 0!==N?N:null);te(It&&Ht&&mn,"argument-error"),this.apiKey=It,this.operation=mn,this.code=Ht,this.continueUrl=null!==(F=ht.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(X=ht.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Me=ht.tenantId)&&void 0!==Me?Me:null}static parseLink(g){const _=function v_(v){const g=(0,$.zd)((0,$.pd)(v)).link,_=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,E=(0,$.zd)((0,$.pd)(v)).deep_link_id;return(E?(0,$.zd)((0,$.pd)(E)).link:null)||E||_||g||v}(g);try{return new Js(_)}catch(E){return null}}}let Yl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,E){return ds._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const N=Js.parseLink(E);return te(N,"argument-error"),ds._fromEmailAndCode(_,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class As{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ja extends As{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ri extends Ja{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return te("providerId"in _&&"signInMethod"in _,"argument-error"),Ss._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return te(g.idToken||g.accessToken,"argument-error"),Ss._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ri.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ri.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:F,nonce:X,providerId:Me}=g;if(!E&&!N&&!_&&!F||!Me)return null;try{return new Ri(Me)._credential({idToken:_,accessToken:E,nonce:X,pendingToken:F})}catch(ht){return null}}}let Ql=(()=>{class v extends Ja{constructor(){super("facebook.com")}static credential(_){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ua=(()=>{class v extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:N}=_;if(!E&&!N)return null;try{return v.credential(E,N)}catch(F){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Jl=(()=>{class v extends Ja{constructor(){super("github.com")}static credential(_){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Xa extends Gr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Qs(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Qs(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Qs(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:N,pendingToken:F}=_;return E&&N&&F&&E===N?new Xa(E,F):null}static _create(g,_){return new Xa(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qi extends As{constructor(g){te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return qi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return qi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Xa.fromJSON(g);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return Xa._create(E,_)}catch(N){return null}}}let Ns=(()=>{class v extends Ja{constructor(){super("twitter.com")}static credential(_,E){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:N}=_;if(!E||!N)return null;try{return v.credential(E,N)}catch(F){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Xl(v,g){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signUp",nn(v,g))})).apply(this,arguments)}class Rn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,N=!1){return(0,l.Z)(function*(){const F=yield Ut._fromIdTokenResponse(g,E,N),X=ca(E);return new Rn({user:F,providerId:X,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const N=ca(E);return new Rn({user:g,providerId:N,_tokenResponse:E,operationType:_})})()}}function ca(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function hg(v){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(v){var g;const _=vn(v);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Rn({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Xl(_,{returnSecureToken:!0}),N=yield Rn._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class Qu extends $.ZR{constructor(g,_,E,N){var F;super(_.code,_.message),this.operationType=E,this.user=N,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,N){return new Qu(g,_,E,N)}}function Cd(v,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Qu._fromErrorAndOperation(v,F,g,E):F})}function eu(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Xs(v,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v);yield Ro(!0,_,g);const{providerUserInfo:E}=yield jr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),N=eu(E||[]);return _.providerData=_.providerData.filter(F=>N.has(F.providerId)),N.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Ju(v,g){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(v,g,_=!1){const E=yield ut(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return Rn._forOperation(v,"link",E)})).apply(this,arguments)}function Ro(v,g,_){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(v,g,_){yield qn(g);const N=!1===v?"provider-already-linked":"no-such-provider";te(eu(g.providerData).has(_)===v,g.auth,N)})).apply(this,arguments)}function wn(v,g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(v,g,_=!1){const{auth:E}=v,N="reauthenticate";try{const F=yield ut(v,Cd(E,N,g,v),_);te(F.idToken,E,"internal-error");const X=qt(F.idToken);te(X,E,"internal-error");const{sub:Me}=X;return te(v.uid===Me,E,"user-mismatch"),Rn._forOperation(v,N,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&Ge(E,"user-mismatch"),F}})).apply(this,arguments)}function ha(v,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(v,g,_=!1){const E="signIn",N=yield Cd(v,E,g),F=yield Rn._fromIdTokenResponse(v,E,N);return _||(yield v._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Pr(v,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(v,g){return ha(vn(v),g)})).apply(this,arguments)}function tu(v,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v);return yield Ro(!1,_,g.providerId),Ju(_,g)})).apply(this,arguments)}function ti(v,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(v,g){return wn((0,$.m9)(v),g)})).apply(this,arguments)}function Po(v,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(v,g){return Rr(v,"POST","/v1/accounts:signInWithCustomToken",nn(v,g))})).apply(this,arguments)}function Wi(v,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(v,g){const _=vn(v),E=yield Po(_,{token:g,returnSecureToken:!0}),N=yield Rn._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class Os{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Ct._fromServerResponse(g,_):Ge(g,"internal-error")}}class Ct extends Os{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Ct(_)}}function tl(v,g,_){var E;te((null===(E=_.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),te(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Dd(v,g,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),N={requestType:"PASSWORD_RESET",email:g};_&&tl(E,N,_),yield Dn(E,N)})).apply(this,arguments)}function Td(v,g,_){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(v,g,_){yield Mn((0,$.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Zh(v,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(v,g){yield Zl((0,$.m9)(v),{oobCode:g})})).apply(this,arguments)}function Se(v,g){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v),E=yield Mn(_,{oobCode:g}),N=E.requestType;switch(te(N,_,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,_,"internal-error");default:te(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=Os._fromServerResponse(vn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:N}})).apply(this,arguments)}function Kh(v,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(v,g){const{data:_}=yield Se((0,$.m9)(v),g);return _.email})).apply(this,arguments)}function nu(v,g,_){return to.apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(v,g,_){const E=vn(v),N=yield Xl(E,{returnSecureToken:!0,email:g,password:_}),F=yield Rn._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}function Zi(v,g,_){return Pr((0,$.m9)(v),Yl.credential(g,_))}function ec(v,g,_){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),N={requestType:"EMAIL_SIGNIN",email:g};te(_.handleCodeInApp,E,"argument-error"),_&&tl(E,N,_),yield yd(E,N)})).apply(this,arguments)}function fg(v,g){const _=Js.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function tc(v,g,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),N=Yl.credentialWithLink(g,_||fe());return te(N._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Pr(E,N)})).apply(this,arguments)}function _a(v,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:createAuthUri",nn(v,g))})).apply(this,arguments)}function fs(v,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(v,g){const E={identifier:g,continueUri:Le()?fe():"http://localhost"},{signinMethods:N}=yield _a((0,$.m9)(v),E);return N||[]})).apply(this,arguments)}function va(v,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(v,g){const _=(0,$.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&tl(_.auth,N,g);const{email:F}=yield Mo(_.auth,N);F!==v.email&&(yield v.reload())})).apply(this,arguments)}function Yh(v,g,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&tl(E.auth,F,_);const{email:X}=yield cs(E.auth,F);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function Id(v,g){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(v,g){return on(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nc(v,g){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,$.m9)(v),F={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},X=yield ut(E,Id(E.auth,F));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const Me=E.providerData.find(({providerId:ht})=>"password"===ht);Me&&(Me.displayName=E.displayName,Me.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function Qh(v,g){return ic((0,$.m9)(v),g,null)}function rc(v,g){return ic((0,$.m9)(v),null,g)}function ic(v,g,_){return ru.apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(v,g,_){const{auth:E}=v,F={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(F.email=g),_&&(F.password=_);const X=yield ut(v,No(E,F));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class ko{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class sc extends ko{constructor(g,_,E,N){super(g,_,E),this.username=N}}class Jh extends ko{constructor(g,_){super(g,"facebook.com",_)}}class Sd extends sc{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Fo extends ko{constructor(g,_){super(g,"google.com",_)}}class ro extends sc{constructor(g,_,E){super(g,"twitter.com",_,E)}}function oc(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function sl(v){var g,_;if(!v)return null;const{providerId:E}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},F=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const X=null===(_=null===(g=qt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new ko(F,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new Jh(F,N);case"github.com":return new Sd(F,N);case"google.com":return new Fo(F,N);case"twitter.com":return new ro(F,N,v.screenName||null);case"custom":case"anonymous":return new ko(F,null);default:return new ko(F,E,N)}}(_)}class Lo{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new Lo("enroll",g)}static _fromMfaPendingCredential(g){return new Lo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Lo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return Lo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ol{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=vn(g),N=_.customData._serverResponse,F=(N.mfaInfo||[]).map(Me=>Os._fromServerResponse(E,Me));te(N.mfaPendingCredential,E,"internal-error");const X=Lo._fromMfaPendingCredential(N.mfaPendingCredential);return new ol(X,F,function(){var Me=(0,l.Z)(function*(ht){const It=yield ht._process(E,X);delete N.mfaInfo,delete N.mfaPendingCredential;const Ht=Object.assign(Object.assign({},N),{idToken:It.idToken,refreshToken:It.refreshToken});switch(_.operationType){case"signIn":const mn=yield Rn._fromIdTokenResponse(E,_.operationType,Ht);return yield E._updateCurrentUser(mn.user),mn;case"reauthenticate":return te(_.user,E,"internal-error"),Rn._forOperation(_.user,_.operationType,Ht);default:Ge(E,"internal-error")}});return function(ht){return Me.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function lc(v,g){var _;const E=(0,$.m9)(v),N=g;return te(g.customData.operationType,E,"argument-error"),te(null===(_=N.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),ol._fromError(E,N)}function iu(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:start",nn(v,g))}class Md{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Os._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Md(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Lo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var E=this;return(0,l.Z)(function*(){const N=g,F=yield E.getSession(),X=yield ut(E.user,N._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const E="string"==typeof g?g:g.uid,N=yield _.user.getIdToken(),F=yield ut(_.user,function Nd(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(v,g))}(_.user.auth,{idToken:N,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==E),yield _.user._updateTokensIfNecessary(F);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const Rs=new WeakMap;function su(v){const g=(0,$.m9)(v);return Rs.has(g)||Rs.set(g,Md._fromUser(g)),Rs.get(g)}const al="__sak";class ef{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(al,"1"),this.storage.removeItem(al),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vn=(()=>{class v extends ef{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function so(){const v=(0,$.z$)();return H(v)||Rt(v)}()&&function Gi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Hr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const N=this.storage.getItem(E),F=this.localCache[E];N!==F&&_(E,F,N)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Me,ht,It)=>{this.notifyListeners(Me,It)});const N=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(N);if(_.newValue!==Me)null!==_.newValue?this.storage.setItem(N,_.newValue):this.storage.removeItem(N);else if(this.localCache[N]===_.newValue&&!E)return}const F=()=>{const Me=this.storage.getItem(N);!E&&this.localCache[N]===Me||this.notifyListeners(N,Me)},X=this.storage.getItem(N);!function Qt(){return(0,$.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const N=this.listeners[_];if(N)for(const F of Array.from(N))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var N=()=>super._set,F=this;return(0,l.Z)(function*(){yield N().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,N=this;return(0,l.Z)(function*(){const F=yield E().call(N,_);return N.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,N=this;return(0,l.Z)(function*(){yield E().call(N,_),delete N.localCache[_]})()}}return v.type="LOCAL",v})(),bt=(()=>{class v extends ef{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return v.type="SESSION",v})();let Qn=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const N=new v(_);return this.receivers.push(N),N}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,l.Z)(function*(){const N=_,{eventId:F,eventType:X,data:Me}=N.data,ht=E.handlersMap[X];if(!(null==ht?void 0:ht.size))return;N.ports[0].postMessage({status:"ack",eventId:F,eventType:X});const It=Array.from(ht).map(function(){var mn=(0,l.Z)(function*(Wo){return Wo(N.origin,Me)});return function(Wo){return mn.apply(this,arguments)}}()),Ht=yield function En(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(It);N.ports[0].postMessage({status:"done",eventId:F,eventType:X,response:Ht})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function xn(v="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return v+_}class Rd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var N=this;return(0,l.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let X,Me;return new Promise((ht,It)=>{const Ht=xn("",20);F.port1.start();const mn=setTimeout(()=>{It(new Error("unsupported_event"))},E);Me={messageChannel:F,onMessage(Wo){const es=Wo;if(es.data.eventId===Ht)switch(es.data.status){case"ack":clearTimeout(mn),X=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),ht(es.data.response);break;default:clearTimeout(mn),clearTimeout(X),It(new Error("invalid_response"))}}},N.handlers.add(Me),F.port1.addEventListener("message",Me.onMessage),N.target.postMessage({eventType:g,eventId:Ht,data:_},[F.port2])}).finally(()=>{Me&&N.removeMessageHandler(Me)})})()}}function nr(){return window}function cc(){return void 0!==nr().WorkerGlobalScope&&"function"==typeof nr().importScripts}function wa(){return(wa=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const dc="firebaseLocalStorageDb",Ea="firebaseLocalStorage",ll="fbase_key";class gn{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ao(v,g){return v.transaction([Ea],g?"readwrite":"readonly").objectStore(Ea)}function ri(){const v=indexedDB.open(dc,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Ea,{keyPath:ll})}catch(N){_(N)}}),v.addEventListener("success",(0,l.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Ea)?g(E):(E.close(),yield function ul(){const v=indexedDB.deleteDatabase(dc);return new gn(v).toPromise()}(),g(yield ri()))}))})}function Vo(v,g,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(v,g,_){const E=ao(v,!0).put({[ll]:g,value:_});return new gn(E).toPromise()})).apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(v,g){const _=ao(v,!1).get(g),E=yield new gn(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Bo(v,g){const _=ao(v,!0).delete(g);return new gn(_).toPromise()}const ii=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ri()),_.db})()}_withRetries(_){var E=this;return(0,l.Z)(function*(){let N=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(N++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return cc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Qn._getInstance(function xt(){return cc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(N,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(N,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(N,F){return["keyChanged"]});return function(N,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var E,N;if(_.activeServiceWorker=yield function xs(){return wa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Rd(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(E=F[0])||void 0===E?void 0:E.fulfilled)&&(null===(N=F[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ki(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ri();return yield Vo(_,al,"1"),yield Bo(_,al),!0}catch(_){}return!1})()}_withPendingWrite(_){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(F=>Vo(F,_,E)),N.localCache[_]=E,N.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,l.Z)(function*(){const N=yield E._withRetries(F=>function lo(v,g){return cl.apply(this,arguments)}(F,_));return E.localCache[_]=N,N})()}_remove(_){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(N=>Bo(N,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const E=yield _._withRetries(X=>{const Me=ao(X,!1).getAll();return new gn(Me).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const N=[],F=new Set;for(const{fbase_key:X,value:Me}of E)F.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(Me)&&(_.notifyListeners(X,Me),N.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!F.has(X)&&(_.notifyListeners(X,null),N.push(X));return N})()}notifyListeners(_,E){this.localCache[_]=E;const N=this.listeners[_];if(N)for(const F of Array.from(N))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ca(v,g){return on(v,"POST","/v2/accounts/mfaSignIn:start",nn(v,g))}function cr(){return(cr=(0,l.Z)(function*(v){return(yield on(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pc(v){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=N=>{const F=Oe("internal-error");F.customData=N,_(F)},E.type="text/javascript",E.charset="UTF-8",function ks(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function Bn(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Fs=1e12;class Pi{constructor(g){this.auth=g,this.counter=Fs,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new ir(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||Fs;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Fs))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var E;return null===(E=_._widgets.get(g||Fs))||void 0===E||E.execute(),""})()}}class ir{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;te(N,"argument-error",{appName:_}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ps(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sn=Bn("rcb"),Da=new ze(3e4,6e4);class Un{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!nr().grecaptcha}load(g,_=""){return te(function pg(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(nr().grecaptcha):new Promise((E,N)=>{const F=nr().setTimeout(()=>{N(Oe(g,"network-request-failed"))},Da.get());nr()[Sn]=()=>{nr().clearTimeout(F),delete nr()[Sn];const Me=nr().grecaptcha;if(!Me)return void N(Oe(g,"internal-error"));const ht=Me.render;Me.render=(It,Ht)=>{const mn=ht(It,Ht);return this.counter++,mn},this.hostLanguage=_,E(Me)},pc(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Sn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),N(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!nr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gg{load(g){return(0,l.Z)(function*(){return new Pi(g)})()}clearedOneInstance(){}}const tf="recaptcha",Uo={theme:"light",type:"image"};class zr{constructor(g,_=Object.assign({},Uo),E){this.parameters=_,this.type=tf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;te(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gg:new Un,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const X=Me=>{!Me||(g.tokenChangeListeners.delete(X),F(Me))};g.tokenChangeListeners.add(X),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=nr()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){te(Le()&&!cc(),g.auth,"internal-error"),yield function mg(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function dl(v){return cr.apply(this,arguments)}(g.auth);te(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gs{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=la._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function jo(v,g,_){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(v,g,_){const E=vn(v),N=yield fl(E,g,(0,$.m9)(_));return new gs(N,F=>Pr(E,F))})).apply(this,arguments)}function sr(v,g,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);yield Ro(!1,E,"phone");const N=yield fl(E.auth,g,(0,$.m9)(_));return new gs(N,F=>tu(E,F))})).apply(this,arguments)}function ou(v,g,_){return kd.apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v),N=yield fl(E.auth,g,(0,$.m9)(_));return new gs(N,F=>ti(E,F))})).apply(this,arguments)}function fl(v,g,_){return oi.apply(this,arguments)}function oi(){return(oi=(0,l.Z)(function*(v,g,_){var E;const N=yield _.verify();try{let F;if(te("string"==typeof N,v,"argument-error"),te(_.type===tf,v,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const X=F.session;if("phoneNumber"in F)return te("enroll"===X.type,v,"internal-error"),(yield iu(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{te("signin"===X.type,v,"internal-error");const Me=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return te(Me,v,"missing-multi-factor-info"),(yield Ca(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield ag(v,{phoneNumber:F.phoneNumber,recaptchaToken:N});return X}}finally{_._reset()}})).apply(this,arguments)}function Yi(v,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(v,g){yield Ju((0,$.m9)(v),g)})).apply(this,arguments)}let pl=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=vn(_)}verifyPhoneNumber(_,E){return fl(this.auth,_,(0,$.m9)(E))}static credential(_,E){return la._fromVerification(_,E)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:N}=_;return E&&N?la._fromTokenResponse(E,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function mi(v,g){return g?ie(g):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Sa extends Gr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Qs(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Qs(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Qs(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function gc(v){return ha(v.auth,new Sa(v),v.bypassAuthState)}function mc(v){const{auth:g,user:_}=v;return te(_,g,"internal-error"),wn(_,new Sa(v),v.bypassAuthState)}function _c(v){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(v){const{auth:g,user:_}=v;return te(_,g,"internal-error"),Ju(_,new Sa(v),v.bypassAuthState)})).apply(this,arguments)}class gl{constructor(g,_,E,N,F=!1){this.auth=g,this.resolver=E,this.user=N,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(E,N){g.pendingPromise={resolve:E,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(E,N){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:N,postBody:F,tenantId:X,error:Me,type:ht}=g;if(Me)return void _.reject(Me);const It={auth:_.auth,requestUri:E,sessionId:N,tenantId:X||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ht)(It))}catch(Ht){_.reject(Ht)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return gc;case"linkViaPopup":case"linkViaRedirect":return _c;case"reauthViaPopup":case"reauthViaRedirect":return mc;default:Ge(this.auth,"internal-error")}}resolve(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ar=new ze(2e3,1e4);function yc(v,g,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,l.Z)(function*(v,g,_){const E=vn(v);we(v,g,As);const N=mi(E,_);return new lu(E,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function _g(v,g,_){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,As);const N=mi(E.auth,_);return new lu(E.auth,"reauthViaPopup",g,N,E).executeNotNull()})).apply(this,arguments)}function Aa(v,g,_){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,As);const N=mi(E.auth,_);return new lu(E.auth,"linkViaPopup",g,N,E).executeNotNull()})).apply(this,arguments)}let lu=(()=>{class v extends gl{constructor(_,E,N,F,X){super(_,E,F,X),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const E=yield _.execute();return te(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,l.Z)(function*(){tt(1===_.filter.length,"Popup operations only handle one event");const E=xn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(N=>{_.reject(N)}),_.resolver._isIframeWebStorageSupported(_.auth,N=>{N||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,N;this.pollId=(null===(N=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ar.get())};_()}}return v.currentPopupAction=null,v})();const Qi=new Map;class nf extends gl{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let E=Qi.get(_.auth._key());if(!E){try{const F=(yield function An(v,g){return ai.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(F)}catch(N){E=()=>Promise.reject(N)}Qi.set(_.auth._key(),E)}return _.bypassAuthState||Qi.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const N=yield E.auth._redirectUserForId(g.eventId);if(N)return E.user=N,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ai(){return(ai=(0,l.Z)(function*(v,g){const _=Ld(g),E=Na(v);if(!(yield E._isAvailable()))return!1;const N="true"===(yield E._get(_));return yield E._remove(_),N})).apply(this,arguments)}function rf(v,g){return co.apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(v,g){return Na(v)._set(Ld(g),"true")})).apply(this,arguments)}function uu(){Qi.clear()}function Na(v){return ie(v._redirectPersistence)}function Ld(v){return K("pendingRedirect",v.config.apiKey,v.name)}function D(v,g,_){return function I(v,g,_){return O.apply(this,arguments)}(v,g,_)}function O(){return(O=(0,l.Z)(function*(v,g,_){const E=vn(v);we(v,g,As);const N=mi(E,_);return yield rf(N,E),N._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function U(v,g,_){return function Q(v,g,_){return re.apply(this,arguments)}(v,g,_)}function re(){return(re=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,As);const N=mi(E.auth,_);yield rf(N,E.auth);const F=yield wr(E);return N._openRedirect(E.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function _e(v,g,_){return function $e(v,g,_){return Mt.apply(this,arguments)}(v,g,_)}function Mt(){return(Mt=(0,l.Z)(function*(v,g,_){const E=(0,$.m9)(v);we(E.auth,g,As);const N=mi(E.auth,_);yield Ro(!1,E,g.providerId),yield rf(N,E.auth);const F=yield wr(E);return N._openRedirect(E.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function Dt(v,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(v,g){return yield vn(v)._initializationPromise,At(v,g,!1)})).apply(this,arguments)}function At(v,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(v,g,_=!1){const E=vn(v),N=mi(E,g),X=yield new nf(E,N,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,g)),X})).apply(this,arguments)}function wr(v){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(v){const g=xn(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Ji{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function cu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xi(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!Xi(g)){const N=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,N))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ki(g))}saveEventToCache(g){this.cachedEventUids.add(ki(g)),this.lastProcessedEventTime=Date.now()}}function ki(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Xi({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function du(v){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(v,g={}){return on(v,"GET","/v1/projects",g)})).apply(this,arguments)}const vc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yg=/^https?/;function sf(){return(sf=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield du(v);for(const _ of g)try{if(Ho(_))return}catch(E){}Ge(v,"unauthorized-domain")})).apply(this,arguments)}function Ho(v){const g=fe(),{protocol:_,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===E?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===E}if(!yg.test(_))return!1;if(vc.test(v))return E===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(E)}const bc=new ze(3e4,6e4);function vg(){const v=nr().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let wc=null;function E_(v){return wc=wc||function Ob(v){return new Promise((g,_)=>{var E,N,F;function X(){vg(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{vg(),_(Oe(v,"network-request-failed"))},timeout:bc.get()})}if(null===(N=null===(E=nr().gapi)||void 0===E?void 0:E.iframes)||void 0===N?void 0:N.Iframe)g(gapi.iframes.getContext());else{if(!(null===(F=nr().gapi)||void 0===F?void 0:F.load)){const Me=Bn("iframefcb");return nr()[Me]=()=>{gapi.load?X():_(Oe(v,"network-request-failed"))},pc(`https://apis.google.com/js/api.js?onload=${Me}`).catch(ht=>_(ht))}X()}}).catch(g=>{throw wc=null,g})}(v),wc}const C_=new ze(5e3,15e3),$o={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Go=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vd(v){const g=v.config;te(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?tn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},N=Go.get(v.config.apiHost);N&&(E.eid=N);const F=v._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,$.xO)(E).slice(1)}`}function uf(){return uf=(0,l.Z)(function*(v){const g=yield E_(v),_=nr().gapi;return te(_,v,"internal-error"),g.open({where:document.body,url:Vd(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$o,dontclear:!0},E=>new Promise(function(){var N=(0,l.Z)(function*(F,X){yield E.restyle({setHideOnLeave:!1});const Me=Oe(v,"network-request-failed"),ht=nr().setTimeout(()=>{X(Me)},C_.get());function It(){nr().clearTimeout(ht),F(E)}E.ping(It).then(It,()=>{X(Me)})});return function(F,X){return N.apply(this,arguments)}}()))}),uf.apply(this,arguments)}const fu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ec{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function _l(v,g,_,E,N,F){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:E,v:R.SDK_VERSION,eventId:N};if(g instanceof As){g.setDefaultLanguage(v.languageCode),X.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(X.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ht,It]of Object.entries(F||{}))X[ht]=It}if(g instanceof Ja){const ht=g.getScopes().filter(It=>""!==It);ht.length>0&&(X.scopes=ht.join(","))}v.tenantId&&(X.tid=v.tenantId);const Me=X;for(const ht of Object.keys(Me))void 0===Me[ht]&&delete Me[ht];return`${function I_({config:v}){return v.emulator?tn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,$.xO)(Me).slice(1)}`}const ff="webStorageSupport",ho=class qo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bt,this._completeRedirectFn=At}_openPopup(g,_,E,N){var F=this;return(0,l.Z)(function*(){var X;tt(null===(X=F.eventManagers[g._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Me=_l(g,_,E,fe(),N);return function df(v,g,_,E=500,N=600){const F=Math.max((window.screen.availHeight-N)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let Me="";const ht=Object.assign(Object.assign({},fu),{width:E.toString(),height:N.toString(),top:F,left:X}),It=(0,$.z$)().toLowerCase();_&&(Me=ue(It)?"_blank":_),V(It)&&(g=g||"http://localhost",ht.scrollbars="yes");const Ht=Object.entries(ht).reduce((Wo,[es,mu])=>`${Wo}${es}=${mu},`,"");if(function _r(v=(0,$.z$)()){var g;return Rt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(It)&&"_self"!==Me)return function zo(v,g){const _=document.createElement("a");_.href=v,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",Me),new Ec(null);const mn=window.open(g||"",Me,Ht);te(mn,v,"popup-blocked");try{mn.focus()}catch(Wo){}return new Ec(mn)}(g,Me,xn())})()}_openRedirect(g,_,E,N){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(g),function oo(v){nr().location.href=v}(_l(g,_,E,fe(),N)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:N,promise:F}=this.eventManagers[_];return N?Promise.resolve(N):(tt(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const E=yield function ml(v){return uf.apply(this,arguments)}(g),N=new Ji(g);return E.register("authEvent",F=>(te(null==F?void 0:F.authEvent,g,"invalid-auth-event"),{status:N.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:N},_.iframes[g._key()]=E,N})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(ff,{type:ff},N=>{var F;const X=null===(F=null==N?void 0:N[0])||void 0===F?void 0:F[ff];void 0!==X&&_(!!X),Ge(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function w_(v){return sf.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Hr()||H()||Rt()}};class Cc extends class gu{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return rt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Cc(g)}_finalizeEnroll(g,_,E){return function ur(v,g){return on(v,"POST","/v2/accounts/mfaEnrollment:finalize",nn(v,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function uo(v,g){return on(v,"POST","/v2/accounts/mfaSignIn:finalize",nn(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bg=(()=>{class v{constructor(){}static assertion(_){return Cc._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var pf="@firebase/auth",wg="0.19.12";class gf{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var N;g((null===(N=E)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function S_(v){(0,R._registerComponent)(new ve.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),{apiKey:F,authDomain:X}=E.options;return((Me,ht)=>{te(F&&!F.includes(":"),"invalid-api-key",{appName:Me.name}),te(!(null==X?void 0:X.includes(":")),"argument-error",{appName:Me.name});const It={apiKey:F,authDomain:X,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(v)},Ht=new Wl(Me,ht,It);return function De(v,g){const _=(null==g?void 0:g.persistence)||[],E=(Array.isArray(_)?_:[_]).map(ie);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(Ht,_),Ht})(E,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ve.wA("auth-internal",g=>{const _=vn(g.getProvider("auth").getImmediate());return new gf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(pf,wg,function Eg(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(pf,wg,"esm2017")}("Browser")},2090:(gt,Ie,P)=>{P.d(Ie,{$s:()=>ls,BH:()=>Re,G6:()=>rt,L:()=>pe,LL:()=>Le,Lj:()=>Bt,Mn:()=>Je,Sg:()=>Pe,UG:()=>Ee,US:()=>le,X3:()=>yt,ZB:()=>ee,ZR:()=>fe,b$:()=>Oe,d:()=>Ne,eu:()=>oe,hl:()=>tt,jU:()=>st,m9:()=>wt,ne:()=>mt,pd:()=>xr,r3:()=>on,ru:()=>Ge,tV:()=>W,uI:()=>ge,vZ:()=>Rr,w1:()=>we,xO:()=>Mi,xb:()=>Ir,z$:()=>Ue,zI:()=>ie,zd:()=>Sr});var l=P(5861);const ne=function(Z){const j=[];let K=0;for(let he=0;he<Z.length;he++){let k=Z.charCodeAt(he);k<128?j[K++]=k:k<2048?(j[K++]=k>>6|192,j[K++]=63&k|128):55296==(64512&k)&&he+1<Z.length&&56320==(64512&Z.charCodeAt(he+1))?(k=65536+((1023&k)<<10)+(1023&Z.charCodeAt(++he)),j[K++]=k>>18|240,j[K++]=k>>12&63|128,j[K++]=k>>6&63|128,j[K++]=63&k|128):(j[K++]=k>>12|224,j[K++]=k>>6&63|128,j[K++]=63&k|128)}return j},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,j){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let k=0;k<Z.length;k+=3){const V=Z[k],H=k+1<Z.length,ue=H?Z[k+1]:0,je=k+2<Z.length,Ye=je?Z[k+2]:0;let Rt=(15&ue)<<2|Ye>>6,Nn=63&Ye;je||(Nn=64,H||(Rt=64)),he.push(K[V>>2],K[(3&V)<<4|ue>>4],K[Rt],K[Nn])}return he.join("")},encodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Z):this.encodeByteArray(ne(Z),j)},decodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Z):function(Z){const j=[];let K=0,he=0;for(;K<Z.length;){const k=Z[K++];if(k<128)j[he++]=String.fromCharCode(k);else if(k>191&&k<224){const V=Z[K++];j[he++]=String.fromCharCode((31&k)<<6|63&V)}else if(k>239&&k<365){const je=((7&k)<<18|(63&Z[K++])<<12|(63&Z[K++])<<6|63&Z[K++])-65536;j[he++]=String.fromCharCode(55296+(je>>10)),j[he++]=String.fromCharCode(56320+(1023&je))}else{const V=Z[K++],H=Z[K++];j[he++]=String.fromCharCode((15&k)<<12|(63&V)<<6|63&H)}}return j.join("")}(this.decodeStringToByteArray(Z,j))},decodeStringToByteArray(Z,j){this.init_();const K=j?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let k=0;k<Z.length;){const V=K[Z.charAt(k++)],ue=k<Z.length?K[Z.charAt(k)]:0;++k;const Ye=k<Z.length?K[Z.charAt(k)]:64;++k;const lt=k<Z.length?K[Z.charAt(k)]:64;if(++k,null==V||null==ue||null==Ye||null==lt)throw Error();he.push(V<<2|ue>>4),64!==Ye&&(he.push(ue<<4&240|Ye>>2),64!==lt&&he.push(Ye<<6&192|lt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},pe=function(Z){return function(Z){const j=ne(Z);return le.encodeByteArray(j,!0)}(Z).replace(/\./g,"")},W=function(Z){try{return le.decodeString(Z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ee(Z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return j}for(const K in j)!j.hasOwnProperty(K)||!Ke(K)||(Z[K]=ee(Z[K],j[K]));return Z}function Ke(Z){return"__proto__"!==Z}class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,K)=>{this.resolve=j,this.reject=K})}wrapCallback(j){return(K,he)=>{K?this.reject(K):this.resolve(he),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(K):j(K,he))}}}function Pe(Z,j){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=j||"demo-project",k=Z.iat||0,V=Z.sub||Z.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const H=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:k,exp:k+3600,auth_time:k,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(H)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function st(){return"object"==typeof self&&self.self===self}function Ge(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Ue().indexOf("Electron/")>=0}function we(){const Z=Ue();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Je(){return Ue().indexOf("MSAppHost/")>=0}function rt(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){return"object"==typeof indexedDB}function oe(){return new Promise((Z,j)=>{try{let K=!0;const he="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(he);k.onsuccess=()=>{k.result.close(),K||self.indexedDB.deleteDatabase(he),Z(!0)},k.onupgradeneeded=()=>{K=!1},k.onerror=()=>{var V;j((null===(V=k.error)||void 0===V?void 0:V.message)||"")}}catch(K){j(K)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fe extends Error{constructor(j,K,he){super(K),this.code=j,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(j,K,he){this.service=j,this.serviceName=K,this.errors=he}create(j,...K){const he=K[0]||{},k=`${this.service}/${j}`,V=this.errors[j],H=V?function Pt(Z,j){return Z.replace(en,(K,he)=>{const k=j[he];return null!=k?String(k):`<${he}?>`})}(V,he):"Error";return new fe(k,`${this.serviceName}: ${H} (${k}).`,he)}}const en=/\{\$([^}]+)}/g;function on(Z,j){return Object.prototype.hasOwnProperty.call(Z,j)}function Ir(Z){for(const j in Z)if(Object.prototype.hasOwnProperty.call(Z,j))return!1;return!0}function Rr(Z,j){if(Z===j)return!0;const K=Object.keys(Z),he=Object.keys(j);for(const k of K){if(!he.includes(k))return!1;const V=Z[k],H=j[k];if(os(V)&&os(H)){if(!Rr(V,H))return!1}else if(V!==H)return!1}for(const k of he)if(!K.includes(k))return!1;return!0}function os(Z){return null!==Z&&"object"==typeof Z}function Mi(Z){const j=[];for(const[K,he]of Object.entries(Z))Array.isArray(he)?he.forEach(k=>{j.push(encodeURIComponent(K)+"="+encodeURIComponent(k))}):j.push(encodeURIComponent(K)+"="+encodeURIComponent(he));return j.length?"&"+j.join("&"):""}function Sr(Z){const j={};return Z.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[k,V]=he.split("=");j[decodeURIComponent(k)]=decodeURIComponent(V)}}),j}function xr(Z){const j=Z.indexOf("?");if(!j)return"";const K=Z.indexOf("#",j);return Z.substring(j,K>0?K:void 0)}function mt(Z,j){const K=new jr(Z,j);return K.subscribe.bind(K)}class jr{constructor(j,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{j(this)}).catch(he=>{this.error(he)})}next(j){this.forEachObserver(K=>{K.next(j)})}error(j){this.forEachObserver(K=>{K.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,K,he){let k;if(void 0===j&&void 0===K&&void 0===he)throw new Error("Missing Observer.");k=function un(Z,j){if("object"!=typeof Z||null===Z)return!1;for(const K of j)if(K in Z&&"function"==typeof Z[K])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:K,complete:he},void 0===k.next&&(k.next=tr),void 0===k.error&&(k.error=tr),void 0===k.complete&&(k.complete=tr);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(H){}}),this.observers.push(k),V}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,j)}sendOne(j,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{K(this.observers[j])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}function ls(Z,j=1e3,K=2){const he=j*Math.pow(K,Z),k=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+k)}function wt(Z){return Z&&Z._delegate?Z._delegate:Z}function Wn(Z,j){return new Promise((K,he)=>{Z.onsuccess=k=>{K(k.target.result)},Z.onerror=k=>{var V;he(`${j}: ${null===(V=k.target.error)||void 0===V?void 0:V.message}`)}})}class Kt{constructor(j){this._db=j,this.objectStoreNames=this._db.objectStoreNames}transaction(j,K="readonly"){return new We(this._db.transaction.call(this._db,j,K))}createObjectStore(j,K){return new Te(this._db.createObjectStore(j,K))}close(){this._db.close()}}class We{constructor(j){this._transaction=j,this.complete=new Promise((K,he)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(j){return new Te(this._transaction.objectStore(j))}}class Te{constructor(j){this._store=j}index(j){return new ot(this._store.index(j))}createIndex(j,K,he){return new ot(this._store.createIndex(j,K,he))}get(j){return Wn(this._store.get(j),"Error reading from IndexedDB")}put(j,K){return Wn(this._store.put(j,K),"Error writing to IndexedDB")}delete(j){return Wn(this._store.delete(j),"Error deleting from IndexedDB")}clear(){return Wn(this._store.clear(),"Error clearing IndexedDB object store")}}class ot{constructor(j){this._index=j}get(j){return Wn(this._index.get(j),"Error reading from IndexedDB")}}function yt(Z,j,K){return new Promise((he,k)=>{try{const V=indexedDB.open(Z,j);V.onsuccess=H=>{he(new Kt(H.target.result))},V.onerror=H=>{var ue;k(`Error opening indexedDB: ${null===(ue=H.target.error)||void 0===ue?void 0:ue.message}`)},V.onupgradeneeded=H=>{K(new Kt(V.result),H.oldVersion,H.newVersion,new We(V.transaction))}}catch(V){k(`Error opening indexedDB: ${V.message}`)}})}function Bt(Z){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(Z){return new Promise((j,K)=>{try{const he=indexedDB.deleteDatabase(Z);he.onsuccess=()=>{j()},he.onerror=k=>{var V;K(`Error deleting indexedDB database "${Z}": ${null===(V=k.target.error)||void 0===V?void 0:V.message}`)}}catch(he){K(`Error deleting indexedDB database "${Z}": ${he.message}`)}})})).apply(this,arguments)}},3986:(gt,Ie,P)=>{var l=P(5e3);let $=null;function R(){return $}const le=new l.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function pe(){return(0,l.LFG)(q)}()},providedIn:"platform"}),n})();const W=new l.OlP("Location Initialized");let q=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ke(){return new q((0,l.LFG)(le))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(n){const e=(0,l.LFG)(le).location;return new Ge((0,l.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const st=new l.OlP("appBaseHref");let Ge=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Ue(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Ue(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(st,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Ue(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Ue(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(st,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe(te(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function Je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Re,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function we(){return new Ne((0,l.LFG)(ge),(0,l.LFG)(ce))}()},providedIn:"root"}),n})();function te(n){return n.replace(/\/index.html$/,"")}const rt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var tt=(()=>((tt=tt||{})[tt.Decimal=0]="Decimal",tt[tt.Percent=1]="Percent",tt[tt.Currency=2]="Currency",tt[tt.Scientific=3]="Scientific",tt))(),ie=(()=>((ie=ie||{})[ie.Format=0]="Format",ie[ie.Standalone=1]="Standalone",ie))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),De=(()=>((De=De||{})[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function an(n,e,t){const r=(0,l.cg1)(n),a=Gn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return Gn(a,t)}function ze(n,e,t){const r=(0,l.cg1)(n),a=Gn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return Gn(a,t)}function sn(n,e){return Gn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function nn(n,e){return Gn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function on(n,e){return Gn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Fn(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(void 0===r){if(e===fe.CurrencyDecimal)return t[l.wAp.NumberSymbols][fe.Decimal];if(e===fe.CurrencyGroup)return t[l.wAp.NumberSymbols][fe.Group]}return r}function xr(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function un(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ln=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Jr={},Ao=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),_t=(()=>((_t=_t||{})[_t.FullYear=0]="FullYear",_t[_t.Month=1]="Month",_t[_t.Date=2]="Date",_t[_t.Hours=3]="Hours",_t[_t.Minutes=4]="Minutes",_t[_t.Seconds=5]="Seconds",_t[_t.FractionalSeconds=6]="FractionalSeconds",_t[_t.Day=7]="Day",_t))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function Xr(n,e,t,r){let i=function ue(n){if(Ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return as(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Ln))return function je(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,m,b),e}(r)}const e=new Date(n);if(!Ye(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Zt(t,e)||e;let f,c=[];for(;e;){if(f=Ao.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const T=c.pop();if(!T)break;e=T}}let m=i.getTimezoneOffset();r&&(m=k(r,m),i=function H(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function V(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(k(e,i)-i))}(i,r,!0));let b="";return c.forEach(T=>{const A=function he(n){if(K[n])return K[n];let e;switch(n){case"G":case"GG":case"GGG":e=Kt(ut.Eras,ae.Abbreviated);break;case"GGGG":e=Kt(ut.Eras,ae.Wide);break;case"GGGGG":e=Kt(ut.Eras,ae.Narrow);break;case"y":e=wt(_t.FullYear,1,0,!1,!0);break;case"yy":e=wt(_t.FullYear,2,0,!0,!0);break;case"yyy":e=wt(_t.FullYear,3,0,!1,!0);break;case"yyyy":e=wt(_t.FullYear,4,0,!1,!0);break;case"Y":e=j(1);break;case"YY":e=j(2,!0);break;case"YYY":e=j(3);break;case"YYYY":e=j(4);break;case"M":case"L":e=wt(_t.Month,1,1);break;case"MM":case"LL":e=wt(_t.Month,2,1);break;case"MMM":e=Kt(ut.Months,ae.Abbreviated);break;case"MMMM":e=Kt(ut.Months,ae.Wide);break;case"MMMMM":e=Kt(ut.Months,ae.Narrow);break;case"LLL":e=Kt(ut.Months,ae.Abbreviated,ie.Standalone);break;case"LLLL":e=Kt(ut.Months,ae.Wide,ie.Standalone);break;case"LLLLL":e=Kt(ut.Months,ae.Narrow,ie.Standalone);break;case"w":e=Z(1);break;case"ww":e=Z(2);break;case"W":e=Z(1,!0);break;case"d":e=wt(_t.Date,1);break;case"dd":e=wt(_t.Date,2);break;case"c":case"cc":e=wt(_t.Day,1);break;case"ccc":e=Kt(ut.Days,ae.Abbreviated,ie.Standalone);break;case"cccc":e=Kt(ut.Days,ae.Wide,ie.Standalone);break;case"ccccc":e=Kt(ut.Days,ae.Narrow,ie.Standalone);break;case"cccccc":e=Kt(ut.Days,ae.Short,ie.Standalone);break;case"E":case"EE":case"EEE":e=Kt(ut.Days,ae.Abbreviated);break;case"EEEE":e=Kt(ut.Days,ae.Wide);break;case"EEEEE":e=Kt(ut.Days,ae.Narrow);break;case"EEEEEE":e=Kt(ut.Days,ae.Short);break;case"a":case"aa":case"aaa":e=Kt(ut.DayPeriods,ae.Abbreviated);break;case"aaaa":e=Kt(ut.DayPeriods,ae.Wide);break;case"aaaaa":e=Kt(ut.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=Kt(ut.DayPeriods,ae.Abbreviated,ie.Standalone,!0);break;case"bbbb":e=Kt(ut.DayPeriods,ae.Wide,ie.Standalone,!0);break;case"bbbbb":e=Kt(ut.DayPeriods,ae.Narrow,ie.Standalone,!0);break;case"B":case"BB":case"BBB":e=Kt(ut.DayPeriods,ae.Abbreviated,ie.Format,!0);break;case"BBBB":e=Kt(ut.DayPeriods,ae.Wide,ie.Format,!0);break;case"BBBBB":e=Kt(ut.DayPeriods,ae.Narrow,ie.Format,!0);break;case"h":e=wt(_t.Hours,1,-12);break;case"hh":e=wt(_t.Hours,2,-12);break;case"H":e=wt(_t.Hours,1);break;case"HH":e=wt(_t.Hours,2);break;case"m":e=wt(_t.Minutes,1);break;case"mm":e=wt(_t.Minutes,2);break;case"s":e=wt(_t.Seconds,1);break;case"ss":e=wt(_t.Seconds,2);break;case"S":e=wt(_t.FractionalSeconds,1);break;case"SS":e=wt(_t.FractionalSeconds,2);break;case"SSS":e=wt(_t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(qt.Short);break;case"ZZZZZ":e=Te(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(qt.Long);break;default:return null}return K[n]=e,e}(T);b+=A?A(i,t,m):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function as(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zt(n,e){const t=function Pt(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Jr[t]=Jr[t]||{},Jr[t][e])return Jr[t][e];let r="";switch(e){case"shortDate":r=sn(n,De.Short);break;case"mediumDate":r=sn(n,De.Medium);break;case"longDate":r=sn(n,De.Long);break;case"fullDate":r=sn(n,De.Full);break;case"shortTime":r=nn(n,De.Short);break;case"mediumTime":r=nn(n,De.Medium);break;case"longTime":r=nn(n,De.Long);break;case"fullTime":r=nn(n,De.Full);break;case"short":const i=Zt(n,"shortTime"),a=Zt(n,"shortDate");r=ls(on(n,De.Short),[i,a]);break;case"medium":const c=Zt(n,"mediumTime"),f=Zt(n,"mediumDate");r=ls(on(n,De.Medium),[c,f]);break;case"long":const m=Zt(n,"longTime"),b=Zt(n,"longDate");r=ls(on(n,De.Long),[m,b]);break;case"full":const T=Zt(n,"fullTime"),A=Zt(n,"fullDate");r=ls(on(n,De.Full),[T,A])}return r&&(Jr[t][e]=r),r}function ls(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function qn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),a+c}function wt(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function Wn(n,e){switch(n){case _t.FullYear:return e.getFullYear();case _t.Month:return e.getMonth();case _t.Date:return e.getDate();case _t.Hours:return e.getHours();case _t.Minutes:return e.getMinutes();case _t.Seconds:return e.getSeconds();case _t.FractionalSeconds:return e.getMilliseconds();case _t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===_t.Hours)0===f&&-12===t&&(f=12);else if(n===_t.FractionalSeconds)return function hn(n,e){return qn(n,3).substr(0,e)}(f,e);const m=Fn(c,fe.MinusSign);return qn(f,e,m,r,i)}}function Kt(n,e,t=ie.Format,r=!1){return function(i,a){return function We(n,e,t,r,i,a){switch(t){case ut.Months:return ze(e,i,r)[n.getMonth()];case ut.Days:return an(e,i,r)[n.getDay()];case ut.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const b=function Ds(n){const e=(0,l.cg1)(n);return xr(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?un(r):[un(r[0]),un(r[1])])}(e),T=function mt(n,e,t){const r=(0,l.cg1)(n);xr(r);const a=Gn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return Gn(a,t)||[]}(e,i,r),A=b.findIndex(x=>{if(Array.isArray(x)){const[B,G]=x,Y=c>=B.hours&&f>=B.minutes,ye=c<G.hours||c===G.hours&&f<G.minutes;if(B.hours<G.hours){if(Y&&ye)return!0}else if(Y||ye)return!0}else if(x.hours===c&&x.minutes===f)return!0;return!1});if(-1!==A)return T[A]}return function en(n,e,t){const r=(0,l.cg1)(n),a=Gn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return Gn(a,t)}(e,i,r)[c<12?0:1];case ut.Eras:return function tn(n,e){return Gn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,a=Fn(t,fe.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+qn(c,2,a)+qn(Math.abs(i%60),2,a);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+qn(c,1,a);case qt.Long:return"GMT"+(i>=0?"+":"")+qn(c,2,a)+":"+qn(Math.abs(i%60),2,a);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+qn(c,2,a)+":"+qn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ut(n){return as(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Z(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=Ut(t),c=function Bt(n){const e=as(n,0,1).getDay();return as(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return qn(i,n,Fn(r,fe.MinusSign))}}function j(n,e=!1){return function(t,r){return qn(Ut(t).getFullYear(),n,Fn(r,fe.MinusSign),e)}}const K={};function k(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ye(n){return n instanceof Date&&!isNaN(n.valueOf())}const St=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function vn(n,e,t,r,i){const c=function bn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],m=c[1]||"";t.posPre=f.substr(0,f.indexOf("#"));for(let T=0;T<m.length;T++){const A=m.charAt(T);"0"===A?t.minFrac=t.maxFrac=T+1:"#"===A?t.maxFrac=T+1:t.posSuf+=A}const b=f.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,a){const T=i.length-t.posPre.length-t.posSuf.length,A=a.indexOf("#");t.negPre=a.substr(0,A).replace(/'/g,""),t.negSuf=a.substr(A+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Ir(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,tt.Currency),Fn(e,fe.MinusSign));return c.minFrac=function zn(n){let e;const t=rt[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function Wl(n,e,t,r,i,a,c=!1){let f="",m=!1;if(isFinite(n)){let b=function Ts(n){let r,i,a,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],c=0;a<=f;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(b=function $r(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let T=e.minInt,A=e.minFrac,x=e.maxFrac;if(a){const ke=a.match(St);if(null===ke)throw new Error(`${a} is not a valid digit info`);const Qe=ke[1],Be=ke[3],nt=ke[5];null!=Qe&&(T=Gr(Qe)),null!=Be&&(A=Gr(Be)),null!=nt?x=Gr(nt):null!=Be&&A>x&&(x=A)}!function yr(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let A=c;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let A=1;A<c;A++)r[A]=0}if(f>=5)if(c-1<0){for(let A=0;A>c;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let m=0!==a;const b=e+n.integerLen,T=r.reduceRight(function(A,x,B,G){return G[B]=(x+=A)<10?x:x-10,m&&(0===G[B]&&B>=b?G.pop():m=!1),x>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(b,A,x);let B=b.digits,G=b.integerLen;const Y=b.exponent;let ye=[];for(m=B.every(ke=>!ke);G<T;G++)B.unshift(0);for(;G<0;G++)B.unshift(0);G>0?ye=B.splice(G,B.length):(ye=B,B=[0]);const He=[];for(B.length>=e.lgSize&&He.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)He.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&He.unshift(B.join("")),f=He.join(Fn(t,r)),ye.length&&(f+=Fn(t,i)+ye.join("")),Y&&(f+=Fn(t,fe.Exponential)+"+"+Y)}else f=Fn(t,fe.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,c,e,fe.CurrencyGroup,fe.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Gr(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class us{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new us(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),Ys(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ys(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ys(n,e){n.context.$implicit=e.item}let Kn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ia("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ia("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Dn{constructor(){this.$implicit=null,this.ngIf=null}}function ia(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let ds=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[l.TTD]}),n})();let Ql=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",a,c){if(!function ua(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function tr(n,e,t="en"){const r=function Mi(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||rt[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",c):i);try{return vn(function Jl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,f,r,a)}catch(m){throw function fi(n,e){return new l.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0}),n})();let ei=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function ca(n){return"server"===n}let Cd=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new eu((0,l.LFG)(le),window)}),n})();class eu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Oo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xs(this.window.history)||Xs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Xs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xo extends class Ro extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){$||($=n)}(new xo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xu(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function eo(n){ha=ha||document.createElement("a"),ha.setAttribute("href",n);const e=ha.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Zl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ha,wn=null;const Pr=new l.OlP("TRANSITION_ID"),tu=[{provide:l.ip1,useFactory:function lr(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Pr,le,l.zs3],multi:!0}];class xi{static init(){(0,l.VLi)(new xi)}addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ti=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ms=new l.OlP("EventManagerPlugins");let Po=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ms),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Wi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),hs=(()=>{class n extends Wi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Os),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Os))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Os(n){R().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tl=/%COMP%/g;function Se(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Se(n,i,t):(i=i.replace(tl,n),t.push(i))}return t}function Gt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Tn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new nu(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ec(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new rl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Se(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Po),l.LFG(hs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class nu{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ct[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ct[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gt(r)):this.eventManager.addEventListener(e,t,Gt(r))}}class ec extends nu{constructor(e,t,r,i){super(e),this.component=r;const a=Se(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Zh(n){return"_ngcontent-%COMP%".replace(tl,n)}(i+"-"+r.id),this.hostAttr=function nl(n){return"_nghost-%COMP%".replace(tl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class rl extends nu{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Se(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fg=(()=>{class n extends fa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const tc=["alt","control","meta","shift"],_a={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ya=(()=>{class n extends fa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(tc.forEach(m=>{const b=r.indexOf(m);b>-1&&(r.splice(b,1),c+=m+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function va(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&vr.hasOwnProperty(e)&&(e=vr[e]))}return _a[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),tc.forEach(a=>{a!=i&&fs[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const il=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function pi(){xo.makeCurrent(),xi.init()},multi:!0},{provide:le,useFactory:function ba(){return(0,l.RDi)(document),document},deps:[]}]),nc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Yh(){return new l.qLn},deps:[]},{provide:Ms,useClass:fg,multi:!0,deps:[le,l.R0b,l.Lbi]},{provide:Ms,useClass:ya,multi:!0,deps:[le]},{provide:Tn,useClass:Tn,deps:[Po,hs,l.AFp]},{provide:l.FYo,useExisting:Tn},{provide:Wi,useExisting:hs},{provide:hs,useClass:hs,deps:[le]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Po,useClass:Po,deps:[Ms,l.R0b]},{provide:class In{},useClass:ti,deps:[]}];let no=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Pr,useExisting:l.AFp},tu]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:nc,imports:[ei,l.hGG]}),n})();"undefined"!=typeof window&&window;let so=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Od),r},providedIn:"root"}),n})(),Od=(()=>{class n extends so{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(r),(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function uc(n){return new Od(n.get(le))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var Vn=P(8996),br=P(3269);function bt(...n){const e=(0,br.yG)(n);return(0,Vn.D)(n,e)}var En=P(7579);class Qn extends En.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var xn=P(8306);const{isArray:Rd}=Array,{getPrototypeOf:nr,prototype:oo,keys:cc}=Object;function xs(n){if(1===n.length){const e=n[0];if(Rd(e))return{args:e,keys:null};if(function wa(n){return n&&"object"==typeof n&&nr(n)===oo}(e)){const t=cc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ki=P(4671),xt=P(4004);const{isArray:dc}=Array;function Ea(n){return(0,xt.U)(e=>function xd(n,e){return dc(e)?n(...e):n(e)}(n,e))}function ll(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var gn=P(5403),ao=P(9672);function Vo(n,e,t){n?(0,ao.f)(t,n,e):e()}var gi=P(576);function lo(n,e){const t=(0,gi.m)(n)?n:()=>n,r=i=>i.error(t());return new xn.y(e?i=>e.schedule(r,0,i):r)}const Bo=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ps=P(8189);function fc(...n){return function hc(){return(0,Ps.J)(1)}()((0,Vn.D)(n,(0,br.yG)(n)))}var ii=P(8421);function Ca(n){return new xn.y(e=>{(0,ii.Xf)(n()).subscribe(e)})}var uo=P(515),dl=P(727),cr=P(4482);function ks(){return(0,cr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class pc extends xn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,cr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dl.w0.EMPTY)}return e}refCount(){return ks()(this)}}function Bn(n,e){return(0,cr.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,gn.x)(r,m=>{null==i||i.unsubscribe();let b=0;const T=a++;(0,ii.Xf)(n(m,T)).subscribe(i=(0,gn.x)(r,A=>r.next(e?e(m,A,T,b++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var rr=P(5698);function si(...n){const e=(0,br.yG)(n);return(0,cr.e)((t,r)=>{(e?fc(n,t,e):fc(n,t)).subscribe(r)})}function Fs(n,e,t,r,i){return(a,c)=>{let f=t,m=e,b=0;a.subscribe((0,gn.x)(c,T=>{const A=b++;m=f?n(m,T,A):(f=!0,T),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}function Pi(n,e){return(0,cr.e)(Fs(n,e,arguments.length>=2,!0))}function ir(n,e){return(0,cr.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function ps(n){return(0,cr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,gn.x)(t,void 0,void 0,c=>{a=(0,ii.Xf)(n(c,ps(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Sn=P(5577);function Da(n,e){return(0,gi.m)(e)?(0,Sn.z)(n,e,1):(0,Sn.z)(n,1)}function Pd(n){return n<=0?()=>uo.E:(0,cr.e)((e,t)=>{let r=[];e.subscribe((0,gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Un(n=pg){return(0,cr.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pg(){return new Bo}function gg(n){return(0,cr.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Uo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((i,a)=>n(i,a,r)):Ki.y,(0,rr.q)(1),t?gg(e):Un(()=>new Bo))}var zr=P(8505);class gs{constructor(e,t){this.id=e,this.url=t}}class jo extends gs{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ta extends gs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sr extends gs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hl extends gs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ou extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kd extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fl extends gs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oi extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ia{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _c{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class gl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ar(n){return new gl(n)}const yc="ngNavigationCancelingError";function Ls(n){const e=Error("NavigationCancelingError: "+n);return e[yc]=!0,e}function au(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function _i(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!lu(n[i],e[i]))return!1;return!0}function lu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Fd(n){return Array.prototype.concat.apply([],n)}function Qi(n){return n.length>0?n[n.length-1]:null}function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ai(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):bt(n)}const co={exact:function D(n,e,t){if(!Dt(n.segments,e.segments)||!Q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:O},uu={exact:function Ld(n,e){return _i(n,e)},subset:function I(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lu(n[t],e[t]))},ignored:()=>!0};function Na(n,e,t){return co[t.paths](n.root,e.root,t.matrixParams)&&uu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O(n,e,t){return U(n,e,e.segments,t)}function U(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Dt(i,t)||e.hasChildren()||!Q(i,t,r))}if(n.segments.length===t.length){if(!Dt(n.segments,t)||!Q(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!O(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Dt(n.segments,i)&&Q(n.segments,i,r)&&n.children[jt])&&U(n.children[jt],e,a,r)}}function Q(n,e,t){return e.every((r,i)=>uu[t](n[i].parameters,r.parameters))}class re{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return wr.serialize(this)}}class _e{constructor(e,t){this.segments=e,this.children=t,this.parent=null,An(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vs(this)}}class $e{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ar(this.parameters)),this._parameterMap}toString(){return vc(this)}}function Dt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class At{}class qr{parse(e){const t=new E_(e);return new re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ms(e.root,!0)}`,r=function w_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ki(t)}=${ki(i)}`).join("&"):`${ki(t)}=${ki(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Xi(n){return encodeURI(n)}(e.fragment)}`:""}`}}const wr=new qr;function Vs(n){return n.segments.map(e=>vc(e)).join("/")}function ms(n,e){if(!n.hasChildren())return Vs(n);if(e){const t=n.children[jt]?ms(n.children[jt],!1):"",r=[];return An(n.children,(i,a)=>{a!==jt&&r.push(`${a}:${ms(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Yt(n,e){let t=[];return An(n.children,(r,i)=>{i===jt&&(t=t.concat(e(r,i)))}),An(n.children,(r,i)=>{i!==jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===jt?[ms(n.children[jt],!1)]:[`${i}:${ms(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${Vs(n)}/${t[0]}`:`${Vs(n)}/(${t.join("//")})`}}function Ji(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ki(n){return Ji(n).replace(/%3B/gi,";")}function cu(n){return Ji(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function du(n){return decodeURIComponent(n)}function hu(n){return du(n.replace(/\+/g,"%20"))}function vc(n){return`${cu(n.path)}${function yg(n){return Object.keys(n).map(e=>`;${cu(e)}=${cu(n[e])}`).join("")}(n.parameters)}`}const sf=/^[^\/()?;=#]+/;function Ho(n){const e=n.match(sf);return e?e[0]:""}const bc=/^[^=?&#]+/,Ob=/^[^&#]+/;class E_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[jt]=new _e(e,t)),r}parseSegment(){const e=Ho(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $e(du(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ho(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ho(this.remaining);i&&(r=i,this.capture(r))}e[du(t)]=du(r)}parseQueryParam(e){const t=function vg(n){const e=n.match(bc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function wc(n){const e=n.match(Ob);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=hu(t),a=hu(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ho(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=jt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[jt]:new _e([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class C_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=af(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=af(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lf(e,this._root).map(t=>t.value)}}function af(n,e){if(n===e.value)return e;for(const t of e.children){const r=af(n,t);if(r)return r}return null}function lf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lf(n,t);if(r.length)return r.unshift(e),r}return[]}class $o{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Go(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vd extends C_{constructor(e,t){super(e),this.snapshot=t,Ec(this,e)}toString(){return this.snapshot.toString()}}function ml(n,e){const t=function uf(n,e){const c=new pu([],{},{},"",{},jt,e,null,n.root,-1,{});return new cf("",new $o(c,[]))}(n,e),r=new Qn([new $e("",{})]),i=new Qn({}),a=new Qn({}),c=new Qn({}),f=new Qn(""),m=new fu(r,i,c,f,a,jt,e,t.root);return m.snapshot=t.root,new Vd(new $o(m,[]),t)}class fu{constructor(e,t,r,i,a,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Ar(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Ar(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function D_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Bd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pu{constructor(e,t,r,i,a,c,f,m,b,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ar(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cf extends C_{constructor(e,t){super(t),this.url=e,Ec(this,t)}toString(){return df(this._root)}}function Ec(n,e){e.value._routerState=n,e.children.forEach(t=>Ec(n,t))}function df(n){const e=n.children.length>0?` { ${n.children.map(df).join(", ")} } `:"";return`${n.value}${e}`}function zo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),_i(e.params,t.params)||n.params.next(t.params),function Aa(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),_i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hf(n,e){const t=_i(n.params,e.params)&&function Mt(n,e){return Dt(n,e)&&n.every((t,r)=>_i(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hf(n.parent,e.parent))}function _l(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function I_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _l(n,r,i);return _l(n,r)})}(n,e,t);return new $o(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>_l(n,f)),c}}const r=function ff(n){return new fu(new Qn(n.url),new Qn(n.params),new Qn(n.queryParams),new Qn(n.fragment),new Qn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>_l(n,a));return new $o(r,i)}}function ho(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gu(n){return"object"==typeof n&&null!=n&&n.outlets}function Cc(n,e,t,r,i){let a={};if(r&&An(r,(f,m)=>{a[m]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new re(t,a,i);const c=bg(n,e,t);return new re(c,a,i)}function bg(n,e,t){const r={};return An(n.children,(i,a)=>{r[a]=i===e?t:bg(i,e,t)}),new _e(n.segments,r)}class pf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ho(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(gu);if(i&&i!==Qi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function v(n,e,t){if(n||(n=new _e([],{})),0===n.segments.length&&n.hasChildren())return g(n,e,t);const r=function _(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(gu(f))break;const m=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!X(m,b,c))return a;r+=2}else{if(!X(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new _e(n.segments.slice(0,r.pathIndex),{});return a.children[jt]=new _e(n.segments.slice(r.pathIndex),n.children),g(a,0,i)}return r.match&&0===i.length?new _e(n.segments,{}):r.match&&!n.hasChildren()?E(n,e,t):r.match?g(n,0,i):E(n,e,t)}function g(n,e,t){if(0===t.length)return new _e(n.segments,{});{const r=function Rb(n){return gu(n[0])?n[0].outlets:{[jt]:n}}(t),i={};return An(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=v(n.children[c],e,a))}),An(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new _e(n.segments,i)}}function E(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(gu(a)){const m=N(a.outlets);return new _e(r,m)}if(0===i&&ho(t[0])){r.push(new $e(n.segments[e].path,F(t[0]))),i++;continue}const c=gu(a)?a.outlets[jt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&ho(f)?(r.push(new $e(c,F(f))),i+=2):(r.push(new $e(c,{})),i++)}return new _e(r,{})}function N(n){const e={};return An(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=E(new _e([],{}),0,t))}),e}function F(n){const e={};return An(n,(t,r)=>e[r]=`${t}`),e}function X(n,e,t){return n==t.path&&_i(e,t.parameters)}class ht{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Go(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),An(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Go(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Go(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Go(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new mc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Sa(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(zo(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),zo(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function It(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),m=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=m,c.outlet&&c.outlet.activateWith(i,m),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Ht{constructor(e,t){this.routes=e,this.module=t}}function mn(n){return"function"==typeof n}function es(n){return n instanceof re}const Tc=Symbol("INITIAL_VALUE");function Ma(){return Bn(n=>function ul(...n){const e=(0,br.yG)(n),t=(0,br.jO)(n),{args:r,keys:i}=xs(n);if(0===r.length)return(0,Vn.D)([],e);const a=new xn.y(function ri(n,e,t=Ki.y){return r=>{Vo(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)Vo(e,()=>{const b=(0,Vn.D)(n[m],e);let T=!1;b.subscribe((0,gn.x)(r,A=>{a[m]=A,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ll(i,c):Ki.y));return t?a.pipe(Ea(t)):a}(n.map(e=>e.pipe((0,rr.q)(1),si(Tc)))).pipe(Pi((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==Tc?i:(a===Tc&&(r=!0),r||!1!==a&&c!==t.length-1&&!es(a)?i:a),e)},Tc),ir(e=>e!==Tc),(0,xt.U)(e=>es(e)?e:!0===e),(0,rr.q)(1)))}class Cg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _u,this.attachRef=null}}class _u{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Cg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ic=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=a||jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new Dg(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_u),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Dg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fu?this.route:e===_u?this.childContexts:this.parent.get(e,t)}}let mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Ic],encapsulation:2}),n})();function yl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Tg(r,N_(e,r))}}function Tg(n,e){n.children&&yl(n.children,e)}function N_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function M_(n){const e=n.children&&n.children.map(M_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=mf),t}function _n(n){return n.outlet||jt}function O_(n,e){const t=n.filter(r=>_n(r)===e);return t.push(...n.filter(r=>_n(r)!==e)),t}const xb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},xb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||au)(t,n,e);if(!a)return Object.assign({},xb);const c={};An(a.posParams,(m,b)=>{c[b]=m.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function _f(n,e,t,r,i="corrected"){if(t.length>0&&function vD(n,e,t){return t.some(r=>Ig(n,e,r)&&_n(r)!==jt)}(n,t,r)){const c=new _e(e,function yD(n,e,t,r){const i={};i[jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&_n(a)!==jt){const c=new _e([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[_n(a)]=c}return i}(n,e,r,new _e(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function bD(n,e,t){return t.some(r=>Ig(n,e,r))}(n,t,r)){const c=new _e(n.segments,function _D(n,e,t,r,i,a){const c={};for(const f of r)if(Ig(n,t,f)&&!i[_n(f)]){const m=new _e([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[_n(f)]=m}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new _e(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Ig(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function wD(n,e,t,r){return!!(_n(n)===r||r!==jt&&Ig(e,t,n))&&("**"===n.path||jd(e,n,t).matched)}function ED(n,e,t){return 0===e.length&&!n.children[t]}class yu{constructor(e){this.segmentGroup=e||null}}class Fi{constructor(e){this.urlTree=e}}function Sc(n){return lo(new yu(n))}function R_(n){return lo(new Fi(n))}class x_{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=_f(this.urlTree.root,[],[],this.config).segmentGroup,t=new _e(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,jt).pipe((0,xt.U)(a=>this.createUrlTree(P_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ps(a=>{if(a instanceof Fi)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof yu?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,jt).pipe((0,xt.U)(i=>this.createUrlTree(P_(i),e.queryParams,e.fragment))).pipe(ps(i=>{throw i instanceof yu?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new _e([],{[jt]:e}):e;return new re(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(a=>new _e([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Vn.D)(i).pipe(Da(a=>{const c=r.children[a],f=O_(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,xt.U)(m=>({segment:m,outlet:a})))}),Pi((a,c)=>(a[c.outlet]=c.segment,a),{}),function tf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((i,a)=>n(i,a,r)):Ki.y,Pd(1),t?gg(e):Un(()=>new Bo))}())}expandSegment(e,t,r,i,a,c){return(0,Vn.D)(r).pipe(Da(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(ps(b=>{if(b instanceof yu)return bt(null);throw b}))),Uo(f=>!!f),ps((f,m)=>{if(f instanceof Bo||"EmptyError"===f.name)return ED(t,i,a)?bt(new _e([],{})):Sc(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return wD(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Sc(t):Sc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?R_(a):this.lineralizeSegments(r,a).pipe((0,Sn.z)(c=>{const f=new _e(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:m,remainingSegments:b,positionalParamSegments:T}=jd(t,i,a);if(!f)return Sc(t);const A=this.applyRedirectCommands(m,i.redirectTo,T);return i.redirectTo.startsWith("/")?R_(A):this.lineralizeSegments(i,A).pipe((0,Sn.z)(x=>this.expandSegment(e,t,r,x.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?bt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,xt.U)(A=>(r._loadedConfig=A,new _e(i,{})))):bt(new _e(i,{}));const{matched:c,consumedSegments:f,remainingSegments:m}=jd(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Sn.z)(T=>{const A=T.module,x=T.routes,{segmentGroup:B,slicedSegments:G}=_f(t,f,m,x),Y=new _e(B.segments,B.children);if(0===G.length&&Y.hasChildren())return this.expandChildren(A,x,Y).pipe((0,xt.U)(Qe=>new _e(f,Qe)));if(0===x.length&&0===G.length)return bt(new _e(f,{}));const ye=_n(r)===a;return this.expandSegment(A,Y,x,G,ye?jt:a,!0).pipe((0,xt.U)(ke=>new _e(f.concat(ke.segments),ke.children)))})):Sc(t)}getChildConfig(e,t,r){return t.children?bt(new Ht(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?bt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Sn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,xt.U)(a=>(t._loadedConfig=a,a))):function Li(n){return lo(Ls(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):bt(new Ht([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?bt(i.map(c=>{const f=e.get(c);let m;if(function mu(n){return n&&mn(n.canLoad)}(f))m=f.canLoad(t,r);else{if(!mn(f))throw new Error("Invalid CanLoad guard");m=f(t,r)}return ai(m)})).pipe(Ma(),(0,zr.b)(c=>{if(!es(c))return;const f=Ls(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,xt.U)(c=>!0===c)):bt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return bt(r);if(i.numberOfChildren>1||!i.children[jt])return lo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new re(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return An(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return An(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new _e(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function P_(n){const e={};for(const r of Object.keys(n.children)){const a=P_(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function CD(n){if(1===n.numberOfChildren&&n.children[jt]){const e=n.children[jt];return new _e(n.segments.concat(e.segments),e.children)}return n}(new _e(n.segments,e))}class Fb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vf{constructor(e,t){this.component=e,this.route=t}}function DD(n,e,t){const r=n._root;return Ac(r,e?e._root:null,t,[r.value])}function Sg(n,e,t){const r=function TD(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ac(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Go(e);return n.children.forEach(c=>{(function ID(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function SD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Dt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dt(n.url,e.url)||!_i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hf(n,e)||!_i(n.queryParams,e.queryParams);default:return!hf(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Fb(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Ac(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new vf(f.outlet.component,c))}else c&&Nc(e,f,i),i.canActivateChecks.push(new Fb(r)),Ac(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),An(a,(c,f)=>Nc(c,t.getContext(f),i)),i}function Nc(n,e,t){const r=Go(n),i=n.value;An(r,(a,c)=>{Nc(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new vf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Vb{}function Bb(n){return new xn.y(e=>e.error(n))}class FD{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=_f(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,jt);if(null===t)return null;const r=new pu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $o(r,t),a=new cf(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=D_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=O_(e,a),m=this.processSegmentGroup(f,c,a);if(null===m)return null;r.push(...m)}const i=k_(r);return function LD(n){n.sort((e,t)=>e.value.outlet===jt?-1:t.value.outlet===jt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return ED(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!wD(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const B=r.length>0?Qi(r).parameters:{};a=new pu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UD(e),_n(e),e.component,e,Mc(t),Zo(t)+r.length,jD(e))}else{const B=jd(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,a=new pu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UD(e),_n(e),e.component,e,Mc(t),Zo(t)+c.length,jD(e))}const m=function VD(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=_f(t,c,f,m.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const B=this.processChildren(m,b);return null===B?null:[new $o(a,B)]}if(0===m.length&&0===T.length)return[new $o(a,[])];const A=_n(e)===i,x=this.processSegment(m,b,T,A?jt:i);return null===x?null:[new $o(a,x)]}}function BD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function k_(n){const e=[],t=new Set;for(const r of n){if(!BD(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=k_(r.children);e.push(new $o(r.value,i))}return e.filter(r=>!t.has(r))}function Mc(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zo(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function UD(n){return n.data||{}}function jD(n){return n.resolve||{}}function Ng(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Mg(n){return Bn(e=>{const t=n(e);return t?(0,Vn.D)(t).pipe((0,xt.U)(()=>e)):bt(e)})}class Hb extends class jb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wf=new l.OlP("ROUTES");class Og{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,xt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new Ht(Fd(c.injector.get(wf,void 0,l.XFs.Self|l.XFs.Optional)).map(M_),c)}),ps(a=>{throw t._loader$=void 0,a}));return t._loader$=new pc(i,()=>new En.x).pipe(ks()),t._loader$}loadModuleFactory(e){return ai(e()).pipe((0,Sn.z)(t=>t instanceof l.YKP?bt(t):(0,Vn.D)(this.compiler.compileModuleAsync(t))))}}class BA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Hd(n){throw n}function L_(n,e,t){return e.parse("/")}function V_(n,e){return bt(null)}const $D={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bs=(()=>{class n{constructor(t,r,i,a,c,f,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new En.x,this.errorHandler=Hd,this.malformedUriErrorHandler=L_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:V_,afterPreactivation:V_},this.urlHandlingStrategy=new BA,this.routeReuseStrategy=new Hb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const A=c.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function rf(){return new re(new _e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Og(c,f,x=>this.triggerEvent(new Ia(x)),x=>this.triggerEvent(new pl(x))),this.routerState=ml(this.currentUrlTree,this.rootComponentType),this.transitions=new Qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ir(i=>0!==i.id),(0,xt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let a=!1,c=!1;return bt(i).pipe((0,zr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bn(f=>{const m=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Gb(f.source)&&(this.browserUrlTree=f.extractedUrl),bt(f).pipe(Bn(A=>{const x=this.transitions.getValue();return r.next(new jo(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),x!==this.transitions.getValue()?uo.E:Promise.resolve(A)}),function kb(n,e,t,r){return Bn(i=>function yf(n,e,t,r,i){return new x_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,xt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,zr.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function Ub(n,e,t,r,i){return(0,Sn.z)(a=>function kD(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new FD(n,e,t,r,i,a).recognize();return null===c?Bb(new Vb):bt(c)}catch(c){return Bb(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,xt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zr.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const x=new ou(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(x)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:B,source:G,restoredState:Y,extras:ye}=f,He=new jo(x,this.serializeUrl(B),G,Y);r.next(He);const ke=ml(B,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},f),{targetSnapshot:ke,urlAfterRedirects:B,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),uo.E}),Mg(f=>{const{targetSnapshot:m,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:x,replaceUrl:B}}=f;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!x,replaceUrl:!!B})}),(0,zr.b)(f=>{const m=new kd(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,xt.U)(f=>Object.assign(Object.assign({},f),{guards:DD(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function AD(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?bt(Object.assign(Object.assign({},t),{guardsResult:!0})):function ND(n,e,t,r){return(0,Vn.D)(n).pipe((0,Sn.z)(i=>function PD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(f=>{const m=Sg(f,e,i);let b;if(function A_(n){return n&&mn(n.canDeactivate)}(m))b=ai(m.canDeactivate(n,e,t,r));else{if(!mn(m))throw new Error("Invalid CanDeactivate guard");b=ai(m(n,e,t,r))}return b.pipe(Uo())})).pipe(Ma()):bt(!0)}(i.component,i.route,t,e,r)),Uo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Sn.z)(f=>f&&function Wo(n){return"boolean"==typeof n}(f)?function Ag(n,e,t,r){return(0,Vn.D)(e).pipe(Da(i=>fc(function OD(n,e){return null!==n&&e&&e(new mi(n)),bt(!0)}(i.route.parent,r),function MD(n,e){return null!==n&&e&&e(new gc(n)),bt(!0)}(i.route,r),function xD(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Lb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ca(()=>bt(c.guards.map(m=>{const b=Sg(m,c.node,t);let T;if(function Dc(n){return n&&mn(n.canActivateChild)}(b))T=ai(b.canActivateChild(r,n));else{if(!mn(b))throw new Error("Invalid CanActivateChild guard");T=ai(b(r,n))}return T.pipe(Uo())})).pipe(Ma())));return bt(a).pipe(Ma())}(n,i.path,t),function RD(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bt(!0);const i=r.map(a=>Ca(()=>{const c=Sg(a,e,t);let f;if(function Ud(n){return n&&mn(n.canActivate)}(c))f=ai(c.canActivate(e,n));else{if(!mn(c))throw new Error("Invalid CanActivate guard");f=ai(c(e,n))}return f.pipe(Uo())}));return bt(i).pipe(Ma())}(n,i.route,t))),Uo(i=>!0!==i,!0))}(r,a,n,e):bt(f)),(0,xt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,zr.b)(f=>{if(es(f.guardsResult)){const b=Ls(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const m=new fl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),ir(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Mg(f=>{if(f.guards.canActivateChecks.length)return bt(f).pipe((0,zr.b)(m=>{const b=new oi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),Bn(m=>{let b=!1;return bt(m).pipe(function VA(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return bt(t);let a=0;return(0,Vn.D)(i).pipe(Da(c=>function Oa(n,e,t,r){return function F_(n,e,t,r){const i=Ng(n);if(0===i.length)return bt({});const a={};return(0,Vn.D)(i).pipe((0,Sn.z)(c=>function HD(n,e,t,r){const i=Sg(n,e,r);return ai(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,zr.b)(f=>{a[c]=f}))),Pd(1),(0,Sn.z)(()=>Ng(a).length===i.length?bt(a):uo.E))}(n._resolve,n,e,r).pipe((0,xt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),D_(n,t).resolve),null)))}(c.route,r,n,e)),(0,zr.b)(()=>a++),Pd(1),(0,Sn.z)(c=>a===i.length?bt(t):uo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,zr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,zr.b)(m=>{const b=new Yi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),Mg(f=>{const{targetSnapshot:m,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:x,replaceUrl:B}}=f;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!x,replaceUrl:!!B})}),(0,xt.U)(f=>{const m=function T_(n,e,t){const r=_l(n,e._root,t?t._root:void 0);return new Vd(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),(0,zr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new ht(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,zr.b)({next(){a=!0},complete(){a=!0}}),function mg(n){return(0,cr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),ps(f=>{if(c=!0,function _g(n){return n&&n[yc]}(f)){const m=es(f.url);m||(this.navigated=!0,this.restoreHistory(i,!0));const b=new sr(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),m?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gb(i.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new hl(i.id,this.serializeUrl(i.extractedUrl),f);r.next(m);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return uo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const m=Object.assign({},c);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){yl(t),this.config=t.map(M_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,b=i||this.routerState.root,T=m?this.currentUrlTree.fragment:c;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function qo(n,e,t,r,i){if(0===t.length)return Cc(e.root,e.root,e.root,r,i);const a=function wg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return An(a.outlets,(m,b)=>{f[b]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new pf(t,e,r)}(t);if(a.toRoot())return Cc(e.root,e.root,new _e([],{}),r,i);const c=function Eg(n,e,t){if(n.isAbsolute)return new gf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new gf(a,a===e.root,0)}const r=ho(n.commands[0])?0:1;return function S_(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gf(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?g(c.segmentGroup,c.index,a.commands):v(c.segmentGroup,c.index,a.commands);return Cc(e.root,c.segmentGroup,f,r,i)}(b,this.currentUrlTree,t,A,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=es(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function GD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},$D):!1===r?Object.assign({},B_):r,es(t))return Na(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Na(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ta(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,m;if(this.disposed)return Promise.resolve(!1);let b,T,A;c?(b=c.resolve,T=c.reject,A=c.promise):A=new Promise((G,Y)=>{b=G,T=Y});const x=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):B=0,this.setTransition({id:x,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:T,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new sr(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Gb(n){return"imperative"!==n}let Rg=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.commands=null,this.onChanges=new En.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:$d(this.skipLocationChange),replaceUrl:$d(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$d(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Bs),l.Y36(fu),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),xg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new En.x,this.subscription=t.events.subscribe(a=>{a instanceof Ta&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){if(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:$d(this.skipLocationChange),replaceUrl:$d(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$d(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Bs),l.Y36(fu),l.Y36(ge))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function $d(n){return""===n||!!n}class j_{}class qb{preload(e,t){return bt(null)}}let Wb=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Og(i,r,m=>t.triggerEvent(new Ia(m)),m=>t.triggerEvent(new pl(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(ir(t=>t instanceof Ta),Da(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Vn.D)(i).pipe((0,Ps.J)(),(0,xt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?bt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Sn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bs),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(j_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ta&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _c&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new _c(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Us=new l.OlP("ROUTER_CONFIGURATION"),$_=new l.OlP("ROUTER_FORROOT_GUARD"),Zb=[Ne,{provide:At,useClass:qr},{provide:Bs,useFactory:function z_(n,e,t,r,i,a,c={},f,m){const b=new Bs(null,n,e,t,r,i,Fd(a));return f&&(b.urlHandlingStrategy=f),m&&(b.routeReuseStrategy=m),function Qb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(T=>{var A,x;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(x=console.groupEnd)||void 0===x||x.call(console)}),b},deps:[At,_u,Ne,l.zs3,l.Sil,wf,Us,[class $b{},new l.FiY],[class bf{},new l.FiY]]},_u,{provide:fu,useFactory:function kg(n){return n.routerState.root},deps:[Bs]},Wb,qb,class H_{preload(e,t){return t().pipe(ps(()=>bt(null)))}},{provide:Us,useValue:{enableTracing:!1}}];function qD(){return new l.PXZ("Router",Bs)}let Ef=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Zb,G_(t),{provide:$_,useFactory:Yb,deps:[[Bs,new l.FiY,new l.tp0]]},{provide:Us,useValue:r||{}},{provide:ge,useFactory:Kb,deps:[ce,[new l.tBr(st),new l.FiY],Us]},{provide:Pg,useFactory:WD,deps:[Bs,Cd,Us]},{provide:j_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:qb},{provide:l.PXZ,multi:!0,useFactory:qD},[Gd,{provide:l.ip1,multi:!0,useFactory:Jb,deps:[Gd]},{provide:W_,useFactory:q_,deps:[Gd]},{provide:l.tb,multi:!0,useExisting:W_}]]}}static forChild(t){return{ngModule:n,providers:[G_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($_,8),l.LFG(Bs,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function WD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Pg(n,e,t)}function Kb(n,e,t={}){return t.useHash?new Oe(n,e):new Ge(n,e)}function Yb(n){return"guarded"}function G_(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:wf,multi:!0,useValue:n}]}let Gd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new En.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Bs),c=this.injector.get(Us);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Us),i=this.injector.get(Wb),a=this.injector.get(Pg),c=this.injector.get(Bs),f=this.injector.get(l.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Jb(n){return n.appInitializer.bind(n)}function q_(n){return n.bootstrapListener.bind(n)}const W_=new l.OlP("Router Initializer");var Lg=P(5032);function or(n){return(0,cr.e)((e,t)=>{(0,ii.Xf)(n).subscribe((0,gn.x)(t,()=>t.complete(),Lg.Z)),!t.closed&&e.subscribe(t)})}class Xb{}const Ra="*";function K_(n,e){return{type:7,name:n,definitions:e,options:{}}}function Y_(n,e=null){return{type:4,styles:e,timings:n}}function Q_(n,e=null){return{type:2,steps:n,options:e}}function Cf(n){return{type:6,styles:n,offset:null}}function ew(n,e,t){return{type:0,name:n,styles:e,options:t}}function tw(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function nw(n){Promise.resolve(null).then(n)}class Df{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class J_{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?nw(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const YD=["overlay"];function QD(n,e){1&n&&l._UZ(0,"div")}function $t(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,QD,1,0,"div",6),l.qZA()),2&n){const t=l.oxw(2);l.Tol(t.spinner.class),l.Udp("color",t.spinner.color),l.xp6(1),l.Q6J("ngForOf",t.spinner.divArray)}}function rw(n,e){if(1&n&&(l._UZ(0,"div",7),l.ALo(1,"safeHtml")),2&n){const t=l.oxw(2);l.Q6J("innerHTML",l.lcZ(1,1,t.template),l.oJD)}}function iw(n,e){if(1&n&&(l.TgZ(0,"div",1,2),l.YNc(2,$t,2,5,"div",3),l.YNc(3,rw,2,3,"div",4),l.TgZ(4,"div",5),l.Hsn(5),l.qZA()()),2&n){const t=l.oxw();l.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),l.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),l.xp6(2),l.Q6J("ngIf",!t.template),l.xp6(1),l.Q6J("ngIf",t.template),l.xp6(1),l.Udp("z-index",t.spinner.zIndex)}}const sw=["*"],Vg={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Bg="primary";class Oc{constructor(e){Object.assign(this,e)}static create(e){return(null==(null==e?void 0:e.type)||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Oc(e)}}let vu=(()=>{class n{constructor(){this.spinnerObservable=new Qn(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(ir(r=>r&&r.name===t))}show(t=Bg,r){return new Promise((i,a)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new Oc(Object.assign(Object.assign({},r),{show:!0}))),i(!0)):(this.spinnerObservable.next(new Oc({name:t,show:!0})),i(!0))},10)})}hide(t=Bg,r=10){return new Promise((i,a)=>{setTimeout(()=>{this.spinnerObservable.next(new Oc({name:t,show:!1})),i(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vl=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(so,16))},n.\u0275pipe=l.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),zd=(()=>{class n{constructor(t,r,i){this.spinnerService=t,this.changeDetector=r,this.elementRef=i,this.disableAnimation=!1,this.spinner=new Oc,this.ngUnsubscribe=new En.x,this.setDefaultOptions=()=>{this.spinner=Oc.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Bg,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(or(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const i=t[r];if(i.isFirstChange())return;void 0!==i.currentValue&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=Vg[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((a,c)=>c);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+t+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vu),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&l.Gf(YD,5),2&t){let i;l.iGM(i=l.CRH())&&(r.spinnerDOM=i.first)}},hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.handleKeyboardEvent(a)},!1,l.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[l.TTD],ngContentSelectors:sw,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(l.F$t(),l.YNc(0,iw,6,12,"div",0)),2&t&&l.Q6J("ngIf",r.spinner.show)},directives:[Kn,pn],pipes:[vl],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[K_("fadeIn",[ew("in",Cf({opacity:1})),tw(":enter",[Cf({opacity:0}),Y_(300)]),tw(":leave",Y_(200,Cf({opacity:0})))])]},changeDetection:0}),n})(),ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),ey=(()=>{class n{constructor(t){this.spinner=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-grid"]],decls:237,vars:0,consts:[[1,"title"],[1,"presentacion"],["id","portfolio",1,"page-section","portfolio"],[1,"container"],[1,"divider-custom",2,"padding-top","5%"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4","mb-5"],["data-bs-toggle","modal","data-bs-target","#portfolioModal1",1,"portfolio-item","mx-auto"],[2,"text-align","center"],[1,"botones"],["data-bs-toggle","modal","data-bs-target","#portfolioModal2",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal3",1,"portfolio-item","mx-auto"],[1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal4",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal5",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal6",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal7",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal8",1,"portfolio-item","mx-auto"],["data-bs-toggle","modal","data-bs-target","#portfolioModal9",1,"portfolio-item","mx-auto"],[1,"divider-custom"],["id","portfolioModal1","tabindex","-1","aria-labelledby","portfolioModal1","aria-hidden","true",1,"portfolio-modal","modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center","pb-5"],[1,"col-lg-8"],[1,"portfolio-modal-title","text-secondary","text-uppercase","mb-0",2,"text-align","center"],["data-bs-dismiss","modal","routerLink","/oportunidades",1,"btn"],[1,"fas","fa-info"],["id","portfolioModal2","tabindex","-1","aria-labelledby","portfolioModal2","aria-hidden","true",1,"portfolio-modal","modal","fade"],[1,"portfolio-modal-title","text-secondary","text-uppercase","mb-0"],[1,"mb-4"],["src","/assets/mascotas.jpg","height","250px","width","250px"],["data-bs-dismiss","modal","routerLink","/mascotas",1,"btn"],["id","portfolioModal3","tabindex","-1","aria-labelledby","portfolioModal3","aria-hidden","true",1,"portfolio-modal","modal","fade"],["src","/assets/simoca.jpg","height","250px","width","250px"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+541126518411&text=Hola, estoy interesado en el servicio de limpieza muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"],["id","portfolioModal4","tabindex","-1","aria-labelledby","portfolioModal4","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/fletes",1,"btn"],["id","portfolioModal5","tabindex","-1","aria-labelledby","portfolioModal5","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+5491156918203&text=Hola, estoy interesado en el servicio de consultoria, negocios y remodelacion.","target","_blank",1,"fab"],[1,"btn","fab","fa-whatsapp"],["id","portfolioModal6","tabindex","-1","aria-labelledby","portfolioModal6","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+5491156918203&text=Hola, estoy interesado en el servicio de vidreria y cerramientos de aluminio.","target","_blank",1,"fab"],["id","portfolioModal7","tabindex","-1","aria-labelledby","portfolioModal7","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/refrigeracion",1,"btn"],["id","portfolioModal8","tabindex","-1","aria-labelledby","portfolioModal8","aria-hidden","true",1,"portfolio-modal","modal","fade"],["data-bs-dismiss","modal","routerLink","/aires",1,"btn"],["id","portfolioModal9","tabindex","-1","aria-labelledby","portfolioModal9","aria-hidden","true",1,"portfolio-modal","modal","fade"],["href","https://api.whatsapp.com/send?phone=+5491156918203&text=Hola, estoy interesado en el servicio de reparaciones muchas gracias.","target","_blank",1,"fab"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"div",0)(2,"p"),l._uU(3,"Consultoria de negocios e inversiones"),l.qZA()(),l.TgZ(4,"h2",1),l._uU(5," CNI cuenta con un acuerdo con estas empresas con la finalidad de brindarle soluciones a diferentes necesidades de mantenimiento, instalaciones, remodelaciones y compras de su empresa o de su hogar "),l.qZA(),l.TgZ(6,"section",2)(7,"div",3),l._UZ(8,"br"),l.TgZ(9,"div",4),l._UZ(10,"div",5),l.TgZ(11,"div",6),l._UZ(12,"i",7),l.qZA(),l._UZ(13,"div",5),l.qZA(),l.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"h3"),l._uU(20,"OPORTUNIDADES"),l.qZA()()()()(),l.TgZ(21,"div",9)(22,"div",13)(23,"div",11)(24,"div",12)(25,"h3"),l._uU(26,"MASCOTAS"),l.qZA()()()()(),l.TgZ(27,"div",9)(28,"div",14)(29,"div",11)(30,"div",12)(31,"h3"),l._uU(32,"SIMOCA LIMP"),l.qZA()()()()(),l.TgZ(33,"div",9)(34,"div",15)(35,"div",16)(36,"div",11)(37,"div",12)(38,"h3"),l._uU(39,"MINI FLETES"),l.qZA()()()()()(),l.TgZ(40,"div",9)(41,"div",17)(42,"div",11)(43,"div",12)(44,"h3"),l._uU(45,"CONSULTORIA"),l.qZA()()()()(),l.TgZ(46,"div",9)(47,"div",18)(48,"div",11)(49,"div",12)(50,"h3"),l._uU(51,"VIDRIERIA"),l.qZA()()()()(),l.TgZ(52,"div",9)(53,"div",19)(54,"div",11)(55,"div")(56,"div",12)(57,"h3"),l._uU(58,"REFRIGERACION"),l.qZA()()()()()(),l.TgZ(59,"div",9)(60,"div",20)(61,"div",11)(62,"div",12)(63,"h3"),l._uU(64,"AIRE ACONDICIONADOS"),l.qZA()()()()(),l.TgZ(65,"div",9)(66,"div",21)(67,"div",11)(68,"div",12)(69,"h3"),l._uU(70,"REPARACION MAQUINAS"),l.qZA()()()()(),l.TgZ(71,"div",22),l._UZ(72,"div",5),l.TgZ(73,"div",6),l._UZ(74,"i",7),l.qZA(),l._UZ(75,"div",5),l.qZA()()()(),l.TgZ(76,"div",23)(77,"div",24)(78,"div",25)(79,"div",26),l._UZ(80,"button",27),l.qZA(),l.TgZ(81,"div",28)(82,"div",3)(83,"div",8)(84,"div",29)(85,"h2",30),l._uU(86," nuestras oportunidades "),l.qZA(),l._UZ(87,"br"),l.TgZ(88,"button",31),l._UZ(89,"i",32),l._uU(90," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(91,"div",33)(92,"div",24)(93,"div",25)(94,"div",26),l._UZ(95,"button",27),l.qZA(),l.TgZ(96,"div",28)(97,"div",3)(98,"div",8)(99,"div",29)(100,"h2",34),l._uU(101," Nuestras opciones "),l.qZA(),l._UZ(102,"br"),l.TgZ(103,"p"),l._uU(104,"\xa1Selecciona el producto, te lo llevamos!"),l.qZA(),l.TgZ(105,"p",35),l._uU(106," Realizamos cortes de razas, ba\xf1os de mascotas y cortes higi\xe9nicos (deslanado striping) traslados zona lanus. Ademas, vendemos alimentos para mascotas. "),l.qZA(),l.TgZ(107,"div"),l._UZ(108,"img",36),l.qZA(),l.TgZ(109,"button",37),l._UZ(110,"i",32),l._uU(111," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(112,"div",38)(113,"div",24)(114,"div",25)(115,"div",26),l._UZ(116,"button",27),l.qZA(),l.TgZ(117,"div",28)(118,"div",3)(119,"div",8)(120,"div",29)(121,"h2",34),l._uU(122," Servicio de limpieza "),l.qZA(),l._UZ(123,"br"),l.TgZ(124,"p",35),l._uU(125," Nuestra empresa se dedica al servicio de limpieza de oficinas laboratorios consorcios escuelas y finales de obra contamos con la maquinaria necesaria y el personal adecuado para realizar el trabajo tenemos experiencia de 6 a\xf1os en el rubro "),l.qZA(),l.TgZ(126,"div"),l._UZ(127,"img",39),l.qZA(),l._UZ(128,"link",40),l.TgZ(129,"a",41)(130,"i",42),l._uU(131,"CONTACTANOS"),l.qZA()()()()()()()()(),l.TgZ(132,"div",43)(133,"div",24)(134,"div",25)(135,"div",26),l._UZ(136,"button",27),l.qZA(),l.TgZ(137,"div",28)(138,"div",3)(139,"div",8)(140,"div",29)(141,"h2",34),l._uU(142," fletes "),l.qZA(),l._UZ(143,"br"),l.TgZ(144,"p",35),l._uU(145," Te estas mudando o compraste cosas que necesitas trasladar hasta tu casa, empresa o negocio, solo completa los cuadros de donde salis hasta donde deseas trasladar tu envio y te cotizamos al instante. "),l.qZA(),l.TgZ(146,"button",44),l._UZ(147,"i",32),l._uU(148," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(149,"div",45)(150,"div",24)(151,"div",25)(152,"div",26),l._UZ(153,"button",27),l.qZA(),l.TgZ(154,"div",28)(155,"div",3)(156,"div",8)(157,"div",29)(158,"h2",34),l._uU(159," Consultoria CNI "),l.qZA(),l._UZ(160,"br"),l.TgZ(161,"p",35),l._uU(162," \u2022Tenes un negocio o comercio y mermaron tus ventas, quieres una nueva imagen o no sabes como mejorar o fidelizar a tus clientes. Tu local necesita una refaccion? Nosotros te visitamos hacemos un estudio de tu caso y te sugerimos los cambios que deber\xedas realizar y te ayudamos con las refacciones. "),l.qZA(),l.TgZ(163,"p"),l._uU(164," \u2022 Nuestra visita para ver la factibilidad tiene un costo bajo, solo de $2000. Este costo se te cobra solo por el viaje y el tiempo de entrevista si vemos que es posible mejorar despues te proveemos un costo final. "),l.qZA(),l._UZ(165,"link",40),l.TgZ(166,"a",46)(167,"i",47),l._uU(168,"CONTACTANOS"),l.qZA()()()()()()()()(),l.TgZ(169,"div",48)(170,"div",24)(171,"div",25)(172,"div",26),l._UZ(173,"button",27),l.qZA(),l.TgZ(174,"div",28)(175,"div",3)(176,"div",8)(177,"div",29)(178,"h2",34),l._uU(179," Vidreria y cerramiento "),l.qZA(),l._UZ(180,"br"),l.TgZ(181,"p",35),l._uU(182," Vidrier\xeda Calder\xf3n venta de vidrios laminados aberturas mamparas de ba\xf1o frentes templados venta y reparaci\xf3n de mosquiteros "),l.qZA(),l._UZ(183,"link",40),l.TgZ(184,"a",49)(185,"i",42),l._uU(186,"CONTACTANOS"),l.qZA()()()()()()()()(),l.TgZ(187,"div",50)(188,"div",24)(189,"div",25)(190,"div",26),l._UZ(191,"button",27),l.qZA(),l.TgZ(192,"div",28)(193,"div",3)(194,"div",8)(195,"div",29)(196,"h2",34),l._uU(197," \xa1Selecciona el producto, te lo llevamos! "),l.qZA(),l._UZ(198,"br"),l.TgZ(199,"button",51),l._UZ(200,"i",32),l._uU(201," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(202,"div",52)(203,"div",24)(204,"div",25)(205,"div",26),l._UZ(206,"button",27),l.qZA(),l.TgZ(207,"div",28)(208,"div",3)(209,"div",8)(210,"div",29)(211,"h2",34),l._uU(212," AIRE ACONDICIONADOS "),l.qZA(),l._UZ(213,"br"),l.TgZ(214,"p",35),l._uU(215," Nuestra empresa se dedica desde el a\xf1o 2008 a la instalacion de aire acondicionado tipo pared y split, unidades separadas ya sea en domicilios particulares o empresas, brindamos garantia de 6 meses por instalacion. Ofrecemos tambien abonos de mantenimiento una vez instalados los equipos y transcurridos los 6 meses de garantia "),l.qZA(),l.TgZ(216,"button",53),l._UZ(217,"i",32),l._uU(218," MAS INFORMACION "),l.qZA()()()()()()()(),l.TgZ(219,"div",54)(220,"div",24)(221,"div",25)(222,"div",26),l._UZ(223,"button",27),l.qZA(),l.TgZ(224,"div",28)(225,"div",3)(226,"div",8)(227,"div",29)(228,"h2",34),l._uU(229," Reparacion de maquinas en taller "),l.qZA(),l._UZ(230,"br"),l.TgZ(231,"p",35),l._uU(232," Nuestra empresa se dedica desde el a\xf1o 1994 a la reparaci\xf3n de m\xe1quinas mec\xe1nicas el\xe9ctricas y electr\xf3nicas en nuestro taller cons\xfaltanos si tienes una m\xe1quina para reparar. "),l.qZA(),l._UZ(233,"link",40),l.TgZ(234,"a",55)(235,"i",42),l._uU(236,"CONTACTANOS"),l.qZA()()()()()()()()()())},directives:[Rg],styles:['.botones[_ngcontent-%COMP%]{width:100%;text-align:center}#separar[_ngcontent-%COMP%]{padding:3%;display:inline-block}.titulo[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:14px;text-decoration:underline;color:#333}.botones[_ngcontent-%COMP%]{color:#fff!important;font-size:20px;font-weight:500;padding:.5em 1.2em;border:2px solid;border-color:#318aac;position:relative;cursor:pointer}.botones[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0px;left:0px;width:0px;height:100%;background:rgba(255,255,255,.1);transition:all 1s ease}.botones[_ngcontent-%COMP%]:hover:before{width:100%}']}),n})(),GA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-grid")},directives:[ey],styles:[""]}),n})();var Ug=P(4986),jn=P(5813);function qd(){return(0,cr.e)((n,e)=>{let t,r=!1;n.subscribe((0,gn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function ty(n,e){return n===e}var ft,_s=P(2011),zA=(P(5881),P(3942)),Ce=P(5861),bl=P(9681),jg=P(4859),bu=P(1877),Jt=P(2090),qA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wl={},Hg=Hg||{},Ft=qA||self;function $g(){}function Tf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lw="closure_uid_"+(1e9*Math.random()>>>0),ZA=0;function KA(n,e,t){return n.call.apply(n.bind,arguments)}function YA(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Vi(n,e,t){return(Vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KA:YA).apply(null,arguments)}function ny(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Bi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function xc(){this.s=this.s,this.o=this.o}var ry={};xc.prototype.s=!1,xc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function WA(n){return Object.prototype.hasOwnProperty.call(n,lw)&&n[lw]||(n[lw]=++ZA)}(this);delete ry[n]}},xc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},iy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function oy(n){return Array.prototype.concat.apply([],arguments)}function If(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zg(n){return/^[\s\xa0]*$/.test(n)}var yi,El=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ui(n,e){return-1!=n.indexOf(e)}function ay(n,e){return n<e?-1:n>e?1:0}e:{var cw=Ft.navigator;if(cw){var ly=cw.userAgent;if(ly){yi=ly;break e}}yi=""}function uy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function dw(n){const e={};for(const t in n)e[t]=n[t];return e}var Wd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pc(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Wd.length;a++)t=Wd[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Sf(n){return Sf[" "](n),n}Sf[" "]=$g;var Nf,n,Af=Ui(yi,"Opera"),Ko=Ui(yi,"Trident")||Ui(yi,"MSIE"),hw=Ui(yi,"Edge"),qg=hw||Ko,cy=Ui(yi,"Gecko")&&!(Ui(yi.toLowerCase(),"webkit")&&!Ui(yi,"Edge"))&&!(Ui(yi,"Trident")||Ui(yi,"MSIE"))&&!Ui(yi,"Edge"),dy=Ui(yi.toLowerCase(),"webkit")&&!Ui(yi,"Edge");function Wg(){var n=Ft.document;return n?n.documentMode:void 0}e:{var Kd="",hy=(n=yi,cy?/rv:([^\);]+)(\)|;)/.exec(n):hw?/Edge\/([\d\.]+)/.exec(n):Ko?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dy?/WebKit\/(\S+)/.exec(n):Af?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hy&&(Kd=hy?hy[1]:""),Ko){var Zg=Wg();if(null!=Zg&&Zg>parseFloat(Kd)){Nf=String(Zg);break e}}Nf=Kd}var QA={};var gw=Ft.document&&Ko&&(Wg()||parseInt(Nf,10))||void 0,JD=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",$g,e),Ft.removeEventListener("test",$g,e)}catch(t){}return n}();function ji(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function vi(n,e){if(ji.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cy){e:{try{Sf(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:XD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vi.Z.h.call(this)}}ji.prototype.h=function(){this.defaultPrevented=!0},Bi(vi,ji);var XD={2:"touch",3:"pen",4:"mouse"};vi.prototype.h=function(){vi.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Mf="closure_listenable_"+(1e6*Math.random()|0),JA=0;function XA(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++JA,this.ca=this.fa=!1}function Of(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function fy(n){this.src=n,this.g={},this.h=0}function py(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=uw(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Of(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Rf(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}fy.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Rf(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new XA(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var Yg="closure_lm_"+(1e6*Math.random()|0),gy={};function mw(n,e,t,r,i){if(r&&r.once)return vw(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)mw(n,e[a],t,r,i);return null}return t=fo(t),n&&n[Mf]?n.N(e,t,Gg(r)?!!r.capture:!!r,i):_w(n,e,t,!1,r,i)}function _w(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Gg(i)?!!i.capture:!!i,f=Qg(n);if(f||(n[Yg]=f=new fy(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function yw(){var e=ww;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JD||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(bw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vw(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)vw(n,e[a],t,r,i);return null}return t=fo(t),n&&n[Mf]?n.O(e,t,Gg(r)?!!r.capture:!!r,i):_w(n,e,t,!0,r,i)}function my(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)my(n,e[a],t,r,i);else r=Gg(r)?!!r.capture:!!r,t=fo(t),n&&n[Mf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Rf(a=n.g[e],t,r,i))&&(Of(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Qg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Rf(e,t,r,i)),(t=-1<n?e[n]:null)&&_y(t))}function _y(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Mf])py(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Qg(e))?(py(t,n),0==t.h&&(t.src=null,e[Yg]=null)):Of(n)}}}function bw(n){return n in gy?gy[n]:gy[n]="on"+n}function ww(n,e){if(n.ca)n=!0;else{e=new vi(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&_y(n),n=t.call(r,e)}return n}function Qg(n){return(n=n[Yg])instanceof fy?n:null}var yy="__closure_events_fn_"+(1e9*Math.random()>>>0);function fo(n){return"function"==typeof n?n:(n[yy]||(n[yy]=function(e){return n.handleEvent(e)}),n[yy])}function kr(){xc.call(this),this.i=new fy(this),this.P=this,this.I=null}function bi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ji(e,n);else if(e instanceof ji)e.target=e.target||n;else{var i=e;Pc(e=new ji(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Jg(c,r,!0,e)&&i}if(i=Jg(c=e.g=n,r,!0,e)&&i,i=Jg(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Jg(c=e.g=t[a],r,!1,e)&&i}function Jg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,m=c.ia||c.src;c.fa&&py(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Bi(kr,xc),kr.prototype[Mf]=!0,kr.prototype.removeEventListener=function(n,e,t,r){my(this,n,e,t,r)},kr.prototype.M=function(){if(kr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Of(t[r]);delete n.g[e],n.h--}}this.I=null},kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ew=Ft.JSON.stringify;function Cw(){var n=Tw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wy,Dw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tT,n=>n.reset());class tT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vy(n){Ft.setTimeout(()=>{throw n},0)}function by(n,e){wy||function Xg(){var n=Ft.Promise.resolve(void 0);wy=function(){n.then(Ey)}}(),xf||(wy(),xf=!0),Tw.add(n,e)}var xf=!1,Tw=new class eT{constructor(){this.h=this.g=null}add(e,t){const r=Dw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ey(){for(var n;n=Cw();){try{n.h.call(n.g)}catch(t){vy(t)}var e=Dw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xf=!1}function Yd(n,e){kr.call(this),this.h=n||1,this.g=e||Ft,this.j=Vi(this.kb,this),this.l=Date.now()}function em(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Cy(n,e,t){if("function"==typeof n)t&&(n=Vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function Iw(n){n.g=Cy(()=>{n.g=null,n.i&&(n.i=!1,Iw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Bi(Yd,kr),(ft=Yd.prototype).da=!1,ft.S=null,ft.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bi(this,"tick"),this.da&&(em(this),this.start()))}},ft.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){Yd.Z.M.call(this),em(this),delete this.g};class Dy extends xc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Iw(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tm(n){xc.call(this),this.h=n,this.g={}}Bi(tm,xc);var Sw=[];function Ty(n,e,t,r){Array.isArray(t)||(t&&(Sw[0]=t.toString()),t=Sw);for(var i=0;i<t.length;i++){var a=mw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Iy(n){uy(n.g,function(e,t){this.g.hasOwnProperty(t)&&_y(e)},n),n.g={}}function Pf(){this.g=!0}function ys(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return Ew(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}tm.prototype.M=function(){tm.Z.M.call(this),Iy(this)},tm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pf.prototype.Aa=function(){this.g=!1},Pf.prototype.info=function(){};var kc={},rT=null;function Qd(){return rT=rT||new kr}function Sy(n){ji.call(this,kc.Ma,n)}function Fc(n){const e=Qd();bi(e,new Sy(e,n))}function Jd(n,e){ji.call(this,kc.STAT_EVENT,n),this.stat=e}function ts(n){const e=Qd();bi(e,new Jd(e,n))}function rm(n,e){ji.call(this,kc.Na,n),this.size=e}function Xd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}kc.Ma="serverreachability",Bi(Sy,ji),kc.STAT_EVENT="statevent",Bi(Jd,ji),kc.Na="timingevent",Bi(rm,ji);var kf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ay={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ny(){}function Mw(){}Ny.prototype.h=null;var om,Ff={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sm(){ji.call(this,"d")}function Eu(){ji.call(this,"c")}function am(){}function Lf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new tm(this),this.P=iT,this.W=new Yd(n=qg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lc}function Lc(){this.i=null,this.g="",this.h=!1}Bi(sm,ji),Bi(Eu,ji),Bi(am,Ny),am.prototype.g=function(){return new XMLHttpRequest},am.prototype.i=function(){return{}},om=new am;var iT=45e3,My={},lm={};function Oy(n,e,t){n.K=1,n.v=Ly(Dl(e)),n.s=t,n.U=!0,Yo(n,null)}function Yo(n,e){n.F=Date.now(),eh(n),n.A=Dl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Vw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Lc,n.g=Jw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Dy(Vi(n.Ia,n,n.g),n.O)),Ty(n.V,n.g,"readystatechange",n.gb),e=n.H?dw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Fc(1),function Aw(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),m=0;m<f.length;m++){var b=f[m].split("=");if(1<b.length){var T=b[0];b=b[1];var A=T.split("_");c=2<=A.length&&"type"==A[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function um(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ry(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Ow(n,t),i==lm){4==e&&(n.o=4,ts(14),r=!1),ys(n.j,n.m,null,"[Incomplete Response]");break}if(i==My){n.o=4,ts(15),ys(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ys(n.j,n.m,i,null),Py(n,i)}um(n)&&i!=lm&&i!=My&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zw(e),e.L=!0,ts(11))):(ys(n.j,n.m,t,"[Invalid Chunked Response]"),Vc(n),Vf(n))}function Ow(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?lm:(t=Number(e.substring(t,r)),isNaN(t)?My:(r+=1)+t>e.length?lm:(e=e.substr(r,t),n.C=r+t,e))}function eh(n){n.Y=Date.now()+n.P,xy(n,n.P)}function xy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xd(Vi(n.eb,n),e)}function cm(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Vf(n){0==n.l.G||n.I||hT(n.l,n)}function Vc(n){cm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,em(n.W),Iy(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Py(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||go(t.i,n)))if(t.I=n.N,!n.J&&go(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Xd(Vi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;zf(t),Gf(t)}Ww(t),ts(18)}if(1>=dm(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else _o(t,11)}else if((n.J||t.g==n)&&zf(t),!zg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const A=b[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const x=b[5];null!=x&&"number"==typeof x&&0<x&&(t.K=r=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.i;!a.g&&(Ui(G,"spdy")||Ui(G,"quic")||Ui(G,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(jc(a,a.h),a.h=null))}if(r.D){const Y=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.sa=Y,dr(r.F,r.D,Y))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Xy(r,r.H?r.la:null,r.W),c.J){wi(r.i,c);var f=c,m=r.K;m&&f.setTimeout(m),f.B&&(cm(f),eh(f)),r.g=c}else dT(r);0<t.l.length&&Jy(t)}else"stop"!=b[0]&&"close"!=b[0]||_o(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?_o(t,7):Yy(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Fc(4)}catch(b){}}function xw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tf(n)||"string"==typeof n)iy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Tf(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Rw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Tf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function Bc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Bc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ky(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Uc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Uc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Uc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ft=Lf.prototype).setTimeout=function(n){this.P=n},ft.gb=function(n){n=n.target;const e=this.L;e&&3==Al(n)?e.l():this.Ia(n)},ft.Ia=function(n){try{if(n==this.g)e:{const T=Al(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||qg||this.g&&(this.h.h||this.g.ga()||Wy(this.g)))){this.I||4!=T||7==e||Fc(8==e||0>=A?3:2),cm(this);var t=this.g.ba();this.N=t;t:if(um(this)){var r=Wy(this.g);n="";var i=r.length,a=4==Al(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vc(this),Vf(this);var c="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Nw(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zg(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,ts(12),Vc(this),Vf(this);break e}ys(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Py(this,t)}this.U?(Ry(this,T,c),qg&&this.i&&3==T&&(Ty(this.V,this.W,"tick",this.fb),this.W.start())):(ys(this.j,this.m,c,null),Py(this,c)),4==T&&Vc(this),this.i&&!this.I&&(4==T?hT(this.l,this):(this.i=!1,eh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),Vc(this),Vf(this)}}}catch(T){}},ft.fb=function(){if(this.g){var n=Al(this.g),e=this.g.ga();this.C<e.length&&(cm(this),Ry(this,n,e),this.i&&4!=n&&eh(this))}},ft.cancel=function(){this.I=!0,Vc(this)},ft.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nm(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fc(3),ts(17)),Vc(this),this.o=2,Vf(this)):xy(this,this.Y-n)},(ft=Bc.prototype).R=function(){ky(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ft.T=function(){return ky(this),this.g.concat()},ft.get=function(n,e){return Uc(this.h,n)?this.h[n]:e},ft.set=function(n,e){Uc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ft.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var sT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Cl){this.g=void 0!==e?e:n.g,Bf(this,n.j),this.s=n.s,Uf(this,n.i),Fy(this,n.m),this.l=n.l,e=n.h;var t=new Hf;t.i=e.i,e.g&&(t.g=new Bc(e.g),t.h=e.h),po(this,t),this.o=n.o}else n&&(t=String(n).match(sT))?(this.g=!!e,Bf(this,t[1]||"",!0),this.s=th(t[2]||""),Uf(this,t[3]||"",!0),Fy(this,t[4]),this.l=th(t[5]||"",!0),po(this,t[6]||"",!0),this.o=th(t[7]||"")):(this.g=!!e,this.h=new Hf(null,this.g))}function Dl(n){return new Cl(n)}function Bf(n,e,t){n.j=t?th(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Uf(n,e,t){n.i=t?th(e,!0):e}function Fy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function po(n,e,t){e instanceof Hf?(n.h=e,function nh(n,e){e&&!n.j&&(Cu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Fw(this,r),Vw(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=jf(e,Uy)),n.h=new Hf(e,n.g))}function dr(n,e,t){n.h.set(e,t)}function Ly(n){return dr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function th(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(jf(e,Vy,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(jf(e,Vy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(jf(t,"/"==t.charAt(0)?oT:By,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",jf(t,aT)),n.join("")};var Vy=/[#\/\?@]/g,By=/[#\?:]/g,oT=/[#\?]/g,Uy=/[#\?@]/g,aT=/#/g;function Hf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cu(n){n.g||(n.g=new Bc,n.h=0,n.i&&function eN(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Fw(n,e){Cu(n),e=Tl(n,e),Uc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Uc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ky(n)))}function Lw(n,e){return Cu(n),e=Tl(n,e),Uc(n.g.h,e)}function Vw(n,e,t){Fw(n,e),0<t.length&&(n.i=null,n.g.set(Tl(n,e),If(t)),n.h+=t.length)}function Tl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rh(n){this.l=n||uT,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Hf.prototype).add=function(n,e){Cu(this),this.i=null,n=Tl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){Cu(this),this.g.forEach(function(t,r){iy(t,function(i){n.call(e,i,r,this)},this)},this)},ft.T=function(){Cu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},ft.R=function(n){Cu(this);var e=[];if("string"==typeof n)Lw(this,n)&&(e=oy(e,this.g.get(Tl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=oy(e,n[t])}return e},ft.set=function(n,e){return Cu(this),this.i=null,Lw(this,n=Tl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var uT=10;function Bw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dm(n){return n.h?1:n.g?n.g.size:0}function go(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function jc(n,e){n.g?n.g.add(e):n.h=e}function wi(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Du(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return If(n.i)}function ih(){}function mo(){this.g=new ih}function jy(n,e,t){const r=t||"";try{xw(n,function(i,a){let c=i;Gg(i)&&(c=Ew(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Il(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Pa(n){this.l=n.$b||null,this.j=n.ib||!1}function Sl(n,e){kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Tu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rh.prototype.cancel=function(){if(this.i=Du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ih.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},ih.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},Bi(Pa,Ny),Pa.prototype.g=function(){return new Sl(this.l,this.j)},Pa.prototype.i=function(n){return function(){return n}}({}),Bi(Sl,kr);var Tu=0;function Hc(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ka(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fa(n)}function Fa(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=Sl.prototype).open=function(n,e){if(this.readyState!=Tu)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Fa(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ka(this)),this.readyState=Tu},ft.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hc(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ft.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ka(this):Fa(this),3==this.readyState&&Hc(this)}},ft.Ua=function(n){this.g&&(this.response=this.responseText=n,ka(this))},ft.Ta=function(n){this.g&&(this.response=n,ka(this))},ft.ha=function(){this.g&&ka(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oh=Ft.JSON.parse;function Nr(n){kr.call(this),this.headers=new Bc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hy,this.K=this.L=!1}Bi(Nr,kr);var Hy="",Uw=/^https?$/i,jw=["POST","PUT"];function $w(n){return"content-type"==n.toLowerCase()}function $y(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Gy(n),hm(n)}function Gy(n){n.D||(n.D=!0,bi(n,"complete"),bi(n,"error"))}function zy(n){if(n.h&&void 0!==Hg&&(!n.C[1]||4!=Al(n)||2!=n.ba()))if(n.v&&4==Al(n))Cy(n.Fa,0,n);else if(bi(n,"readystatechange"),4==Al(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(sT)[1]||null;if(!i&&Ft.self&&Ft.self.location){var a=Ft.self.location.protocol;i=a.substr(0,a.length-1)}r=!Uw.test(i?i.toLowerCase():"")}t=r}if(t)bi(n,"complete"),bi(n,"success");else{n.m=6;try{var c=2<Al(n)?n.g.statusText:""}catch(m){c=""}n.j=c+" ["+n.ba()+"]",Gy(n)}}finally{hm(n)}}}function hm(n,e){if(n.g){qy(n);const t=n.g,r=n.C[0]?$g:null;n.g=null,n.C=null,e||bi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function qy(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Al(n){return n.g?n.g.readyState:0}function Wy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Hy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Zy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Gw(n){let e="";return uy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dr(n,e,t))}function $f(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ky(n){this.za=0,this.l=[],this.h=new Pf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$f("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$f("baseRetryDelayMs",5e3,n),this.$a=$f("retryDelaySeedMs",1e4,n),this.Ya=$f("forwardChannelMaxRetries",2,n),this.ra=$f("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rh(n&&n.concurrentRequestLimit),this.Ca=new mo,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Yy(n){if(zw(n),3==n.G){var e=n.V++,t=Dl(n.F);dr(t,"SID",n.J),dr(t,"RID",e),dr(t,"TYPE","terminate"),$c(n,t),(e=new Lf(n,n.h,e,void 0)).K=2,e.v=Ly(Dl(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=Jw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),eh(e)}Qw(n)}function Gf(n){n.g&&(Zw(n),n.g.cancel(),n.g=null)}function zw(n){Gf(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),zf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function Qy(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Jy(n)}function Jy(n){Bw(n.i)||n.m||(n.m=!0,by(n.Ha,n),n.C=0)}function fm(n,e){var t;t=e?e.m:n.V++;const r=Dl(n.F);dr(r,"SID",n.J),dr(r,"RID",t),dr(r,"AID",n.U),$c(n,r),n.o&&n.s&&Zy(r,n.o,n.s),t=new Lf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),jc(n.i,t),Oy(t,r,e)}function $c(n,e){n.j&&xw({},function(t,r){dr(e,r,t)})}function qw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Vi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let b=i[m].h;const T=i[m].g;if(b-=a,0>b)a=Math.max(0,i[m].h-100),f=!1;else try{jy(T,c,"req"+b+"_")}catch(A){r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function dT(n){n.g||n.u||(n.Y=1,by(n.Ga,n),n.A=0)}function Ww(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xd(Vi(n.Ga,n),Yw(n,n.A)),n.A++,0))}function Zw(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Kw(n){n.g=new Lf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Dl(n.oa);dr(e,"RID","rpc"),dr(e,"SID",n.J),dr(e,"CI",n.N?"0":"1"),dr(e,"AID",n.U),$c(n,e),dr(e,"TYPE","xmlhttp"),n.o&&n.s&&Zy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ly(Dl(e)),t.s=null,t.U=!0,Yo(t,n)}function zf(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function hT(n,e){var t=null;if(n.g==e){zf(n),Zw(n),n.g=null;var r=2}else{if(!go(n.i,e))return;t=e.D,wi(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;bi(r=Qd(),new rm(r,t,e,i)),Jy(n)}else dT(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function cT(n,e){return!(dm(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xd(Vi(n.Ha,n,e),Yw(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ww(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:_o(n,5);break;case 4:_o(n,10);break;case 3:_o(n,6);break;default:_o(n,2)}}function Yw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function _o(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Vi(n.jb,n);t||(t=new Cl("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||Bf(t,"https"),Ly(t)),function sh(n,e){const t=new Pf;if(Ft.Image){const r=new Image;r.onload=ny(Il,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ny(Il,t,r,"TestLoadImage: error",!1,e),r.onabort=ny(Il,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ny(Il,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ts(2);n.G=0,n.j&&n.j.va(e),Qw(n),zw(n)}function Qw(n){n.G=0,n.I=-1,n.j&&((0!=Du(n.i).length||0!=n.l.length)&&(n.i.i.length=0,If(n.l),n.l.length=0),n.j.ua())}function Xy(n,e,t){let r=function Pw(n){return n instanceof Cl?Dl(n):new Cl(n,void 0)}(t);if(""!=r.i)e&&Uf(r,e+"."+r.i),Fy(r,r.m);else{const i=Ft.location;r=function kw(n,e,t,r){var i=new Cl(null,void 0);return n&&Bf(i,n),e&&Uf(i,e),t&&Fy(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&uy(n.aa,function(i,a){dr(r,a,i)}),t=n.sa,(e=n.D)&&t&&dr(r,e,t),dr(r,"VER",n.ma),$c(n,r),r}function Jw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(t&&n.Ba&&!n.qa?new Pa({ib:!0}):n.qa)).L=n.H,e}function ev(){}function Gc(){if(Ko&&!(10<=Number(gw)))throw Error("Environmental error: no available transport.")}function Hs(n,e){kr.call(this),this.g=new Ky(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!zg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ah(this)}function tv(n){sm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Xw(){Eu.call(this),this.status=1}function ah(n){this.g=n}(ft=Nr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():om.g(),this.C=function im(n){return n.h||(n.h=n.i())}(this.u?this.u:om),this.g.onreadystatechange=Vi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void $y(this,a)}n=t||"";const i=new Bc(this.headers);r&&xw(r,function(a,c){i.set(c,a)}),r=function sy(n){e:{var e=$w;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ft.FormData&&n instanceof Ft.FormData,!(0<=uw(jw,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qy(this),0<this.B&&((this.K=function Hw(n){return Ko&&function fw(){return function Zd(n){var e=QA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=El(String(Nf)).split("."),t=El("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=ay(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||ay(0==i[2].length,0==a[2].length)||ay(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vi(this.pa,this)):this.A=Cy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){$y(this,a)}},ft.pa=function(){void 0!==Hg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bi(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bi(this,"complete"),bi(this,"abort"),hm(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hm(this,!0)),Nr.Z.M.call(this)},ft.Fa=function(){this.s||(this.F||this.v||this.l?zy(this):this.cb())},ft.cb=function(){zy(this)},ft.ba=function(){try{return 2<Al(this)?this.g.status:-1}catch(n){return-1}},ft.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ft.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oh(e)}},ft.Da=function(){return this.m},ft.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=Ky.prototype).ma=8,ft.G=1,ft.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ft.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Lf(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=dw(a),Pc(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qw(this,i,e),dr(t=Dl(this.F),"RID",n),dr(t,"CVER",22),this.D&&dr(t,"X-HTTP-Session-Id",this.D),$c(this,t),this.o&&a&&Zy(t,this.o,a),jc(this.i,i),this.Ra&&dr(t,"TYPE","init"),this.ja?(dr(t,"$req",e),dr(t,"SID","null"),i.$=!0,Oy(i,t,null)):Oy(i,t,e),this.G=2}}else 3==this.G&&(n?fm(this,n):0==this.l.length||Bw(this.i)||fm(this))},ft.Ga=function(){if(this.u=null,Kw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xd(Vi(this.bb,this),n)}},ft.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ts(10),Gf(this),Kw(this))},ft.ab=function(){null!=this.v&&(this.v=null,Gf(this),Ww(this),ts(19))},ft.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ts(2)):(this.h.info("Failed to ping google.com"),ts(1))},(ft=ev.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Oa=function(){},Gc.prototype.g=function(n,e){return new Hs(n,e)},Bi(Hs,kr),Hs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),by(Vi(n.hb,n,e))),ts(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Xy(n,null,n.W),Jy(n)},Hs.prototype.close=function(){Yy(this.g)},Hs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Qy(this.g,e)}else this.v?((e={}).__data__=Ew(n),Qy(this.g,e)):Qy(this.g,n)},Hs.prototype.M=function(){this.g.j=null,delete this.j,Yy(this.g),delete this.g,Hs.Z.M.call(this)},Bi(tv,sm),Bi(Xw,Eu),Bi(ah,ev),ah.prototype.xa=function(){bi(this.g,"a")},ah.prototype.wa=function(n){bi(this.g,new tv(n))},ah.prototype.va=function(n){bi(this.g,new Xw(n))},ah.prototype.ua=function(){bi(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,Hs.prototype.send=Hs.prototype.u,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,Ay.COMPLETE="complete",Mw.EventType=Ff,Ff.OPEN="a",Ff.CLOSE="b",Ff.ERROR="c",Ff.MESSAGE="d",kr.prototype.listen=kr.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var fT=wl.createWebChannelTransport=function(){return new Gc},pT=wl.getStatEventTarget=function(){return Qd()},nv=wl.ErrorCode=kf,e1=wl.EventType=Ay,gT=wl.Event=kc,rv=wl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},t1=wl.FetchXmlHttpFactory=Pa,lh=wl.WebChannel=Mw,nN=wl.XhrIo=Nr;const pm="@firebase/firestore";class Ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");let qf="9.6.11";const yo=new bu.Yd("@firebase/firestore");function gm(){return yo.logLevel}function Fe(n,...e){if(yo.logLevel<=bu.in.DEBUG){const t=e.map(uh);yo.debug(`Firestore (${qf}): ${n}`,...t)}}function Fr(n,...e){if(yo.logLevel<=bu.in.ERROR){const t=e.map(uh);yo.error(`Firestore (${qf}): ${n}`,...t)}}function Iu(n,...e){if(yo.logLevel<=bu.in.WARN){const t=e.map(uh);yo.warn(`Firestore (${qf}): ${n}`,...t)}}function uh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${qf}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Lt(n,e){n||dt()}function et(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ei.UNAUTHENTICATED))}shutdown(){}}class r1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sv{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,Ce.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},m=b=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>m(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?m(b):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new mm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new Ei(e)}}class i1{constructor(e,t,r){this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class _T{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new i1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.p=t.token,new ov(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function yT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}vs.A=-1;class av{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function zt(n,e){return n<e?-1:n>e?1:0}function Su(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Wf(n){return n+"\0"}class Er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Er(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Er(0,0))}static max(){return new Nt(new Er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function lv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Au(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ch{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ch.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ch?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends ch{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const a1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends ch{construct(e,t,r){return new Ci(e,t,r)}static isValidIdentifier(e){return a1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new xe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new xe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new xe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new xe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(t)}static emptyPath(){return new Ci([])}}class dh{constructor(e){this.fields=e,e.sort(Ci.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Lr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const bT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=bT.exec(n);if(Lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zc(n){return"string"==typeof n?Lr.fromBase64String(n):Lr.fromUint8Array(n)}function cv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dv(n){const e=n.mapValue.fields.__previous_value__;return cv(e)?dv(e):e}function Zf(n){const e=Hn(n.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}class l1{constructor(e,t,r,i,a,c,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class La{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}function vo(n){return null==n}function Kf(n){return 0===n&&1/n==-1/0}function u1(n){return"number"==typeof n&&Number.isInteger(n)&&!Kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(ln.fromString(e))}static fromName(e){return new Ze(ln.fromString(e).popFirst(5))}static empty(){return new Ze(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new ln(e.slice()))}}const c1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hv={nullValue:"NULL_VALUE"};function hh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cv(n)?4:f1(n)?9:10:dt()}function bo(n,e){if(n===e)return!0;const t=hh(n);if(t!==hh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zf(n).isEqual(Zf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Hn(r.timestampValue),c=Hn(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,zc(n.bytesValue).isEqual(zc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return hr(r.geoPointValue.latitude)===hr(i.geoPointValue.latitude)&&hr(r.geoPointValue.longitude)===hr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return hr(r.integerValue)===hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=hr(r.doubleValue),c=hr(i.doubleValue);return a===c?Kf(a)===Kf(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Su(n.arrayValue.values||[],e.arrayValue.values||[],bo);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(lv(a)!==lv(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!bo(a[f],c[f])))return!1;return!0}(n,e);default:return dt()}var i}function qc(n,e){return void 0!==(n.values||[]).find(t=>bo(t,e))}function Di(n,e){if(n===e)return 0;const t=hh(n),r=hh(e);if(t!==r)return zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=hr(i.integerValue||i.doubleValue),f=hr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return d1(n.timestampValue,e.timestampValue);case 4:return d1(Zf(n),Zf(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=zc(i),f=zc(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let m=0;m<c.length&&m<f.length;m++){const b=zt(c[m],f[m]);if(0!==b)return b}return zt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=zt(hr(i.latitude),hr(a.latitude));return 0!==c?c:zt(hr(i.longitude),hr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let m=0;m<c.length&&m<f.length;++m){const b=Di(c[m],f[m]);if(b)return b}return zt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},f=Object.keys(c),m=a.fields||{},b=Object.keys(m);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const A=zt(f[T],b[T]);if(0!==A)return A;const x=Di(c[f[T]],m[b[T]]);if(0!==x)return x}return zt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw dt()}}function d1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Hn(n),r=Hn(e),i=zt(t.seconds,r.seconds);return 0!==i?i:zt(t.nanos,r.nanos)}function Wc(n){return wo(n)}function wo(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hn(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zc(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=wo(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${wo(r.fields[f])}`;return a+"}"}(n.mapValue):dt();var e}function Ti(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $s(n){return!!n&&"integerValue"in n}function fh(n){return!!n&&"arrayValue"in n}function fv(n){return!!n&&"nullValue"in n}function h1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _m(n){return!!n&&"mapValue"in n}function Yf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Au(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function pv(n){return"nullValue"in n?hv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ti(La.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function Qf(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ti(La.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?c1:dt()}function p1(n,e){return void 0===n?e:void 0===e||Di(n,e)>0?n:e}function gv(n,e){return void 0===n?e:void 0===e||Di(n,e)<0?n:e}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yf(t)}setAll(e){let t=Ci.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Yf(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());_m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Au(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Hi(Yf(this.value))}}function mv(n){const e=[];return Au(n.fields,(t,r)=>{const i=new Ci([t]);if(_m(r)){const a=mv(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new dh(e)}class $n{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new $n(e,0,Nt.min(),Nt.min(),Hi.empty(),0)}static newFoundDocument(e,t,r){return new $n(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new $n(e,2,t,Nt.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,Nt.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function _v(n){return n.fields.find(e=>2===e.kind)}function Nu(n){return n.fields.filter(e=>2!==e.kind)}Zc.UNKNOWN_ID=-1;class Jf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Kc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Kc(0,Va.min())}}function Xf(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new Er(t+1,0):new Er(t,r));return new Va(i,Ze.empty(),e)}function g1(n){return new Va(n.readTime,n.key,-1)}class Va{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Va(Nt.min(),Ze.empty(),-1)}static max(){return new Va(Nt.max(),Ze.empty(),-1)}}function m1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}class _1{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.P=null}}function yv(n,e=null,t=[],r=[],i=null,a=null,c=null){return new _1(n,e,t,r,i,a,c)}function Mu(n){const e=et(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Wc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wc(r)).join(",")),e.P=t}return e.P}function ph(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!AT(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!bo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C1(n.startAt,e.startAt)&&C1(n.endAt,e.endAt)}function ym(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vm(n,e){return n.filters.filter(t=>t instanceof Ii&&t.field.isEqual(e))}function v1(n,e,t){let r,i=!0;for(const a of vm(n,e)){let c,f=!0;switch(a.op){case"<":case"<=":c=pv(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=hv}p1(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];p1(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function b1(n,e,t){let r,i=!0;for(const a of vm(n,e)){let c,f=!0;switch(a.op){case">=":case">":c=Qf(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=c1}gv(r,c)===c&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];gv(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new wT(e,t,r):"array-contains"===t?new DT(e,r):"in"===t?new TT(e,r):"not-in"===t?new IT(e,r):"array-contains-any"===t?new ST(e,r):new Ii(e,t,r)}static V(e,t,r){return"in"===t?new ET(e,r):new CT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Di(t,this.value)):null!==t&&hh(this.value)===hh(t)&&this.v(Di(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wT extends Ii{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.v(t)}}class ET extends Ii{constructor(e,t){super(e,"in",t),this.keys=w1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CT extends Ii{constructor(e,t){super(e,"not-in",t),this.keys=w1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function w1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class DT extends Ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fh(t)&&qc(t.arrayValue,this.value)}}class TT extends Ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qc(this.value.arrayValue,t)}}class IT extends Ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qc(this.value.arrayValue,t)}}class ST extends Ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}}class Ou{constructor(e,t){this.position=e,this.inclusive=t}}class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function AT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function E1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Ze.comparator(Ze.fromName(c.referenceValue),t.key):Di(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function C1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bo(n.position[t],e.position[t]))return!1;return!0}class Ba{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.D=null,this.C=null}}function vv(n,e,t,r,i,a,c,f){return new Ba(n,e,t,r,i,a,c,f)}function Yc(n){return new Ba(n)}function ep(n){return!vo(n.limit)&&"F"===n.limitType}function tp(n){return!vo(n.limit)&&"L"===n.limitType}function bm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Em(n){return null!==n.collectionGroup}function Qc(n){const e=et(n);if(null===e.D){e.D=[];const t=wm(e),r=bm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new gh(t)),e.D.push(new gh(Ci.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new gh(Ci.keyField(),a))}}}return e.D}function bs(n){const e=et(n);if(!e.C)if("F"===e.limitType)e.C=yv(e.path,e.collectionGroup,Qc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Qc(e))t.push(new gh(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Ou(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Ou(e.startAt.position,!e.startAt.inclusive):null;e.C=yv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function bv(n,e,t){return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qo(n,e){return ph(bs(n),bs(e))&&n.limitType===e.limitType}function D1(n){return`${Mu(bs(n))}|lt:${n.limitType}`}function wv(n){return`Query(target=${function y1(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Wc(r.value)}`;var r}).join(", ")}]`),vo(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Wc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Wc(t)).join(",")),`Target(${e})`}(bs(n))}; limitType=${n.limitType})`}function Ru(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=E1(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Qc(t),r)||t.endAt&&!function(i,a,c){const f=E1(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Qc(t),r)));var t,r}function NT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Cm(n){return(e,t)=>{let r=!1;for(const i of Qc(n)){const a=rN(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function rN(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),m=c.data.field(i);return null!==f&&null!==m?Di(f,m):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function Ev(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function Cv(n){return{integerValue:""+n}}function MT(n,e){return u1(e)?Cv(e):Ev(n,e)}class Tt{constructor(){this._=void 0}}function OT(n,e,t){return n instanceof Nl?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Jc?np(n,e):n instanceof Ua?fr(n,e):function(r,i){const a=T1(r,i),c=Dv(a)+Dv(r.k);return $s(a)&&$s(r.k)?Cv(c):Ev(r.M,c)}(n,e)}function RT(n,e,t){return n instanceof Jc?np(n,e):n instanceof Ua?fr(n,e):t}function T1(n,e){return n instanceof rp?$s(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Nl extends Tt{}class Jc extends Tt{constructor(e){super(),this.elements=e}}function np(n,e){const t=I1(e);for(const r of n.elements)t.some(i=>bo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ua extends Tt{constructor(e){super(),this.elements=e}}function fr(n,e){let t=I1(e);for(const r of n.elements)t=t.filter(i=>!bo(i,r));return{arrayValue:{values:t}}}class rp extends Tt{constructor(e,t){super(),this.M=e,this.k=t}}function Dv(n){return hr(n.integerValue||n.doubleValue)}function I1(n){return fh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ip{constructor(e,t){this.field=e,this.transform=t}}class A1{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dm{}function xT(n,e,t){n instanceof ap?function(r,i,a){const c=r.value.clone(),f=Sv(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ja?function(r,i,a){if(!sp(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Sv(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(Iv(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tv(n,e,t){var i;n instanceof ap?function(r,i,a){if(!sp(r.precondition,i))return;const c=r.value.clone(),f=Av(r.fieldTransforms,a,i);c.setAll(f),i.convertToFoundDocument(M1(i),c).setHasLocalMutations()}(n,e,t):n instanceof ja?function(r,i,a){if(!sp(r.precondition,i))return;const c=Av(r.fieldTransforms,a,i),f=i.data;f.setAll(Iv(r)),f.setAll(c),i.convertToFoundDocument(M1(i),f).setHasLocalMutations()}(n,e,t):sp(n.precondition,i=e)&&i.convertToNoDocument(Nt.min())}function op(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=T1(r.transform,i||null);null!=a&&(null==t&&(t=Hi.empty()),t.set(r.field,a))}return t||null}function N1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Su(t,r,(i,a)=>function S1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Jc&&r instanceof Jc||t instanceof Ua&&r instanceof Ua?Su(t.elements,r.elements,bo):t instanceof rp&&r instanceof rp?bo(t.k,r.k):t instanceof Nl&&r instanceof Nl);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function M1(n){return n.isFoundDocument()?n.version:Nt.min()}class ap extends Dm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ja extends Dm{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function Iv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Sv(n,e,t){const r=new Map;Lt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,RT(c,f,t[i]))}return r}function Av(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,OT(a,c,e))}return r}class lp extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Xc extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class up{constructor(e){this.count=e}}var Vr,cn;function O1(n){switch(n){default:return dt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Nv(n){if(void 0===n)return Fr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Vr.OK:return de.OK;case Vr.CANCELLED:return de.CANCELLED;case Vr.UNKNOWN:return de.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return de.INTERNAL;case Vr.UNAVAILABLE:return de.UNAVAILABLE;case Vr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Vr.NOT_FOUND:return de.NOT_FOUND;case Vr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Vr.ABORTED:return de.ABORTED;case Vr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Vr.DATA_LOSS:return de.DATA_LOSS;default:return dt()}}(cn=Vr||(Vr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class Ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Au(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return uv(this.inner)}size(){return this.innerSize}}class Cr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new Cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tm(this.root,e,this.comparator,!0)}}class Tm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:li.RED,this.left=null!=i?i:li.EMPTY,this.right=null!=a?a:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new li(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R1(this.data.getIterator())}getIteratorFrom(e){return new R1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class R1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cp(n){return n.hasNext()?n.getNext():void 0}const iN=new Cr(Ze.comparator);function Jo(){return iN}const sN=new Cr(Ze.comparator);function Im(){return sN}function xu(){return new Ml(n=>n.toString(),(n,e)=>n.isEqual(e))}const PT=new Cr(Ze.comparator),kT=new Jn(Ze.comparator);function Cn(...n){let e=kT;for(const t of n)e=e.add(t);return e}const dp=new Jn(zt);function Sm(){return dp}class hp{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,fp.createSynthesizedTargetChangeForCurrentChange(e,t)),new hp(Nt.min(),r,Sm(),Jo(),Cn())}}class fp{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new fp(Lr.EMPTY_BYTE_STRING,t,Cn(),Cn(),Cn())}}class Am{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class x1{constructor(e,t){this.targetId=e,this.$=t}}class Mv{constructor(e,t,r=Lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class P1{constructor(){this.B=0,this.L=k1(),this.U=Lr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Cn(),t=Cn(),r=Cn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new fp(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=k1()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class FT{constructor(e){this.nt=e,this.st=new Map,this.it=Jo(),this.rt=ed(),this.ot=new Jn(zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(ym(a))if(0===r){const c=new Ze(a.path);this.ct(t,c,$n.newNoDocument(c,Nt.min()))}else Lt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const f=this.wt(c);if(f){if(a.current&&ym(f.target)){const m=new Ze(f.target.path);null!==this.it.get(m)||this.It(c,m)||this.ct(c,m,$n.newNoDocument(m,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=Cn();this.rt.forEach((a,c)=>{let f=!0;c.forEachWhile(m=>{const b=this.wt(m);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new hp(e,t,this.ot,this.it,r);return this.it=Jo(),this.rt=ed(),this.ot=new Jn(zt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new P1,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Jn(zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new P1),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ed(){return new Cr(Ze.comparator)}function k1(){return new Cr(Ze.comparator)}const F1={asc:"ASCENDING",desc:"DESCENDING"},LT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class L1{constructor(e,t){this.databaseId=e,this.N=t}}function pp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ov(n,e){return n.N?e.toBase64():e.toUint8Array()}function VT(n,e){return pp(n,e.toTimestamp())}function Br(n){return Lt(!!n),Nt.fromTimestamp(function(e){const t=Hn(e);return new Er(t.seconds,t.nanos)}(n))}function Rv(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xv(n){const e=ln.fromString(n);return Lt(Hv(e)),e}function mh(n,e){return Rv(n.databaseId,e.path)}function Ha(n,e){const t=xv(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(B1(t))}function Pv(n,e){return Rv(n.databaseId,e)}function V1(n){const e=xv(n);return 4===e.length?ln.emptyPath():B1(e)}function td(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B1(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kv(n,e,t){return{name:mh(n,e),fields:t.value.mapValue.fields}}function U1(n,e,t){const r=Ha(n,e.name),i=Br(e.updateTime),a=new Hi({mapValue:{fields:e.fields}}),c=$n.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function gp(n,e){let t;if(e instanceof ap)t={update:kv(n,e.key,e.value)};else if(e instanceof lp)t={delete:mh(n,e.key)};else if(e instanceof ja)t={update:kv(n,e.key,e.data),updateMask:jv(e.fieldMask)};else{if(!(e instanceof Xc))return dt();t={verify:mh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Nl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ua)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rp)return{fieldPath:a.field.canonicalString(),increment:c.k};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:VT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function Fv(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Mr.updateTime(Br(i.updateTime)):void 0!==i.exists?Mr.exists(i.exists):Mr.none():Mr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Lt("REQUEST_TIME"===c.setToServerValue),f=new Nl):"appendMissingElements"in c?f=new Jc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Ua(c.removeAllFromArray.values||[]):"increment"in c?f=new rp(a,c.increment):dt();const m=Ci.fromServerFormat(c.fieldPath);return new ip(m,f)}(n,i)):[];var i;if(e.update){const i=Ha(n,e.update.name),a=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new dh((e.updateMask.fieldPaths||[]).map(b=>Ci.fromServerFormat(b)));return new ja(i,a,c,t,r)}return new ap(i,a,t,r)}if(e.delete){const i=Ha(n,e.delete);return new lp(i,t)}if(e.verify){const i=Ha(n,e.verify);return new Xc(i,t)}return dt()}function j1(n,e){return{documents:[Pv(n,e.path)]}}function H1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Pv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const b=m.map(T=>function(A){if("=="===A.op){if(h1(A.value))return{unaryFilter:{field:nd(A.field),op:"IS_NAN"}};if(fv(A.value))return{unaryFilter:{field:nd(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(h1(A.value))return{unaryFilter:{field:nd(A.field),op:"IS_NOT_NAN"}};if(fv(A.value))return{unaryFilter:{field:nd(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(A.field),op:Bv(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(b=>{return{field:nd((T=b).field),direction:HT(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(b=e.limit,n.N||vo(b)?b:{value:b});var b,f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function Lv(n){let e=V1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Lt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=Vv(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new gh(_h((A=T).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,vo(A)?null:A}(t.limit));let m=null;var T;t.startAt&&(m=new Ou((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new Ou(T.values||[],!T.before)}(t.endAt)),vv(e,i,c,a,f,"F",m,b)}function Vv(n){return n?void 0!==n.unaryFilter?[Uv(n)]:void 0!==n.fieldFilter?[$T(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Vv(e)).reduce((e,t)=>e.concat(t)):dt():[]}function HT(n){return F1[n]}function Bv(n){return LT[n]}function nd(n){return{fieldPath:n.canonicalString()}}function _h(n){return Ci.fromServerFormat(n.fieldPath)}function $T(n){return Ii.create(_h(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Uv(n){switch(n.unaryFilter.op){case"IS_NAN":const e=_h(n.unaryFilter.field);return Ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=_h(n.unaryFilter.field);return Ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_h(n.unaryFilter.field);return Ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_h(n.unaryFilter.field);return Ii.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function jv(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Hv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Si(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=G1(e)),e=GT(n.get(t),e);return G1(e)}function GT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function G1(n){return n+"\x01\x01"}function Eo(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&dt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:dt()}a=c+2}return new ln(r)}const z1=["userId","batchId"];function mp(n,e){return[n,Si(e)]}function q1(n,e,t){return[n,Si(e),t]}const W1={},zT=["prefixPath","collectionGroup","readTime","documentId"],Z1=["prefixPath","collectionGroup","documentId"],oN=["collectionGroup","readTime","prefixPath","documentId"],qT=["canonicalId","targetId"],Nm=["targetId","path"],WT=["path","targetId"],yh=["collectionId","parent"],_p=["indexId","uid"],ZT=["uid","sequenceNumber"],aN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],K1=["indexId","uid","orderedDocumentKey"],KT=["userId","collectionPath","documentId"],YT=["userId","collectionPath","largestBatchId"],QT=["userId","collectionGroup","largestBatchId"],Y1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q1=[...Y1,"documentOverlays"],$v=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gv=[...$v,"indexConfiguration","indexState","indexEntries"],yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class vp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Wr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new bp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=zv(r.target.error);this.At.reject(new bp(e,i))}}static open(e,t,r,i){try{return new vp(t,e.transaction(i,r))}catch(a){throw new bp(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new XT(t)}}class Co{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Co.Vt((0,Jt.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),bh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Jt.hl)())return!1;if(Co.St())return!0;const e=(0,Jt.z$)(),t=Co.Vt(e),r=0<t&&t<10,i=Co.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new bp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new xe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new xe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new bp(e,f))},a.onupgradeneeded=c=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ce.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const m=vp.open(a.db,e,c?"readonly":"readwrite",r),b=i(m).next(T=>(m.Pt(),T)).catch(T=>(m.abort(T),me.reject(T))).toPromise();return b.catch(()=>{}),yield m.Rt,b}catch(m){const b="FirebaseError"!==m.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),a.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class JT{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return bh(this.Ft.delete())}}class bp extends xe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ol(n){return"IndexedDbTransactionError"===n.name}class XT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),bh(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),bh(this.store.add(e))}get(e){return bh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),bh(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),bh(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new me((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=a=>{const c=zv(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new me((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const m=new JT(f),b=t(f.primaryKey,f.value,m);if(b instanceof me){const T=b.catch(A=>(m.done(),me.reject(A)));r.push(T)}m.isDone?i():null===m.Lt?f.continue():f.continue(m.Lt)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bh(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=zv(r.target.error);t(i)}})}let J1=!1;function zv(n){const e=Co.Vt((0,Jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return J1||(J1=!0,setTimeout(()=>{throw r},0)),r}}return n}class rd extends vh{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Zr(n,e){const t=et(n);return Co.xt(t.Ht,e)}class Pu{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xT(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Tv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Tv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(t,r)=>N1(t,r))&&Su(this.baseMutations,e.baseMutations,(t,r)=>N1(t,r))}}class X1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Lt(e.mutations.length===r.length);let i=PT;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new X1(e,t,r,i)}}class Mm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ku{constructor(e,t,r,i,a=Nt.min(),c=Nt.min(),f=Lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class eI{constructor(e){this.Jt=e}}function tI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:mh(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:pp(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}var i,a;return r}function wp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function id(n){const e=new Er(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function sd(n,e){const t=(e.baseMutations||[]).map(a=>Fv(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Fv(n.Jt,a)),i=Er.fromMillis(e.localWriteTimeMs);return new Pu(e.batchId,i,t,r)}function wh(n){const e=id(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?id(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Lt(1===(i=n.query).documents.length),r=bs(Yc(V1(i.documents[0])))):r=bs(Lv(n.query)),new ku(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Lr.fromBase64String(n.resumeToken))}function qv(n,e){const t=Rl(e.snapshotVersion),r=Rl(e.lastLimboFreeSnapshotVersion);let i;i=ym(e.target)?j1(n.Jt,e.target):H1(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mu(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Wv(n){const e=Lv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bv(e,e.limit,"L"):e}function Zv(n,e){return new Mm(e.largestBatchId,Fv(n.Jt,e.overlayMutation))}function tE(n,e){const t=e.path.lastSegment();return[n,Si(e.path.popLast()),t]}class nI{getBundleMetadata(e,t){return nE(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:id(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return nE(e).put({bundleId:(r=t).id,createTime:Rl(Br(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return rE(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Wv(i.bundledQuery),readTime:id(i.readTime)};var i})}saveNamedQuery(e,t){return rE(e).put({name:(r=t).name,readTime:Rl(Br(r.readTime)),bundledQuery:r.bundledQuery});var r}}function nE(n){return Zr(n,"bundles")}function rE(n){return Zr(n,"namedQueries")}class od{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new od(e,t.uid||"")}getOverlay(e,t){return Eh(e).get(tE(this.userId,t)).next(r=>r?Zv(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new Mm(t,c);i.push(this.Xt(e,f))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Si(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Eh(e).Qt("collectionPathOverlayIndex",f))}),me.waitFor(a)}getOverlaysForCollection(e,t,r){const i=xu(),a=Si(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Eh(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const m of f){const b=Zv(this.M,m);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=xu();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eh(e).Wt({index:"collectionGroupOverlayIndex",range:f},(m,b,T)=>{const A=Zv(this.M,b);a.size()<i||A.largestBatchId===c?(a.set(A.getKey(),A),c=A.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return Eh(e).put(function(r,i,a){const[c,f,m]=tE(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:gp(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Eh(n){return Zr(n,"documentOverlays")}class Fu{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(hr(e.integerValue));else if("doubleValue"in e){const r=hr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Kf(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(zc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?f1(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ze.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function iE(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Kv(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=iE(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Fu.fe=new Fu;class sE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=Kv(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=Kv(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class oE{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class rI{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ch{constructor(){this.De=new sE,this.Ce=new oE(this.De),this.xe=new rI(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Lu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Lu(this.indexId,this.documentKey,this.arrayValue,r)}}function ad(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=aE(n.arrayValue,e.arrayValue),0!==t?t:(t=aE(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function aE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class iI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=_v(e);if(void 0!==t&&!this.Be(t))return!1;const r=Nu(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ep{constructor(){this.qe=new Yv}addToCollectionParentIndex(e,t){return this.qe.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getFieldIndex(e,t){return me.resolve(null)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class Yv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jn(ln.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(ln.comparator)).toArray()}}const Vu=new Uint8Array(0);class $a{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Yv,this.Ge=new Ml(r=>Mu(r),(r,i)=>ph(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Si(i)};return lE(e).put(a)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Wf(t),""],!1,!0);return lE(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Eo(c.parent))}return r})}addFieldIndex(e,t){const r=Bu(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Bu(e),i=Om(e),a=ld(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ld(e);let i=!0;const a=new Map;return me.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Cn();const f=[];return me.forEach(a,(m,b)=>{var T;Fe("IndexedDbIndexManager",`Using index ${T=m,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Qe=>`${Qe.fieldPath}:${Qe.kind}`).join(",")}`} to execute ${Mu(t)}`);const A=function(Qe,Be){const nt=_v(Be);if(void 0===nt)return null;for(const at of vm(Qe,nt.fieldPath))switch(at.op){case"array-contains-any":return at.value.arrayValue.values||[];case"array-contains":return[at.value]}return null}(b,m),x=function(Qe,Be){const nt=new Map;for(const at of Nu(Be))for(const vt of vm(Qe,at.fieldPath))switch(vt.op){case"==":case"in":nt.set(at.fieldPath.canonicalString(),vt.value);break;case"not-in":case"!=":return nt.set(at.fieldPath.canonicalString(),vt.value),Array.from(nt.values())}return null}(b,m),B=function(Qe,Be){const nt=[];let at=!0;for(const vt of Nu(Be)){const Vt=0===vt.kind?v1(Qe,vt.fieldPath,Qe.startAt):b1(Qe,vt.fieldPath,Qe.startAt);if(!Vt.value)return null;nt.push(Vt.value),at&&(at=Vt.inclusive)}return new Ou(nt,at)}(b,m),G=function(Qe,Be){const nt=[];let at=!0;for(const vt of Nu(Be)){const Vt=0===vt.kind?b1(Qe,vt.fieldPath,Qe.endAt):v1(Qe,vt.fieldPath,Qe.endAt);if(!Vt.value)return null;nt.push(Vt.value),at&&(at=Vt.inclusive)}return new Ou(nt,at)}(b,m),Y=this.je(m,b,B),ye=this.je(m,b,G),He=this.We(m,b,x),ke=this.ze(m.indexId,A,Y,!!B&&B.inclusive,ye,!!G&&G.inclusive,He);return me.forEach(ke,Qe=>r.Gt(Qe,t.limit).next(Be=>{Be.forEach(nt=>{const at=Ze.fromSegments(nt.documentKey);c.has(at)||(c=c.add(at),f.push(at))})}))}).next(()=>f)}return me.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,c,f){const m=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),b=m/(null!=t?t.length:1),T=[];for(let A=0;A<m;++A){const x=t?this.He(t[A/b]):Vu,B=r?this.Je(e,x,r[A%b],i):this.Ye(e),G=a?this.Xe(e,x,a[A%b],c):this.Ye(e+1);T.push(...this.createRange(B,G,f.map(Y=>this.Je(e,x,Y,!0))))}return T}Je(e,t,r,i){const a=new Lu(e,Ze.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Lu(e,Ze.empty(),t,r);return i?a.ke():a}Ye(e){return new Lu(e,Ze.empty(),Vu,Vu)}getFieldIndex(e,t){const r=new iI(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const c=a.filter(f=>r.$e(f));return c.sort((f,m)=>m.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new Ch;for(const i of Nu(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);Fu.fe.Zt(a,c)}return r.Se()}He(e){const t=new Ch;return Fu.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Ch;return Fu.fe.Zt(Ti(this.databaseId,t),r.Ne(function(i){const a=Nu(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new Ch);let a=0;for(const c of Nu(e)){const f=r[a++];for(const m of i)if(this.en(t,c.fieldPath)&&fh(f))i=this.nn(i,c,f);else{const b=m.Ne(c.kind);Fu.fe.Zt(f,b)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const m=new Ch;m.seed(f.Se()),Fu.fe.Zt(c,m.Ne(t.kind)),a.push(m)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Ii&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Bu(e),i=Om(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return me.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{c.push(function(b,T){const A=T?new Kc(T.sequenceNumber,new Va(id(T.readTime),new Ze(Eo(T.documentKey)),T.largestBatchId)):Kc.empty(),x=b.fields.map(([B,G])=>new Jf(Ci.fromServerFormat(B),G));return new Zc(b.indexId,b.collectionGroup,x,A)}(f,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Bu(e),a=Om(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>me.forEach(f,m=>{return a.put({indexId:m.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Rl((x=r).readTime),documentKey:Si(x.documentKey.path),largestBatchId:x.largestBatchId});var x})))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),me.forEach(f,m=>this.on(e,i,m).next(b=>{const T=this.un(a,m);return b.isEqual(T)?me.resolve():this.an(e,a,m,b,T)}))))})}cn(e,t,r,i){return ld(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return ld(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=ld(e);let a=new Jn(ad);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,f)=>{a=a.add(new Lu(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new Jn(ad);const i=this.Ze(t,e);if(null==i)return r;const a=_v(t);if(null!=a){const c=e.data.field(a.fieldPath);if(fh(c))for(const f of c.arrayValue.values||[])r=r.add(new Lu(t.indexId,e.key,this.He(f),i))}else r=r.add(new Lu(t.indexId,e.key,Vu,i));return r}an(e,t,r,i,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,m,b,T,A){const x=f.getIterator(),B=m.getIterator();let G=cp(x),Y=cp(B);for(;G||Y;){let ye=!1,He=!1;if(G&&Y){const ke=b(G,Y);ke<0?He=!0:ke>0&&(ye=!0)}else null!=G?He=!0:ye=!0;ye?(T(Y),Y=cp(B)):He?(A(G),G=cp(x)):(G=cp(x),Y=cp(B))}}(i,a,ad,f=>{c.push(this.cn(e,t,r,f))},f=>{c.push(this.hn(e,t,r,f))}),me.waitFor(c)}rn(e){let t=1;return Om(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>ad(c,f)).filter((c,f,m)=>!f||0!==ad(c,m[f-1]));const i=[];i.push(e);for(const c of r){const f=ad(c,e),m=ad(c,t);if(0===f)i[0]=e.ke();else if(f>0&&m<0)i.push(c),i.push(c.ke());else if(m>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Vu,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Vu,[]]));return a}}function lE(n){return Zr(n,"collectionParents")}function ld(n){return Zr(n,"indexEntries")}function Bu(n){return Zr(n,"indexConfiguration")}function Om(n){return Zr(n,"indexState")}const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cp(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=r.Wt({range:c},(T,A,x)=>(f++,x.delete()));a.push(m.next(()=>{Lt(1===f)}));const b=[];for(const T of t.mutations){const A=q1(e,T.key.path,t.batchId);a.push(i.delete(A)),b.push(T.key)}return me.waitFor(a).next(()=>b)}function ud(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class Qv{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Lt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Qv(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=cd(e),c=xl(e);return c.add({}).next(f=>{Lt("number"==typeof f);const m=new Pu(f,t,r,i),b=function(x,B,G){const Y=G.baseMutations.map(He=>gp(x.Jt,He)),ye=G.mutations.map(He=>gp(x.Jt,He));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:Y,mutations:ye}}(this.M,this.userId,m),T=[];let A=new Jn((x,B)=>zt(x.canonicalString(),B.canonicalString()));for(const x of i){const B=q1(this.userId,x.key.path,f);A=A.add(x.key.path.popLast()),T.push(c.put(b)),T.push(a.put(B,W1))}return A.forEach(x=>{T.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.ln[f]=m.keys()}),me.waitFor(T).next(()=>m)})}lookupMutationBatch(e,t){return xl(e).get(t).next(r=>r?(Lt(r.userId===this.userId),sd(this.M,r)):null)}fn(e,t){return this.ln[t]?me.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xl(e).Wt({index:"userMutationsIndex",range:i},(c,f,m)=>{f.userId===this.userId&&(Lt(f.batchId>=r),a=sd(this.M,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).qt("userMutationsIndex",t).next(r=>r.map(i=>sd(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=mp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return cd(e).Wt({range:i},(c,f,m)=>{const[b,T,A]=c,x=Eo(T);if(b===this.userId&&t.path.isEqual(x))return xl(e).get(A).next(B=>{if(!B)throw dt();Lt(B.userId===this.userId),a.push(sd(this.M,B))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(zt);const i=[];return t.forEach(a=>{const c=mp(this.userId,a.path),f=IDBKeyRange.lowerBound(c),m=cd(e).Wt({range:f},(b,T,A)=>{const[x,B,G]=b,Y=Eo(B);x===this.userId&&a.path.isEqual(Y)?r=r.add(G):A.done()});i.push(m)}),me.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=mp(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new Jn(zt);return cd(e).Wt({range:c},(m,b,T)=>{const[A,x,B]=m,G=Eo(x);A===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(B)):T.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xl(e).get(a).next(c=>{if(null===c)throw dt();Lt(c.userId===this.userId),r.push(sd(this.M,c))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Cp(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return cd(e).Wt({range:r},(a,c,f)=>{if(a[0]===this.userId){const m=Eo(a[1]);i.push(m)}else f.done()}).next(()=>{Lt(0===i.length)})})}containsKey(e,t){return cE(e,this.userId,t)}wn(e){return Rm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cE(n,e,t){const r=mp(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return cd(n).Wt({range:a,jt:!0},(f,m,b)=>{const[T,A,x]=f;T===e&&A===i&&(c=!0),b.done()}).next(()=>c)}function xl(n){return Zr(n,"mutations")}function cd(n){return Zr(n,"documentMutations")}function Rm(n){return Zr(n,"mutationQueues")}class Uu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Uu(0)}static yn(){return new Uu(-1)}}class sI{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Uu(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Nt.fromTimestamp(new Er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dh(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Lt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Dh(e).Wt((c,f)=>{const m=wh(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>me.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Dh(e).Wt((r,i)=>{const a=wh(i);t(a)})}pn(e){return oI(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}In(e,t){return oI(e).put("targetGlobalKey",t)}Tn(e,t){return Dh(e).put(qv(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Mu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Dh(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,m)=>{const b=wh(f);ph(t,b.target)&&(a=b,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ga(e);return t.forEach(c=>{const f=Si(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ga(e);return me.forEach(t,a=>{const c=Si(a.path);return me.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ga(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ga(e);let a=Cn();return i.Wt({range:r,jt:!0},(c,f,m)=>{const b=Eo(c[1]),T=new Ze(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Si(t.path),i=IDBKeyRange.bound([r],[Wf(r)],!1,!0);let a=0;return Ga(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],m,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return Dh(e).get(t).next(r=>r?wh(r):null)}}function Dh(n){return Zr(n,"targets")}function oI(n){return Zr(n,"targetGlobal")}function Ga(n){return Zr(n,"targetDocuments")}function Pl(n){return xm.apply(this,arguments)}function xm(){return xm=(0,Ce.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==yp)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),xm.apply(this,arguments)}function Pm([n,e],[t,r]){const i=zt(n,t);return 0===i?zt(e,r):i}class Jv{constructor(e){this.An=e,this.buffer=new Jn(Pm),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Pm(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ce.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Ol(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pl(i)}yield t.Sn(e)}))}}class lI{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(vs.A);const r=new Jv(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(uE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,c,f,m,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(b=Date.now(),gm()<=bu.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${A} documents in `+(b-m)+`ms\nTotal Duration: ${b-T}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class uI{constructor(e,t){this.db=e,this.garbageCollector=new lI(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return km(e,r)}removeReference(e,t,r){return km(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return km(e,t)}On(e,t){return function(r,i){let a=!1;return Rm(r).zt(c=>cE(r,c,i).next(f=>(f&&(a=!0),me.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(c,f)=>{if(f<=t){const m=this.On(e,c).next(b=>{if(!b)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Nt.min()),Ga(e).delete([0,Si(c.path)])))});i.push(m)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return km(e,t)}Mn(e,t){const r=Ga(e);let i,a=vs.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:m,sequenceNumber:b})=>{0===c?(a!==vs.A&&t(new Ze(Eo(i)),a),a=b,i=m):a=vs.A}).next(()=>{a!==vs.A&&t(new Ze(Eo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function km(n,e){return Ga(n).put((r=n.currentSequenceNumber,{targetId:0,path:Si(e.path),sequenceNumber:r}));var r}class Xv{constructor(){this.changes=new Ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e0{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ju(e).put(r)}removeEntry(e,t,r){return ju(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],wp(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=$n.newInvalidDocument(t);return ju(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Th(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:$n.newInvalidDocument(t)};return ju(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Th(t))},(i,a)=>{r={document:this.$n(t,a),size:ud(a)}}).next(()=>r)}getEntries(e,t){let r=Jo();return this.Ln(e,t,(i,a)=>{const c=this.$n(i,a);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=Jo(),i=new Cr(Ze.comparator);return this.Ln(e,t,(a,c)=>{const f=this.$n(a,c);r=r.insert(a,f),i=i.insert(a,ud(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return me.resolve();let i=new Jn(n0);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(Th(i.first()),Th(i.last())),c=i.getIterator();let f=c.getNext();return ju(e).Wt({index:"documentKeyIndex",range:a},(m,b,T)=>{const A=Ze.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&n0(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?T.Ut(Th(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),wp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ju(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=Jo();for(const m of c){const b=this.$n(Ze.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Jo();const c=hE(t,r),f=hE(t,Va.max());return ju(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(m,b,T)=>{const A=this.$n(Ze.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(A.key,A),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new dE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return t0(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}Fn(e,t){return t0(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function eE(n,e){let t;if(e.document)t=U1(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ze.fromSegments(e.noDocument.path),i=id(e.noDocument.readTime);t=$n.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=Ze.fromSegments(e.unknownDocument.path),i=id(e.unknownDocument.version);t=$n.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Er(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return $n.newInvalidDocument(e)}}class dE extends Xv{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Ml(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Jn((a,c)=>zt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const m=tI(this.Kn.M,c);i=i.add(a.path.popLast()),r+=ud(m)-f.size,t.push(this.Kn.addEntry(e,a,m))}else if(r-=f.size,this.trackRemovals){const m=tI(this.Kn.M,c.convertToNoDocument(Nt.min()));t.push(this.Kn.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function t0(n){return Zr(n,"remoteDocumentGlobal")}function ju(n){return Zr(n,"remoteDocumentsV14")}function Th(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hE(n,e){const t=e.documentKey.path.toArray();return[n,wp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function n0(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=zt(t[a],r[a]),i)return i;return i=zt(t.length,r.length),i||(i=zt(t[t.length-2],r[r.length-2]),i||zt(t[t.length-1],r[r.length-1]))}class fE{constructor(e){this.M=e}kt(e,t,r,i){const a=new vp("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z1,{unique:!0}),f.createObjectStore("documentMutations"),pE(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=me.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),pE(e)),c=c.next(()=>function(f){const m=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,m){return m.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z1,{unique:!0});const T=m.store("mutations"),A=b.map(x=>T.put(x));return me.waitFor(A)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(a))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:KT});m.createIndex("collectionPathOverlayIndex",YT,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",QT,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:zT});m.createIndex("documentKeyIndex",Z1),m.createIndex("collectionGroupIndex",oN)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:_p}).createIndex("sequenceNumberIndex",ZT,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:aN}).createIndex("documentKeyIndex",K1,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=ud(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>me.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>me.forEach(f,m=>{Lt(m.userId===a.userId);const b=sd(this.M,m);return Cp(e,a.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,f)=>{const m=new ln(c),b=[0,Si(m)];a.push(t.get(b).next(T=>T?me.resolve():t.put({targetId:0,path:Si(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:yh});const r=t.store("collectionParents"),i=new Yv,a=c=>{if(i.add(c)){const f=c.lastSegment(),m=c.popLast();return r.put({collectionId:f,parent:Si(m)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const m=new ln(c);return a(m.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,m],b)=>{const T=Eo(f);return a(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=wh(i),c=qv(this.M,a);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const f=t.store("remoteDocumentsV14"),m=(b=c,b.document?new Ze(ln.fromString(b.document.name).popFirst(5)):b.noDocument?Ze.fromSegments(b.noDocument.path):b.unknownDocument?Ze.fromSegments(b.unknownDocument.path):dt()).path.toArray();var b;const T={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(T))}).next(()=>me.waitFor(i))}}function pE(n){n.createObjectStore("targetDocuments",{keyPath:Nm}).createIndex("documentTargetsIndex",WT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qT,{unique:!0}),n.createObjectStore("targetGlobal")}const Fm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lm{constructor(e,t,r,i,a,c,f,m,b,T,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=c,this.document=f,this.Xn=b,this.Zn=T,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=x=>Promise.resolve(),!Lm.vt())throw new xe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uI(this,i),this.hs=t+"main",this.M=new eI(m),this.ls=new Co(this.hs,this.ts,new fE(this.M)),this.fs=new sI(this.referenceDelegate,this.M),this.ds=new e0(this.M),this._s=new nI,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,Fm);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new vs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ce.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Ol(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Kr(e).get("owner").next(t=>me.resolve(this.bs(t)))}Vs(e){return kl(e).delete(this.clientId)}vs(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Zr(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ds(a,18e5),f=a.filter(m=>-1===c.indexOf(m));return me.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?me.resolve(!0):Kr(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,Fm);return!1}}return!(!this.networkEnabled||!this.inForeground)||kl(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new rd(t,vs.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>kl(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Qv.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new $a(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return od.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.ts)?Gv:13===c?$v:12===c?Q1:11===c?Y1:void dt();var c;let f;return this.ls.runTransaction(e,i,a,m=>(f=new rd(m,this.es?this.es.next():vs.A),"readwrite-primary"===t?this.Es(f).next(b=>!!b||this.As(f)).next(b=>{if(!b)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(de.FAILED_PRECONDITION,yp);return r(f)}).next(b=>this.Ps(f).next(()=>b)):this.$s(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}$s(e){return Kr(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(de.FAILED_PRECONDITION,Fm)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kr(e).put("owner",t)}static vt(){return Co.vt()}Rs(e){const t=Kr(e);return t.get("owner").next(r=>this.bs(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kr(n){return Zr(n,"owner")}function kl(n){return Zr(n,"clientMetadata")}function r0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class cI{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Em(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ze(t)).next(r=>{let i=Im();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=Im();return this.indexManager.getCollectionParents(e,i).next(c=>me.forEach(c,f=>{const m=(b=t,T=f.child(i),new Ba(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.zs(e,m,r).next(b=>{b.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const f of c.mutations){const m=f.key;let b=i.get(m);null==b&&(b=$n.newInvalidDocument(m),i=i.insert(m,b)),Tv(f,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(m))}}).next(()=>(i.forEach((a,c)=>{Ru(t,c)||(i=i.remove(a))}),i))}}class gE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Cn(),i=Cn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gE(e,t.fromCache,r,i)}}class Ih{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Nt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const c=this.ei(t,a);return(ep(t)||tp(t))&&this.ni(t.limitType,c,i,r)?this.ti(e,t):(gm()<=bu.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wv(t)),this.Zs.Qs(e,t,Xf(r,-1)).next(f=>(c.forEach(m=>{f=f.insert(m.key,m)}),f)))});var a}ei(e,t){let r=new Jn(Cm(e));return t.forEach((i,a)=>{Ru(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return gm()<=bu.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",wv(t)),this.Zs.Qs(e,t,Va.min())}}class dI{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new Cr(zt),this.ri=new Ml(a=>Mu(a),ph),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new cI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Vm(n,e,t,r){return new dI(n,e,t,r)}function mE(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Ce.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let m=Cn();for(const b of i){c.push(b.batchId);for(const T of b.mutations)m=m.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)m=m.add(T.key)}return t.ci.Ks(r,m).next(b=>({hi:b,removedBatchIds:c,addedBatchIds:f}))})})}),Bm.apply(this,arguments)}function hI(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,f,m,b){const T=m.batch,A=T.keys();let x=me.resolve();return A.forEach(B=>{x=x.next(()=>b.getEntry(f,B)).next(G=>{const Y=m.docVersions.get(B);Lt(null!==Y),G.version.compareTo(Y)<0&&(T.applyToRemoteDocument(G,m),G.isValidDocument()&&(G.setReadTime(m.commitVersion),b.addEntry(G)))})}),x.next(()=>c.Bs.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function _E(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function s0(n,e){const t=et(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((b,T)=>{const A=i.get(T);if(!A)return;f.push(t.fs.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.fs.addMatchingKeys(a,b.addedDocuments,T)));let x=A.withSequenceNumber(a.currentSequenceNumber);var B,G,Y;e.targetMismatches.has(T)?x=x.withResumeToken(Lr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,r)),i=i.insert(T,x),G=x,Y=b,(0===(B=A).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,x))});let m=Jo();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(o0(a,c,e.documentUpdates).next(b=>{m=b})),!r.isEqual(Nt.min())){const b=t.fs.getLastRemoteSnapshotVersion(a).next(T=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return me.waitFor(f).next(()=>c.apply(a)).next(()=>t.ci.Gs(a,m)).next(()=>m)}).then(a=>(t.ii=i,a))}function o0(n,e,t){let r=Cn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Jo();return t.forEach((c,f)=>{const m=i.get(c);f.isNoDocument()&&f.version.isEqual(Nt.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):Fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",f.version)}),a})}function yE(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Fl(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,me.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new ku(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Hu(n,e,t){return vE.apply(this,arguments)}function vE(){return vE=(0,Ce.Z)(function*(n,e,t){const r=et(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ol(c))throw c;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),vE.apply(this,arguments)}function Dp(n,e,t){const r=et(n);let i=Nt.min(),a=Cn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,b){const T=et(f),A=T.ri.get(b);return void 0!==A?me.resolve(T.ii.get(A)):T.fs.getTargetData(m,b)}(r,c,bs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{a=m})}).next(()=>r.si.Qs(c,e,t?i:Nt.min(),t?a:Cn())).next(f=>(Tp(r,NT(e),f),{documents:f,li:a})))}function bE(n,e){const t=et(n),r=et(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function a0(n,e){const t=et(n),r=t.oi.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,Xf(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Tp(t,e,i),i))}function Tp(n,e,t){let r=Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function l0(){return l0=(0,Ce.Z)(function*(n,e,t,r){const i=et(n);let a=Cn(),c=Jo();for(const b of t){const T=e.fi(b.metadata.name);b.document&&(a=a.add(T));const A=e.di(b);A.setReadTime(e._i(b.metadata.readTime)),c=c.insert(T,A)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),m=yield Fl(i,(b=r,bs(Yc(ln.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>o0(b,f,c).next(T=>(f.apply(b),T)).next(T=>i.fs.removeMatchingKeysForTargetId(b,m.targetId).next(()=>i.fs.addMatchingKeys(b,a,m.targetId)).next(()=>i.ci.Gs(b,T)).next(()=>T)))}),l0.apply(this,arguments)}function u0(n,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Ce.Z)(function*(n,e,t=Cn()){const r=yield Fl(n,bs(Wv(e.bundledQuery))),i=et(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Br(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(Lr.EMPTY_BYTE_STRING,c);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),Ip.apply(this,arguments)}class lN{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return me.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Br(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:Wv(r.bundledQuery),readTime:Br(r.readTime)}),me.resolve();var r}}class fI{constructor(){this.overlays=new Cr(Ze.comparator),this.gi=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=xu(),a=t.length+1,c=new Ze(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,b=m.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Cr((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=a.get(b.largestBatchId);null===T&&(T=xu(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=xu(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return me.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Mm(t,r));let a=this.gi.get(t);void 0===a&&(a=Cn(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class c0{constructor(){this.yi=new Jn(Yr.pi),this.Ii=new Jn(Yr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Yr(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Ze(new ln([])),r=new Yr(t,e),i=new Yr(t,e+1),a=[];return this.Ii.forEachInRange([r,i],c=>{this.Ai(c),a.push(c.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ze(new ln([])),r=new Yr(t,e),i=new Yr(t,e+1);let a=Cn();return this.Ii.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Yr(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ze.comparator(e.key,t.key)||zt(e.vi,t.vi)}static Ti(e,t){return zt(e.vi,t.vi)||Ze.comparator(e.key,t.key)}}class EE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Jn(Yr.pi)}checkEmpty(e){return me.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const c=new Pu(a,t,r,i);this.Bs.push(c);for(const f of i)this.Di=this.Di.add(new Yr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,t){return me.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return me.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return me.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],c=>{const f=this.Ci(c.vi);a.push(f)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(zt);return t.forEach(i=>{const a=new Yr(i,0),c=new Yr(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,c],f=>{r=r.add(f.vi)})}),me.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const c=new Yr(new Ze(a),0);let f=new Jn(zt);return this.Di.forEachWhile(m=>{const b=m.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(m.vi)),!0)},c),me.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Lt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return me.forEach(t.mutations,i=>{const a=new Yr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Yr(t,0),i=this.Di.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class pI{constructor(e){this.Mi=e,this.docs=new Cr(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=Jo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():$n.newInvalidDocument(i))}),me.resolve(r)}getAllFromCollection(e,t,r){let i=Jo();const a=new Ze(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||m1(g1(m),r)<=0||(i=i.insert(m.key,m.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,t,r,i){dt()}Oi(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CE(this)}getSize(e){return me.resolve(this.size)}}class CE extends Xv{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class DE{constructor(e){this.persistence=e,this.Fi=new Ml(t=>Mu(t),ph),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new c0,this.targetCount=0,this.Li=Uu.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),me.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Uu(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Tn(t),me.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.Bi.containsKey(t))}}class gI{constructor(e,t){this.Ui={},this.overlays={},this.es=new vs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new DE(this),this.indexManager=new Ep,this.ds=new pI(r=>this.referenceDelegate.qi(r)),this.M=new eI(t),this._s=new lN(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new EE(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new mI(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return me.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class mI extends vh{constructor(e){super(),this.currentSequenceNumber=e}}class Um{constructor(e){this.persistence=e,this.ji=new c0,this.Wi=null}static zi(e){return new Um(e)}get Hi(){if(this.Wi)return this.Wi;throw dt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),me.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Hi,r=>{const i=Ze.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return me.or([()=>me.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function TE(n,e){return`firestore_clients_${n}_${e}`}function d0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jm(n,e){return`firestore_targets_${n}_${e}`}class Sp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new xe(i.error.code,i.error.message))),c?new Sp(e,t,i.state,a):(Fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new xe(r.error.code,r.error.message))),a?new Sh(e,r.state,i):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Sm();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=u1(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new Hm(e,a):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class h0{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new h0(t.clientId,t.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class IE{constructor(){this.activeTargetIds=Sm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $m{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Cr(zt),this.started=!1,this.rr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=TE(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new IE),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(TE(e.persistenceKey,i));if(a){const c=Hm.Yi(i,a);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jm(this.persistenceKey,e));if(r){const i=Sh.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let c=vs.A;if(null!=a)try{const f=JSON.parse(a);Lt("number"==typeof f),c=f}catch(f){Fr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==vs.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new Sp(this.currentUser,e,t,r),a=d0(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=d0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=jm(this.persistenceKey,e),a=new Sh(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return Hm.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Sp.Yi(new Ei(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return Sh.Yi(i,t)}mr(e){return h0.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),c=[],f=[];return a.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Fr(c,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Sm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class _I{constructor(){this.$r=new IE,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new IE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uN{Lr(e){}shutdown(){}}class yI{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dN{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class hN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const c=this.uo(e,t);Fe("RestConnection","Sending: ",c,r);const f={};return this.ao(f,i,a),this.co(e,c,f,r).then(m=>(Fe("RestConnection","Received: ",m),m),m=>{throw Iu("RestConnection",`${e} failed with error: `,m,"url: ",c,"request:",r),m})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${cN[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,c)=>{const f=new nN;f.listenOnce(e1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case nv.NO_ERROR:const b=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(b)),a(b);break;case nv.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),c(new xe(de.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const T=f.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const x=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(G)>=0?G:de.UNKNOWN}(A.status);c(new xe(x,A.message))}else c(new xe(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(de.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(i);f.send(t,"POST",m,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fT(),c=pT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new t1({})),this.ao(f.initMessageHeaders,t,r),(0,Jt.uI)()||(0,Jt.b$)()||(0,Jt.d)()||(0,Jt.w1)()||(0,Jt.Mn)()||(0,Jt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const m=i.join("");Fe("Connection","Creating WebChannel: "+m,f);const b=a.createWebChannel(m,f);let T=!1,A=!1;const x=new dN({Wr:G=>{A?Fe("Connection","Not sending because WebChannel is closed:",G):(T||(Fe("Connection","Opening WebChannel transport."),b.open(),T=!0),Fe("Connection","WebChannel sending:",G),b.send(G))},zr:()=>b.close()}),B=(G,Y,ye)=>{G.listen(Y,He=>{try{ye(He)}catch(ke){setTimeout(()=>{throw ke},0)}})};return B(b,lh.EventType.OPEN,()=>{A||Fe("Connection","WebChannel transport opened.")}),B(b,lh.EventType.CLOSE,()=>{A||(A=!0,Fe("Connection","WebChannel transport closed"),x.no())}),B(b,lh.EventType.ERROR,G=>{A||(A=!0,Iu("Connection","WebChannel transport errored:",G),x.no(new xe(de.UNAVAILABLE,"The operation could not be completed")))}),B(b,lh.EventType.MESSAGE,G=>{var Y;if(!A){const ye=G.data[0];Lt(!!ye);const He=ye,ke=He.error||(null===(Y=He[0])||void 0===Y?void 0:Y.error);if(ke){Fe("Connection","WebChannel received error:",ke);const Qe=ke.status;let Be=function(at){const vt=Vr[at];if(void 0!==vt)return Nv(vt)}(Qe),nt=ke.message;void 0===Be&&(Be=de.INTERNAL,nt="Unknown error status: "+Qe+" with message "+ke.message),A=!0,x.no(new xe(Be,nt)),b.close()}else Fe("Connection","WebChannel received:",ye),x.so(ye)}}),B(c,gT.STAT_EVENT,G=>{G.stat===rv.PROXY?Fe("Connection","Detected buffering proxy"):G.stat===rv.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.eo()},0),x}}function vI(){return"undefined"!=typeof window?window:null}function f0(){return"undefined"!=typeof document?document:null}function $u(n){return new L1(n,!0)}class SE{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class p0{constructor(e,t,r,i,a,c,f,m){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new SE(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Ce.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Ce.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new xe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,Ce.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g0 extends p0{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function UT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:dt(),i=e.targetChange.targetIds||[],a=function(m,b){return m.N?(Lt(void 0===b||"string"==typeof b),Lr.fromBase64String(b||"")):(Lt(void 0===b||b instanceof Uint8Array),Lr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const b=void 0===m.code?de.UNKNOWN:Nv(m.code);return new xe(b,m.message||"")}(c);t=new Mv(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ha(n,r.document.name),a=Br(r.document.updateTime),c=new Hi({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(i,a,c);t=new Am(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ha(n,r.document),a=r.readTime?Br(r.readTime):Nt.min(),c=$n.newNoDocument(i,a);t=new Am([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ha(n,r.document);t=new Am([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,a=new up(r.count||0);t=new x1(r.targetId,a)}}var m;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?Br(a.readTime):Nt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=td(this.M),t.addTarget=function(i,a){let c;const f=a.target;return c=ym(f)?{documents:j1(i,f)}:{query:H1(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=Ov(i,a.resumeToken):a.snapshotVersion.compareTo(Nt.min())>0&&(c.readTime=pp(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function $1(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=td(this.M),t.removeTarget=e,this.Fo(t)}}class AE extends p0{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function jT(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(r,i){let a=Br(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=Br(i)),new A1(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.Yo(r,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=td(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gp(this.M,r))};this.Fo(t)}}class NE extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(de.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(de.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class fN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Fr(t),this.iu=!1):Fe("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class m0{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{r.enqueueAndForget((0,Ce.Z)(function*(){var m;hd(c)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ce.Z)(function*(b){const T=et(b);T.fu.add(4),yield dd(T),T.wu.set("Unknown"),T.fu.delete(4),yield Ah(T)}),function(b){return m.apply(this,arguments)})(c))}))}),this.wu=new fN(r,i)}}function Ah(n){return _0.apply(this,arguments)}function _0(){return _0=(0,Ce.Z)(function*(n){if(hd(n))for(const e of n.du)yield e(!0)}),_0.apply(this,arguments)}function dd(n){return ME.apply(this,arguments)}function ME(){return ME=(0,Ce.Z)(function*(n){for(const e of n.du)yield e(!1)}),ME.apply(this,arguments)}function Gm(n,e){const t=et(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),xE(t)?RE(t):Mh(t).xo()&&Np(t,e))}function Ap(n,e){const t=et(n),r=Mh(t);t.lu.delete(e),r.xo()&&OE(t,e),0===t.lu.size&&(r.xo()?r.Mo():hd(t)&&t.wu.set("Unknown"))}function Np(n,e){n.mu.Z(e.targetId),Mh(n).jo(e)}function OE(n,e){n.mu.Z(e),Mh(n).Wo(e)}function RE(n){n.mu=new FT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Mh(n).start(),n.wu.ru()}function xE(n){return hd(n)&&!Mh(n).Co()&&n.lu.size>0}function hd(n){return 0===et(n).fu.size}function PE(n){n.mu=void 0}function bI(n){return y0.apply(this,arguments)}function y0(){return y0=(0,Ce.Z)(function*(n){n.lu.forEach((e,t)=>{Np(n,e)})}),y0.apply(this,arguments)}function pN(n,e){return v0.apply(this,arguments)}function v0(){return v0=(0,Ce.Z)(function*(n,e){PE(n),xE(n)?(n.wu.au(e),RE(n)):n.wu.set("Unknown")}),v0.apply(this,arguments)}function b0(n,e,t){return w0.apply(this,arguments)}function w0(){return w0=(0,Ce.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof Mv&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Es(n,r)}else if(e instanceof Am?n.mu.ut(e):e instanceof x1?n.mu._t(e):n.mu.ht(e),!t.isEqual(Nt.min()))try{const r=yield _E(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.mu.yt(a);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.lu.get(m);b&&i.lu.set(m,b.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const m=i.lu.get(f);if(!m)return;i.lu.set(f,m.withResumeToken(Lr.EMPTY_BYTE_STRING,m.snapshotVersion)),OE(i,f);const b=new ku(m.target,f,1,m.sequenceNumber);Np(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield Es(n,r)}var r}),w0.apply(this,arguments)}function Es(n,e,t){return E0.apply(this,arguments)}function E0(){return E0=(0,Ce.Z)(function*(n,e,t){if(!Ol(e))throw e;n.fu.add(1),yield dd(n),n.wu.set("Offline"),t||(t=()=>_E(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Ah(n)}))}),E0.apply(this,arguments)}function zm(n,e){return e().catch(t=>Es(n,t,e))}function Nh(n){return C0.apply(this,arguments)}function C0(){return C0=(0,Ce.Z)(function*(n){const e=et(n),t=Vl(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;D0(e);)try{const i=yield yE(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,kE(e,i)}catch(i){yield Es(e,i)}T0(e)&&FE(e)}),C0.apply(this,arguments)}function D0(n){return hd(n)&&n.hu.length<10}function kE(n,e){n.hu.push(e);const t=Vl(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function T0(n){return hd(n)&&!Vl(n).Co()&&n.hu.length>0}function FE(n){Vl(n).start()}function LE(n){return I0.apply(this,arguments)}function I0(){return I0=(0,Ce.Z)(function*(n){Vl(n).Zo()}),I0.apply(this,arguments)}function wI(n){return S0.apply(this,arguments)}function S0(){return S0=(0,Ce.Z)(function*(n){const e=Vl(n);for(const t of n.hu)e.Jo(t.mutations)}),S0.apply(this,arguments)}function A0(n,e,t){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,Ce.Z)(function*(n,e,t){const r=n.hu.shift(),i=X1.from(r,e,t);yield zm(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nh(n)}),Ll.apply(this,arguments)}function VE(n,e){return qm.apply(this,arguments)}function qm(){return qm=(0,Ce.Z)(function*(n,e){var t;e&&Vl(n).Ho&&(yield(t=(0,Ce.Z)(function*(r,i){if(O1(a=i.code)&&a!==de.ABORTED){const c=r.hu.shift();Vl(r).ko(),yield zm(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Nh(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),T0(n)&&FE(n)}),qm.apply(this,arguments)}function BE(n,e){return UE.apply(this,arguments)}function UE(){return UE=(0,Ce.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=hd(t);t.fu.add(3),yield dd(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Ah(t)}),UE.apply(this,arguments)}function N0(n,e){return M0.apply(this,arguments)}function M0(){return M0=(0,Ce.Z)(function*(n,e){const t=et(n);e?(t.fu.delete(2),yield Ah(t)):e||(t.fu.add(2),yield dd(t),t.wu.set("Unknown"))}),M0.apply(this,arguments)}function Mh(n){return n.gu||(n.gu=function(e,t,r){const i=et(e);return i.eu(),new g0(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:bI.bind(null,n),Yr:pN.bind(null,n),Qo:b0.bind(null,n)}),n.du.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.gu.ko(),xE(n)?RE(n):n.wu.set("Unknown")):(yield n.gu.stop(),PE(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Vl(n){return n.yu||(n.yu=function(e,t,r){const i=et(e);return i.eu(),new AE(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:LE.bind(null,n),Yr:VE.bind(null,n),Xo:wI.bind(null,n),Yo:A0.bind(null,n)}),n.du.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.yu.ko(),yield Nh(n)):(yield n.yu.stop(),n.hu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class O0{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new O0(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oh(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),Ol(n))return new xe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Mp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=Im(),this.sortedSet=new Cr(this.comparator)}static emptySet(e){return new Mp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Mp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Wm{constructor(){this.pu=new Cr(Ze.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):dt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class fd{constructor(e,t,r,i,a,c,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new fd(e,t,Mp.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class EI{constructor(){this.Tu=void 0,this.listeners=[]}}class CI{constructor(){this.queries=new Ml(e=>D1(e),Qo),this.onlineState="Unknown",this.Eu=new Set}}function Zm(n,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Ce.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new EI),i)try{a.Tu=yield t.onListen(r)}catch(c){const f=Oh(c,`Initialization of query '${wv(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&Ym(t)}),Op.apply(this,arguments)}function Rp(n,e){return Km.apply(this,arguments)}function Km(){return Km=(0,Ce.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Km.apply(this,arguments)}function DI(n,e){const t=et(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Ru(i)&&(r=!0);c.Tu=i}}r&&Ym(t)}function jE(n,e,t){const r=et(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Ym(n){n.Eu.forEach(e=>{e.next()})}class R0{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new fd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class TI{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class II{constructor(e){this.M=e}fi(e){return Ha(this.M,e)}di(e){return e.metadata.exists?U1(this.M,e.document,!1):$n.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Br(e)}}class gN{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=x0(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ln.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new II(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Cn()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function wE(n,e,t,r){return l0.apply(this,arguments)}(e.localStore,new II(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield u0(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function x0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class HE{constructor(e){this.key=e}}class $E{constructor(e){this.key=e}}class GE{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Cn(),this.mutatedKeys=Cn(),this.Uu=Cm(e),this.qu=new Mp(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new Wm,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m=ep(this.query)&&i.size===this.query.limit?i.last():null,b=tp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const x=i.get(T),B=Ru(this.query,A)?A:null,G=!!x&&this.mutatedKeys.has(x.key),Y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ye=!1;x&&B?x.data.isEqual(B.data)?G!==Y&&(r.track({type:3,doc:B}),ye=!0):this.ju(x,B)||(r.track({type:2,doc:B}),ye=!0,(m&&this.Uu(B,m)>0||b&&this.Uu(B,b)<0)&&(f=!0)):!x&&B?(r.track({type:0,doc:B}),ye=!0):x&&!B&&(r.track({type:1,doc:x}),ye=!0,(m||b)&&(f=!0)),ye&&(B?(c=c.add(B),a=Y?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),ep(this.query)||tp(this.query))for(;c.size>this.query.limit;){const T=ep(this.query)?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{qu:c,Qu:r,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((b,T)=>function(A,x){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return B(A)-B(x)}(b.type,T.type)||this.Uu(b.doc,T.doc)),this.Wu(r);const c=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,m=f!==this.Bu;return this.Bu=f,0!==a.length||m?{snapshot:new fd(this.query,e.qu,i,a,e.mutatedKeys,0===f,m,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Wm,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Cn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new $E(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new HE(r))}),t}Yu(e){this.$u=e.li,this.Lu=Cn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return fd.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class mN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _N{constructor(e){this.key=e,this.Zu=!1}}class yN{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new Ml(f=>D1(f),Qo),this.na=new Map,this.sa=new Set,this.ia=new Cr(Ze.comparator),this.ra=new Map,this.oa=new c0,this.ua={},this.aa=new Map,this.ca=Uu.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function vN(n,e){return zE.apply(this,arguments)}function zE(){return zE=(0,Ce.Z)(function*(n,e){const t=nC(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const c=yield Fl(t.localStore,bs(e));t.isPrimaryClient&&Gm(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield P0(t,e,r,"current"===f)}return i}),zE.apply(this,arguments)}function P0(n,e,t,r){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,Ce.Z)(function*(n,e,t,r){n.la=(T,A,x)=>{return(B=(0,Ce.Z)(function*(G,Y,ye,He){let ke=Y.view.Gu(ye);ke.ni&&(ke=yield Dp(G.localStore,Y.query,!1).then(({documents:nt})=>Y.view.Gu(nt,ke)));const Qe=He&&He.targetChanges.get(Y.targetId),Be=Y.view.applyChanges(ke,G.isPrimaryClient,Qe);return B0(G,Y.targetId,Be.Hu),Be.snapshot}),function(G,Y,ye,He){return B.apply(this,arguments)})(n,T,A,x);var B};const i=yield Dp(n.localStore,e,!0),a=new GE(e,i.li),c=a.Gu(i.documents),f=fp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),m=a.applyChanges(c,n.isPrimaryClient,f);B0(n,t,m.Hu);const b=new mN(e,t,a);return n.ea.set(e,b),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),m.snapshot}),Rh.apply(this,arguments)}function SI(n,e){return k0.apply(this,arguments)}function k0(){return k0=(0,Ce.Z)(function*(n,e){const t=et(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!Qo(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ap(t.remoteStore,r.targetId),Ph(t,r.targetId)}).catch(Pl))):(Ph(t,r.targetId),yield Hu(t.localStore,r.targetId,!0))}),k0.apply(this,arguments)}function Bl(){return Bl=(0,Ce.Z)(function*(n,e,t){const r=rC(n);try{const i=yield function(a,c){const f=et(a),m=Er.now(),b=c.reduce((A,x)=>A.add(x.key),Cn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ci.Ks(A,b).next(x=>{T=x;const B=[];for(const G of c){const Y=op(G,T.get(G.key));null!=Y&&B.push(new ja(G.key,Y,mv(Y.value.mapValue),Mr.exists(!0)))}return f.Bs.addMutationBatch(A,m,B,c)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let m=a.ua[a.currentUser.toKey()];m||(m=new Cr(zt)),m=m.insert(c,f),a.ua[a.currentUser.toKey()]=m}(r,i.batchId,t),yield za(r,i.changes),yield Nh(r.remoteStore)}catch(i){const a=Oh(i,"Failed to persist write");t.reject(a)}}),Bl.apply(this,arguments)}function F0(n,e){return xp.apply(this,arguments)}function xp(){return xp=(0,Ce.Z)(function*(n,e){const t=et(n);try{const r=yield s0(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ra.get(a);c&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Zu=!0:i.modifiedDocuments.size>0?Lt(c.Zu):i.removedDocuments.size>0&&(Lt(c.Zu),c.Zu=!1))}),yield za(t,r,e)}catch(r){yield Pl(r)}}),xp.apply(this,arguments)}function Qm(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,c)=>{const f=c.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=et(a);f.onlineState=c;let m=!1;f.queries.forEach((b,T)=>{for(const A of T.listeners)A.Au(c)&&(m=!0)}),m&&Ym(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AI(n,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Ce.Z)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let c=new Cr(Ze.comparator);c=c.insert(a,$n.newNoDocument(a,Nt.min()));const f=Cn().add(a),m=new hp(Nt.min(),new Map,new Jn(zt),c,f);yield F0(r,m),r.ia=r.ia.remove(a),r.ra.delete(e),Xm(r)}else yield Hu(r.localStore,e,!1).then(()=>Ph(r,e,t)).catch(Pl)}),Pp.apply(this,arguments)}function L0(n,e){return xh.apply(this,arguments)}function xh(){return xh=(0,Ce.Z)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const i=yield hI(t.localStore,e);V0(t,r,null),Jm(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield za(t,i)}catch(i){yield Pl(i)}}),xh.apply(this,arguments)}function bN(n,e,t){return WE.apply(this,arguments)}function WE(){return WE=(0,Ce.Z)(function*(n,e,t){const r=et(n);try{const i=yield function(a,c){const f=et(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return f.Bs.lookupMutationBatch(m,c).next(T=>(Lt(null!==T),b=T.keys(),f.Bs.removeMutationBatch(m,T))).next(()=>f.Bs.performConsistencyCheck(m)).next(()=>f.ci.Ks(m,b))})}(r.localStore,e);V0(r,e,t),Jm(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield za(r,i)}catch(i){yield Pl(i)}}),WE.apply(this,arguments)}function ZE(){return ZE=(0,Ce.Z)(function*(n,e){const t=et(n);hd(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=et(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Oh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ZE.apply(this,arguments)}function Jm(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function V0(n,e,t){const r=et(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function Ph(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||KE(n,r)})}function KE(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Ap(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),Xm(n))}function B0(n,e,t){for(const r of t)r instanceof HE?(n.oa.addReference(r.key,e),YE(n,r)):r instanceof $E?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||KE(n,r.key)):dt()}function YE(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.sa.add(r),Xm(n))}function Xm(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ze(ln.fromString(e)),r=n.ca.next();n.ra.set(r,new _N(t)),n.ia=n.ia.insert(t,r),Gm(n.remoteStore,new ku(bs(Yc(t.path)),r,2,vs.A))}}function za(n,e,t){return U0.apply(this,arguments)}function U0(){return U0=(0,Ce.Z)(function*(n,e,t){const r=et(n),i=[],a=[],c=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,m)=>{c.push(r.la(m,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=gE.Ys(m.targetId,b);a.push(T)}}))}),yield Promise.all(c),r.ta.Qo(i),yield(f=(0,Ce.Z)(function*(m,b){const T=et(m);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>me.forEach(b,x=>me.forEach(x.Hs,B=>T.persistence.referenceDelegate.addReference(A,x.targetId,B)).next(()=>me.forEach(x.Js,B=>T.persistence.referenceDelegate.removeReference(A,x.targetId,B)))))}catch(A){if(!Ol(A))throw A;Fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const x=A.targetId;if(!A.fromCache){const B=T.ii.get(x),Y=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.ii=T.ii.insert(x,Y)}}}),function(m,b){return f.apply(this,arguments)})(r.localStore,a))}),U0.apply(this,arguments)}function NI(n,e){return e_.apply(this,arguments)}function e_(){return e_=(0,Ce.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield mE(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(c=>{c.forEach(f=>{f.reject(new xe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield za(t,r.hi)}var i}),e_.apply(this,arguments)}function j0(n,e){const t=et(n),r=t.ra.get(e);if(r&&r.Zu)return Cn().add(r.key);{let i=Cn();const a=t.na.get(e);if(!a)return i;for(const c of a){const f=t.ea.get(c);i=i.unionWith(f.view.Ku)}return i}}function EN(n,e){return t_.apply(this,arguments)}function t_(){return t_=(0,Ce.Z)(function*(n,e){const t=et(n),r=yield Dp(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&B0(t,e.targetId,i.Hu),i}),t_.apply(this,arguments)}function H0(n,e){return $0.apply(this,arguments)}function $0(){return $0=(0,Ce.Z)(function*(n,e){const t=et(n);return a0(t.localStore,e).then(r=>za(t,r))}),$0.apply(this,arguments)}function MI(n,e,t,r){return QE.apply(this,arguments)}function QE(){return QE=(0,Ce.Z)(function*(n,e,t,r){const i=et(n),a=yield function(c,f){const m=et(c),b=et(m.Bs);return m.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.fn(T,f).next(A=>A?m.ci.Ks(T,A):me.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Nh(i.remoteStore):"acknowledged"===t||"rejected"===t?(V0(i,e,r||null),Jm(i,e),f=e,et(et(i.localStore).Bs)._n(f)):dt(),yield za(i,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),QE.apply(this,arguments)}function G0(){return G0=(0,Ce.Z)(function*(n,e){const t=et(n);if(nC(t),rC(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield JE(t,r.toArray());t.ha=!0,yield N0(t.remoteStore,!0);for(const a of i)Gm(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Ph(t,c),Hu(t.localStore,c,!0))),Ap(t.remoteStore,c)}),yield i,yield JE(t,r),function(a){const c=et(a);c.ra.forEach((f,m)=>{Ap(c.remoteStore,m)}),c.oa.bi(),c.ra=new Map,c.ia=new Cr(Ze.comparator)}(t),t.ha=!1,yield N0(t.remoteStore,!1)}}),G0.apply(this,arguments)}function JE(n,e,t){return XE.apply(this,arguments)}function XE(){return XE=(0,Ce.Z)(function*(n,e,t){const r=et(n),i=[],a=[];for(const c of e){let f;const m=r.na.get(c);if(m&&0!==m.length){f=yield Fl(r.localStore,bs(m[0]));for(const b of m){const T=r.ea.get(b),A=yield EN(r,T);A.snapshot&&a.push(A.snapshot)}}else{const b=yield bE(r.localStore,c);f=yield Fl(r.localStore,b),yield P0(r,OI(b),c,!1)}i.push(f)}return r.ta.Qo(a),i}),XE.apply(this,arguments)}function OI(n){return vv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function DN(n){const e=et(n);return et(et(e.localStore).persistence).Fs()}function TN(n,e,t,r){return eC.apply(this,arguments)}function eC(){return eC=(0,Ce.Z)(function*(n,e,t,r){const i=et(n);if(i.ha)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield a0(i.localStore,NT(a[0])),f=hp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield za(i,c,f);break}case"rejected":yield Hu(i.localStore,e,!0),Ph(i,e,r);break;default:dt()}}),eC.apply(this,arguments)}function RI(n,e,t){return tC.apply(this,arguments)}function tC(){return tC=(0,Ce.Z)(function*(n,e,t){const r=nC(n);if(r.ha){for(const i of e){if(r.na.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const a=yield bE(r.localStore,i),c=yield Fl(r.localStore,a);yield P0(r,OI(a),c.targetId,!1),Gm(r.remoteStore,c)}for(const i of t)r.na.has(i)&&(yield Hu(r.localStore,i,!1).then(()=>{Ap(r.remoteStore,i),Ph(r,i)}).catch(Pl))}}),tC.apply(this,arguments)}function nC(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AI.bind(null,e),e.ta.Qo=DI.bind(null,e.eventManager),e.ta.fa=jE.bind(null,e.eventManager),e}function rC(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,e),e}class s{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.M=$u(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Vm(this.persistence,new Ih,e.initialUser,this.M)}wa(e){return new gI(Um.zi,this.M)}_a(e){return new _I}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class o extends s{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield rC(r.ya.syncEngine),yield Nh(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return Vm(this.persistence,new Ih,e.initialUser,this.M)}ma(e){return new aI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=r0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new Lm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,vI(),f0(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new _I}}class u extends o{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof $m&&(r.sharedClientState.syncEngine={Mr:MI.bind(null,i),Or:TN.bind(null,i),Fr:RI.bind(null,i),Fs:DN.bind(null,i),kr:H0.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,Ce.Z)(function*(c){yield function CN(n,e){return G0.apply(this,arguments)}(r.ya.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}_a(e){const t=vI();if(!$m.vt(t))throw new xe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=r0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $m(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class d{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Qm(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,r.syncEngine),yield N0(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CI}createDatastore(e){const t=$u(e.databaseInfo.databaseId),r=new hN(e.databaseInfo);return new NE(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Qm(this.syncEngine,f,0),c=yI.vt()?new yI:new uN,new m0(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,m,b){const T=new yN(r,i,a,c,f,m);return b&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=et(t);Fe("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield dd(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function h(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class p{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class y{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new TI(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Ce.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class w{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ce.Z)(function*(a,c){const f=et(a),m=td(f.M)+"/documents",b={documents:c.map(B=>mh(f.M,B))},T=yield f.ho("BatchGetDocuments",m,b),A=new Map;T.forEach(B=>{const G=function BT(n,e){return"found"in e?function(t,r){Lt(!!r.found);const i=Ha(t,r.found.name),a=Br(r.found.updateTime),c=new Hi({mapValue:{fields:r.found.fields}});return $n.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){Lt(!!r.missing),Lt(!!r.readTime);const i=Ha(t,r.missing),a=Br(r.readTime);return $n.newNoDocument(i,a)}(n,e):dt()}(f.M,B);A.set(G.key.toString(),G)});const x=[];return c.forEach(B=>{const G=A.get(B.toString());Lt(!!G),x.push(G)}),x}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ze.fromPath(i);e.mutations.push(new Xc(a,e.precondition(a)))}),yield(r=(0,Ce.Z)(function*(i,a){const c=et(i),f=td(c.M)+"/documents",m={writes:a.map(b=>gp(c.M,b))};yield c.oo("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mr.updateTime(t):Mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new xe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(t)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class C{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new SE(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Ce.Z)(function*(){const t=new w(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!vo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!O1(t)}return!1}}class S{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ei.UNAUTHENTICATED,this.clientId=av.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ce.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Oh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function M(n,e){return L.apply(this,arguments)}function L(){return L=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ce.Z)(function*(a){r.isEqual(a)||(yield mE(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),L.apply(this,arguments)}function z(n,e){return J.apply(this,arguments)}function J(){return J=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield be(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>BE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>BE(e.remoteStore,a)),n.onlineComponents=e}),J.apply(this,arguments)}function be(n){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,Ce.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield M(n,new s)),n.offlineComponents}),Ve.apply(this,arguments)}function qe(n){return ct.apply(this,arguments)}function ct(){return ct=(0,Ce.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield z(n,new d)),n.onlineComponents}),ct.apply(this,arguments)}function Ae(n){return be(n).then(e=>e.persistence)}function Et(n){return be(n).then(e=>e.localStore)}function rn(n){return qe(n).then(e=>e.remoteStore)}function yn(n){return qe(n).then(e=>e.syncEngine)}function ui(n){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,Ce.Z)(function*(n){const e=yield qe(n),t=e.eventManager;return t.onListen=vN.bind(null,e.syncEngine),t.onUnlisten=SI.bind(null,e.syncEngine),t}),Ul.apply(this,arguments)}function n_(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,a,c,f,m){const b=new p({next:A=>{a.enqueueAndForget(()=>Rp(i,T));const x=A.docs.has(c);!x&&A.fromCache?m.reject(new xe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&f&&"server"===f.source?m.reject(new xe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new R0(Yc(c.path),b,{includeMetadataChanges:!0,Cu:!0});return Zm(i,T)}(yield ui(n),n.asyncQueue,e,t,r)})),r.promise}function r_(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,a,c,f,m){const b=new p({next:A=>{a.enqueueAndForget(()=>Rp(i,T)),A.fromCache&&"server"===f.source?m.reject(new xe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new R0(c,b,{includeMetadataChanges:!0,Cu:!0});return Zm(i,T)}(yield ui(n),n.asyncQueue,e,t,r)})),r.promise}const SN=new Map;function xI(n,e,t){if(!t)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AN(n,e,t,r){if(!0===e&&!0===r)throw new xe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NN(n){if(!Ze.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MN(n){if(Ze.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iC(n);throw new xe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ON(n,e){if(e<=0)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class RN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,AN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RN({}),this._settingsFrozen=!1,e instanceof La?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new xe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(i.options.projectId)}(e))}get app(){if(!this._app)throw new xe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new n1;switch(t.type){case"gapi":const r=t.client;return Lt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new _T(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=SN.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),SN.delete(e),t.terminate())}(this),Promise.resolve()}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class Cs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Gu extends Cs{constructor(e,t,r){super(e,t,Yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Ze(e))}withConverter(e){return new Gu(this.firestore,e,this._path)}}function xN(n,e,...t){if(n=(0,Jt.m9)(n),xI("collection","path",e),n instanceof J0){const r=ln.fromString(e,...t);return MN(r),new Gu(n,null,r)}{if(!(n instanceof pr||n instanceof Gu))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return MN(r),new Gu(n.firestore,null,r)}}function sC(n,e,...t){if(n=(0,Jt.m9)(n),1===arguments.length&&(e=av.R()),xI("doc","path",e),n instanceof J0){const r=ln.fromString(e,...t);return NN(r),new pr(n,null,new Ze(r))}{if(!(n instanceof pr||n instanceof Gu))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return NN(r),new pr(n.firestore,n instanceof Gu?n.converter:null,new Ze(r))}}function PN(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),(n instanceof pr||n instanceof Gu)&&(e instanceof pr||e instanceof Gu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function kN(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),n instanceof Cs&&e instanceof Cs&&n.firestore===e.firestore&&Qo(n._query,e._query)&&n.converter===e.converter}class LP{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new SE(this,"async_queue_retry"),this.qa=()=>{const t=f0();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=f0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=f0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Wr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Ol(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=O0.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&dt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function PI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class VP{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Dr extends J0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new LP,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||FN(this),this._firestoreClient.terminate()}}function UP(n=(0,bl.getApp)()){return(0,bl._getProvider)(n,"firestore").getImmediate()}function ci(n){return n._firestoreClient||FN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function FN(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new l1(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new S(n._authCredentials,n._appCheckCredentials,n._queue,r)}function LN(n,e,t){const r=new Wr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield M(n,t),yield z(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function VN(n){if(n._initialized||n._terminated)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zu(Lr.fromBase64String(e))}catch(t){throw new xe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zu(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kp{constructor(e){this._methodName=e}}class oC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const KP=/^__.*__$/;class YP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new ap(e,this.data,t,this.fieldTransforms)}}class BN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ja(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class aC{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new aC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return cC(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(UN(this.Xa)&&KP.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class QP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||$u(e)}ac(e,t,r,i=!1){return new aC({Xa:e,methodName:t,uc:r,path:Ci.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Fp(n){const e=n._freezeSettings(),t=$u(n._databaseId);return new QP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lC(n,e,t,r,i,a={}){const c=n.ac(a.merge||a.mergeFields?2:0,e,t,i);VI("Data must be an object, but it was:",c,r);const f=$N(r,c);let m,b;if(a.merge)m=new dh(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const x=BI(e,A,t);if(!c.contains(x))throw new xe(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);zN(T,x)||T.push(x)}m=new dh(T),b=c.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,b=c.fieldTransforms;return new YP(new Hi(f),m,b)}class X0 extends kp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X0}}function jN(n,e,t){return new aC({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class kI extends kp{_toFieldTransform(e){return new ip(e.path,new Nl)}isEqual(e){return e instanceof kI}}class JP extends kp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=jN(this,e,!0),r=this.cc.map(a=>Lp(a,t)),i=new Jc(r);return new ip(e.path,i)}isEqual(e){return this===e}}class XP extends kp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=jN(this,e,!0),r=this.cc.map(a=>Lp(a,t)),i=new Ua(r);return new ip(e.path,i)}isEqual(e){return this===e}}class ek extends kp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new rp(e.M,MT(e.M,this.hc));return new ip(e.path,t)}isEqual(e){return this===e}}function FI(n,e,t,r){const i=n.ac(1,e,t);VI("Data must be an object, but it was:",i,r);const a=[],c=Hi.empty();Au(r,(m,b)=>{const T=uC(e,m,t);b=(0,Jt.m9)(b);const A=i.sc(T);if(b instanceof X0)a.push(T);else{const x=Lp(b,A);null!=x&&(a.push(T),c.set(T,x))}});const f=new dh(a);return new BN(c,f,i.fieldTransforms)}function LI(n,e,t,r,i,a){const c=n.ac(1,e,t),f=[BI(e,r,t)],m=[i];if(a.length%2!=0)throw new xe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)f.push(BI(e,a[x])),m.push(a[x+1]);const b=[],T=Hi.empty();for(let x=f.length-1;x>=0;--x)if(!zN(b,f[x])){const B=f[x];let G=m[x];G=(0,Jt.m9)(G);const Y=c.sc(B);if(G instanceof X0)b.push(B);else{const ye=Lp(G,Y);null!=ye&&(b.push(B),T.set(B,ye))}}const A=new dh(b);return new BN(T,A,c.fieldTransforms)}function HN(n,e,t,r=!1){return Lp(t,n.ac(r?4:3,e))}function Lp(n,e){if(GN(n=(0,Jt.m9)(n)))return VI("Unsupported field value:",e,n),$N(n,e);if(n instanceof kp)return function(t,r){if(!UN(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=Lp(c,r.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return MT(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Er.fromDate(t);return{timestampValue:pp(r.M,i)}}if(t instanceof Er){const i=new Er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pp(r.M,i)}}if(t instanceof oC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zu)return{bytesValue:Ov(r.M,t._byteString)};if(t instanceof pr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${iC(t)}`)}(n,e)}function $N(n,e){const t={};return uv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Au(n,(r,i)=>{const a=Lp(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function GN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Er||n instanceof oC||n instanceof zu||n instanceof pr||n instanceof kp)}function VI(n,e,t){if(!GN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=iC(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function BI(n,e,t){if((e=(0,Jt.m9)(e))instanceof pd)return e._internalPath;if("string"==typeof e)return uC(n,e);throw cC("Field path arguments must be of type string or ",n,!1,void 0,t)}const tk=new RegExp("[~\\*/\\[\\]]");function uC(n,e,t){if(e.search(tk)>=0)throw cC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pd(...e.split("."))._internalPath}catch(r){throw cC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cC(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new xe(de.INVALID_ARGUMENT,f+n+m)}function zN(n,e){return n.some(t=>t.isEqual(e))}class eb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nk extends eb{data(){return super.data()}}function dC(n,e){return"string"==typeof e?uC(n,e):e instanceof pd?e._internalPath:e._delegate._internalPath}class Vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends eb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class tb extends gd{data(e={}){return super.data(e)}}class kh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tb(this._firestore,this._userDataWriter,r.key,r,new Vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new tb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Vp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new tb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Vp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,b=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:rk(c.type),doc:f,oldIndex:m,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function qN(n,e){return n instanceof gd&&e instanceof gd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kh&&e instanceof kh&&n._firestore===e._firestore&&kN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WN(n){if(tp(n)&&0===n.explicitOrderBy.length)throw new xe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{}function Fh(n,...e){for(const t of e)n=t._apply(n);return n}class ik extends nb{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Fp(e.firestore),r=function(i,a,c,f,m,b,T){let A;if(m.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){XN(T,b);const B=[];for(const G of T)B.push(JN(f,i,G));A={arrayValue:{values:B}}}else A=JN(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||XN(T,b),A=HN(c,"where",T,"in"===b||"not-in"===b);const x=Ii.create(m,b,A);return function(B,G){if(G.S()){const ye=wm(B);if(null!==ye&&!ye.isEqual(G.field))throw new xe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${G.field.toString()}'`);const He=bm(B);null!==He&&eM(0,G.field,He)}const Y=function(ye,He){for(const ke of ye.filters)if(He.indexOf(ke.op)>=0)return ke.op;return null}(B,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==Y)throw new xe(de.INVALID_ARGUMENT,Y===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${Y.toString()}' filters.`)}(i,x),x}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Cs(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new Ba(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class ok extends nb{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new gh(i,a);return function(f,m){if(null===bm(f)){const b=wm(f);null!==b&&eM(0,b,m.field)}}(r,c),c}(e._query,this.lc,this._c);return new Cs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ba(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ZN extends nb{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Cs(e.firestore,e.converter,bv(e._query,this.wc,this.mc))}}class KN extends nb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=QN(e,this.type,this.gc,this.yc);return new Cs(e.firestore,e.converter,(i=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class YN extends nb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=QN(e,this.type,this.gc,this.yc);return new Cs(e.firestore,e.converter,(i=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function QN(n,e,t,r){if(t[0]=(0,Jt.m9)(t[0]),t[0]instanceof eb)return function(i,a,c,f,m){if(!f)throw new xe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of Qc(i))if(T.field.isKeyField())b.push(Ti(a,f.key));else{const A=f.data.field(T.field);if(cv(A))throw new xe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const x=T.field.canonicalString();throw new xe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}b.push(A)}return new Ou(b,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Fp(n.firestore);return function(a,c,f,m,b,T){const A=a.explicitOrderBy;if(b.length>A.length)throw new xe(de.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let B=0;B<b.length;B++){const G=b[B];if(A[B].field.isKeyField()){if("string"!=typeof G)throw new xe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof G}`);if(!Em(a)&&-1!==G.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${G}' contains a slash.`);const Y=a.path.child(ln.fromString(G));if(!Ze.isDocumentKey(Y))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const ye=new Ze(Y);x.push(Ti(c,ye))}else{const Y=HN(f,m,G);x.push(Y)}}return new Ou(x,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function JN(n,e,t){if("string"==typeof(t=(0,Jt.m9)(t))){if(""===t)throw new xe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Em(e)&&-1!==t.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!Ze.isDocumentKey(r))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ti(n,new Ze(r))}if(t instanceof pr)return Ti(n,t._key);throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iC(t)}.`)}function XN(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eM(n,e,t){if(!t.isEqual(e))throw new xe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class UI{convertValue(e,t="none"){switch(hh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return Au(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new oC(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zf(e));default:return null}}convertTimestamp(e){const t=Hn(e);return new Er(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);Lt(Hv(r));const i=new La(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(t)||Fr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function hC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class pk extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}class tM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fp(e)}set(e,t,r){this._verifyNotCommitted();const i=Lh(e,this._firestore),a=hC(i.converter,t,r),c=lC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Mr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Lh(e,this._firestore);let c;return c="string"==typeof(t=(0,Jt.m9)(t))||t instanceof pd?LI(this._dataReader,"WriteBatch.update",a._key,t,r,i):FI(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new lp(t._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,Jt.m9)(n)).firestore!==e)throw new xe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bp extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function nM(n,e,t){n=fn(n,pr);const r=fn(n.firestore,Dr),i=hC(n.converter,e,t);return i_(r,[lC(Fp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Mr.none())])}function rM(n,e,t,...r){n=fn(n,pr);const i=fn(n.firestore,Dr),a=Fp(i);let c;return c="string"==typeof(e=(0,Jt.m9)(e))||e instanceof pd?LI(a,"updateDoc",n._key,e,t,r):FI(a,"updateDoc",n._key,e),i_(i,[c.toMutation(n._key,Mr.exists(!0))])}function iM(n,...e){var t,r,i;n=(0,Jt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||PI(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(PI(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let m,b,T;if(n instanceof pr)b=fn(n.firestore,Dr),T=Yc(n._key.path),m={next:A=>{e[c]&&e[c](jI(b,n,A))},error:e[c+1],complete:e[c+2]};else{const A=fn(n,Cs);b=fn(A.firestore,Dr),T=A._query;const x=new Bp(b);m={next:B=>{e[c]&&e[c](new kh(b,x,A,B))},error:e[c+1],complete:e[c+2]},WN(n._query)}return function(A,x,B,G){const Y=new p(G),ye=new R0(x,Y,B);return A.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Zm(yield ui(A),ye)})),()=>{Y.Ia(),A.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Rp(yield ui(A),ye)}))}}(ci(b),T,f,m)}function i_(n,e){return function(t,r){const i=new Wr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function qE(n,e,t){return Bl.apply(this,arguments)}(yield yn(t),r,i)})),i.promise}(ci(n),e)}function jI(n,e,t){const r=t.docs.get(e._key),i=new Bp(n);return new gd(n,i,e._key,r,new Vp(t.hasPendingWrites,t.fromCache),e.converter)}class Dk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fp(e)}get(e){const t=Lh(e,this._firestore),r=new pk(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const a=i[0];if(a.isFoundDocument())return new eb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new eb(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=Lh(e,this._firestore),a=hC(i.converter,t,r),c=lC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Lh(e,this._firestore);let c;return c="string"==typeof(t=(0,Jt.m9)(t))||t instanceof pd?LI(this._dataReader,"Transaction.update",a._key,t,r,i):FI(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new Bp(this._firestore);return super.get(e).then(i=>new gd(this._firestore,r,t._key,i._document,new Vp(!1,!1),t.converter))}}function HI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oM(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function aM(){if(!function vT(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qf=bl.SDK_VERSION,(0,bl._registerComponent)(new jg.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Dr(i,new sv(t.getProvider("auth-internal")),new s1(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,bl.registerVersion)(pm,"3.4.8",n),(0,bl.registerVersion)(pm,"3.4.8","esm2017")}();class rb{constructor(e){this._delegate=e}static fromBase64String(e){return aM(),new rb(zu.fromBase64String(e))}static fromUint8Array(e){return oM(),new rb(zu.fromUint8Array(e))}toBase64(){return aM(),this._delegate.toBase64()}toUint8Array(){return oM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $I(n){return function xk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Pk{enableIndexedDbPersistence(e,t){return function jP(n,e){VN(n=fn(n,Dr));const t=ci(n),r=n._freezeSettings(),i=new d;return LN(t,i,new o(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function HP(n){VN(n=fn(n,Dr));const e=ci(n),t=n._freezeSettings(),r=new d;return LN(e,r,new u(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $P(n){if(n._initialized&&!n._terminated)throw new xe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Co.vt())return Promise.resolve();const i=r+"main";yield Co.delete(i)}),function(r){return t.apply(this,arguments)})(r0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof La||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Iu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function kP(n,e,t,r={}){var i;const a=(n=fn(n,J0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Iu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Ei.MOCK_USER;else{c=(0,Jt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ei(m)}n._authCredentials=new r1(new mm(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function zP(n){return function z0(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield Ae(n),t=yield rn(n);return e.setNetworkEnabled(!0),function(r){const i=et(r);return i.fu.delete(0),Ah(i)}(t)}))}(ci(n=fn(n,Dr)))}(this._delegate)}disableNetwork(){return function qP(n){return function q0(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield Ae(n),t=yield rn(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(i){const a=et(i);a.fu.add(0),yield dd(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ci(n=fn(n,Dr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function GP(n){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function wN(n,e){return ZE.apply(this,arguments)}(yield yn(e),t)})),t.promise}(ci(n=fn(n,Dr)))}(this._delegate)}onSnapshotsInSync(e){return function Ck(n,e){return function K0(n,e){const t=new p(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield ui(n),i=t,et(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield ui(n),i=t,void et(r).Eu.delete(i);var r,i}))}}(ci(n=fn(n,Dr)),PI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new s_(this,xN(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new qa(this,sC(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zs(this,function FP(n,e){if(n=fn(n,J0),xI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cs(n,null,(t=e,new Ba(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Tk(n,e){return function Y0(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const r=yield(i=n,qe(i).then(a=>a.datastore));var i;new C(n.asyncQueue,r,e,t).run()})),t.promise}(ci(n=fn(n,Dr)),t=>e(new Dk(n,t)))}(this._delegate,t=>e(new uM(this,t)))}batch(){return ci(this._delegate),new cM(new tM(this._delegate,e=>i_(this._delegate,e)))}loadBundle(e){return function WP(n,e){const t=ci(n=fn(n,Dr)),r=new VP;return function Q0(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,b){if(m instanceof Uint8Array)return h(m,b);if(m instanceof ArrayBuffer)return h(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new y(m,c);var m}(t,$u(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function IN(n,e,t){const r=et(n);var i;(i=(0,Ce.Z)(function*(a,c,f){try{const m=yield c.getMetadata();if(yield function(x,B){const G=et(x),Y=Br(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ye=>G._s.getBundleMetadata(ye,B.id)).then(ye=>!!ye&&ye.createTime.compareTo(Y)>=0)}(a.localStore,m))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(x=m).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);f._updateProgress(x0(m));const b=new gN(m,a.localStore,c.M);let T=yield c.da();for(;T;){const x=yield b.ku(T);x&&f._updateProgress(x),T=yield c.da()}const A=yield b.complete();return yield za(a,A.Fu,void 0),yield function(x,B){const G=et(x);return G.persistence.runTransaction("Save bundle","readwrite",Y=>G._s.saveBundleMetadata(Y,B))}(a.localStore,m),f._completeWith(A.progress),Promise.resolve(A.Ou)}catch(m){return Iu("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var x}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield yn(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function ZP(n,e){return function PP(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const i=et(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Et(n),e)}))}(ci(n=fn(n,Dr)),e).then(t=>t?new Cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zs(this,t):null)}}class fC extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new rb(new zu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qa.forKey(t,this.firestore,null)}}class uM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new fC(e)}get(e){const t=jp(e);return this._delegate.get(t).then(r=>new ib(this._firestore,new gd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=jp(e);return r?(HI("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=jp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}}class cM{constructor(e){this._delegate=e}set(e,t,r){const i=jp(e);return r?(HI("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=jp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Up{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new tb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Up.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Up(e,new fC(e),t),i.set(t,a)),a}}Up.INSTANCES=new WeakMap;class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qa(t,new pr(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new qa(t,new pr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new s_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new s_(this.firestore,xN(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Jt.m9)(e))instanceof pr&&PN(this._delegate,e)}set(e,t){t=HI("DocumentReference.set",t);try{return t?nM(this._delegate,e,t):nM(this._delegate,e)}catch(r){throw Gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?rM(this._delegate,e):rM(this._delegate,e,t,...r)}catch(i){throw Gs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function wk(n){return i_(fn(n.firestore,Dr),[new lp(n._key,Mr.none())])}(this._delegate)}onSnapshot(...e){const t=dM(e),r=hM(e,i=>new ib(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return iM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function mk(n){n=fn(n,pr);const e=fn(n.firestore,Dr),t=ci(e),r=new Bp(e);return function W0(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,a,c){try{const f=yield function(m,b){const T=et(m);return T.persistence.runTransaction("read document","readonly",A=>T.ci.Ls(A,b))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new xe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=Oh(f,`Failed to get document '${a} from cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield Et(n),e,t);var r})),t.promise}(t,n._key).then(i=>new gd(e,r,n._key,i,new Vp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function _k(n){n=fn(n,pr);const e=fn(n.firestore,Dr);return n_(ci(e),n._key,{source:"server"}).then(t=>jI(e,n,t))}(this._delegate):function gk(n){n=fn(n,pr);const e=fn(n.firestore,Dr);return n_(ci(e),n._key).then(t=>jI(e,n,t))}(this._delegate),t.then(r=>new ib(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function dM(n){for(const e of n)if("object"==typeof e&&!$I(e))return e;return{}}function hM(n,e){var t,r;let i;return i=$I(n[0])?n[0]:$I(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ib{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qN(this._delegate,e._delegate)}}class sb extends ib{data(e){const t=this._delegate.data(e);return function mT(n,e){n||dt()}(void 0!==t),t}}class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fC(e)}where(e,t,r){try{return new zs(this.firestore,Fh(this._delegate,function sk(n,e,t){const r=e,i=dC("where",n);return new ik(i,r,t)}(e,t,r)))}catch(i){throw Gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zs(this.firestore,Fh(this._delegate,function ak(n,e="asc"){const t=e,r=dC("orderBy",n);return new ok(r,t)}(e,t)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zs(this.firestore,Fh(this._delegate,function lk(n){return ON("limit",n),new ZN("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zs(this.firestore,Fh(this._delegate,function uk(n){return ON("limitToLast",n),new ZN("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zs(this.firestore,Fh(this._delegate,function ck(...n){return new KN("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zs(this.firestore,Fh(this._delegate,function dk(...n){return new KN("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zs(this.firestore,Fh(this._delegate,function hk(...n){return new YN("endBefore",n,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zs(this.firestore,Fh(this._delegate,function fk(...n){return new YN("endAt",n,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return kN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function vk(n){n=fn(n,Cs);const e=fn(n.firestore,Dr),t=ci(e),r=new Bp(e);return function Z0(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,a,c){try{const f=yield Dp(i,a,!0),m=new GE(a,f.li),b=m.Gu(f.documents),T=m.applyChanges(b,!1);c.resolve(T.snapshot)}catch(f){const m=Oh(f,`Failed to execute query '${a} against cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield Et(n),e,t);var r})),t.promise}(t,n._query).then(i=>new kh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function bk(n){n=fn(n,Cs);const e=fn(n.firestore,Dr),t=ci(e),r=new Bp(e);return r_(t,n._query,{source:"server"}).then(i=>new kh(e,r,n,i))}(this._delegate):function yk(n){n=fn(n,Cs);const e=fn(n.firestore,Dr),t=ci(e),r=new Bp(e);return WN(n._query),r_(t,n._query).then(i=>new kh(e,r,n,i))}(this._delegate),t.then(r=>new GI(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=dM(e),r=hM(e,i=>new GI(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return iM(this._delegate,t,r)}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}class Fk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Fk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sb(this._firestore,r))})}isEqual(e){return qN(this._delegate,e._delegate)}}class s_ extends zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qa(this.firestore,e):null}doc(e){try{return new qa(this.firestore,void 0===e?sC(this._delegate):sC(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function Ek(n,e){const t=fn(n.firestore,Dr),r=sC(n),i=hC(n.converter,e);return i_(t,[lC(Fp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new qa(this.firestore,t))}isEqual(e){return PN(this._delegate,e._delegate)}withConverter(e){return new s_(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function jp(n){return fn(n,pr)}class zI{constructor(...e){this._delegate=new pd(...e)}static documentId(){return new zI(Ci.keyField().canonicalString())}isEqual(e){return(e=(0,Jt.m9)(e))instanceof pd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Sk(){return new kI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=function Ik(){return new X0("deleteField")}();return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function Ak(...n){return new JP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function Nk(...n){return new XP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function Mk(n){return new ek("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Lk={Firestore:lM,GeoPoint:oC,Timestamp:Er,Blob:rb,Transaction:uM,WriteBatch:cM,DocumentReference:qa,DocumentSnapshot:ib,Query:zs,QueryDocumentSnapshot:sb,QuerySnapshot:GI,CollectionReference:s_,FieldPath:zI,FieldValue:Hp,setLogLevel:function kk(n){!function iv(n){yo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Bk(n){(function Vk(n,e){n.INTERNAL.registerComponent(new jg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Lk)))})(n,(e,t)=>new lM(e,t,new Pk)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(zA.Z);var fM=P(6451),pC=P(5363),Uk=P(6063);class jk extends En.x{constructor(e=1/0,t=1/0,r=Uk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var Hk=P(3099);function pM(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,Hk.B)({connector:()=>new jk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function gM(n,e){return(0,gi.m)(e)?Bn(()=>n,e):Bn(()=>n)}var qI=P(9468),$p=P(5867);class o_{constructor(e){return e}}class mM{constructor(){return(0,$p.C6)()}}const WI=new l.OlP("angularfire2._apps"),Gk={provide:o_,useFactory:function $k(n){return n&&1===n.length?n[0]:new o_((0,$p.Mq)())},deps:[[new l.FiY,WI]]},zk={provide:mM,deps:[[new l.FiY,WI]]};function qk(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new o_(r)}}let Wk=(()=>{class n{constructor(t){(0,$p.KN)("angularfire",jn.q4.full,"core"),(0,$p.KN)("angularfire",jn.q4.full,"app"),(0,$p.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Gk,zk]}),n})();function Zk(n,...e){return{ngModule:Wk,providers:[{provide:WI,useFactory:qk(n),multi:!0,deps:[l.R0b,l.zs3,jn.HU,...e]}]}}const Kk=(0,jn.u3)($p.ZF,!0),_M=new Map,Yk={activated:!1,tokenObservers:[]},Qk={initialized:!1,enabled:!1};function $i(n){return _M.get(n)||Yk}function jl(n,e){_M.set(n,e)}function gC(){return Qk}class nF{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new Jt.BH,yield function rF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const qs=new Jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vM(n){if(!$i(n).activated)throw qs.create("use-before-activation",{appName:n.name})}function YI(n,e){return QI.apply(this,arguments)}function QI(){return QI=(0,Ce.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(A){throw qs.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==c.status)throw qs.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw qs.create("fetch-parse-error",{originalErrorMessage:A.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(m[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),QI.apply(this,arguments)}function lF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ob="firebase-app-check-store";let yC=null;function wM(){return yC||(yC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(qs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ob,{keyPath:"compositeKey"})}}catch(t){e(qs.create("storage-open",{originalErrorMessage:t.message}))}}),yC)}function JI(){return JI=(0,Ce.Z)(function*(n,e){const r=(yield wM()).transaction(ob,"readwrite"),a=r.objectStore(ob).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var b;f(qs.create("storage-set",{originalErrorMessage:null===(b=m.target.error)||void 0===b?void 0:b.message}))}})}),JI.apply(this,arguments)}const ab=new bu.Yd("@firebase/app-check");function TM(n,e){return(0,Jt.hl)()?function hF(n,e){return function EM(n,e){return JI.apply(this,arguments)}(function DM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ab.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IM(){return gC().enabled}function SM(){return nS.apply(this,arguments)}function nS(){return nS=(0,Ce.Z)(function*(){const n=gC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),nS.apply(this,arguments)}const yF={error:"UNKNOWN_ERROR"};function vF(n){return Jt.US.encodeString(JSON.stringify(n),!1)}function vC(n){return rS.apply(this,arguments)}function rS(){return rS=(0,Ce.Z)(function*(n,e=!1){const t=n.app;vM(t);const r=$i(t);let a,i=r.token;if(!i){const m=yield r.cachedTokenPromise;m&&bC(m)&&(i=m)}if(!e&&i&&bC(i))return{token:i.token};let f,c=!1;if(IM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=YI(lF(t,yield SM()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const m=yield r.exchangeTokenPromise;return yield TM(t,m),jl(t,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(m=>(r.exchangeTokenPromise=void 0,m)),c=!0),i=yield r.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?ab.warn(m.message):ab.error(m),a=m}return i?(f={token:i.token},jl(t,Object.assign(Object.assign({},r),{token:i})),yield TM(t,i)):f=wF(a),c&&NM(t,f),f}),rS.apply(this,arguments)}function sS(n,e){const t=$i(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),jl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function AM(n){const{app:e}=n,t=$i(e);let r=t.tokenRefresher;r||(r=function bF(n){const{app:e}=n;return new nF((0,Ce.Z)(function*(){let r;if(r=$i(e).token?yield vC(n,!0):yield vC(n),r.error)throw r.error}),()=>!0,()=>{const t=$i(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),jl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function NM(n,e){const t=$i(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function bC(n){return n.expireTimeMillis-Date.now()>0}function wF(n){return{token:vF(yF),error:n}}class EF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=$i(this.app);for(const t of e)sS(this.app,t.next);return Promise.resolve()}}const LM="app-check-internal";!function FF(){(0,bl._registerComponent)(new jg.wA("app-check",n=>function CF(n,e){return new EF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(LM).initialize()})),(0,bl._registerComponent)(new jg.wA(LM,n=>function DF(n){return{getToken:e=>vC(n,e),addTokenListener:e=>function iS(n,e,t,r){const{app:i}=n,a=$i(i),c={next:t,error:r,type:e};if(jl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&bC(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),AM(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>AM(n))}(n,"INTERNAL",e),removeTokenListener:e=>sS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bl.registerVersion)("@firebase/app-check","0.5.7")}();class EC{constructor(){return(0,jn.vb)("app-check")}}"undefined"!=typeof window&&window,P(127);const BM=new l.OlP("angularfire2.auth.use-emulator"),UM=new l.OlP("angularfire2.auth.settings"),jM=new l.OlP("angularfire2.auth.tenant-id"),HM=new l.OlP("angularfire2.auth.langugage-code"),$M=new l.OlP("angularfire2.auth.use-device-language"),GM=new l.OlP("angularfire.auth.persistence"),zM=(n,e,t,r,i,a,c,f)=>(0,_s.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))m.settings[b]=T;return f&&m.setPersistence(f),m},[t,r,i,a,c,f]);let qM=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A,x,B){const G=new En.x,Y=bt(void 0).pipe((0,pC.Q)(c.outsideAngular),Bn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,xt.U)(()=>(0,_s.on)(t,a,r)),(0,xt.U)(ye=>zM(ye,a,f,b,T,A,m,x)),pM({bufferSize:1,refCount:!1}));if(ca(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Y.pipe(Uo()).subscribe();const He=Y.pipe(Bn(Be=>Be.getRedirectResult().then(nt=>nt,()=>null)),jn.iC,pM({bufferSize:1,refCount:!1})),ke=Y.pipe(Bn(Be=>new xn.y(nt=>({unsubscribe:a.runOutsideAngular(()=>Be.onAuthStateChanged(at=>nt.next(at),at=>nt.error(at),()=>nt.complete()))})))),Qe=Y.pipe(Bn(Be=>new xn.y(nt=>({unsubscribe:a.runOutsideAngular(()=>Be.onIdTokenChanged(at=>nt.next(at),at=>nt.error(at),()=>nt.complete()))}))));this.authState=He.pipe(gM(ke),(0,qI.R)(c.outsideAngular),(0,pC.Q)(c.insideAngular)),this.user=He.pipe(gM(Qe),(0,qI.R)(c.outsideAngular),(0,pC.Q)(c.insideAngular)),this.idToken=this.user.pipe(Bn(Be=>Be?(0,Vn.D)(Be.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(Bn(Be=>Be?(0,Vn.D)(Be.getIdTokenResult()):bt(null))),this.credential=(0,fM.T)(He,G,this.authState.pipe(ir(Be=>!Be))).pipe((0,xt.U)(Be=>(null==Be?void 0:Be.user)?Be:null),(0,qI.R)(c.outsideAngular),(0,pC.Q)(c.insideAngular))}return(0,_s.pX)(this,Y,a,{spy:{apply:(ye,He,ke)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&ke.then(Qe=>G.next(Qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_s.Dh),l.LFG(_s.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(jn.HU),l.LFG(BM,8),l.LFG(UM,8),l.LFG(jM,8),l.LFG(HM,8),l.LFG($M,8),l.LFG(GM,8),l.LFG(EC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function WM(n,e){return function HF(n,e=Ug.z){return new xn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function cS(n,e){return WM(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function CC(n,e){return cS(n,e).pipe(si(void 0),qd(),(0,xt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const m=i.find(T=>T.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function ZM(n,e,t){return CC(n,t).pipe(Pi((r,i)=>function GF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function zF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return dS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return dS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function Rc(n,e=Ki.y){return n=null!=n?n:ty,(0,cr.e)((t,r)=>{let i,a=!0;t.subscribe((0,gn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,xt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function dS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function KM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class YM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(si(void 0),qd(),ir(([r,i])=>i.length>0||!r),(0,xt.U)(([r,i])=>i),jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=KM(e);return ZM(this.query,t,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return cS(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),jn.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(jn.iC)}add(e){return this.ref.add(e)}doc(e){return new QM(this.ref.doc(e),this.afs)}}class QM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=JM(r,t);return new YM(i,a,this.afs)}snapshotChanges(){return function $F(n,e){return WM(n,e).pipe(si(void 0),qd(),(0,xt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Vn.D)(this.ref.get(e)).pipe(jn.iC)}}class qF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CC(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ir(t=>t.length>0),jn.iC):CC(this.query,this.afs.schedulers.outsideAngular).pipe(jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=KM(e);return ZM(this.query,t,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return cS(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),jn.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(jn.iC)}}const WF=new l.OlP("angularfire2.enableFirestorePersistence"),ZF=new l.OlP("angularfire2.firestore.persistenceSettings"),KF=new l.OlP("angularfire2.firestore.settings"),YF=new l.OlP("angularfire2.firestore.use-emulator");function JM(n,e=(t=>t)){return{query:e(n),ref:n}}let QF=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A,x,B,G,Y,ye,He,ke){this.schedulers=m;const Qe=(0,_s.on)(t,f,r),Be=T;A&&zM(Qe,f,x,G,Y,ye,B,He),[this.firestore,this.persistenceEnabled$]=(0,_s.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const nt=f.runOutsideAngular(()=>Qe.firestore());if(a&&nt.settings(a),Be&&nt.useEmulator(...Be),i&&!ca(c)){const at=()=>{try{return(0,Vn.D)(nt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(vt){return"undefined"!=typeof console&&console.warn(vt),bt(!1)}};return[nt,f.runOutsideAngular(at)]}return[nt,bt(!1)]},[a,Be,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=JM(i,r),f=this.schedulers.ngZone.run(()=>a);return new YM(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new qF(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new QM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_s.Dh),l.LFG(_s.xv,8),l.LFG(WF,8),l.LFG(KF,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(jn.HU),l.LFG(ZF,8),l.LFG(YF,8),l.LFG(qM,8),l.LFG(BM,8),l.LFG(UM,8),l.LFG(jM,8),l.LFG(HM,8),l.LFG($M,8),l.LFG(GM,8),l.LFG(EC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DC=(()=>{class n{constructor(t){this.firestore=t}getProductosMascotaService(){return this.firestore.collection("productosMascotasBD").snapshotChanges()}getProductosRefrigeracionService(){return this.firestore.collection("productosRefrigeracionBD").snapshotChanges()}getProductosOportunidadesService(){return this.firestore.collection("productosOportunidadesBD").snapshotChanges()}getPreciosAires(){return this.firestore.collection("preciosAireBD").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(QF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JF=(()=>{class n{constructor(t,r){this._productosOportunidadesService=t,this.spinner=r,this.precioAires=[]}ngOnInit(){this.getPrecioAires(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}getPrecioAires(){this._productosOportunidadesService.getPreciosAires().subscribe(t=>{this.precioAires=[],t.forEach(r=>{this.precioAires.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.precioAires)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DC),l.Y36(vu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-aires"]],decls:67,vars:9,consts:[[1,"container"],[1,"title",2,"text-align","center"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[1,"rwd-table"],["scope","col",2,"color","white"],[2,"color","white","font-size","larger"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["href","https://api.whatsapp.com/send?phone=+5491156918203&text= Hola, estoy interesado con la instalacion de aires acondicionados. %0D%0A Muchas gracias.","target","_blank",1,"fab"],[1,"fa","fa-whatsapp","my-float"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Productos de Refrigeracion "),l.qZA()(),l.TgZ(5,"div",2),l._UZ(6,"div",3),l.TgZ(7,"div",4),l._UZ(8,"i",5),l.qZA(),l._UZ(9,"div",3),l.qZA(),l.TgZ(10,"div")(11,"div")(12,"h3",6),l._uU(13,"Compra de productos de refrigeracion"),l.qZA(),l.TgZ(14,"div"),l._UZ(15,"ngx-spinner",7),l.qZA(),l.TgZ(16,"div",0)(17,"table",8)(18,"tr")(19,"th",9),l._uU(20,"Descripcion"),l.qZA(),l.TgZ(21,"th",9),l._uU(22,"Sobre piso"),l.qZA(),l.TgZ(23,"th",9),l._uU(24,"En vacio"),l.qZA()(),l.TgZ(25,"tr")(26,"td",10),l._uU(27," 2200 a 3000 frigorias. "),l.qZA(),l.TgZ(28,"td",10),l._uU(29),l.qZA(),l.TgZ(30,"td",10),l._uU(31),l.qZA()(),l.TgZ(32,"tr")(33,"td",10),l._uU(34," 3000 a 4500 frigorias. "),l.qZA(),l.TgZ(35,"td",10),l._uU(36),l.qZA(),l.TgZ(37,"td",10),l._uU(38),l.qZA()(),l.TgZ(39,"tr")(40,"td",10),l._uU(41," 4500 a 6000 frigorias. "),l.qZA(),l.TgZ(42,"td",10),l._uU(43),l.qZA(),l.TgZ(44,"td",10),l._uU(45),l.qZA()(),l.TgZ(46,"tr")(47,"td",10),l._uU(48," Reivision + Carga de gas. "),l.qZA(),l.TgZ(49,"td",10),l._uU(50),l.qZA(),l.TgZ(51,"td",10),l._uU(52),l.qZA()(),l.TgZ(53,"tr")(54,"td",10),l._uU(55,"Visita"),l.qZA(),l.TgZ(56,"td",10),l._uU(57),l.qZA(),l._UZ(58,"td",10),l.qZA()()(),l.TgZ(59,"div",11),l._uU(60," > "),l._UZ(61,"link",12),l.TgZ(62,"a",13)(63,"i",14),l._uU(64,"HACE TU CONSULTA"),l.qZA()()(),l._UZ(65,"br")(66,"br"),l.qZA()()()),2&t&&(l.xp6(29),l.hij("$",r.precioAires[0].sobrePiso," "),l.xp6(2),l.hij("$",r.precioAires[0].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[1].sobrePiso,""),l.xp6(2),l.hij("$",r.precioAires[1].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[2].sobrePiso,""),l.xp6(2),l.hij("$",r.precioAires[2].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[3].sobrePiso,""),l.xp6(2),l.hij("$",r.precioAires[3].enVacio,""),l.xp6(5),l.hij("$",r.precioAires[4].precioVisita,""))},directives:[zd],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})(),XM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Gp=(()=>{class n extends XM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Do=new l.OlP("NgValueAccessor"),tL={provide:Do,useExisting:(0,l.Gpc)(()=>lb),multi:!0},rL=new l.OlP("CompositionEventMode");let lb=(()=>{class n extends XM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nL(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(rL,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([tL]),l.qOj]}),n})();const ns=new l.OlP("NgValidators"),Bh=new l.OlP("NgAsyncValidators");function iO(n){return function Vh(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function TC(n){return null}function cO(n){return null!=n}function dO(n){const e=(0,l.QGY)(n)?(0,Vn.D)(n):n;return(0,l.CqO)(e),e}function hO(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function fO(n,e){return e.map(t=>t(n))}function pO(n){return n.map(e=>function sL(n){return!n.validate}(e)?e:t=>e.validate(t))}function hS(n){return null!=n?function gO(n){if(!n)return null;const e=n.filter(cO);return 0==e.length?null:function(t){return hO(fO(t,e))}}(pO(n)):null}function fS(n){return null!=n?function mO(n){if(!n)return null;const e=n.filter(cO);return 0==e.length?null:function(t){return function XF(...n){const e=(0,br.jO)(n),{args:t,keys:r}=xs(n),i=new xn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let m=c,b=c;for(let T=0;T<c;T++){let A=!1;(0,ii.Xf)(t[T]).subscribe((0,gn.x)(a,x=>{A||(A=!0,b--),f[T]=x},()=>m--,void 0,()=>{(!m||!A)&&(b||a.next(r?ll(r,f):f),a.complete())}))}});return e?i.pipe(Ea(e)):i}(fO(t,e).map(dO)).pipe((0,xt.U)(hO))}}(pO(n)):null}function _O(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pS(n){return n?Array.isArray(n)?n:[n]:[]}function IC(n,e){return Array.isArray(n)?n.includes(e):n===e}function bO(n,e){const t=pS(e);return pS(n).forEach(i=>{IC(t,i)||t.push(i)}),t}function wO(n,e){return pS(e).filter(t=>!IC(n,t))}class EO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Uh extends EO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ws extends EO{get formDirective(){return null}get path(){return null}}class CO{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let gS=(()=>{class n extends CO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Uh,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),mS=(()=>{class n extends CO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ws,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function ub(n,e){vS(n,e),e.valueAccessor.writeValue(n.value),function fL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&TO(n,e)})}(n,e),function gL(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&TO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hL(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function MC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vS(n,e){const t=function yO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(_O(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function vO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(_O(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();MC(e._rawValidators,i),MC(e._rawAsyncValidators,i)}function TO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ES(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const cb="VALID",RC="INVALID",a_="PENDING",db="DISABLED";function DS(n){return(xC(n)?n.validators:n)||null}function NO(n){return Array.isArray(n)?hS(n):n||null}function TS(n,e){return(xC(e)?e.asyncValidators:n)||null}function MO(n){return Array.isArray(n)?fS(n):n||null}function xC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const IS=n=>n instanceof AS;function RO(n){return(n=>n instanceof kO)(n)?n.value:n.getRawValue()}function xO(n,e){const t=IS(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function PO(n,e){IS(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})}class SS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=NO(this._rawValidators),this._composedAsyncValidatorFn=MO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cb}get invalid(){return this.status===RC}get pending(){return this.status==a_}get disabled(){return this.status===db}get enabled(){return this.status!==db}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=NO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=MO(e)}addValidators(e){this.setValidators(bO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wO(e,this._rawAsyncValidators))}hasValidator(e){return IC(this._rawValidators,e)}hasAsyncValidator(e){return IC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=a_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=db,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cb,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cb||this.status===a_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?db:cb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=a_,this._hasOwnPendingAsyncValidator=!0;const t=dO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function vL(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=IS(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof wL)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?db:this.errors?RC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(a_)?a_:this._anyControlsHaveStatus(RC)?RC:cb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class kO extends SS{constructor(e=null,t,r){super(DS(t),TS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xC(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ES(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ES(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class AS extends SS{constructor(e,t,r){super(DS(t),TS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PO(this,e),Object.keys(e).forEach(r=>{xO(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=RO(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class wL extends SS{constructor(e,t,r){super(DS(t),TS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PO(this,e),e.forEach((r,i)=>{xO(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>RO(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const EL={provide:Ws,useExisting:(0,l.Gpc)(()=>fb)},hb=(()=>Promise.resolve(null))();let fb=(()=>{class n extends Ws{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new AS({},hS(t),fS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){hb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ub(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){hb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){hb.then(()=>{const r=this._findContainer(t.path),i=new AS({});(function IO(n,e){vS(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){hb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){hb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function AO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ns,10),l.Y36(Bh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([EL]),l.qOj]}),n})();const DL={provide:Uh,useExisting:(0,l.Gpc)(()=>PC)},VO=(()=>Promise.resolve(null))();let PC=(()=>{class n extends Uh{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new kO,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function wS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===lb?t=a:function yL(n){return Object.getPrototypeOf(n.constructor)===Gp}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function bS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ub(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){VO.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;VO.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function AC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ws,9),l.Y36(ns,10),l.Y36(Bh,10),l.Y36(Do,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([DL]),l.qOj,l.TTD]}),n})(),NS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const PL={provide:Do,useExisting:(0,l.Gpc)(()=>xS),multi:!0};function WO(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let xS=(()=>{class n extends Gp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=WO(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function kL(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([PL]),l.qOj]}),n})(),ZO=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(WO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(xS,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const FL={provide:Do,useExisting:(0,l.Gpc)(()=>PS),multi:!0};function KO(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let PS=(()=>{class n extends Gp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,c)=>{a._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const c=a;for(let f=0;f<c.length;f++){const b=this._getOptionValue(c[f].value);i.push(b)}}else{const c=r.options;for(let f=0;f<c.length;f++){const m=c[f];if(m.selected){const b=this._getOptionValue(m.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function LL(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([FL]),l.qOj]}),n})(),YO=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(KO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(KO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(PS,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),zp=(()=>{class n{constructor(){this._validator=TC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):TC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const jL={provide:ns,useExisting:(0,l.Gpc)(()=>pb),multi:!0};let pb=(()=>{class n extends zp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function VL(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>iO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([jL]),l.qOj]}),n})(),WL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[UO]]}),n})(),oR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[WL]}),n})();var ZL=P(1144);const KL=["addListener","removeListener"],YL=["addEventListener","removeEventListener"],QL=["on","off"];function rs(n,e,t,r){if((0,gi.m)(t)&&(r=t,t=void 0),r)return rs(n,e,t).pipe(Ea(r));const[i,a]=function e2(n){return(0,gi.m)(n.addEventListener)&&(0,gi.m)(n.removeEventListener)}(n)?YL.map(c=>f=>n[c](e,f,t)):function JL(n){return(0,gi.m)(n.addListener)&&(0,gi.m)(n.removeListener)}(n)?KL.map(aR(n,e)):function XL(n){return(0,gi.m)(n.on)&&(0,gi.m)(n.off)}(n)?QL.map(aR(n,e)):[];if(!i&&(0,ZL.z)(n))return(0,Sn.z)(c=>rs(c,e,t))((0,ii.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new xn.y(c=>{const f=(...m)=>c.next(1<m.length?m:m[0]);return i(f),()=>a(f)})}function aR(n,e){return t=>r=>n[t](e,r)}var t2=P(3532);function kS(n=0,e,t=Ug.P){let r=-1;return null!=e&&((0,t2.K)(e)?t=e:r=e),new xn.y(i=>{let a=function n2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:r2}=Array;function lR(n){return 1===n.length&&r2(n[0])?n[0]:n}function uR(...n){return 1===(n=lR(n)).length?(0,ii.Xf)(n[0]):new xn.y(function s2(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ii.Xf)(n[r]).subscribe((0,gn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))}function kC(...n){const e=(0,br.jO)(n),t=lR(n);return t.length?new xn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,ii.Xf)(t[c]).subscribe((0,gn.x)(r,f=>{if(i[c].push(f),i.every(m=>m.length)){const m=i.map(b=>b.shift());r.next(e?e(...m):m),i.some((b,T)=>!b.length&&a[T])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):uo.E}function FS(...n){const e=(0,br.jO)(n);return(0,cr.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,ii.Xf)(n[m]).subscribe((0,gn.x)(r,b=>{a[m]=b,!f&&!c[m]&&(c[m]=!0,(f=c.every(Ki.y))&&(c=null))},Lg.Z));t.subscribe((0,gn.x)(r,m=>{if(f){const b=[m,...a];r.next(e?e(...b):b)}}))})}function dR(n,e){return e?t=>fc(e.pipe((0,rr.q)(1),function a2(){return(0,cr.e)((n,e)=>{n.subscribe((0,gn.x)(e,Lg.Z))})}()),t.pipe(dR(n))):(0,Sn.z)((t,r)=>n(t,r).pipe((0,rr.q)(1),function l2(n){return(0,xt.U)(()=>n)}(t)))}new xn.y(Lg.Z);var d2={left:"right",right:"left",bottom:"top",top:"bottom"};function FC(n){return n.replace(/left|right|bottom|top/g,function(e){return d2[e]})}function qu(n){return n.split("-")[0]}var h2={start:"end",end:"start"};function hR(n){return n.replace(/start|end/g,function(e){return h2[e]})}var Xo="top",Hl="bottom",$l="right",ea="left",LS="auto",gb=[Xo,Hl,$l,ea],l_="start",mb="end",fR="viewport",_b="popper",pR=gb.reduce(function(n,e){return n.concat([e+"-"+l_,e+"-"+mb])},[]),gR=[].concat(gb,[LS]).reduce(function(n,e){return n.concat([e,e+"-"+l_,e+"-"+mb])},[]),D2=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Gl(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function u_(n){return n instanceof Gl(n).Element||n instanceof Element}function Wa(n){return n instanceof Gl(n).HTMLElement||n instanceof HTMLElement}function VS(n){return"undefined"!=typeof ShadowRoot&&(n instanceof Gl(n).ShadowRoot||n instanceof ShadowRoot)}function jh(n){return((u_(n)?n.ownerDocument:n.document)||window.document).documentElement}var qp=Math.max,LC=Math.min,c_=Math.round;function d_(n,e){void 0===e&&(e=!1);var t=n.getBoundingClientRect(),r=1,i=1;if(Wa(n)&&e){var a=n.offsetHeight,c=n.offsetWidth;c>0&&(r=c_(t.width)/c||1),a>0&&(i=c_(t.height)/a||1)}return{width:t.width/r,height:t.height/i,top:t.top/i,right:t.right/r,bottom:t.bottom/i,left:t.left/r,x:t.left/r,y:t.top/i}}function BS(n){var e=Gl(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function US(n){return d_(jh(n)).left+BS(n).scrollLeft}function md(n){return Gl(n).getComputedStyle(n)}function Wu(n){return n?(n.nodeName||"").toLowerCase():null}function VC(n){return"html"===Wu(n)?n:n.assignedSlot||n.parentNode||(VS(n)?n.host:null)||jh(n)}function jS(n){var e=md(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function mR(n){return["html","body","#document"].indexOf(Wu(n))>=0?n.ownerDocument.body:Wa(n)&&jS(n)?n:mR(VC(n))}function yb(n,e){var t;void 0===e&&(e=[]);var r=mR(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),a=Gl(r),c=i?[a].concat(a.visualViewport||[],jS(r)?r:[]):r,f=e.concat(c);return i?f:f.concat(yb(VC(c)))}function S2(n){return["table","td","th"].indexOf(Wu(n))>=0}function _R(n){return Wa(n)&&"fixed"!==md(n).position?n.offsetParent:null}function vb(n){for(var e=Gl(n),t=_R(n);t&&S2(t)&&"static"===md(t).position;)t=_R(t);return t&&("html"===Wu(t)||"body"===Wu(t)&&"static"===md(t).position)?e:t||function A2(n){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Wa(n)&&"fixed"===md(n).position)return null;var i=VC(n);for(VS(i)&&(i=i.host);Wa(i)&&["html","body"].indexOf(Wu(i))<0;){var a=md(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(n)||e}function yR(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&VS(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function HS(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function vR(n,e){return e===fR?HS(function T2(n){var e=Gl(n),t=jh(n),r=e.visualViewport,i=t.clientWidth,a=t.clientHeight,c=0,f=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,f=r.offsetTop)),{width:i,height:a,x:c+US(n),y:f}}(n)):u_(e)?function N2(n){var e=d_(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(e):HS(function I2(n){var e,t=jh(n),r=BS(n),i=null==(e=n.ownerDocument)?void 0:e.body,a=qp(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=qp(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+US(n),m=-r.scrollTop;return"rtl"===md(i||t).direction&&(f+=qp(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:c,x:f,y:m}}(jh(n)))}function h_(n){return n.split("-")[1]}function $S(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function bR(n){var m,e=n.reference,t=n.element,r=n.placement,i=r?qu(r):null,a=r?h_(r):null,c=e.x+e.width/2-t.width/2,f=e.y+e.height/2-t.height/2;switch(i){case Xo:m={x:c,y:e.y-t.height};break;case Hl:m={x:c,y:e.y+e.height};break;case $l:m={x:e.x+e.width,y:f};break;case ea:m={x:e.x-t.width,y:f};break;default:m={x:e.x,y:e.y}}var b=i?$S(i):null;if(null!=b){var T="y"===b?"height":"width";switch(a){case l_:m[b]=m[b]-(e[T]/2-t[T]/2);break;case mb:m[b]=m[b]+(e[T]/2-t[T]/2)}}return m}function ER(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function CR(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function GS(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,a=e.boundary,c=void 0===a?"clippingParents":a,f=e.rootBoundary,m=void 0===f?fR:f,b=e.elementContext,T=void 0===b?_b:b,A=e.altBoundary,x=void 0!==A&&A,B=e.padding,G=void 0===B?0:B,Y=ER("number"!=typeof G?G:CR(G,gb)),He=n.rects.popper,ke=n.elements[x?T===_b?"reference":_b:T],Qe=function O2(n,e,t){var r="clippingParents"===e?function M2(n){var e=yb(VC(n)),r=["absolute","fixed"].indexOf(md(n).position)>=0&&Wa(n)?vb(n):n;return u_(r)?e.filter(function(i){return u_(i)&&yR(i,r)&&"body"!==Wu(i)}):[]}(n):[].concat(e),i=[].concat(r,[t]),c=i.reduce(function(f,m){var b=vR(n,m);return f.top=qp(b.top,f.top),f.right=LC(b.right,f.right),f.bottom=LC(b.bottom,f.bottom),f.left=qp(b.left,f.left),f},vR(n,i[0]));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(u_(ke)?ke:ke.contextElement||jh(n.elements.popper),c,m),Be=d_(n.elements.reference),nt=bR({reference:Be,element:He,strategy:"absolute",placement:i}),at=HS(Object.assign({},He,nt)),vt=T===_b?at:Be,Vt={top:Qe.top-vt.top+Y.top,bottom:vt.bottom-Qe.bottom+Y.bottom,left:Qe.left-vt.left+Y.left,right:vt.right-Qe.right+Y.right},Xn=n.modifiersData.offset;if(T===_b&&Xn){var er=Xn[i];Object.keys(Vt).forEach(function(gr){var ss=[$l,Hl].indexOf(gr)>=0?1:-1,Qr=[Xo,Hl].indexOf(gr)>=0?"y":"x";Vt[gr]+=er[Qr]*ss})}return Vt}const k2={name:"flip",enabled:!0,phase:"main",fn:function P2(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=void 0===i||i,c=t.altAxis,f=void 0===c||c,m=t.fallbackPlacements,b=t.padding,T=t.boundary,A=t.rootBoundary,x=t.altBoundary,B=t.flipVariations,G=void 0===B||B,Y=t.allowedAutoPlacements,ye=e.options.placement,He=qu(ye),Qe=m||(He!==ye&&G?function x2(n){if(qu(n)===LS)return[];var e=FC(n);return[hR(n),e,hR(e)]}(ye):[FC(ye)]),Be=[ye].concat(Qe).reduce(function(On,ql){return On.concat(qu(ql)===LS?function R2(n,e){void 0===e&&(e={});var i=e.boundary,a=e.rootBoundary,c=e.padding,f=e.flipVariations,m=e.allowedAutoPlacements,b=void 0===m?gR:m,T=h_(e.placement),A=T?f?pR:pR.filter(function(G){return h_(G)===T}):gb,x=A.filter(function(G){return b.indexOf(G)>=0});0===x.length&&(x=A);var B=x.reduce(function(G,Y){return G[Y]=GS(n,{placement:Y,boundary:i,rootBoundary:a,padding:c})[qu(Y)],G},{});return Object.keys(B).sort(function(G,Y){return B[G]-B[Y]})}(e,{placement:ql,boundary:T,rootBoundary:A,padding:b,flipVariations:G,allowedAutoPlacements:Y}):ql)},[]),nt=e.rects.reference,at=e.rects.popper,vt=new Map,Vt=!0,Xn=Be[0],er=0;er<Be.length;er++){var gr=Be[er],ss=qu(gr),Qr=h_(gr)===l_,zh=[Xo,Hl].indexOf(ss)>=0,qh=zh?"width":"height",it=GS(e,{placement:gr,boundary:T,rootBoundary:A,altBoundary:x,padding:b}),pt=zh?Qr?$l:ea:Qr?Hl:Xo;nt[qh]>at[qh]&&(pt=FC(pt));var Ot=FC(pt),Xt=[];if(a&&Xt.push(it[ss]<=0),f&&Xt.push(it[pt]<=0,it[Ot]<=0),Xt.every(function(On){return On})){Xn=gr,Vt=!1;break}vt.set(gr,Xt)}if(Vt)for(var So=function(ql){var rg=Be.find(function(di){var Ks=vt.get(di);if(Ks)return Ks.slice(0,ql).every(function(Ya){return Ya})});if(rg)return Xn=rg,"break"},Ni=G?3:1;Ni>0&&"break"!==So(Ni);Ni--);e.placement!==Xn&&(e.modifiersData[r]._skip=!0,e.placement=Xn,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function bb(n,e,t){return qp(n,LC(e,t))}function zS(n){var e=d_(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const B2={name:"preventOverflow",enabled:!0,phase:"main",fn:function V2(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=void 0===i||i,c=t.altAxis,f=void 0!==c&&c,x=t.tether,B=void 0===x||x,G=t.tetherOffset,Y=void 0===G?0:G,ye=GS(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),He=qu(e.placement),ke=h_(e.placement),Qe=!ke,Be=$S(He),nt=function F2(n){return"x"===n?"y":"x"}(Be),at=e.modifiersData.popperOffsets,vt=e.rects.reference,Vt=e.rects.popper,Xn="function"==typeof Y?Y(Object.assign({},e.rects,{placement:e.placement})):Y,er="number"==typeof Xn?{mainAxis:Xn,altAxis:Xn}:Object.assign({mainAxis:0,altAxis:0},Xn),gr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ss={x:0,y:0};if(at){if(a){var Qr,zh="y"===Be?Xo:ea,qh="y"===Be?Hl:$l,it="y"===Be?"height":"width",pt=at[Be],Ot=pt+ye[zh],Xt=pt-ye[qh],Or=B?-Vt[it]/2:0,So=ke===l_?vt[it]:Vt[it],Ni=ke===l_?-Vt[it]:-vt[it],ra=e.elements.arrow,On=B&&ra?zS(ra):{width:0,height:0},ql=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},rg=ql[zh],di=ql[qh],Ks=bb(0,vt[it],On[it]),Ya=Qe?vt[it]/2-Or-Ks-rg-er.mainAxis:So-Ks-rg-er.mainAxis,_d=Qe?-vt[it]/2+Or+Ks+di+er.mainAxis:Ni+Ks+di+er.mainAxis,ig=e.elements.arrow&&vb(e.elements.arrow),DP=null!=(Qr=null==gr?void 0:gr[Be])?Qr:0,zH=pt+_d-DP,TP=bb(B?LC(Ot,pt+Ya-DP-(ig?"y"===Be?ig.clientTop||0:ig.clientLeft||0:0)):Ot,pt,B?qp(Xt,zH):Xt);at[Be]=TP,ss[Be]=TP-pt}if(f){var IP,sg=at[nt],mD="y"===nt?"height":"width",SP=sg+ye["x"===Be?Xo:ea],AP=sg-ye["x"===Be?Hl:$l],FA=-1!==[Xo,ea].indexOf(He),NP=null!=(IP=null==gr?void 0:gr[nt])?IP:0,MP=FA?SP:sg-vt[mD]-Vt[mD]-NP+er.altAxis,OP=FA?sg+vt[mD]+Vt[mD]-NP-er.altAxis:AP,RP=B&&FA?function L2(n,e,t){var r=bb(n,e,t);return r>t?t:r}(MP,sg,OP):bb(B?MP:SP,sg,B?OP:AP);at[nt]=RP,ss[nt]=RP-sg}e.modifiersData[r]=ss}},requiresIfExists:["offset"]},$2={name:"arrow",enabled:!0,phase:"main",fn:function j2(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,c=t.modifiersData.popperOffsets,f=qu(t.placement),m=$S(f),T=[ea,$l].indexOf(f)>=0?"height":"width";if(a&&c){var A=function(e,t){return ER("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:CR(e,gb))}(i.padding,t),x=zS(a),B="y"===m?Xo:ea,G="y"===m?Hl:$l,Y=t.rects.reference[T]+t.rects.reference[m]-c[m]-t.rects.popper[T],ye=c[m]-t.rects.reference[m],He=vb(a),ke=He?"y"===m?He.clientHeight||0:He.clientWidth||0:0,at=ke/2-x[T]/2+(Y/2-ye/2),vt=bb(A[B],at,ke-x[T]-A[G]);t.modifiersData[r]=((e={})[m]=vt,e.centerOffset=vt-at,e)}},effect:function H2(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!yR(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function W2(n,e,t){void 0===t&&(t=!1);var r=Wa(e),i=Wa(e)&&function q2(n){var e=n.getBoundingClientRect(),t=c_(e.width)/n.offsetWidth||1,r=c_(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),a=jh(e),c=d_(n,i),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(r||!r&&!t)&&(("body"!==Wu(e)||jS(a))&&(f=function z2(n){return n!==Gl(n)&&Wa(n)?function G2(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):BS(n)}(e)),Wa(e)?((m=d_(e,!0)).x+=e.clientLeft,m.y+=e.clientTop):a&&(m.x=US(a))),{x:c.left+f.scrollLeft-m.x,y:c.top+f.scrollTop-m.y,width:c.width,height:c.height}}function Z2(n){var e=new Map,t=new Set,r=[];function i(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(f){if(!t.has(f)){var m=e.get(f);m&&i(m)}}),r.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||i(a)}),r}function Y2(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var DR={placement:"bottom",modifiers:[],strategy:"absolute"};function TR(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function J2(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,a=void 0===i?DR:i;return function(f,m,b){void 0===b&&(b=a);var T={placement:"bottom",orderedModifiers:[],options:Object.assign({},DR,a),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},A=[],x=!1,B={state:T,setOptions:function(He){var ke="function"==typeof He?He(T.options):He;Y(),T.options=Object.assign({},a,T.options,ke),T.scrollParents={reference:u_(f)?yb(f):f.contextElement?yb(f.contextElement):[],popper:yb(m)};var Qe=function K2(n){var e=Z2(n);return D2.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function Q2(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,T.options.modifiers)));return T.orderedModifiers=Qe.filter(function(gr){return gr.enabled}),function G(){T.orderedModifiers.forEach(function(ye){var ke=ye.options,Be=ye.effect;if("function"==typeof Be){var nt=Be({state:T,name:ye.name,instance:B,options:void 0===ke?{}:ke});A.push(nt||function(){})}})}(),B.update()},forceUpdate:function(){if(!x){var He=T.elements,ke=He.reference,Qe=He.popper;if(TR(ke,Qe)){T.rects={reference:W2(ke,vb(Qe),"fixed"===T.options.strategy),popper:zS(Qe)},T.reset=!1,T.placement=T.options.placement,T.orderedModifiers.forEach(function(gr){return T.modifiersData[gr.name]=Object.assign({},gr.data)});for(var nt=0;nt<T.orderedModifiers.length;nt++)if(!0!==T.reset){var at=T.orderedModifiers[nt],vt=at.fn,Vt=at.options;"function"==typeof vt&&(T=vt({state:T,options:void 0===Vt?{}:Vt,name:at.name,instance:B})||T)}else T.reset=!1,nt=-1}}},update:Y2(function(){return new Promise(function(ye){B.forceUpdate(),ye(T)})}),destroy:function(){Y(),x=!0}};if(!TR(f,m))return B;function Y(){A.forEach(function(ye){return ye()}),A=[]}return B.setOptions(b).then(function(ye){!x&&b.onFirstUpdate&&b.onFirstUpdate(ye)}),B}}var BC={passive:!0};const eV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function X2(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=void 0===i||i,c=r.resize,f=void 0===c||c,m=Gl(e.elements.popper),b=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&b.forEach(function(T){T.addEventListener("scroll",t.update,BC)}),f&&m.addEventListener("resize",t.update,BC),function(){a&&b.forEach(function(T){T.removeEventListener("scroll",t.update,BC)}),f&&m.removeEventListener("resize",t.update,BC)}},data:{}},nV={name:"popperOffsets",enabled:!0,phase:"read",fn:function tV(n){var e=n.state;e.modifiersData[n.name]=bR({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var rV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IR(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,c=n.offsets,f=n.position,m=n.gpuAcceleration,b=n.adaptive,T=n.roundOffsets,A=n.isFixed,x=c.x,B=void 0===x?0:x,G=c.y,Y=void 0===G?0:G,ye="function"==typeof T?T({x:B,y:Y}):{x:B,y:Y};B=ye.x,Y=ye.y;var He=c.hasOwnProperty("x"),ke=c.hasOwnProperty("y"),Qe=ea,Be=Xo,nt=window;if(b){var at=vb(t),vt="clientHeight",Vt="clientWidth";at===Gl(t)&&"static"!==md(at=jh(t)).position&&"absolute"===f&&(vt="scrollHeight",Vt="scrollWidth"),at=at,(i===Xo||(i===ea||i===$l)&&a===mb)&&(Be=Hl,Y-=(A&&at===nt&&nt.visualViewport?nt.visualViewport.height:at[vt])-r.height,Y*=m?1:-1),i!==ea&&(i!==Xo&&i!==Hl||a!==mb)||(Qe=$l,B-=(A&&at===nt&&nt.visualViewport?nt.visualViewport.width:at[Vt])-r.width,B*=m?1:-1)}var Qr,gr=Object.assign({position:f},b&&rV),ss=!0===T?function iV(n){var t=n.y,i=window.devicePixelRatio||1;return{x:c_(n.x*i)/i||0,y:c_(t*i)/i||0}}({x:B,y:Y}):{x:B,y:Y};return B=ss.x,Y=ss.y,Object.assign({},gr,m?((Qr={})[Be]=ke?"0":"",Qr[Qe]=He?"0":"",Qr.transform=(nt.devicePixelRatio||1)<=1?"translate("+B+"px, "+Y+"px)":"translate3d("+B+"px, "+Y+"px, 0)",Qr):((e={})[Be]=ke?Y+"px":"",e[Qe]=He?B+"px":"",e.transform="",e))}const oV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function sV(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,a=t.adaptive,c=void 0===a||a,f=t.roundOffsets,m=void 0===f||f,T={placement:qu(e.placement),variation:h_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,IR(Object.assign({},T,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:m})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,IR(Object.assign({},T,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var uV=[eV,nV,oV,{name:"applyStyles",enabled:!0,phase:"write",fn:function aV(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!Wa(a)||!Wu(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(c){var f=i[c];!1===f?a.removeAttribute(c):a.setAttribute(c,!0===f?"":f)}))})},effect:function lV(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},f=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(m,b){return m[b]="",m},{});!Wa(i)||!Wu(i)||(Object.assign(i.style,f),Object.keys(a).forEach(function(m){i.removeAttribute(m)}))})}},requires:["computeStyles"]}],cV=J2({defaultModifiers:uV});const fV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function hV(n){var e=n.state,r=n.name,i=n.options.offset,a=void 0===i?[0,0]:i,c=gR.reduce(function(T,A){return T[A]=function dV(n,e,t){var r=qu(n),i=[ea,Xo].indexOf(r)>=0?-1:1,a="function"==typeof t?t(Object.assign({},e,{placement:n})):t,c=a[0],f=a[1];return c=c||0,f=(f||0)*i,[ea,$l].indexOf(r)>=0?{x:f,y:c}:{x:c,y:f}}(A,e.rects,a),T},{}),f=c[e.placement],b=f.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=f.x,e.modifiersData.popperOffsets.y+=b),e.modifiersData[r]=c}},wV=["*"],SV=["ngbDatepickerDayView",""],AV=["month"],NV=["year"];function MV(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,null==r.date?null:r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,null==r.date?null:r.date.year))}}function OV(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function RV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){return l.CHM(t),l.oxw().select.emit(i)}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function xV(n,e){1&n&&l._UZ(0,"div",0)}function PV(n,e){1&n&&l._UZ(0,"div",0)}function kV(n,e){if(1&n&&(l.YNc(0,xV,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,PV,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function FV(n,e){if(1&n&&l.YNc(0,kV,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}const LV=["defaultDayTemplate"],VV=["content"];function BV(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,a=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",a)("focused",c)}}function UV(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function jV(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,UV,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function HV(n,e){if(1&n&&l.YNc(0,jV,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function $V(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){return l.CHM(t),l.oxw().onNavigateEvent(i)})("select",function(i){return l.CHM(t),l.oxw().onNavigateDateSelect(i)}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function GV(n,e){}function zV(n,e){}function qV(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function WV(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function ZV(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,qV,2,1,"div",3),l.YNc(2,WV,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function KV(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function YV(n,e){}function QV(n,e){if(1&n&&l.YNc(0,YV,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function JV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),i.preventDefault()}),l.YNc(1,QV,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function XV(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,KV,2,1,"div",9),l.YNc(2,JV,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function eB(n,e){1&n&&l.YNc(0,XV,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const tB=["dialog"];function To(n){return parseInt(`${n}`,10)}function wb(n){return"string"==typeof n}function is(n){return!isNaN(To(n))}function Io(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Wp(n){return null!=n}function AR(n){return is(n)?`0${n}`.slice(-2):""}function NR(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function f_(n){return(n||document.body).getBoundingClientRect()}const MR={animation:!0,transitionTimerDelayMs:5},KB=()=>{},{transitionTimerDelayMs:YB}=MR,Eb=new Map,Zs=(n,e,t,r)=>{let i=r.context||{};const a=Eb.get(e);if(a)switch(r.runningTransition){case"continue":return uo.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Eb.delete(e)}const c=t(e,r.animation,i)||KB;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),bt(void 0).pipe(function WB(n){return e=>new xn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new En.x,m=new En.x,b=f.pipe(function o2(...n){return e=>fc(e,bt(...n))}(!0));Eb.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const T=function ZB(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=rs(e,"transitionend").pipe(or(b),ir(({target:B})=>B===e));uR(kS(T+YB).pipe(or(b)),A,m).pipe(or(b)).subscribe(()=>{Eb.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()};let UC=(()=>{class n{constructor(){this.animation=MR.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),BR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),$R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Ai{constructor(e,t,r){this.year=Io(e)?e:null,this.month=Io(t)?t:null,this.day=Io(r)?r:null}static from(e){return e instanceof Ai?e:e?new Ai(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function p_(n,e){return!function uU(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function GR(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function HC(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function YS(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:a}=e;return!(null==n||i||a&&a(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function zR(n){return new Ai(n.getFullYear(),n.getMonth()+1,n.getDate())}function $C(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let GC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function yU(){return new vU}()},providedIn:"root"}),n})(),vU=(()=>{class n extends GC{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let a=$C(t),c=!0,f=a.getMonth();switch(r){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":f+=i,a.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":a.setDate(a.getDate()+i),c=!1;break;default:return t}return c&&a.getMonth()!==f&&a.setDate(0),zR(a)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=$C(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=$C(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return zR(new Date)}isValid(t){if(!(t&&Io(t.year)&&Io(t.month)&&Io(t.day)&&0!==t.year))return!1;const r=$C(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Kp=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function bU(n){return new wU(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),wU=(()=>{class n extends Kp{constructor(t){super(),this._locale=t,this._monthsShort=ze(t,ie.Standalone,ae.Abbreviated),this._monthsFull=ze(t,ie.Standalone,ae.Wide)}getWeekdayLabel(t,r){const i=an(this._locale,ie.Standalone,void 0===r?ae.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return Xr(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),QS=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Io(i=To(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Io(i=To(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const a=this.toValidDate(i,null);if(p_(this._state.maxDate,a))return{maxDate:a}},minDate:i=>{const a=this.toValidDate(i,null);if(p_(this._state.minDate,a))return{minDate:a}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const a=!0===i||!1===i?ae.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==a||this._state.weekdaysVisible!==c)return{weekdayWidth:a,weekdaysVisible:c}}},this._model$=new En.x,this._dateSelect$=new En.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:ae.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(ir(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ir(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,a)=>Object.assign(Object.assign({},i),a),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&p_(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){YS(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||GR(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(p_(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&YS(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Ai.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:a,focusDate:c,focusVisible:f,disabled:m,outsideDays:b}=t;t.months.forEach(T=>{T.weeks.forEach(A=>{A.days.forEach(x=>{c&&(x.context.focused=c.equals(x.date)&&f),x.tabindex=!m&&c&&x.date.equals(c)&&c.month===T.number?0:-1,!0===m&&(x.context.disabled=!0),void 0!==a&&(x.context.selected=null!==a&&a.equals(x.date)),T.number!==x.date.month&&(x.hidden="hidden"===b||"collapsed"===b||i>1&&x.date.after(r[0].firstDate)&&x.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function cU(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=HC(r.focusDate,r.minDate,r.maxDate),r.firstDate=HC(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=HC(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=HC(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function gU(n,e,t,r,i){const{displayMonths:a,months:c}=t,f=c.splice(0,c.length);return Array.from({length:a},(b,T)=>{const A=Object.assign(n.getNext(e,"m",T),{day:1});if(c[T]=null,!i){const x=f.findIndex(B=>B.firstDate.equals(A));-1!==x&&(c[T]=f.splice(x,1)[0])}return A}).forEach((b,T)=>{null===c[T]&&(c[T]=function mU(n,e,t,r,i={}){const{dayTemplateData:a,minDate:c,maxDate:f,firstDayOfWeek:m,markDisabled:b,outsideDays:T,weekdayWidth:A,weekdaysVisible:x}=t,B=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function _U(n,e,t){const r=n.getDaysPerWeek(),i=new Ai(e.year,e.month,1),a=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+a-t)%r)}(n,e,m),x||(i.weekdays.length=0);for(let G=0;G<n.getWeeksPerMonth();G++){let Y=i.weeks[G];Y||(Y=i.weeks[G]={number:0,days:[],collapsed:!0});const ye=Y.days;for(let He=0;He<n.getDaysPerWeek();He++){0===G&&x&&(i.weekdays[He]=r.getWeekdayLabel(n.getWeekday(e),A));const ke=new Ai(e.year,e.month,e.day),Qe=n.getNext(ke),Be=r.getDayAriaLabel(ke);let nt=!!(c&&ke.before(c)||f&&ke.after(f));!nt&&b&&(nt=b(ke,{month:i.number,year:i.year}));let at=ke.equals(B),vt=a?a(ke,{month:i.number,year:i.year}):void 0;null===i.firstDate&&ke.month===i.number&&(i.firstDate=ke),ke.month===i.number&&Qe.month!==i.number&&(i.lastDate=ke);let Vt=ye[He];Vt||(Vt=ye[He]={}),Vt.date=ke,Vt.context=Object.assign(Vt.context||{},{$implicit:ke,date:ke,data:vt,currentMonth:i.number,currentYear:i.year,disabled:nt,focused:!1,selected:!1,today:at}),Vt.tabindex=-1,Vt.ariaLabel=Be,Vt.hidden=!1,e=Qe}Y.number=n.getWeekNumber(ye.map(He=>He.date),m),Y.collapsed="collapsed"===T&&ye[0].date.month!==i.number&&ye[ye.length-1].date.month!==i.number}return i}(n,b,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!YS(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function hU(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,a=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(a);for(let f=0;f<a;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function dU(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const a=i.findIndex(c=>c===t.month);i=i.slice(a)}if(r&&e.year===r.year){const a=i.findIndex(c=>c===r.month);i=i.slice(0,a+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function pU(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function fU(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(GC),l.LFG(Kp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var g_=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(g_||(g_={})),g_))();let JS=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=ae.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function EU(){return new CU}()},providedIn:"root"}),n})(),CU=(()=>{class n extends XS{fromModel(t){return t&&Io(t.year)&&Io(t.month)&&Io(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Io(t.year)&&Io(t.month)&&Io(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),DU=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Kp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:SV,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),TU=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Ai(this.date.year,To(t),1))}changeYear(t){this.select.emit(new Ai(To(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Kp),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(AV,7,l.SBq),l.Gf(NV,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(a){return r.changeMonth(a.target.value)}),l.YNc(2,MV,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(a){return r.changeYear(a.target.value)}),l.YNc(5,OV,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},directives:[pn,ZO,YO],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),IU=(()=>{class n{constructor(t){this.i18n=t,this.navigation=g_,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Kp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(a){return r.onClickPrev(a)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,RV,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,FV,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(a){return r.onClickNext(a)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},directives:[TU,Kn,pn],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Pn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Pn||(Pn={})),Pn))();let SU=(()=>{class n{processKey(t,r){const{state:i,calendar:a}=r;switch(t.which){case Pn.PageUp:r.focusDate(a.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Pn.PageDown:r.focusDate(a.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Pn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Pn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Pn.ArrowLeft:r.focusDate(a.getPrev(i.focusedDate,"d",1));break;case Pn.ArrowUp:r.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case Pn.ArrowRight:r.focusDate(a.getNext(i.focusedDate,"d",1));break;case Pn.ArrowDown:r.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case Pn.Enter:case Pn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]]}),n})(),qR=(()=>{class n{constructor(t,r,i,a,c,f,m,b){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=b,this._controlValue=null,this._destroyed$=new En.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=T=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(T=>this[T]=a[T]),t.dateSelect$.pipe(or(this._destroyed$)).subscribe(T=>{this.dateSelect.emit(T)}),t.model$.pipe(or(this._destroyed$)).subscribe(T=>{const A=T.firstDate,x=this.model?this.model.firstDate:null;this._publicState={maxDate:T.maxDate,minDate:T.minDate,firstDate:T.firstDate,lastDate:T.lastDate,focusedDate:T.focusDate,months:T.months.map(He=>He.firstDate)};let B=!1;if(!A.equals(x)&&(this.navigate.emit({current:x?{year:x.year,month:x.month}:null,next:{year:A.year,month:A.month},preventDefault:()=>B=!0}),B&&null!==x))return void this._service.open(x);const G=T.selectedDate,Y=T.focusDate,ye=this.model?this.model.focusDate:null;this.model=T,p_(G,this._controlValue)&&(this._controlValue=G,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(G))),p_(Y,ye)&&ye&&T.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Ai.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,rr.q)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Ai.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=rs(this._contentEl.nativeElement,"focusin"),r=rs(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,fM.T)(t,r).pipe(ir(({target:a,relatedTarget:c})=>!(NR(a,"ngb-dp-day")&&NR(c,"ngb-dp-day")&&i.contains(a)&&i.contains(c))),or(this._destroyed$)).subscribe(({type:a})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===a})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:a}=t.startDate;GR(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case g_.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case g_.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Ai.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(QS),l.Y36(GC),l.Y36(Kp),l.Y36(JS),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(XS),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,AU,7),2&t){let a;l.iGM(a=l.CRH())&&(r.contentTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(LV,7),l.Gf(VV,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[l._Bn([{provide:Do,useExisting:(0,l.Gpc)(()=>n),multi:!0},QS]),l.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,BV,1,5,"ng-template",null,0,l.W1O),l.YNc(2,HV,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,$V,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,GV,0,0,"ng-template",6),l.qZA(),l.YNc(9,zV,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},directives:function(){return[DU,NU,IU,pn,Kn,ds]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})(),NU=(()=>{class n{constructor(t,r,i,a){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=a}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Kp),l.Y36(qR),l.Y36(SU),l.Y36(QS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.onKeyDown(a)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,ZV,3,2,"div",0),l.YNc(1,eB,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},directives:[Kn,pn,ds],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})();const zC=(n,e)=>!!e&&e.some(t=>t.contains(n)),WR=(n,e)=>!e||null!=function qB(n,e){return e&&void 0!==n.closest?n.closest(e):null}(n,e),MU="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function ZR(n,e,t,r,i,a,c,f){t&&n.runOutsideAngular((n=>MU?()=>setTimeout(()=>n(),100):n)(()=>{const b=rs(e,"keydown").pipe(or(i),ir(x=>x.which===Pn.Escape),(0,zr.b)(x=>x.preventDefault())),T=rs(e,"mousedown").pipe((0,xt.U)(x=>{const B=x.target;return 2!==x.button&&!zC(B,c)&&("inside"===t?zC(B,a)&&WR(B,f):"outside"===t?!zC(B,a):WR(B,f)||!zC(B,a))}),or(i)),A=rs(e,"mouseup").pipe(FS(T),ir(([x,B])=>B),function u2(n,e=Ug.z){const t=kS(n,e);return dR(()=>t)}(0),or(i));uR([b.pipe((0,xt.U)(x=>0)),A.pipe((0,xt.U)(x=>1))]).subscribe(x=>n.run(()=>r(x)))}))}const KR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function YR(n){const e=Array.from(n.querySelectorAll(KR)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const QR=(n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=rs(e,"focusin").pipe(or(t),(0,xt.U)(a=>a.target));rs(e,"keydown").pipe(or(t),ir(a=>a.which===Pn.Tab),FS(i)).subscribe(([a,c])=>{const[f,m]=YR(e);(c===f||c===e)&&a.shiftKey&&(m.focus(),a.preventDefault()),c===m&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&rs(e,"click").pipe(or(t),FS(i),(0,xt.U)(a=>a[1])).subscribe(a=>a.focus())})},RU=/\s+/,xU=/  +/gi,PU=/^start/,kU=/^end/,FU=/-(top|left)$/,LU=/-(bottom|right)$/,BU=/^left/,UU=/^right/,jU=/^start/,HU=/^end/;function JR({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(RU),i=t.findIndex(m=>"auto"===m);i>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(m){null==t.find(b=>-1!==b.search("^"+m))&&t.splice(i++,1,m)});const a=t.map(m=>function VU(n){return n.replace(PU,"left").replace(kU,"right").replace(FU,"-start").replace(LU,"-end")}(m));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:m}){const b=new RegExp(e+"-[a-z]+","gi"),T=m.elements.popper,A=m.placement;let x=T.className;x=x.replace(b,""),x+=` ${function $U(n,e){let[t,r]=e.split("-");const i=t.replace(BU,"start").replace(UU,"end");let a=[i];if(r){let c=r;("left"===t||"right"===t)&&(c=c.replace(jU,"top").replace(HU,"bottom")),a.push(`${i}-${c}`)}return n&&(a=a.map(c=>`${n}-${c}`)),a.join(" ")}(e,A)}`,x=x.trim().replace(xU," "),T.className=x}},k2,B2,$2,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function XR(n){return n}let tx=(()=>{class n extends JS{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.restoreFocus=!0}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nx(n){return e=>(e.modifiers.push(fV,{name:"offset",options:{offset:()=>n}}),e)}let rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function GU(){return new zU}()},providedIn:"root"}),n})(),zU=(()=>{class n extends rx{parse(t){if(null!=t){const r=t.trim().split("-");if(1===r.length&&is(r[0]))return{year:To(r[0]),month:null,day:null};if(2===r.length&&is(r[0])&&is(r[1]))return{year:To(r[0]),month:To(r[1]),day:null};if(3===r.length&&is(r[0])&&is(r[1])&&is(r[2]))return{year:To(r[0]),month:To(r[1]),day:To(r[2])}}return null}format(t){return t?`${t.year}-${is(t.month)?AR(t.month):""}-${is(t.day)?AR(t.day):""}`:""}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ix=(()=>{class n{constructor(t,r,i,a,c,f,m,b,T,A){this._parserFormatter=t,this._elRef=r,this._vcRef=i,this._renderer=a,this._ngZone=c,this._calendar=f,this._dateAdapter=m,this._document=b,this._changeDetector=T,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=function ex(){let n=null;return{createPopper(e){if(!n){let r=(e.updatePopperOptions||XR)(JR(e));n=cV(e.hostElement,e.targetElement,r)}},update(){n&&n.update()},setOptions(e){if(n){let r=(e.updatePopperOptions||XR)(JR(e));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}(),this._destroyCloseHandlers$=new En.x,this.dateSelect=new l.vpe,this.navigate=new l.vpe,this.closed=new l.vpe,this._onChange=x=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(x=>this[x]=A[x]),this._zoneSubscription=c.onStable.subscribe(()=>this._positioning.update())}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:r}=t;if(null!=r){const i=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!i)return{ngbDate:{invalid:r}};if(this.minDate&&i.before(Ai.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&i.after(Ai.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,r=!1){const i=t!==this._inputValue;i&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(i||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let t;if(this._cRef=this._vcRef.createComponent(qR),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,QR(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>{var r;return null===(r=this._cRef)||void 0===r?void 0:r.instance.focus()}),t=wb(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.onStable.pipe((0,rr.q)(1)).subscribe(()=>{this._cRef&&this._positioning.createPopper({hostElement:t,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:nx([0,2])})}),this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;wb(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus(),this._positioning.destroy()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){if((t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t))),t.datepickerClass){const{currentValue:r,previousValue:i}=t.datepickerClass;this._applyPopupClass(r,i)}t.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{void 0!==this[r]&&(t[r]=this[r])}),t.startDate=this.startDate||this._model}_applyPopupClass(t,r){var i;const a=null===(i=this._cRef)||void 0===i?void 0:i.location.nativeElement;a&&(t&&this._renderer.addClass(a,t),r&&this._renderer.removeClass(a,r))}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(r=>this.navigate.emit(r)),t.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(t){const r=this._parserFormatter.format(t);this._inputValue=r,this._renderer.setProperty(this._elRef.nativeElement,"value",r),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const r=t?new Ai(t.year,t.month,t.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),ZR(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(rx),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(l.Qsj),l.Y36(l.R0b),l.Y36(GC),l.Y36(XS),l.Y36(le),l.Y36(l.sBO),l.Y36(tx))},n.\u0275dir=l.lG2({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r.manualDateChange(a.target.value)})("change",function(a){return r.manualDateChange(a.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&t&&l.Ikx("disabled",r.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[l._Bn([{provide:Do,useExisting:(0,l.Gpc)(()=>n),multi:!0},{provide:ns,useExisting:(0,l.Gpc)(()=>n),multi:!0},{provide:JS,useExisting:tx}]),l.TTD]}),n})();new Date(1882,10,12),new Date(2174,10,25);let cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei,oR]]}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Jp{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let tj=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,rr.q)(1)).subscribe(()=>{Zs(this._zone,this._el.nativeElement,(t,r)=>{r&&f_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Zs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class px{close(e){}dismiss(e){}}class nj{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new En.x,this._dismissed=new En.x,this._hidden=new En.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(or(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(or(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function SR(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():bt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),kC(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ib=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Ib||(Ib={})),Ib))();let rj=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new En.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new En.x,this.hidden=new En.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":wb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,rr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=kC(Zs(this._zone,t,()=>t.classList.remove("show"),r),Zs(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};kC(Zs(this._zone,this._elRef.nativeElement,(a,c)=>{c&&f_(a),a.classList.add("show")},t),Zs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{rs(t,"keydown").pipe(or(this._closed$),ir(i=>i.which===Pn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Ib.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;rs(this._dialogEl.nativeElement,"mousedown").pipe(or(this._closed$),(0,zr.b)(()=>r=!1),Bn(()=>rs(t,"mouseup").pipe(or(this._closed$),(0,rr.q)(1))),ir(({target:i})=>t===i)).subscribe(()=>{r=!0}),rs(t,"click").pipe(or(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Ib.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=YR(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Zs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(le),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(tB,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wV,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),ij=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sj=(()=>{class n{constructor(t,r,i,a,c,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=c,this._ngZone=f,this._activeWindowCmptHasChanged=new En.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];QR(this._ngZone,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,a){const c=a.container instanceof HTMLElement?a.container:Wp(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new px,b=this._getContentRef(t,a.injector||r,i,m,a);let T=!1!==a.backdrop?this._attachBackdrop(t,c):void 0,A=this._attachWindowComponent(t,c,b),x=new nj(A,b,T,a.beforeDismiss);return this._registerModalRef(x),this._registerWindowCmpt(A),x.hidden.pipe((0,rr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=B=>{x.close(B)},m.dismiss=B=>{x.dismiss(B)},this._applyWindowOptions(A.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,a),T.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),x}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let a=t.resolveComponentFactory(tj).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,r,i){let c=t.resolveComponentFactory(rj).create(this._injector,i.nodes);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Wp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Wp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,a):wb(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,c):new Jp([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new Jp([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Jp([[r]])}_createFromComponent(t,r,i,a,c){const f=t.resolveComponentFactory(i),m=l.zs3.create({providers:[{provide:px,useValue:a}],parent:r}),b=f.create(m),T=b.location.nativeElement;return c.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Jp([[T]],b.hostView,b)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(le),l.LFG(ij),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oj=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aj=(()=>{class n{constructor(t,r,i,a){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=a}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(sj),l.LFG(oj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[aj]}),n})(),vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),Nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),Ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),Px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function bj(){return 100}});let kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ei]]}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const wj=[FR,LR,BR,HR,$R,cx,fx,gx,vx,Fx,Sx,Nx,Mx,Ox,Rx,xx,Px,kx];let Ej=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wj,FR,LR,BR,HR,$R,cx,fx,gx,vx,Fx,Sx,Nx,Mx,Ox,Rx,xx,Px,kx]}),n})(),Cj=(()=>{class n{constructor(){}valorInputOirgen(t){this.mensajeOrigen=t}valorInputDestino(t){this.mensajeDestino=t}valorInputDisponibilidad(t){this.mensajeDia=t.day}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-fletes"]],decls:40,vars:6,consts:[[1,"container"],[1,"title",2,"text-align","center"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],[1,"row",2,"color","white"],[2,"text-align","center"],["type","text","name","origen","placeholder","Origen direccion exacta","required","",1,"form-control",3,"ngModel","ngModelChange"],[2,"margin-top","16px"],["type","text","name","destino","placeholder","Destino direccion exacta","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12",2,"margin-top","16px"],[1,"input-group"],["placeholder","Selecciona disponibilidad","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn",2,"background-color","white",3,"click"],[1,"far","fa-calendar-minus"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"]],template:function(t,r){if(1&t){const i=l.EpF();l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Necesitas un flete "),l.qZA()(),l.TgZ(5,"div",2),l._UZ(6,"div",3),l.TgZ(7,"div",4),l._UZ(8,"i",5),l.qZA(),l._UZ(9,"div",3),l.qZA(),l.TgZ(10,"div")(11,"div")(12,"h3",6),l._uU(13,"Completa tus datos! "),l.qZA(),l._UZ(14,"br")(15,"br"),l.TgZ(16,"div",0),l._uU(17," > "),l.TgZ(18,"div",7)(19,"div",8)(20,"form")(21,"div")(22,"input",9),l.NdJ("ngModelChange",function(c){return r.modelOrigen=c})("ngModelChange",function(c){return r.valorInputOirgen(c)}),l.qZA()(),l.TgZ(23,"div",10)(24,"input",11),l.NdJ("ngModelChange",function(c){return r.modelDestino=c})("ngModelChange",function(c){return r.valorInputDestino(c)}),l.qZA()(),l.TgZ(25,"div",12)(26,"div",13)(27,"input",14,15),l.NdJ("ngModelChange",function(c){return r.model=c})("ngModelChange",function(c){return r.valorInputDisponibilidad(c)}),l.qZA(),l._UZ(29,"br"),l.TgZ(30,"button",16),l.NdJ("click",function(){return l.CHM(i),l.MAs(28).toggle()}),l._UZ(31,"i",17),l.qZA()()()()()()(),l.TgZ(32,"div",18),l._uU(33," >"),l._UZ(34,"link",19),l.TgZ(35,"a",20)(36,"i",21),l._uU(37,"CONSULTA COTIZACION"),l.qZA()()(),l._UZ(38,"br")(39,"br"),l.qZA()()()}2&t&&(l.xp6(22),l.Q6J("ngModel",r.modelOrigen),l.xp6(2),l.Q6J("ngModel",r.modelDestino),l.xp6(3),l.Q6J("ngModel",r.model),l.xp6(8),l.cQ8("href","https://api.whatsapp.com/send?phone=+5491156918203&text= Hola, estoy interesado en el siguiente viaje. %0D%0A Desde ",r.mensajeOrigen," hasta ",r.mensajeDestino," y mi disponibilidad la tengo el dia ",r.mensajeDia," de este mes. %0D%0A Muchas gracias.",l.LSH))},directives:[NS,mS,fb,lb,pb,gS,PC,ix],styles:[""]}),n})();function Dj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr",26)(1,"td",27),l._UZ(2,"img",28),l.qZA(),l.TgZ(3,"td",29),l._uU(4),l.qZA(),l.TgZ(5,"td",29),l._uU(6),l.ALo(7,"currency"),l.TgZ(8,"label",30)(9,"input",31),l.NdJ("change",function(i){return l.CHM(t),l.oxw().onChangeCheck(i)}),l.qZA(),l.TgZ(10,"div",32),l._UZ(11,"div",33),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(2),l.hij(" ",t.nombre," "),l.xp6(2),l.hij(" ",l.lcZ(7,5,t.precio)," "),l.xp6(3),l.Q6J("checked",!1)("value",t.nombre)}}let Tj=(()=>{class n{constructor(t,r){this._productosMascotasService=t,this.spinner=r,this.mensajeProducto=[],this.productosMascotas=[]}ngOnInit(){this.getProductosMascotas(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}getProductosMascotas(){this._productosMascotasService.getProductosMascotaService().subscribe(t=>{this.productosMascotas=[],t.forEach(r=>{console.log(r.payload.doc.id),this.productosMascotas.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.productosMascotas)})}onChangeCheck(t){1==t.target.checked?this.mensajeProducto.push(t.target.value):this.mensajeProducto.splice(this.mensajeProducto.indexOf(t.target.value),1),this.mensajeFinal=this.mensajeProducto.join("-"),console.log(this.mensajeFinal)}valorInput(t){this.mensajeDia=t.day,this.mensajeMes=t.month}valorInputName(t){this.mensajeNombre=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DC),l.Y36(vu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-mascotas"]],decls:56,vars:7,consts:[["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[1,"title",2,"text-align","center"],[1,"container"],[1,"d-flex","justify-content-center"],[1,"form"],[1,"presentacion",2,"text-align","CENTER"],[1,"presentacion",2,"color","white"],["type","text","name","name","placeholder","Nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12",2,"margin-top","16px"],[1,"input-group"],["placeholder","Selecciona disponibilidad","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["type","button",1,"btn",2,"background-color","white",3,"click"],[1,"far","fa-calendar-minus"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[1,"presentacion",2,"color","white","text-align","CENTER"],[1,"rwd-table",2,"justify-content","center"],["scope","col",2,"color","white","text-align","center"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"w-25"],["width","100px","height","100px",2,"display","block","margin","0 auto",3,"src"],[2,"color","white","font-size","larger"],[1,"toggler-wrapper","style-1"],["type","checkbox",3,"checked","value","change"],[1,"toggler-slider"],[1,"toggler-knob"]],template:function(t,r){if(1&t){const i=l.EpF();l.TgZ(0,"body")(1,"div"),l._UZ(2,"ngx-spinner",0),l.qZA(),l.TgZ(3,"h2",1),l._uU(4,"Traslado de mascotas"),l.qZA(),l.TgZ(5,"div",2)(6,"div",3)(7,"form",4)(8,"h3",5),l._uU(9,"Lavado y traslado"),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"label",6),l._uU(12,"Ingresa tu nombre y disponibilidad"),l.qZA(),l.TgZ(13,"div")(14,"input",7),l.NdJ("ngModelChange",function(c){return r.modelName=c})("ngModelChange",function(c){return r.valorInputName(c)}),l.qZA()(),l.TgZ(15,"div",8)(16,"div",9)(17,"input",10,11),l.NdJ("ngModelChange",function(c){return r.model=c})("ngModelChange",function(c){return r.valorInput(c)}),l.qZA(),l._UZ(19,"br"),l.TgZ(20,"button",12),l.NdJ("click",function(){return l.CHM(i),l.MAs(18).toggle()}),l._UZ(21,"i",13),l.qZA()()(),l.TgZ(22,"div",14),l._uU(23," > "),l._UZ(24,"link",15),l.TgZ(25,"a",16)(26,"i",17),l._uU(27,"ENVIANOS TU CONSULTA"),l.qZA()()()()()(),l.TgZ(28,"div",18),l._UZ(29,"div",19),l.TgZ(30,"div",20),l._UZ(31,"i",21),l.qZA(),l._UZ(32,"div",19),l.qZA(),l.TgZ(33,"h3",1),l._uU(34,"Compra de alimentos y envios"),l.qZA(),l.TgZ(35,"h3",22),l._uU(36," Selecciona el producto, te lo llevamos! "),l.qZA(),l._UZ(37,"br")(38,"br"),l.TgZ(39,"table",23)(40,"tr")(41,"th",24),l._uU(42," Image "),l.qZA(),l.TgZ(43,"th",24),l._uU(44," Articulo "),l.qZA(),l.TgZ(45,"th",24),l._uU(46," Precio "),l.qZA()(),l.YNc(47,Dj,12,7,"tr",25),l.qZA(),l.TgZ(48,"div",14),l._uU(49," > "),l._UZ(50,"link",15),l.TgZ(51,"a",16)(52,"i",17),l._uU(53,"CONSULTA STOCK"),l.qZA()()(),l._UZ(54,"br")(55,"br"),l.qZA()}2&t&&(l.xp6(14),l.Q6J("ngModel",r.modelName),l.xp6(3),l.Q6J("ngModel",r.model),l.xp6(8),l.cQ8("href","https://api.whatsapp.com/send?phone=+5491156918203&text= Hola, mi nombre es ",r.mensajeNombre," estoy interesado en el lavado de mi mascota. Fecha disponible: ",r.mensajeDia,"/",r.mensajeMes,"",l.LSH),l.xp6(22),l.Q6J("ngForOf",r.productosMascotas),l.xp6(4),l.MGl("href","https://api.whatsapp.com/send?phone=+541126518411&text=Hola, estoy interesado en: ",r.mensajeFinal," %0D%0A %0D%0A Muchas gracias.",l.LSH))},directives:[zd,NS,mS,fb,lb,pb,gS,PC,ix,pn],pipes:[Ql],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})();function Ij(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td",15),l._UZ(2,"img",16),l.qZA(),l.TgZ(3,"td",17),l._uU(4),l.qZA(),l.TgZ(5,"td",17),l._uU(6),l.ALo(7,"currency"),l.TgZ(8,"label",18)(9,"input",19),l.NdJ("change",function(i){return l.CHM(t),l.oxw().onChangeCheck(i)}),l.qZA(),l.TgZ(10,"div",20),l._UZ(11,"div",21),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(2),l.hij(" ",t.oportunidad," "),l.xp6(2),l.hij(" ",l.lcZ(7,5,t.precio)," "),l.xp6(3),l.Q6J("checked",!1)("value",t.oportunidad)}}let Sj=(()=>{class n{constructor(t,r){this._productosOportunidadesService=t,this.spinner=r,this.mensajeProducto=[],this.productosOportunidades=[]}ngOnInit(){this.getProductosOportunidades(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}onChangeCheck(t){1==t.target.checked?this.mensajeProducto.push(t.target.value):this.mensajeProducto.splice(this.mensajeProducto.indexOf(t.target.value),1),this.mensajeFinal=this.mensajeProducto.join("-"),console.log(this.mensajeFinal)}getProductosOportunidades(){this._productosOportunidadesService.getProductosOportunidadesService().subscribe(t=>{this.productosOportunidades=[],t.forEach(r=>{this.productosOportunidades.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DC),l.Y36(vu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-oportunidades"]],decls:36,vars:2,consts:[[1,"container"],[1,"title",2,"text-align","center"],["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[2,"text-align","CENTER"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[1,"rwd-table",2,"justify-content","center"],["scope","col",2,"color","white","text-align","center"],[4,"ngFor","ngForOf"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"],[1,"w-25"],["width","100px","height","100px",2,"display","block","margin","0 auto",3,"src"],[2,"color","white","font-size","larger"],[1,"toggler-wrapper","style-1"],["type","checkbox",3,"checked","value","change"],[1,"toggler-slider"],[1,"toggler-knob"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Estas son nuestras oportunidades "),l.qZA()(),l.TgZ(5,"div"),l._UZ(6,"ngx-spinner",2),l.qZA(),l._UZ(7,"br")(8,"br"),l.TgZ(9,"h3",3),l._uU(10,"No te los pierdas! "),l.qZA(),l.TgZ(11,"div",4),l._UZ(12,"div",5),l.TgZ(13,"div",6),l._UZ(14,"i",7),l.qZA(),l._UZ(15,"div",5),l.qZA(),l.TgZ(16,"div"),l._UZ(17,"br")(18,"br"),l.TgZ(19,"table",8)(20,"tr")(21,"th",9),l._uU(22," Producto "),l.qZA(),l.TgZ(23,"th",9),l._uU(24," Oportunidad "),l.qZA(),l.TgZ(25,"th",9),l._uU(26," Precio "),l.qZA()(),l.YNc(27,Ij,12,7,"tr",10),l.qZA(),l.TgZ(28,"div",11),l._uU(29," > "),l._UZ(30,"link",12),l.TgZ(31,"a",13)(32,"i",14),l._uU(33,"CONSULTA STOCK"),l.qZA()()(),l._UZ(34,"br")(35,"br"),l.qZA()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",r.productosOportunidades),l.xp6(4),l.MGl("href","https://api.whatsapp.com/send?phone=+5491156918203&text=Hola, estoy interesado en: ",r.mensajeFinal," %0D%0A %0D%0A Muchas gracias.",l.LSH))},directives:[zd,pn],pipes:[Ql],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})();function Aj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td",17),l._UZ(2,"img",18),l.qZA(),l.TgZ(3,"td",19),l._uU(4),l.qZA(),l.TgZ(5,"td",19),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"td")(9,"label",20)(10,"input",21),l.NdJ("change",function(i){return l.CHM(t),l.oxw().onChangeCheck(i)}),l.qZA(),l.TgZ(11,"div",22),l._UZ(12,"div",23),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(2),l.hij(" ",t.descripcion," "),l.xp6(2),l.hij(" ",l.lcZ(7,5,t.precio)," "),l.xp6(4),l.Q6J("checked",!1)("value",t.descripcion)}}const Nj=[{path:"home",component:GA},{path:"",redirectTo:"home",pathMatch:"full"},{path:"mascotas",component:Tj},{path:"fletes",component:Cj},{path:"refrigeracion",component:(()=>{class n{constructor(t,r){this._productosRefrigeracionService=t,this.spinner=r,this.mensajeProducto=[],this.productosRefrigeracion=[]}ngOnInit(){this.getProductosRefrigeracion(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}getProductosRefrigeracion(){this._productosRefrigeracionService.getProductosRefrigeracionService().subscribe(t=>{this.productosRefrigeracion=[],t.forEach(r=>{this.productosRefrigeracion.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}onChangeCheck(t){1==t.target.checked?this.mensajeProducto.push(t.target.value):this.mensajeProducto.splice(this.mensajeProducto.indexOf(t.target.value),1),this.mensajeFinal=this.mensajeProducto.join("-"),console.log(this.mensajeFinal)}onItemChange(t){console.log(" Value is : ",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DC),l.Y36(vu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-refrigeracion"]],decls:36,vars:2,consts:[[1,"container"],[1,"title",2,"text-align","center"],["bdColor","rgba(0, 0, 0, 1)","template","<img src='https://media3.giphy.com/media/ycfHiJV6WZnQDFjSWH/giphy.gif?cid=ecf05e47l1aof4gzmtyeryixu0ndgrfdz545xryot6axd2qk&rid=giphy.gif&ct=g' />"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-star"],[2,"text-align","CENTER"],[1,"row",2,"color","white"],[2,"text-align","center"],[1,"rwd-table",2,"justify-content","center"],["scope","col",2,"color","white","text-align","center"],[4,"ngFor","ngForOf"],[1,"form-button","mt-3",2,"text-align","center"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"],["target","_blank",1,"fab",3,"href"],[1,"fa","fa-whatsapp","my-float"],[1,"w-25"],["width","100px","height","100px",2,"display","block","margin","0 auto",3,"src"],[2,"color","white","font-size","larger"],[1,"toggler-wrapper","style-1"],["type","checkbox",3,"checked","value","change"],[1,"toggler-slider"],[1,"toggler-knob"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l._UZ(1,"br"),l.TgZ(2,"div",0)(3,"h2",1),l._uU(4," Productos de Refrigeracion "),l.qZA()(),l._UZ(5,"ngx-spinner",2),l.TgZ(6,"div",3),l._UZ(7,"div",4),l.TgZ(8,"div",5),l._UZ(9,"i",6),l.qZA(),l._UZ(10,"div",4),l.qZA(),l.TgZ(11,"div")(12,"div")(13,"h3",7),l._uU(14,"Compra de productos de refrigeracion "),l.qZA(),l._UZ(15,"br")(16,"br"),l.TgZ(17,"div",8)(18,"div",9)(19,"table",10)(20,"tr")(21,"th",11),l._uU(22," Image "),l.qZA(),l.TgZ(23,"th",11),l._uU(24," Articulo "),l.qZA(),l.TgZ(25,"th",11),l._uU(26," Precio "),l.qZA()(),l.YNc(27,Aj,13,7,"tr",12),l.qZA()()(),l.TgZ(28,"div",13),l._uU(29," > "),l._UZ(30,"link",14),l.TgZ(31,"a",15)(32,"i",16),l._uU(33,"CONSULTA STOCK"),l.qZA()()(),l._UZ(34,"br")(35,"br"),l.qZA()()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",r.productosRefrigeracion),l.xp6(4),l.MGl("href","https://api.whatsapp.com/send?phone=+5491156918203&text=Hola, estoy interesado en: ",r.mensajeFinal," %0D%0A %0D%0A Muchas gracias.",l.LSH))},directives:[zd,pn],pipes:[Ql],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:300,400,700";.rwd-table[_ngcontent-%COMP%]{margin:0 auto;min-width:300px;border-collapse:collapse}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}body[_ngcontent-%COMP%]{padding:0 2em;font-family:Montserrat,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;color:#444}h1[_ngcontent-%COMP%]{font-weight:400;letter-spacing:-1px;color:#34495e}.rwd-table[_ngcontent-%COMP%]{background:#34495e;color:#fff;border-radius:.4em;overflow:hidden}.rwd-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#46637f}.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin:.5em 1em}@media (min-width: 480px){.rwd-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwd-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1em!important}}']}),n})()},{path:"oportunidades",component:Sj},{path:"aires",component:JF},{path:"**",redirectTo:"home",pathMatch:"full"}];let Mj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ef.forRoot(Nj)],Ef]}),n})(),Oj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:5,vars:0,consts:[[1,"navbar","navbar-inverse","navbar-fixed-bottom"],[1,"container-fluid"],[1,"navbar-header"],["routerLink","home",1,"navbar-brand"],[1,"far","fa-arrow-alt-circle-left",2,"font-size","30px","color","white"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),l._UZ(4,"i",4),l.qZA()()()())},directives:[rA,xg],styles:[""]}),n})(),Rj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer","text-center"],[1,"row"],[1,"container"],[1,"text-uppercase","mb-4"]],template:function(t,r){1&t&&(l.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h4",3),l._uU(4,"mas de 20 a\xf1os en la industria"),l.qZA()()()())},styles:[""]}),n})(),xj=(()=>{class n{constructor(){this.title="project-cni"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[Oj,Ic,Rj],styles:[""]}),n})();const aA_firebase={projectId:"app-cni-produccion",appId:"1:988325500428:web:860bad8fab5f1550ec4029",storageBucket:"app-cni-produccion.appspot.com",apiKey:"AIzaSyDCCPnpEvJdWJMmgpoSyvnwGmb-ca86R-w",authDomain:"app-cni-produccion.firebaseapp.com",messagingSenderId:"988325500428"};P(573);class Vx{constructor(){return(0,jn.vb)("auth")}}class cA{constructor(e){return e}}const Bx="firestore",dA=new l.OlP("angularfire2.firestore-instances");function Bj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new cA(r)}}const Uj={provide:class Lj{constructor(){return(0,jn.vb)(Bx)}},deps:[[new l.FiY,dA]]},jj={provide:cA,useFactory:function Vj(n,e){const t=(0,jn.JM)(Bx,n,e);return t&&new cA(t)},deps:[[new l.FiY,dA],o_]};let Hj=(()=>{class n{constructor(){(0,$p.KN)("angularfire",jn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[jj,Uj]}),n})();function $j(n,...e){return{ngModule:Hj,providers:[{provide:dA,useFactory:Bj(n),multi:!0,deps:[l.R0b,l.zs3,jn.HU,mM,[new l.FiY,Vx],[new l.FiY,EC],...e]}]}}const Gj=(0,jn.u3)(UP,!0),dn=!1;function Ux(n){return new l.vHH(3e3,dn)}function D3(){return"undefined"!=typeof window&&void 0!==window.document}function hA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $h(n){switch(n.length){case 0:return new Df;case 1:return n[0];default:return new J_(n)}}function jx(n,e,t,r,i={},a={}){const c=[],f=[];let m=-1,b=null;if(r.forEach(T=>{const A=T.offset,x=A==m,B=x&&b||{};Object.keys(T).forEach(G=>{let Y=G,ye=T[G];if("offset"!==G)switch(Y=e.normalizePropertyName(Y,c),ye){case"!":ye=i[G];break;case Ra:ye=a[G];break;default:ye=e.normalizeStyleValue(G,Y,ye,c)}B[Y]=ye}),x||f.push(B),b=B,m=A}),c.length)throw function f3(n){return new l.vHH(3502,dn)}();return f}function fA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&pA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&pA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&pA(t,"destroy",n)))}}function pA(n,e,t){const r=t.totalTime,a=gA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function gA(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function ta(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Hx(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let mA=(n,e)=>!1,$x=(n,e,t)=>[],Gx=null;function _A(n){const e=n.parentNode||n.host;return e===Gx?null:e}(hA()||"undefined"!=typeof Element)&&(D3()?(Gx=(()=>document.documentElement)(),mA=(n,e)=>{for(;e;){if(e===n)return!0;e=_A(e)}return!1}):mA=(n,e)=>n.contains(e),$x=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Xp=null,zx=!1;function qx(n){Xp||(Xp=function I3(){return"undefined"!=typeof document?document.body:null}()||{},zx=!!Xp.style&&"WebkitAppearance"in Xp.style);let e=!0;return Xp.style&&!function T3(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Xp.style,!e&&zx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Xp.style)),e}const Wx=mA,Zx=$x;let Kx=(()=>{class n{validateStyleProperty(t){return qx(t)}matchesElement(t,r){return!1}containsElement(t,r){return Wx(t,r)}getParentElement(t){return _A(t)}query(t,r,i){return Zx(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],m){return new Df(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),yA=(()=>{class n{}return n.NOOP=new Kx,n})();const vA="ng-enter",JC="ng-leave",XC="ng-trigger",eD=".ng-trigger",Qx="ng-animating",bA=".ng-animating";function eg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wA(parseFloat(e[1]),e[2])}function wA(n,e){return"s"===e?1e3*n:n}function tD(n,e,t){return n.hasOwnProperty("duration")?n:function N3(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Ux()),{duration:0,delay:0,easing:""};i=wA(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(a=wA(parseFloat(m),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function zj(){return new l.vHH(3100,dn)}()),f=!0),a<0&&(e.push(function qj(){return new l.vHH(3101,dn)}()),f=!0),f&&e.splice(m,0,Ux())}return{duration:i,delay:a,easing:c}}(n,e,t)}function __(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Gh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else __(n,t);return t}function Xx(n,e,t){return t?e+":"+t+";":""}function eP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Xx(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Xx(0,R3(t),n.style[t]));n.setAttribute("style",e)}function Zu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=CA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),hA()&&eP(n))}function tg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=CA(t);n.style[r]=""}),hA()&&eP(n))}function Sb(n){return Array.isArray(n)?1==n.length?n[0]:Q_(n):n}const EA=new RegExp("{{\\s*(.+?)\\s*}}","g");function tP(n){let e=[];if("string"==typeof n){let t;for(;t=EA.exec(n);)e.push(t[1]);EA.lastIndex=0}return e}function nD(n,e,t){const r=n.toString(),i=r.replace(EA,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function Zj(n){return new l.vHH(3003,dn)}()),f=""),f.toString()});return i==r?n:i}function rD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const O3=/-+([a-z0-9])/g;function CA(n){return n.replace(O3,(...e)=>e[1].toUpperCase())}function R3(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function na(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Kj(n){return new l.vHH(3004,dn)}()}}function nP(n,e){return window.getComputedStyle(n)[e]}function V3(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function B3(n,e,t){if(":"==n[0]){const m=function U3(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function u3(n){return new l.vHH(3016,dn)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function l3(n){return new l.vHH(3015,dn)}()),e;const i=r[1],a=r[2],c=r[3];e.push(rP(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(rP(c,i))}(r,t,e)):t.push(n),t}const aD=new Set(["true","1"]),lD=new Set(["false","0"]);function rP(n,e){const t=aD.has(n)||lD.has(n),r=aD.has(e)||lD.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?aD.has(n):lD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?aD.has(e):lD.has(e)),c&&f}}const j3=new RegExp("s*:selfs*,?","g");function DA(n,e,t,r){return new H3(n).build(e,t,r)}class H3{constructor(e){this._driver=e}build(e,t,r){const i=new z3(t);this._resetContextStyleTimingState(i);const a=na(this,Sb(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Qj(){return new l.vHH(3006,dn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,b=m.name;b.toString().split(/\s*,\s*/).forEach(T=>{m.name=T,a.push(this.visitState(m,t))}),m.name=b}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,c.push(m)}else t.errors.push(function Jj(){return new l.vHH(3007,dn)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(uD(f)){const m=f;Object.keys(m).forEach(b=>{tP(m[b]).forEach(T=>{c.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(rD(a.values()),t.errors.push(function Xj(n,e){return new l.vHH(3008,dn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=na(this,Sb(e.animation),t);return{type:1,matchers:V3(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ng(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>na(this,r,t)),options:ng(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=na(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:ng(e.options)}}visitAnimate(e,t){const r=function W3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TA(tD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=TA(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=tD(t,e);return TA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Cf({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=Cf(b)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(c,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Ra?r.push(c):t.errors.push(function e3(n){return new l.vHH(3002,dn)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(uD(c)){const f=c,m=f.easing;if(m&&(a=m,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const m=t.collectedStyles[t.currentQuerySelector],b=m[f];let T=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function t3(n,e,t,r,i){return new l.vHH(3010,dn)}()),T=!1),a=b.startTime),T&&(m[f]={startTime:a,endTime:i}),t.options&&function M3(n,e,t){const r=e.params||{},i=tP(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Wj(n){return new l.vHH(3001,dn)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function n3(){return new l.vHH(3011,dn)}()),r;let a=0;const c=[];let f=!1,m=!1,b=0;const T=e.steps.map(He=>{const ke=this._makeStyleAst(He,t);let Qe=null!=ke.offset?ke.offset:function q3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(uD(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(uD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ke.styles),Be=0;return null!=Qe&&(a++,Be=ke.offset=Qe),m=m||Be<0||Be>1,f=f||Be<b,b=Be,c.push(Be),ke});m&&t.errors.push(function r3(){return new l.vHH(3012,dn)}()),f&&t.errors.push(function i3(){return new l.vHH(3200,dn)}());const A=e.steps.length;let x=0;a>0&&a<A?t.errors.push(function s3(){return new l.vHH(3202,dn)}()):0==a&&(x=1/(A-1));const B=A-1,G=t.currentTime,Y=t.currentAnimateTimings,ye=Y.duration;return T.forEach((He,ke)=>{const Qe=x>0?ke==B?1:x*ke:c[ke],Be=Qe*ye;t.currentTime=G+Y.delay+Be,Y.duration=Be,this._validateStyleAst(He,t),He.offset=Qe,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:na(this,Sb(e.animation),t),options:ng(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ng(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ng(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function $3(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(j3,"")),n=n.replace(/@\*/g,eD).replace(/@\w+/g,t=>eD+"-"+t.substr(1)).replace(/:animating/g,bA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ta(t.collectedStyles,t.currentQuerySelector,{});const f=na(this,Sb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:ng(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function o3(){return new l.vHH(3013,dn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:tD(e.timings,t.errors,!0);return{type:12,animation:na(this,Sb(e.animation),t),timings:r,options:null}}}class z3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uD(n){return!Array.isArray(n)&&"object"==typeof n}function ng(n){return n?(n=__(n)).params&&(n.params=function G3(n){return n?__(n):null}(n.params)):n={},n}function TA(n,e,t){return{duration:n,delay:e,easing:t}}function IA(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class cD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Y3=new RegExp(":enter","g"),J3=new RegExp(":leave","g");function SA(n,e,t,r,i,a={},c={},f,m,b=[]){return(new X3).buildKeyframes(n,e,t,r,i,a,c,f,m,b)}class X3{buildKeyframes(e,t,r,i,a,c,f,m,b,T=[]){b=b||new cD;const A=new AA(e,t,b,i,a,T,[]);A.options=m,A.currentTimeline.setStyles([c],null,A.errors,m),na(this,r,A);const x=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let G=x.length-1;G>=0;G--){const Y=x[G];if(Y.element===t){B=Y;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,m)}return x.length?x.map(B=>B.buildKeyframes()):[IA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?eg(r.duration):null,f=null!=r.delay?eg(r.delay):null;return 0!==c&&e.forEach(m=>{const b=t.appendInstructionToTimeline(m,c,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),na(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=dD);const c=eg(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>na(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?eg(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),na(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return tD(t.params?nD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*a),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?eg(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=dD);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,b);a&&A.delayNextStep(a),b===t.element&&(m=A.currentTimeline),na(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let m=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const T=t.currentTimeline;m&&T.delayNextStep(m);const A=T.currentTime;na(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const dD={};class AA{constructor(e,t,r,i,a,c,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new hD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=eg(r.duration)),null!=r.delay&&(i.delay=eg(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=nD(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new AA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=dD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new eH(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Y3,"."+this._enterClassName)).replace(J3,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&c.push(function a3(n){return new l.vHH(3014,dn)}()),f}}class hD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ra,this._currentKeyframe[t]=Ra}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function tH(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Ra})):Gh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const m=nD(c[f],a,r);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ra),this._updateStyle(f,m)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const b=Gh(f,!0);Object.keys(b).forEach(T=>{const A=b[T];"!"==A?e.add(T):A==Ra&&t.add(T)}),r||(b.offset=m/this.duration),i.push(b)});const a=e.size?rD(e.values()):[],c=t.size?rD(t.values()):[];if(r){const f=i[0],m=__(f);f.offset=0,m.offset=1,i=[f,m]}return IA(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class eH extends hD{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,m=Gh(e[0],!1);m.offset=0,a.push(m);const b=Gh(e[0],!1);b.offset=oP(f),a.push(b);const T=e.length-1;for(let A=1;A<=T;A++){let x=Gh(e[A],!1);x.offset=oP((t+x.offset*r)/c),a.push(x)}r=c,t=0,i="",e=a}return IA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function oP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NA{}class nH extends NA{normalizePropertyName(e,t){return CA(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(rH[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Yj(n,e){return new l.vHH(3005,dn)}())}return c+a}}const rH=(()=>function iH(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function aP(n,e,t,r,i,a,c,f,m,b,T,A,x){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:m,preStyleProps:b,postStyleProps:T,totalTime:A,errors:x}}const MA={};class lP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function sH(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,m,b,T){const A=[],x=this.ast.options&&this.ast.options.params||MA,G=this.buildStyles(r,f&&f.params||MA,A),Y=m&&m.params||MA,ye=this.buildStyles(i,Y,A),He=new Set,ke=new Map,Qe=new Map,Be="void"===i,nt={params:Object.assign(Object.assign({},x),Y)},at=T?[]:SA(e,t,this.ast.animation,a,c,G,ye,nt,b,A);let vt=0;if(at.forEach(Xn=>{vt=Math.max(Xn.duration+Xn.delay,vt)}),A.length)return aP(t,this._triggerName,r,i,Be,G,ye,[],[],ke,Qe,vt,A);at.forEach(Xn=>{const er=Xn.element,gr=ta(ke,er,{});Xn.preStyleProps.forEach(Qr=>gr[Qr]=!0);const ss=ta(Qe,er,{});Xn.postStyleProps.forEach(Qr=>ss[Qr]=!0),er!==t&&He.add(er)});const Vt=rD(He.values());return aP(t,this._triggerName,r,i,Be,G,ye,at,Vt,ke,Qe,vt)}}class oH{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=__(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let m=c[f];m.length>1&&(m=nD(m,i,t));const b=this.normalizer.normalizePropertyName(f,t);m=this.normalizer.normalizeStyleValue(f,b,m,t),r[b]=m})}}),r}}class lH{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new oH(i.style,i.options&&i.options.params||{},r)}),uP(this.states,"true","1"),uP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new lP(e,i,this.states))}),this.fallbackTransition=function uH(n,e,t){return new lP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function uP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const cH=new cD;class dH{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=DA(this._driver,t,r,[]);if(r.length)throw function p3(n){return new l.vHH(3503,dn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=jx(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=SA(this._driver,t,a,vA,JC,{},{},r,cH,i),c.forEach(T=>{const A=ta(f,T.element,{});T.postStyleProps.forEach(x=>A[x]=null)})):(i.push(function g3(){return new l.vHH(3300,dn)}()),c=[]),i.length)throw function m3(n){return new l.vHH(3504,dn)}();f.forEach((T,A)=>{Object.keys(T).forEach(x=>{T[x]=this._driver.computeStyle(A,x,Ra)})});const b=$h(c.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function _3(n){return new l.vHH(3301,dn)}();return t}listen(e,t,r,i){const a=gA(t,"","","");return fA(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const cP="ng-animate-queued",OA="ng-animate-disabled",mH=[],dP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_H={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Za="__ng_removed";class RA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function wH(n){return null!=n?n:null}(r?e.value:e),r){const a=__(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ab="void",xA=new RA(Ab);class yH{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ka(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function y3(n,e){return new l.vHH(3302,dn)}();if(null==r||0==r.length)throw function v3(n){return new l.vHH(3303,dn)}();if(!function EH(n){return"start"==n||"done"==n}(r))throw function b3(n,e){return new l.vHH(3400,dn)}();const a=ta(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=ta(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ka(e,XC),Ka(e,XC+"-"+t),f[t]=xA),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(c);m>=0&&a.splice(m,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function w3(n){return new l.vHH(3401,dn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new PA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ka(e,XC),Ka(e,XC+"-"+t),this._engine.statesByElement.set(e,f={}));let m=f[t];const b=new RA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),f[t]=b,m||(m=xA),b.value!==Ab&&m.value===b.value){if(!function TH(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(m.params,b.params)){const Y=[],ye=a.matchStyles(m.value,m.params,Y),He=a.matchStyles(b.value,b.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{tg(e,ye),Zu(e,He)})}return}const x=ta(this._engine.playersByElement,e,[]);x.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let B=a.matchTransition(m.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:m,toState:b,player:c,isFallbackTransition:G}),G||(Ka(e,cP),c.onStart(()=>{y_(e,cP)})),c.onDone(()=>{let Y=this.players.indexOf(c);Y>=0&&this.players.splice(Y,1);const ye=this._engine.playersByElement.get(e);if(ye){let He=ye.indexOf(c);He>=0&&ye.splice(He,1)}}),this.players.push(c),x.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,eD,!0);r.forEach(i=>{if(i[Za])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(m=>{if(c.set(m,a[m].value),this._triggers[m]){const b=this.trigger(e,m,Ab,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&$h(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const m=this._triggers[c].fallbackTransition,b=r[c]||xA,T=new RA(Ab),A=new PA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:m,fromState:b,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Za];(!a||a===dP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ka(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const m=gA(a,r.triggerName,r.fromState.value,r.toState.value);m._data=e,fA(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class vH{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new yH(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const b=r.indexOf(m);r.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(fD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!fD(t))return;const a=t[Za];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ka(e,OA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),y_(e,OA))}removeNode(e,t,r,i){if(fD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Za]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return fD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,eD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,bA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $h(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Za];if(r&&r.setForRemoval){if(e[Za]=dP,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(OA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ka(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?$h(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function E3(n){return new l.vHH(3402,dn)}()}_flushAnimations(e,t){const r=new cD,i=[],a=new Map,c=[],f=new Map,m=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(it=>{T.add(it);const pt=this.driver.query(it,".ng-animate-queued",!0);for(let Ot=0;Ot<pt.length;Ot++)T.add(pt[Ot])});const A=this.bodyNode,x=Array.from(this.statesByElement.keys()),B=pP(x,this.collectedEnterElements),G=new Map;let Y=0;B.forEach((it,pt)=>{const Ot=vA+Y++;G.set(pt,Ot),it.forEach(Xt=>Ka(Xt,Ot))});const ye=[],He=new Set,ke=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const pt=this.collectedLeaveElements[it],Ot=pt[Za];Ot&&Ot.setForRemoval&&(ye.push(pt),He.add(pt),Ot.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(Xt=>He.add(Xt)):ke.add(pt))}const Qe=new Map,Be=pP(x,Array.from(He));Be.forEach((it,pt)=>{const Ot=JC+Y++;Qe.set(pt,Ot),it.forEach(Xt=>Ka(Xt,Ot))}),e.push(()=>{B.forEach((it,pt)=>{const Ot=G.get(pt);it.forEach(Xt=>y_(Xt,Ot))}),Be.forEach((it,pt)=>{const Ot=Qe.get(pt);it.forEach(Xt=>y_(Xt,Ot))}),ye.forEach(it=>{this.processLeaveNode(it)})});const nt=[],at=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Ot=>{const Xt=Ot.player,Or=Ot.element;if(nt.push(Xt),this.collectedEnterElements.length){const di=Or[Za];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(Ot.triggerName)){const Ks=di.previousTriggersValues.get(Ot.triggerName),Ya=this.statesByElement.get(Ot.element);Ya&&Ya[Ot.triggerName]&&(Ya[Ot.triggerName].value=Ks)}return void Xt.destroy()}}const So=!A||!this.driver.containsElement(A,Or),Ni=Qe.get(Or),ra=G.get(Or),On=this._buildInstruction(Ot,r,ra,Ni,So);if(On.errors&&On.errors.length)return void at.push(On);if(So)return Xt.onStart(()=>tg(Or,On.fromStyles)),Xt.onDestroy(()=>Zu(Or,On.toStyles)),void i.push(Xt);if(Ot.isFallbackTransition)return Xt.onStart(()=>tg(Or,On.fromStyles)),Xt.onDestroy(()=>Zu(Or,On.toStyles)),void i.push(Xt);const ql=[];On.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||ql.push(di)}),On.timelines=ql,r.append(Or,On.timelines),c.push({instruction:On,player:Xt,element:Or}),On.queriedElements.forEach(di=>ta(f,di,[]).push(Xt)),On.preStyleProps.forEach((di,Ks)=>{const Ya=Object.keys(di);if(Ya.length){let _d=m.get(Ks);_d||m.set(Ks,_d=new Set),Ya.forEach(ig=>_d.add(ig))}}),On.postStyleProps.forEach((di,Ks)=>{const Ya=Object.keys(di);let _d=b.get(Ks);_d||b.set(Ks,_d=new Set),Ya.forEach(ig=>_d.add(ig))})});if(at.length){const it=[];at.forEach(pt=>{it.push(function C3(n,e){return new l.vHH(3505,dn)}())}),nt.forEach(pt=>pt.destroy()),this.reportError(it)}const vt=new Map,Vt=new Map;c.forEach(it=>{const pt=it.element;r.has(pt)&&(Vt.set(pt,pt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,vt))}),i.forEach(it=>{const pt=it.element;this._getPreviousPlayers(pt,!1,it.namespaceId,it.triggerName,null).forEach(Xt=>{ta(vt,pt,[]).push(Xt),Xt.destroy()})});const Xn=ye.filter(it=>mP(it,m,b)),er=new Map;fP(er,this.driver,ke,b,Ra).forEach(it=>{mP(it,m,b)&&Xn.push(it)});const ss=new Map;B.forEach((it,pt)=>{fP(ss,this.driver,new Set(it),m,"!")}),Xn.forEach(it=>{const pt=er.get(it),Ot=ss.get(it);er.set(it,Object.assign(Object.assign({},pt),Ot))});const Qr=[],zh=[],qh={};c.forEach(it=>{const{element:pt,player:Ot,instruction:Xt}=it;if(r.has(pt)){if(T.has(pt))return Ot.onDestroy(()=>Zu(pt,Xt.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Xt.totalTime),void i.push(Ot);let Or=qh;if(Vt.size>1){let Ni=pt;const ra=[];for(;Ni=Ni.parentNode;){const On=Vt.get(Ni);if(On){Or=On;break}ra.push(Ni)}ra.forEach(On=>Vt.set(On,Or))}const So=this._buildAnimation(Ot.namespaceId,Xt,vt,a,ss,er);if(Ot.setRealPlayer(So),Or===qh)Qr.push(Ot);else{const Ni=this.playersByElement.get(Or);Ni&&Ni.length&&(Ot.parentPlayer=$h(Ni)),i.push(Ot)}}else tg(pt,Xt.fromStyles),Ot.onDestroy(()=>Zu(pt,Xt.toStyles)),zh.push(Ot),T.has(pt)&&i.push(Ot)}),zh.forEach(it=>{const pt=a.get(it.element);if(pt&&pt.length){const Ot=$h(pt);it.setRealPlayer(Ot)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<ye.length;it++){const pt=ye[it],Ot=pt[Za];if(y_(pt,JC),Ot&&Ot.hasAnimation)continue;let Xt=[];if(f.size){let So=f.get(pt);So&&So.length&&Xt.push(...So);let Ni=this.driver.query(pt,bA,!0);for(let ra=0;ra<Ni.length;ra++){let On=f.get(Ni[ra]);On&&On.length&&Xt.push(...On)}}const Or=Xt.filter(So=>!So.destroyed);Or.length?CH(this,pt,Or):this.processLeaveNode(pt)}return ye.length=0,Qr.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const pt=this.players.indexOf(it);this.players.splice(pt,1)}),it.play()}),Qr}elementContainsData(e,t){let r=!1;const i=t[Za];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const m=!a||a==Ab;f.forEach(b=>{b.queued||!m&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const b=m.element,T=b!==a,A=ta(r,b,[]);this._getPreviousPlayers(b,T,c,f,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),A.push(B)})}tg(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,m=t.element,b=[],T=new Set,A=new Set,x=t.timelines.map(G=>{const Y=G.element;T.add(Y);const ye=Y[Za];if(ye&&ye.removedBeforeQueried)return new Df(G.duration,G.delay);const He=Y!==m,ke=function DH(n){const e=[];return gP(n,e),e}((r.get(Y)||mH).map(vt=>vt.getRealPlayer())).filter(vt=>!!vt.element&&vt.element===Y),Qe=a.get(Y),Be=c.get(Y),nt=jx(0,this._normalizer,0,G.keyframes,Qe,Be),at=this._buildPlayer(G,nt,ke);if(G.subTimeline&&i&&A.add(Y),He){const vt=new PA(e,f,Y);vt.setRealPlayer(at),b.push(vt)}return at});b.forEach(G=>{ta(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function bH(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),T.forEach(G=>Ka(G,Qx));const B=$h(x);return B.onDestroy(()=>{T.forEach(G=>y_(G,Qx)),Zu(m,t.toStyles)}),A.forEach(G=>{ta(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Df(e.duration,e.delay)}}class PA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Df,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>fA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ta(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fD(n){return n&&1===n.nodeType}function hP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function fP(n,e,t,r,i){const a=[];t.forEach(m=>a.push(hP(m)));const c=[];r.forEach((m,b)=>{const T={};m.forEach(A=>{const x=T[A]=e.computeStyle(b,A,i);(!x||0==x.length)&&(b[Za]=_H,c.push(b))}),n.set(b,T)});let f=0;return t.forEach(m=>hP(m,a[f++])),c}function pP(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let m=a.get(f);if(m)return m;const b=f.parentNode;return m=t.has(b)?b:i.has(b)?1:c(b),a.set(f,m),m}return e.forEach(f=>{const m=c(f);1!==m&&t.get(m).push(f)}),t}function Ka(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function y_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function CH(n,e,t){$h(t).onDone(()=>n.processLeaveNode(e))}function gP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof J_?gP(r.players,e):e.push(r)}}function mP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class pD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new vH(e,t,r),this._timelineEngine=new dH(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const m=[],T=DA(this._driver,a,m,[]);if(m.length)throw function h3(n,e){return new l.vHH(3404,dn)}();f=function aH(n,e,t){return new lH(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=Hx(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=Hx(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let SH=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Zu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zu(this._element,this._initialStyles),this._endStyles&&(Zu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tg(this._element,this._endStyles),this._endStyles=null),Zu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];AH(i)&&(e=e||{},e[i]=n[i])}return e}function AH(n){return"display"===n||"position"===n}class _P{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:nP(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NH{validateStyleProperty(e){return qx(e)}matchesElement(e,t){return!1}containsElement(e,t){return Wx(e,t)}getParentElement(e){return _A(e)}query(e,t,r){return Zx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(m.easing=a);const b={},T=c.filter(x=>x instanceof _P);(function x3(n,e){return 0===n||0===e})(r,i)&&T.forEach(x=>{let B=x.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function P3(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(m){f[m]=nP(n,m)})}}return e}(e,t=t.map(x=>Gh(x,!1)),b);const A=function IH(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=kA(e[0]),e.length>1&&(r=kA(e[e.length-1]))):e&&(t=kA(e)),t||r?new SH(n,t,r):null}(e,t);return new _P(e,t,m,A)}}let MH=(()=>{class n extends Xb{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Q_(t):t;return yP(this._renderer,null,r,"register",[i]),new OH(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class OH extends class ZD{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RH(this._id,e,t||{},this._renderer)}}class RH{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function yP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const vP="@.disabled";let xH=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new bP("",a,this.engine),this._rendererCache.set(a,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=T=>{Array.isArray(T)?T.forEach(m):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(m),new PH(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(pD),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class bP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==vP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class PH extends bP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function kH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function FH(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let LH=(()=>{class n extends pD{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le),l.LFG(yA),l.LFG(NA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wP=new l.OlP("AnimationModuleType"),EP=[{provide:Xb,useClass:MH},{provide:NA,useFactory:function VH(){return new nH}},{provide:pD,useClass:LH},{provide:l.FYo,useFactory:function BH(n,e,t){return new xH(n,e,t)},deps:[Tn,pD,l.R0b]}],CP=[{provide:yA,useFactory:()=>new NH},{provide:wP,useValue:"BrowserAnimations"},...EP],UH=[{provide:yA,useClass:Kx},{provide:wP,useValue:"NoopAnimations"},...EP];let jH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?UH:CP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:CP,imports:[no]}),n})(),HH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[xj]}),n.\u0275inj=l.cJS({providers:[],imports:[[Zk(()=>Kk(aA_firebase)),$j(()=>Gj()),_s.hO.initializeApp(aA_firebase),no,Mj,Ej,oR,_s.hO,jH,ow]]}),n})();(0,l.G48)(),il().bootstrapModule(HH).catch(n=>console.error(n))},5867:(gt,Ie,P)=>{P.d(Ie,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=P(9681);(0,l.registerVersion)("firebase","9.7.0","app")},127:(gt,Ie,P)=>{P.d(Ie,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(gt,Ie,P)=>{P.r(Ie);var l=P(5861),$=P(3942),R=P(573),se=P(2090),le=(P(9681),P(1877),P(4859));function ce(){return window}function q(){return(q=(0,l.Z)(function*(k,V,H){var ue;const{BuildInfo:je}=ce();(0,R.ap)(V.sessionId,"AuthEvent did not contain a session ID");const Ye=yield Ee(V.sessionId),St={};return(0,R.aq)()?St.ibi=je.packageName:(0,R.ar)()?St.apn=je.packageName:(0,R.as)(k,"operation-not-supported-in-this-environment"),je.displayName&&(St.appDisplayName=je.displayName),St.sessionId=Ye,(0,R.at)(k,H,V.type,void 0,null!==(ue=V.eventId)&&void 0!==ue?ue:void 0,St)})).apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(k){const{BuildInfo:V}=ce(),H={};(0,R.aq)()?H.iosBundleId=V.packageName:(0,R.ar)()?H.androidPackageName=V.packageName:(0,R.as)(k,"operation-not-supported-in-this-environment"),yield(0,R.au)(k,H)})).apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(k,V,H){const{cordova:ue}=ce();let je=()=>{};try{yield new Promise((Ye,St)=>{let lt=null;function Rt(){var Qt;Ye();const Hr=null===(Qt=ue.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof Hr&&Hr(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function Nn(){lt||(lt=window.setTimeout(()=>{St((0,R.av)(k,"redirect-cancelled-by-user"))},2e3))}function _r(){"visible"===(null==document?void 0:document.visibilityState)&&Nn()}V.addPassiveListener(Rt),document.addEventListener("resume",Nn,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",_r,!1),je=()=>{V.removePassiveListener(Rt),document.removeEventListener("resume",Nn,!1),document.removeEventListener("visibilitychange",_r,!1),lt&&window.clearTimeout(lt)}})}finally{je()}})).apply(this,arguments)}function Ee(k){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(k){const V=Ge(k),H=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(H)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ge(k){if((0,R.ap)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(k);const V=new ArrayBuffer(k.length),H=new Uint8Array(V);for(let ue=0;ue<k.length;ue++)H[ue]=k.charCodeAt(ue);return H}class Ne extends R.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(V)),super.onEvent(V)}initialized(){var V=this;return(0,l.Z)(function*(){yield V.initPromise})()}}function te(k){return rt.apply(this,arguments)}function rt(){return(rt=(0,l.Z)(function*(k){const V=yield ie()._get(ae(k));return V&&(yield ie()._remove(ae(k))),V})).apply(this,arguments)}function oe(){const k=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const ue=Math.floor(Math.random()*V.length);k.push(V.charAt(ue))}return k.join("")}function ie(){return(0,R.ax)(R.b)}function ae(k){return(0,R.ay)("authEvent",k.config.apiKey,k.name)}function Le(k){if(!(null==k?void 0:k.includes("?")))return{};const[V,...H]=k.split("?");return(0,se.zd)(H.join("?"))}function ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.av)("no-auth-event")}}function nn(){var k;return(null===(k=null==self?void 0:self.location)||void 0===k?void 0:k.protocol)||null}function Fn(k=(0,se.z$)()){return!("file:"!==nn()&&"ionic:"!==nn()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mi(){try{const k=self.localStorage,V=R.aG();if(k)return k.setItem(V,"1"),k.removeItem(V),!function os(k=(0,se.z$)()){return function Ur(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Rr(k=(0,se.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,se.hl)()}catch(k){return Sr()&&(0,se.hl)()}return!1}function Sr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function xr(){return(function on(){return"http:"===nn()||"https:"===nn()}()||(0,se.ru)()||Fn())&&!function Ir(){return(0,se.b$)()||(0,se.UG)()}()&&Mi()&&!Sr()}function Ds(){return Fn()&&"undefined"!=typeof document}function jr(){return(jr=(0,l.Z)(function*(){return!!Ds()&&new Promise(k=>{const V=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),k(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},tr=R.aw,Oi="persistence";function Ln(k){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(k){yield k._initializationPromise;const V=qt(),H=R.ay(Oi,k.config.apiKey,k.name);V&&V.setItem(H,k._getPersistence())})).apply(this,arguments)}function qt(){var k;try{return(null===(k=function Gn(){return"undefined"!=typeof window?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch(V){return null}}const _t=R.aw;class ut{constructor(){this.browserResolver=R.ax(R.k),this.cordovaResolver=R.ax(class en{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aA}_initialize(V){var H=this;return(0,l.Z)(function*(){const ue=V._key();let je=H.eventManagers.get(ue);return je||(je=new Ne(V),H.eventManagers.set(ue,je),H.attachCallbackListeners(V,je)),je})()}_openPopup(V){(0,R.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,H,ue,je){var Ye=this;return(0,l.Z)(function*(){!function ge(k){var V,H,ue,je,Ye,St,lt,Rt,Nn,_r;const Qt=ce();(0,R.aw)("function"==typeof(null===(V=null==Qt?void 0:Qt.universalLinks)||void 0===V?void 0:V.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aw)(void 0!==(null===(H=null==Qt?void 0:Qt.BuildInfo)||void 0===H?void 0:H.packageName),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aw)("function"==typeof(null===(Ye=null===(je=null===(ue=null==Qt?void 0:Qt.cordova)||void 0===ue?void 0:ue.plugins)||void 0===je?void 0:je.browsertab)||void 0===Ye?void 0:Ye.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(Rt=null===(lt=null===(St=null==Qt?void 0:Qt.cordova)||void 0===St?void 0:St.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===Rt?void 0:Rt.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(_r=null===(Nn=null==Qt?void 0:Qt.cordova)||void 0===Nn?void 0:Nn.InAppBrowser)||void 0===_r?void 0:_r.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const St=yield Ye._initialize(V);yield St.initialized(),St.resetRedirect(),(0,R.aB)(),yield Ye._originValidation(V);const lt=function we(k,V,H=null){return{type:V,eventId:H,urlResponse:null,sessionId:oe(),postBody:null,tenantId:k.tenantId,error:(0,R.av)(k,"no-auth-event")}}(V,ue,je);yield function Je(k,V){return ie()._set(ae(k),V)}(V,lt);const Rt=yield function W(k,V,H){return q.apply(this,arguments)}(V,lt,H),Nn=yield function Re(k){const{cordova:V}=ce();return new Promise(H=>{V.plugins.browsertab.isAvailable(ue=>{let je=null;ue?V.plugins.browsertab.openUrl(k):je=V.InAppBrowser.open(k,(0,R.ao)()?"_blank":"_system","location=yes"),H(je)})})}(Rt);return function Pe(k,V,H){return Ue.apply(this,arguments)}(V,St,Nn)})()}_isIframeWebStorageSupported(V,H){throw new Error("Method not implemented.")}_originValidation(V){const H=V._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ee(k){return Ke.apply(this,arguments)}(V)),this.originValidationPromises[H]}attachCallbackListeners(V,H){const{universalLinks:ue,handleOpenURL:je,BuildInfo:Ye}=ce(),St=setTimeout((0,l.Z)(function*(){yield te(V),H.onEvent(ze())}),500),lt=function(){var _r=(0,l.Z)(function*(Qt){clearTimeout(St);const Hr=yield te(V);let Gi=null;Hr&&(null==Qt?void 0:Qt.url)&&(Gi=function tt(k,V){var H,ue;const je=function fe(k){const V=Le(k),H=V.link?decodeURIComponent(V.link):void 0,ue=Le(H).link,je=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Le(je).link||je||ue||H||k}(V);if(je.includes("/__/auth/callback")){const Ye=Le(je),St=Ye.firebaseError?function De(k){try{return JSON.parse(k)}catch(V){return null}}(decodeURIComponent(Ye.firebaseError)):null,lt=null===(ue=null===(H=null==St?void 0:St.code)||void 0===H?void 0:H.split("auth/"))||void 0===ue?void 0:ue[1],Rt=lt?(0,R.av)(lt):null;return Rt?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:je,postBody:null}}return null}(Hr,Qt.url)),H.onEvent(Gi||ze())});return function(Hr){return _r.apply(this,arguments)}}();void 0!==ue&&"function"==typeof ue.subscribe&&ue.subscribe(null,lt);const Rt=je,Nn=`${Ye.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var _r=(0,l.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(Nn)&&lt({url:Qt}),"function"==typeof Rt)try{Rt(Qt)}catch(Hr){console.error(Hr)}});return function(Qt){return _r.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aA}_initialize(V){var H=this;return(0,l.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,H,ue,je){var Ye=this;return(0,l.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(V,H,ue,je)})()}_openRedirect(V,H,ue,je){var Ye=this;return(0,l.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(V,H,ue,je)})()}_isIframeWebStorageSupported(V,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,H)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Ds()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,l.Z)(function*(){if(V.underlyingResolver)return;const H=yield function mt(){return jr.apply(this,arguments)}();V.underlyingResolver=H?V.cordovaResolver:V.browserResolver})()}}function Xr(k){return k.unwrap()}function Zt(k){return qn(k)}function qn(k){const{_tokenResponse:V}=k instanceof se.ZR?k.customData:k;if(!V)return null;if(!(k instanceof se.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return R.P.credentialFromResult(k);const H=V.providerId;if(!H||H===R.o.PASSWORD)return null;let ue;switch(H){case R.o.GOOGLE:ue=R.N;break;case R.o.FACEBOOK:ue=R.M;break;case R.o.GITHUB:ue=R.Q;break;case R.o.TWITTER:ue=R.V;break;default:const{oauthIdToken:je,oauthAccessToken:Ye,oauthTokenSecret:St,pendingToken:lt,nonce:Rt}=V;return Ye||St||je||lt?lt?H.startsWith("saml.")?R.aJ._create(H,lt):R.I._fromParams({providerId:H,signInMethod:H,pendingToken:lt,idToken:je,accessToken:Ye}):new R.T(H).credential({idToken:je,accessToken:Ye,rawNonce:Rt}):null}return k instanceof se.ZR?ue.credentialFromError(k):ue.credentialFromResult(k)}function hn(k,V){return V.catch(H=>{throw H instanceof se.ZR&&function ls(k,V){var H;const ue=null===(H=V.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Kt(k,R.am(k,V));else if(ue){const je=qn(V),Ye=V;je&&(Ye.credential=je,Ye.tenantId=ue.tenantId||void 0,Ye.email=ue.email||void 0,Ye.phoneNumber=ue.phoneNumber||void 0)}}(k,H),H}).then(H=>{const je=H.user;return{operationType:H.operationType,credential:Zt(H),additionalUserInfo:R.ak(H),user:We.getOrCreate(je)}})}function wt(k,V){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(k,V){const H=yield V;return{verificationId:H.verificationId,confirm:ue=>hn(k,H.confirm(ue))}})).apply(this,arguments)}class Kt{constructor(V,H){this.resolver=H,this.auth=function as(k){return k.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return hn(Xr(this.auth),this.resolver.resolveSignIn(V))}}class We{constructor(V){this._delegate=V,this.multiFactor=R.an(V)}static getOrCreate(V){return We.USER_MAP.has(V)||We.USER_MAP.set(V,new We(V)),We.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var H=this;return(0,l.Z)(function*(){return hn(H.auth,R.Y(H._delegate,V))})()}linkWithPhoneNumber(V,H){var ue=this;return(0,l.Z)(function*(){return wt(ue.auth,R.l(ue._delegate,V,H))})()}linkWithPopup(V){var H=this;return(0,l.Z)(function*(){return hn(H.auth,R.d(H._delegate,V,ut))})()}linkWithRedirect(V){var H=this;return(0,l.Z)(function*(){return yield Ln(R.aC(H.auth)),R.g(H._delegate,V,ut)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var H=this;return(0,l.Z)(function*(){return hn(H.auth,R.Z(H._delegate,V))})()}reauthenticateWithPhoneNumber(V,H){return wt(this.auth,R.r(this._delegate,V,H))}reauthenticateWithPopup(V){return hn(this.auth,R.e(this._delegate,V,ut))}reauthenticateWithRedirect(V){var H=this;return(0,l.Z)(function*(){return yield Ln(R.aC(H.auth)),R.h(H._delegate,V,ut)})()}sendEmailVerification(V){return R.aa(this._delegate,V)}unlink(V){var H=this;return(0,l.Z)(function*(){return yield R.aj(H._delegate,V),H})()}updateEmail(V){return R.af(this._delegate,V)}updatePassword(V){return R.ag(this._delegate,V)}updatePhoneNumber(V){return R.u(this._delegate,V)}updateProfile(V){return R.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,H){return R.ab(this._delegate,V,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}We.USER_MAP=new WeakMap;const Te=R.aw;let ot=(()=>{class k{constructor(H,ue){if(this.app=H,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=H.options;Te(je,"invalid-api-key",{appName:H.name}),Te(je,"invalid-api-key",{appName:H.name});const Ye="undefined"!=typeof window?ut:void 0;this._delegate=ue.initialize({options:{persistence:Bt(je,H.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(R.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?We.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,ue){R.E(this._delegate,H,ue)}applyActionCode(H){return R.a1(this._delegate,H)}checkActionCode(H){return R.a2(this._delegate,H)}confirmPasswordReset(H,ue){return R.a0(this._delegate,H,ue)}createUserWithEmailAndPassword(H,ue){var je=this;return(0,l.Z)(function*(){return hn(je._delegate,R.a4(je._delegate,H,ue))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return R.a9(this._delegate,H)}isSignInWithEmailLink(H){return R.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,l.Z)(function*(){Te(xr(),H._delegate,"operation-not-supported-in-this-environment");const ue=yield R.j(H._delegate,ut);return ue?hn(H._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function tn(k,V){(0,R.aC)(k)._logFramework(V)}(this._delegate,H)}onAuthStateChanged(H,ue,je){const{next:Ye,error:St,complete:lt}=yt(H,ue,je);return this._delegate.onAuthStateChanged(Ye,St,lt)}onIdTokenChanged(H,ue,je){const{next:Ye,error:St,complete:lt}=yt(H,ue,je);return this._delegate.onIdTokenChanged(Ye,St,lt)}sendSignInLinkToEmail(H,ue){return R.a6(this._delegate,H,ue)}sendPasswordResetEmail(H,ue){return R.$(this._delegate,H,ue||void 0)}setPersistence(H){var ue=this;return(0,l.Z)(function*(){let je;switch(function zn(k,V){tr(Object.values(un).includes(V),k,"invalid-persistence-type"),(0,se.b$)()?tr(V!==un.SESSION,k,"unsupported-persistence-type"):(0,se.UG)()?tr(V===un.NONE,k,"unsupported-persistence-type"):Sr()?tr(V===un.NONE||V===un.LOCAL&&(0,se.hl)(),k,"unsupported-persistence-type"):tr(V===un.NONE||Mi(),k,"unsupported-persistence-type")}(ue._delegate,H),H){case un.SESSION:je=R.a;break;case un.LOCAL:je=(yield R.ax(R.i)._isAvailable())?R.i:R.b;break;case un.NONE:je=R.K;break;default:return R.as("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return hn(this._delegate,R.W(this._delegate))}signInWithCredential(H){return hn(this._delegate,R.X(this._delegate,H))}signInWithCustomToken(H){return hn(this._delegate,R._(this._delegate,H))}signInWithEmailAndPassword(H,ue){return hn(this._delegate,R.a5(this._delegate,H,ue))}signInWithEmailLink(H,ue){return hn(this._delegate,R.a8(this._delegate,H,ue))}signInWithPhoneNumber(H,ue){return wt(this._delegate,R.s(this._delegate,H,ue))}signInWithPopup(H){var ue=this;return(0,l.Z)(function*(){return Te(xr(),ue._delegate,"operation-not-supported-in-this-environment"),hn(ue._delegate,R.c(ue._delegate,H,ut))})()}signInWithRedirect(H){var ue=this;return(0,l.Z)(function*(){return Te(xr(),ue._delegate,"operation-not-supported-in-this-environment"),yield Ln(ue._delegate),R.f(ue._delegate,H,ut)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return R.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=un,k})();function yt(k,V,H){let ue=k;"function"!=typeof k&&({next:ue,error:V,complete:H}=k);const je=ue;return{next:St=>je(St&&We.getOrCreate(St)),error:V,complete:H}}function Bt(k,V){const H=function Ao(k,V){const H=qt();if(!H)return[];const ue=R.ay(Oi,k,V);switch(H.getItem(ue)){case un.NONE:return[R.K];case un.LOCAL:return[R.i,R.a];case un.SESSION:return[R.a];default:return[]}}(k,V);if("undefined"!=typeof self&&!H.includes(R.i)&&H.push(R.i),"undefined"!=typeof window)for(const ue of[R.b,R.a])H.includes(ue)||H.push(ue);return H.includes(R.K)||H.push(R.K),H}class Ut{constructor(){this.providerId="phone",this._delegate=new R.P(Xr($.Z.auth()))}static credential(V,H){return R.P.credential(V,H)}verifyPhoneNumber(V,H){return this._delegate.verifyPhoneNumber(V,H)}unwrap(){return this._delegate}}Ut.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Ut.PROVIDER_ID=R.P.PROVIDER_ID;const Z=R.aw;class j{constructor(V,H,ue=$.Z.app()){var je;Z(null===(je=ue.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new R.R(V,H,ue.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(k){k.INTERNAL.registerComponent(new le.wA("auth-compat",V=>{const H=V.getProvider("app-compat").getImmediate(),ue=V.getProvider("auth");return new ot(H,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.L,FacebookAuthProvider:R.M,GithubAuthProvider:R.Q,GoogleAuthProvider:R.N,OAuthProvider:R.T,SAMLAuthProvider:R.U,PhoneAuthProvider:Ut,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:j,TwitterAuthProvider:R.V,Auth:ot,AuthCredential:R.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.2.12")}($.Z)},8306:(gt,Ie,P)=>{P.d(Ie,{y:()=>W});var l=P(930),$=P(727),R=P(8822),se=P(4671);var le=P(2416),ce=P(576),pe=P(2806);let W=(()=>{class Re{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const ge=new Re;return ge.source=this,ge.operator=Ue,ge}subscribe(Ue,ge,Ee){const st=function Ke(Re){return Re&&Re instanceof l.Lv||function ee(Re){return Re&&(0,ce.m)(Re.next)&&(0,ce.m)(Re.error)&&(0,ce.m)(Re.complete)}(Re)&&(0,$.Nn)(Re)}(Ue)?Ue:new l.Hp(Ue,ge,Ee);return(0,pe.x)(()=>{const{operator:Ge,source:Oe}=this;st.add(Ge?Ge.call(st,Oe):Oe?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(ge){Ue.error(ge)}}forEach(Ue,ge){return new(ge=q(ge))((Ee,st)=>{const Ge=new l.Hp({next:Oe=>{try{Ue(Oe)}catch(Ne){st(Ne),Ge.unsubscribe()}},error:st,complete:Ee});this.subscribe(Ge)})}_subscribe(Ue){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Ue)}[R.L](){return this}pipe(...Ue){return function ve(Re){return 0===Re.length?se.y:1===Re.length?Re[0]:function(Ue){return Re.reduce((ge,Ee)=>Ee(ge),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=q(Ue))((ge,Ee)=>{let st;this.subscribe(Ge=>st=Ge,Ge=>Ee(Ge),()=>ge(st))})}}return Re.create=Pe=>new Re(Pe),Re})();function q(Re){var Pe;return null!==(Pe=null!=Re?Re:le.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(gt,Ie,P)=>{P.d(Ie,{x:()=>le});var l=P(8306),$=P(727);const se=(0,P(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),ve=P(2806);let le=(()=>{class pe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ee=new ce(this,this);return ee.operator=q,ee}_throwIfClosed(){if(this.closed)throw new se}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ee}=this;for(;ee.length;)ee.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ee,isStopped:Ke,observers:Re}=this;return ee||Ke?$.Lc:(this.currentObservers=null,Re.push(q),new $.w0(()=>{this.currentObservers=null,(0,ne.P)(Re,q)}))}_checkFinalizedStatuses(q){const{hasError:ee,thrownError:Ke,isStopped:Re}=this;ee?q.error(Ke):Re&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return pe.create=(W,q)=>new ce(W,q),pe})();class ce extends le{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ee||ee.call(q,W)}error(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ee||ee.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,ee;return null!==(ee=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==ee?ee:$.Lc}}},930:(gt,Ie,P)=>{P.d(Ie,{Hp:()=>Ue,Lv:()=>ee});var l=P(576),$=P(727),R=P(2416),se=P(7849),ne=P(5032);const ve=pe("C",void 0,void 0);function pe(Oe,Ne,we){return{kind:Oe,value:Ne,error:we}}var W=P(3410),q=P(2806);class ee extends $.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,$.Nn)(Ne)&&Ne.add(this)):this.destination=Ge}static create(Ne,we,Je){return new Ue(Ne,we,Je)}next(Ne){this.isStopped?st(function ce(Oe){return pe("N",Oe,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?st(function le(Oe){return pe("E",void 0,Oe)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?st(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Re(Oe,Ne){return Ke.call(Oe,Ne)}class Pe{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:we}=this;if(we.next)try{we.next(Ne)}catch(Je){ge(Je)}}error(Ne){const{partialObserver:we}=this;if(we.error)try{we.error(Ne)}catch(Je){ge(Je)}else ge(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(we){ge(we)}}}class Ue extends ee{constructor(Ne,we,Je){let te;if(super(),(0,l.m)(Ne)||!Ne)te={next:null!=Ne?Ne:void 0,error:null!=we?we:void 0,complete:null!=Je?Je:void 0};else{let rt;this&&R.v.useDeprecatedNextContext?(rt=Object.create(Ne),rt.unsubscribe=()=>this.unsubscribe(),te={next:Ne.next&&Re(Ne.next,rt),error:Ne.error&&Re(Ne.error,rt),complete:Ne.complete&&Re(Ne.complete,rt)}):te=Ne}this.destination=new Pe(te)}}function ge(Oe){R.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Oe):(0,se.h)(Oe)}function st(Oe,Ne){const{onStoppedNotification:we}=R.v;we&&W.z.setTimeout(()=>we(Oe,Ne))}const Ge={closed:!0,next:ne.Z,error:function Ee(Oe){throw Oe},complete:ne.Z}},727:(gt,Ie,P)=>{P.d(Ie,{Lc:()=>ve,w0:()=>ne,Nn:()=>le});var l=P(576);const R=(0,P(3888).d)(pe=>function(q){pe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ee,Ke)=>`${Ke+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var se=P(8737);class ne{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Re of q)Re.remove(this);else q.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Re){W=Re instanceof R?Re.errors:[Re]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Re of Ke)try{ce(Re)}catch(Pe){W=null!=W?W:[],Pe instanceof R?W=[...W,...Pe.errors]:W.push(Pe)}}if(W)throw new R(W)}}add(W){var q;if(W&&W!==this)if(this.closed)ce(W);else{if(W instanceof ne){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,se.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,se.P)(q,W),W instanceof ne&&W._removeParent(this)}}ne.EMPTY=(()=>{const pe=new ne;return pe.closed=!0,pe})();const ve=ne.EMPTY;function le(pe){return pe instanceof ne||pe&&"closed"in pe&&(0,l.m)(pe.remove)&&(0,l.m)(pe.add)&&(0,l.m)(pe.unsubscribe)}function ce(pe){(0,l.m)(pe)?pe():pe.unsubscribe()}},2416:(gt,Ie,P)=>{P.d(Ie,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Ie,P)=>{P.d(Ie,{E:()=>$});const $=new(P(8306).y)(ne=>ne.complete())},8996:(gt,Ie,P)=>{P.d(Ie,{D:()=>Ne});var l=P(8421),$=P(5363),R=P(9468),ve=P(8306),ce=P(2202),pe=P(576),W=P(9672);function ee(we,Je){if(!we)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,W.f)(te,Je,()=>{const rt=we[Symbol.asyncIterator]();(0,W.f)(te,Je,()=>{rt.next().then(tt=>{tt.done?te.complete():te.next(tt.value)})},0,!0)})})}var Ke=P(3670),Re=P(8239),Pe=P(1144),Ue=P(6495),ge=P(2206),Ee=P(4532),st=P(3260);function Ne(we,Je){return Je?function Oe(we,Je){if(null!=we){if((0,Ke.c)(we))return function se(we,Je){return(0,l.Xf)(we).pipe((0,R.R)(Je),(0,$.Q)(Je))}(we,Je);if((0,Pe.z)(we))return function le(we,Je){return new ve.y(te=>{let rt=0;return Je.schedule(function(){rt===we.length?te.complete():(te.next(we[rt++]),te.closed||this.schedule())})})}(we,Je);if((0,Re.t)(we))return function ne(we,Je){return(0,l.Xf)(we).pipe((0,R.R)(Je),(0,$.Q)(Je))}(we,Je);if((0,ge.D)(we))return ee(we,Je);if((0,Ue.T)(we))return function q(we,Je){return new ve.y(te=>{let rt;return(0,W.f)(te,Je,()=>{rt=we[ce.h](),(0,W.f)(te,Je,()=>{let tt,oe;try{({value:tt,done:oe}=rt.next())}catch(ie){return void te.error(ie)}oe?te.complete():te.next(tt)},0,!0)}),()=>(0,pe.m)(null==rt?void 0:rt.return)&&rt.return()})}(we,Je);if((0,st.L)(we))return function Ge(we,Je){return ee((0,st.Q)(we),Je)}(we,Je)}throw(0,Ee.z)(we)}(we,Je):(0,l.Xf)(we)}},8421:(gt,Ie,P)=>{P.d(Ie,{Xf:()=>Ke});var l=P(655),$=P(1144),R=P(8239),se=P(8306),ne=P(3670),ve=P(2206),le=P(4532),ce=P(6495),pe=P(3260),W=P(576),q=P(7849),ee=P(8822);function Ke(Oe){if(Oe instanceof se.y)return Oe;if(null!=Oe){if((0,ne.c)(Oe))return function Re(Oe){return new se.y(Ne=>{const we=Oe[ee.L]();if((0,W.m)(we.subscribe))return we.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,$.z)(Oe))return function Pe(Oe){return new se.y(Ne=>{for(let we=0;we<Oe.length&&!Ne.closed;we++)Ne.next(Oe[we]);Ne.complete()})}(Oe);if((0,R.t)(Oe))return function Ue(Oe){return new se.y(Ne=>{Oe.then(we=>{Ne.closed||(Ne.next(we),Ne.complete())},we=>Ne.error(we)).then(null,q.h)})}(Oe);if((0,ve.D)(Oe))return Ee(Oe);if((0,ce.T)(Oe))return function ge(Oe){return new se.y(Ne=>{for(const we of Oe)if(Ne.next(we),Ne.closed)return;Ne.complete()})}(Oe);if((0,pe.L)(Oe))return function st(Oe){return Ee((0,pe.Q)(Oe))}(Oe)}throw(0,le.z)(Oe)}function Ee(Oe){return new se.y(Ne=>{(function Ge(Oe,Ne){var we,Je,te,rt;return(0,l.mG)(this,void 0,void 0,function*(){try{for(we=(0,l.KL)(Oe);!(Je=yield we.next()).done;)if(Ne.next(Je.value),Ne.closed)return}catch(tt){te={error:tt}}finally{try{Je&&!Je.done&&(rt=we.return)&&(yield rt.call(we))}finally{if(te)throw te.error}}Ne.complete()})})(Oe,Ne).catch(we=>Ne.error(we))})}},6451:(gt,Ie,P)=>{P.d(Ie,{T:()=>ve});var l=P(8189),$=P(8421),R=P(515),se=P(3269),ne=P(8996);function ve(...le){const ce=(0,se.yG)(le),pe=(0,se._6)(le,1/0),W=le;return W.length?1===W.length?(0,$.Xf)(W[0]):(0,l.J)(pe)((0,ne.D)(W,ce)):R.E}},5403:(gt,Ie,P)=>{P.d(Ie,{x:()=>$});var l=P(930);function $(se,ne,ve,le,ce){return new R(se,ne,ve,le,ce)}class R extends l.Lv{constructor(ne,ve,le,ce,pe,W){super(ne),this.onFinalize=pe,this.shouldUnsubscribe=W,this._next=ve?function(q){try{ve(q)}catch(ee){ne.error(ee)}}:super._next,this._error=ce?function(q){try{ce(q)}catch(ee){ne.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(q){ne.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(gt,Ie,P)=>{P.d(Ie,{U:()=>R});var l=P(4482),$=P(5403);function R(se,ne){return(0,l.e)((ve,le)=>{let ce=0;ve.subscribe((0,$.x)(le,pe=>{le.next(se.call(ne,pe,ce++))}))})}},8189:(gt,Ie,P)=>{P.d(Ie,{J:()=>R});var l=P(5577),$=P(4671);function R(se=1/0){return(0,l.z)($.y,se)}},5577:(gt,Ie,P)=>{P.d(Ie,{z:()=>ce});var l=P(4004),$=P(8421),R=P(4482),se=P(9672),ne=P(5403),le=P(576);function ce(pe,W,q=1/0){return(0,le.m)(W)?ce((ee,Ke)=>(0,l.U)((Re,Pe)=>W(ee,Re,Ke,Pe))((0,$.Xf)(pe(ee,Ke))),q):("number"==typeof W&&(q=W),(0,R.e)((ee,Ke)=>function ve(pe,W,q,ee,Ke,Re,Pe,Ue){const ge=[];let Ee=0,st=0,Ge=!1;const Oe=()=>{Ge&&!ge.length&&!Ee&&W.complete()},Ne=Je=>Ee<ee?we(Je):ge.push(Je),we=Je=>{Re&&W.next(Je),Ee++;let te=!1;(0,$.Xf)(q(Je,st++)).subscribe((0,ne.x)(W,rt=>{null==Ke||Ke(rt),Re?Ne(rt):W.next(rt)},()=>{te=!0},void 0,()=>{if(te)try{for(Ee--;ge.length&&Ee<ee;){const rt=ge.shift();Pe?(0,se.f)(W,Pe,()=>we(rt)):we(rt)}Oe()}catch(rt){W.error(rt)}}))};return pe.subscribe((0,ne.x)(W,Ne,()=>{Ge=!0,Oe()})),()=>{null==Ue||Ue()}}(ee,Ke,pe,q)))}},5363:(gt,Ie,P)=>{P.d(Ie,{Q:()=>se});var l=P(9672),$=P(4482),R=P(5403);function se(ne,ve=0){return(0,$.e)((le,ce)=>{le.subscribe((0,R.x)(ce,pe=>(0,l.f)(ce,ne,()=>ce.next(pe),ve),()=>(0,l.f)(ce,ne,()=>ce.complete(),ve),pe=>(0,l.f)(ce,ne,()=>ce.error(pe),ve)))})}},3099:(gt,Ie,P)=>{P.d(Ie,{B:()=>ve});var l=P(8996),$=P(5698),R=P(7579),se=P(930),ne=P(4482);function ve(ce={}){const{connector:pe=(()=>new R.x),resetOnError:W=!0,resetOnComplete:q=!0,resetOnRefCountZero:ee=!0}=ce;return Ke=>{let Re=null,Pe=null,Ue=null,ge=0,Ee=!1,st=!1;const Ge=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Oe=()=>{Ge(),Re=Ue=null,Ee=st=!1},Ne=()=>{const we=Re;Oe(),null==we||we.unsubscribe()};return(0,ne.e)((we,Je)=>{ge++,!st&&!Ee&&Ge();const te=Ue=null!=Ue?Ue:pe();Je.add(()=>{ge--,0===ge&&!st&&!Ee&&(Pe=le(Ne,ee))}),te.subscribe(Je),Re||(Re=new se.Hp({next:rt=>te.next(rt),error:rt=>{st=!0,Ge(),Pe=le(Oe,W,rt),te.error(rt)},complete:()=>{Ee=!0,Ge(),Pe=le(Oe,q),te.complete()}}),(0,l.D)(we).subscribe(Re))})(Ke)}}function le(ce,pe,...W){return!0===pe?(ce(),null):!1===pe?null:pe(...W).pipe((0,$.q)(1)).subscribe(()=>ce())}},9468:(gt,Ie,P)=>{P.d(Ie,{R:()=>$});var l=P(4482);function $(R,se=0){return(0,l.e)((ne,ve)=>{ve.add(R.schedule(()=>ne.subscribe(ve),se))})}},5698:(gt,Ie,P)=>{P.d(Ie,{q:()=>se});var l=P(515),$=P(4482),R=P(5403);function se(ne){return ne<=0?()=>l.E:(0,$.e)((ve,le)=>{let ce=0;ve.subscribe((0,R.x)(le,pe=>{++ce<=ne&&(le.next(pe),ne<=ce&&le.complete())}))})}},8505:(gt,Ie,P)=>{P.d(Ie,{b:()=>ne});var l=P(576),$=P(4482),R=P(5403),se=P(4671);function ne(ve,le,ce){const pe=(0,l.m)(ve)||le||ce?{next:ve,error:le,complete:ce}:ve;return pe?(0,$.e)((W,q)=>{var ee;null===(ee=pe.subscribe)||void 0===ee||ee.call(pe);let Ke=!0;W.subscribe((0,R.x)(q,Re=>{var Pe;null===(Pe=pe.next)||void 0===Pe||Pe.call(pe,Re),q.next(Re)},()=>{var Re;Ke=!1,null===(Re=pe.complete)||void 0===Re||Re.call(pe),q.complete()},Re=>{var Pe;Ke=!1,null===(Pe=pe.error)||void 0===Pe||Pe.call(pe,Re),q.error(Re)},()=>{var Re,Pe;Ke&&(null===(Re=pe.unsubscribe)||void 0===Re||Re.call(pe)),null===(Pe=pe.finalize)||void 0===Pe||Pe.call(pe)}))}):se.y}},4408:(gt,Ie,P)=>{P.d(Ie,{o:()=>ne});var l=P(727);class $ extends l.w0{constructor(le,ce){super()}schedule(le,ce=0){return this}}const R={setInterval(ve,le,...ce){const{delegate:pe}=R;return(null==pe?void 0:pe.setInterval)?pe.setInterval(ve,le,...ce):setInterval(ve,le,...ce)},clearInterval(ve){const{delegate:le}=R;return((null==le?void 0:le.clearInterval)||clearInterval)(ve)},delegate:void 0};var se=P(8737);class ne extends ${constructor(le,ce){super(le,ce),this.scheduler=le,this.work=ce,this.pending=!1}schedule(le,ce=0){if(this.closed)return this;this.state=le;const pe=this.id,W=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(W,pe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(W,this.id,ce),this}requestAsyncId(le,ce,pe=0){return R.setInterval(le.flush.bind(le,this),pe)}recycleAsyncId(le,ce,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ce;R.clearInterval(ce)}execute(le,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(le,ce);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ce){let W,pe=!1;try{this.work(le)}catch(q){pe=!0,W=q||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:le,scheduler:ce}=this,{actions:pe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(pe,this),null!=le&&(this.id=this.recycleAsyncId(ce,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Ie,P)=>{P.d(Ie,{v:()=>R});var l=P(6063);class ${constructor(ne,ve=$.now){this.schedulerActionCtor=ne,this.now=ve}schedule(ne,ve=0,le){return new this.schedulerActionCtor(this,ne).schedule(le,ve)}}$.now=l.l.now;class R extends ${constructor(ne,ve=$.now){super(ne,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ve}=this;if(this._active)return void ve.push(ne);let le;this._active=!0;do{if(le=ne.execute(ne.state,ne.delay))break}while(ne=ve.shift());if(this._active=!1,le){for(;ne=ve.shift();)ne.unsubscribe();throw le}}}},4986:(gt,Ie,P)=>{P.d(Ie,{P:()=>se,z:()=>R});var l=P(4408);const R=new(P(7565).v)(l.o),se=R},6063:(gt,Ie,P)=>{P.d(Ie,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(gt,Ie,P)=>{P.d(Ie,{z:()=>l});const l={setTimeout($,R,...se){const{delegate:ne}=l;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout($,R,...se):setTimeout($,R,...se)},clearTimeout($){const{delegate:R}=l;return((null==R?void 0:R.clearTimeout)||clearTimeout)($)},delegate:void 0}},2202:(gt,Ie,P)=>{P.d(Ie,{h:()=>$});const $=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Ie,P)=>{P.d(Ie,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,Ie,P)=>{P.d(Ie,{_6:()=>ve,jO:()=>se,yG:()=>ne});var l=P(576),$=P(3532);function R(le){return le[le.length-1]}function se(le){return(0,l.m)(R(le))?le.pop():void 0}function ne(le){return(0,$.K)(R(le))?le.pop():void 0}function ve(le,ce){return"number"==typeof R(le)?le.pop():ce}},8737:(gt,Ie,P)=>{function l($,R){if($){const se=$.indexOf(R);0<=se&&$.splice(se,1)}}P.d(Ie,{P:()=>l})},3888:(gt,Ie,P)=>{function l($){const se=$(ne=>{Error.call(ne),ne.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ie,{d:()=>l})},2806:(gt,Ie,P)=>{P.d(Ie,{O:()=>se,x:()=>R});var l=P(2416);let $=null;function R(ne){if(l.v.useDeprecatedSynchronousErrorHandling){const ve=!$;if(ve&&($={errorThrown:!1,error:null}),ne(),ve){const{errorThrown:le,error:ce}=$;if($=null,le)throw ce}}else ne()}function se(ne){l.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ne)}},9672:(gt,Ie,P)=>{function l($,R,se,ne=0,ve=!1){const le=R.schedule(function(){se(),ve?$.add(this.schedule(null,ne)):this.unsubscribe()},ne);if($.add(le),!ve)return le}P.d(Ie,{f:()=>l})},4671:(gt,Ie,P)=>{function l($){return $}P.d(Ie,{y:()=>l})},1144:(gt,Ie,P)=>{P.d(Ie,{z:()=>l});const l=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(gt,Ie,P)=>{P.d(Ie,{D:()=>$});var l=P(576);function $(R){return Symbol.asyncIterator&&(0,l.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(gt,Ie,P)=>{function l($){return"function"==typeof $}P.d(Ie,{m:()=>l})},3670:(gt,Ie,P)=>{P.d(Ie,{c:()=>R});var l=P(8822),$=P(576);function R(se){return(0,$.m)(se[l.L])}},6495:(gt,Ie,P)=>{P.d(Ie,{T:()=>R});var l=P(2202),$=P(576);function R(se){return(0,$.m)(null==se?void 0:se[l.h])}},8239:(gt,Ie,P)=>{P.d(Ie,{t:()=>$});var l=P(576);function $(R){return(0,l.m)(null==R?void 0:R.then)}},3260:(gt,Ie,P)=>{P.d(Ie,{L:()=>se,Q:()=>R});var l=P(655),$=P(576);function R(ne){return(0,l.FC)(this,arguments,function*(){const le=ne.getReader();try{for(;;){const{value:ce,done:pe}=yield(0,l.qq)(le.read());if(pe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ce)}}finally{le.releaseLock()}})}function se(ne){return(0,$.m)(null==ne?void 0:ne.getReader)}},3532:(gt,Ie,P)=>{P.d(Ie,{K:()=>$});var l=P(576);function $(R){return R&&(0,l.m)(R.schedule)}},4482:(gt,Ie,P)=>{P.d(Ie,{A:()=>$,e:()=>R});var l=P(576);function $(se){return(0,l.m)(null==se?void 0:se.lift)}function R(se){return ne=>{if($(ne))return ne.lift(function(ve){try{return se(ve,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,Ie,P)=>{function l(){}P.d(Ie,{Z:()=>l})},7849:(gt,Ie,P)=>{P.d(Ie,{h:()=>R});var l=P(2416),$=P(3410);function R(se){$.z.setTimeout(()=>{const{onUnhandledError:ne}=l.v;if(!ne)throw se;ne(se)})}},4532:(gt,Ie,P)=>{function l($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>l})},655:(gt,Ie,P)=>{function se(oe,ie){var ae={};for(var De in oe)Object.prototype.hasOwnProperty.call(oe,De)&&ie.indexOf(De)<0&&(ae[De]=oe[De]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(De=Object.getOwnPropertySymbols(oe);fe<De.length;fe++)ie.indexOf(De[fe])<0&&Object.prototype.propertyIsEnumerable.call(oe,De[fe])&&(ae[De[fe]]=oe[De[fe]])}return ae}function ce(oe,ie,ae,De){return new(ae||(ae=Promise))(function(Le,Pt){function en(tn){try{ze(De.next(tn))}catch(mr){Pt(mr)}}function an(tn){try{ze(De.throw(tn))}catch(mr){Pt(mr)}}function ze(tn){tn.done?Le(tn.value):function fe(Le){return Le instanceof ae?Le:new ae(function(Pt){Pt(Le)})}(tn.value).then(en,an)}ze((De=De.apply(oe,ie||[])).next())})}function ge(oe){return this instanceof ge?(this.v=oe,this):new ge(oe)}function Ee(oe,ie,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,De=ae.apply(oe,ie||[]),Le=[];return fe={},Pt("next"),Pt("throw"),Pt("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function Pt(kn){De[kn]&&(fe[kn]=function(sn){return new Promise(function(nn,on){Le.push([kn,sn,nn,on])>1||en(kn,sn)})})}function en(kn,sn){try{!function an(kn){kn.value instanceof ge?Promise.resolve(kn.value.v).then(ze,tn):mr(Le[0][2],kn)}(De[kn](sn))}catch(nn){mr(Le[0][3],nn)}}function ze(kn){en("next",kn)}function tn(kn){en("throw",kn)}function mr(kn,sn){kn(sn),Le.shift(),Le.length&&en(Le[0][0],Le[0][1])}}function Ge(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ie=oe[Symbol.asyncIterator];return ie?ie.call(oe):(oe=function ee(oe){var ie="function"==typeof Symbol&&Symbol.iterator,ae=ie&&oe[ie],De=0;if(ae)return ae.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&De>=oe.length&&(oe=void 0),{value:oe&&oe[De++],done:!oe}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ae={},De("next"),De("throw"),De("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function De(Le){ae[Le]=oe[Le]&&function(Pt){return new Promise(function(en,an){!function fe(Le,Pt,en,an){Promise.resolve(an).then(function(ze){Le({value:ze,done:en})},Pt)}(en,an,(Pt=oe[Le](Pt)).done,Pt.value)})}}}P.d(Ie,{FC:()=>Ee,KL:()=>Ge,_T:()=>se,mG:()=>ce,qq:()=>ge})},5e3:(gt,Ie,P)=>{P.d(Ie,{$8M:()=>rr,$Z:()=>gm,AFp:()=>AE,ALo:()=>oE,AaK:()=>ce,CHM:()=>Kh,CRH:()=>Th,CZH:()=>g0,CqO:()=>r1,EJc:()=>OE,EiD:()=>Tg,EpF:()=>Wr,F$t:()=>av,F4k:()=>n1,FYo:()=>K1,FiY:()=>Ji,G48:()=>TI,Gf:()=>t0,GfV:()=>Q1,Gpc:()=>q,Hsn:()=>zt,Ikx:()=>bs,JOm:()=>Oa,JVY:()=>Cc,L6k:()=>bg,LAX:()=>wg,LFG:()=>$e,LSH:()=>jd,Lbi:()=>_0,MAs:()=>Wy,MGl:()=>Wf,NdJ:()=>sv,OlP:()=>Un,Oqu:()=>Kc,PXZ:()=>M0,Q6J:()=>iv,QGY:()=>mm,Qsj:()=>KT,QtT:()=>nd,R0b:()=>Es,RDi:()=>Xs,Rgc:()=>Bu,SBq:()=>_p,SDv:()=>Vv,Sil:()=>bI,Suo:()=>ju,TTD:()=>ua,TgZ:()=>Iu,Tol:()=>Wc,Udp:()=>bo,VKq:()=>sd,VLi:()=>S0,W1O:()=>Lm,WLB:()=>wh,X6Q:()=>R0,XFs:()=>mt,Xpm:()=>Ut,Y36:()=>yo,YKP:()=>Zr,YNc:()=>qy,Yjl:()=>je,Yz7:()=>sn,ZZ4:()=>j0,_Bn:()=>mp,_UZ:()=>dt,_Vd:()=>Nm,_c5:()=>G0,_uU:()=>Jf,aQg:()=>H0,c2e:()=>Gm,cJS:()=>on,cQ8:()=>Nt,cg1:()=>Cm,dDg:()=>LE,deG:()=>pg,dqk:()=>Zt,eBb:()=>pf,eFA:()=>Vl,ekj:()=>qc,evT:()=>k_,g9A:()=>Ah,h0i:()=>rd,hGG:()=>JE,hij:()=>Xf,iGM:()=>dE,ifc:()=>qt,ip1:()=>p0,kEZ:()=>qv,kL8:()=>Ev,lG2:()=>ue,lcZ:()=>Ch,mCW:()=>N,n5z:()=>pc,oAB:()=>k,oJD:()=>O_,oxw:()=>vs,pB0:()=>gf,pQV:()=>Bv,q3G:()=>_n,q4F:()=>$v,qLn:()=>Ag,qOj:()=>By,qZA:()=>uh,qzn:()=>ho,s9C:()=>Su,sBO:()=>HE,sIi:()=>rh,s_b:()=>ud,soG:()=>Np,tBr:()=>ms,tb:()=>dd,tp0:()=>Xi,uIk:()=>jy,vHH:()=>Pe,vpe:()=>$a,wAp:()=>Tt,xp6:()=>rw,yhl:()=>gu,z2F:()=>Op,z3N:()=>qo,zSh:()=>Fc,zs3:()=>Yo});var l=P(7579),$=P(727),R=P(8306),se=P(6451),ne=P(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=ve({__forward_ref__:ve});function q(s){return s.__forward_ref__=q,s.toString=function(){return ce(this())},s}function ee(s){return Ke(s)?s():s}function Ke(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===q}class Pe extends Error{constructor(o,u){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function Ne(s,o){const u=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${Ee(s)} found${u}`)}function ze(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function on(s){return{providers:s.providers||[],imports:s.imports||[]}}function Fn(s){return Ir(s,Mi)||Ir(s,xr)}function Ir(s,o){return s.hasOwnProperty(o)?s[o]:null}function os(s){return s&&(s.hasOwnProperty(Sr)||s.hasOwnProperty(Ds))?s[Sr]:null}const Mi=ve({\u0275prov:ve}),Sr=ve({\u0275inj:ve}),xr=ve({ngInjectableDef:ve}),Ds=ve({ngInjectorDef:ve});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let jr;function un(s){const o=jr;return jr=s,o}function tr(s,o,u){const d=Fn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&mt.Optional?null:void 0!==o?o:void Ne(ce(s),"Injector")}function zn(s){return{toString:s}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const _t="undefined"!=typeof globalThis&&globalThis,ut="undefined"!=typeof window&&window,Xr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=_t||"undefined"!=typeof global&&global||ut||Xr,hn={},wt=[],Wn=ve({\u0275cmp:ve}),Kt=ve({\u0275dir:ve}),We=ve({\u0275pipe:ve}),Te=ve({\u0275mod:ve}),ot=ve({\u0275fac:ve}),yt=ve({__NG_ELEMENT_ID__:ve});let Bt=0;function Ut(s){return zn(()=>{const u={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||wt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||wt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return d.id+=Bt++,d.inputs=H(s.inputs,u),d.outputs=H(s.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(j):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(K):null,d})}function j(s){return Ye(s)||function St(s){return s[Kt]||null}(s)}function K(s){return function lt(s){return s[We]||null}(s)}const he={};function k(s){return zn(()=>{const o={type:s.type,bootstrap:s.bootstrap||wt,declarations:s.declarations||wt,imports:s.imports||wt,exports:s.exports||wt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),o})}function H(s,o){if(null==s)return hn;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}const ue=Ut;function je(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ye(s){return s[Wn]||null}function Rt(s,o){const u=s[Te]||null;if(!u&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return u}function hi(s){return Array.isArray(s)&&"object"==typeof s[1]}function cs(s){return Array.isArray(s)&&!0===s[1]}function Kl(s){return 0!=(8&s.flags)}function sa(s){return 2==(2&s.flags)}function oa(s){return 1==(1&s.flags)}function zi(s){return null!==s.template}function Yu(s){return 0!=(512&s[2])}function Ri(s,o){return s.hasOwnProperty(ot)?s[ot]:null}class Ql{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ua(){return Jl}function Jl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Xa),Wh}function Wh(){const s=qi(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===hn)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Xa(s,o,u,d){const h=qi(s)||function Ns(s,o){return s[ei]=o}(s,{previous:hn,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[u],C=y[w];p[w]=new Ql(C&&C.currentValue,o,y===hn),s[d]=o}ua.ngInherit=!0;const ei="__ngSimpleChanges__";function qi(s){return s[ei]||null}let eu;function Xs(s){eu=s}function Oo(){return void 0!==eu?eu:"undefined"!=typeof document?document:void 0}function In(s){return!!s.listen}const Ro={createRenderer:(s,o)=>Oo()};function wn(s){for(;Array.isArray(s);)s=s[0];return s}function eo(s,o){return wn(o[s])}function Pr(s,o){return wn(o[s.index])}function tu(s,o){return s.data[o]}function xi(s,o){return s[o]}function ti(s,o){const u=o[s];return hi(u)?u:u[0]}function Ms(s){return 4==(4&s[2])}function Po(s){return 128==(128&s[2])}function Wi(s,o){return null==o?null:s[o]}function hs(s){s[18]=0}function Os(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const Ct={lFrame:sc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ga(){return Ct.bindingsEnabled}function Se(){return Ct.lFrame.lView}function Gt(){return Ct.lFrame.tView}function Kh(s){return Ct.lFrame.contextLView=s,s[8]}function Tn(){let s=nu();for(;null!==s&&64===s.type;)s=s.parent;return s}function nu(){return Ct.lFrame.currentTNode}function to(){const s=Ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Zi(s,o){const u=Ct.lFrame;u.currentTNode=s,u.isParent=o}function ec(){return Ct.lFrame.isParent}function rl(){Ct.lFrame.isParent=!1}function ma(){return Ct.isInCheckNoChangesMode}function _a(s){Ct.isInCheckNoChangesMode=s}function vr(){const s=Ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function fs(){return Ct.lFrame.bindingIndex}function va(){return Ct.lFrame.bindingIndex++}function pi(s){const o=Ct.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function ba(s){Ct.lFrame.inI18n=s}function Id(s,o){const u=Ct.lFrame;u.bindingIndex=u.bindingRootIndex=s,nc(o)}function nc(s){Ct.lFrame.currentDirectiveIndex=s}function Qh(){return Ct.lFrame.currentQueryIndex}function rc(s){Ct.lFrame.currentQueryIndex=s}function ic(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ru(s,o,u){if(u&mt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&mt.Host||(h=ic(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Ct.lFrame=ko();return d.currentTNode=o,d.lView=s,!0}function sl(s){const o=ko(),u=s[1];Ct.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function ko(){const s=Ct.lFrame,o=null===s?null:s.child;return null===o?sc(s):o}function sc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Jh(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Sd=Jh;function Fo(){const s=Jh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ni(){return Ct.lFrame.selectedIndex}function io(s){Ct.lFrame.selectedIndex=s}function Yn(){const s=Ct.lFrame;return tu(s.tView,s.selectedIndex)}function ol(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(u,M)}}function lc(s,o,u){Nd(s,o,3,u)}function iu(s,o,u,d){(3&s[2])===u&&Nd(s,o,u,d)}function ur(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Nd(s,o,u,d){const p=null!=d?d:-1,y=o.length-1;let w=0;for(let C=void 0!==d?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=d&&w>=d)break}else o[C]<0&&(s[18]+=65536),(w<p||-1==p)&&(Md(s,u,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Md(s,o,u,d){const h=u[d]<0,p=u[d+1],w=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class su{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function bt(s,o,u){const d=In(s);let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const y=u[h++],w=u[h++],C=u[h++];d?s.setAttribute(o,w,C,y):o.setAttributeNS(y,w,C)}else{const y=p,w=u[++h];Qn(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function En(s){return 3===s||4===s||6===s}function Qn(s){return 64===s.charCodeAt(0)}function xn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||Rd(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function Rd(s,o,u,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function nr(s){return-1!==s}function oo(s){return 32767&s}function xs(s,o){let u=function cc(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let wa=!0;function Ki(s){const o=wa;return wa=s,o}let Ea=0;function gn(s,o){const u=ul(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ao(d.data,s),ao(o,null),ao(d.blueprint,null));const h=ri(s,o),p=s.injectorIndex;if(nr(h)){const y=oo(h),w=xs(h,o),C=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|C[y+S]}return o[p+8]=h,p}function ao(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ul(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ri(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Vo(s,o,u){!function ll(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(yt)&&(d=u[yt]),null==d&&(d=u[yt]=Ea++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function lo(s,o,u){if(u&mt.Optional)return s;Ne(o,"NodeInjector")}function cl(s,o,u,d){if(u&mt.Optional&&void 0===d&&(d=null),0==(u&(mt.Self|mt.Host))){const h=s[9],p=un(void 0);try{return h?h.get(o,d,u&mt.Optional):tr(o,d,u&mt.Optional)}finally{un(p)}}return lo(d,o,u)}function Bo(s,o,u,d=mt.Default,h){if(null!==s){const p=function uo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yt)?s[yt]:void 0;return"number"==typeof o?o>=0?255&o:hc:o}(u);if("function"==typeof p){if(!ru(o,s,d))return d&mt.Host?lo(h,u,d):cl(o,u,d,h);try{const y=p(d);if(null!=y||d&mt.Optional)return y;Ne(u)}finally{Sd()}}else if("number"==typeof p){let y=null,w=ul(s,o),C=-1,S=d&mt.Host?o[16][6]:null;for((-1===w||d&mt.SkipSelf)&&(C=-1===w?ri(s,o):o[w+8],-1!==C&&cr(d,!1)?(y=o[1],w=oo(C),o=xs(C,o)):w=-1);-1!==w;){const M=o[1];if(dl(p,w,M.data)){const L=fc(w,o,u,y,d,S);if(L!==Ps)return L}C=o[w+8],-1!==C&&cr(d,o[1].data[w+8]===S)&&dl(p,w,o)?(y=M,w=oo(C),o=xs(C,o)):w=-1}}}return cl(o,u,d,h)}const Ps={};function hc(){return new ks(Tn(),Se())}function fc(s,o,u,d,h,p){const y=o[1],w=y.data[s+8],M=ii(w,y,u,null==d?sa(w)&&wa:d!=y&&0!=(3&w.type),h&mt.Host&&p===w);return null!==M?Ca(o,y,M,w):Ps}function ii(s,o,u,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,C=s.directiveStart,M=p>>20,z=h?w+M:s.directiveEnd;for(let J=d?w:w+M;J<z;J++){const be=y[J];if(J<C&&u===be||J>=C&&be.type===u)return J}if(h){const J=y[C];if(J&&zi(J)&&J.type===u)return C}return null}function Ca(s,o,u,d){let h=s[u];const p=o.data;if(function al(s){return s instanceof su}(h)){const y=h;y.resolving&&function st(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${u}`)}(Ee(p[u]));const w=Ki(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?un(y.injectImpl):null;ru(s,d,mt.Default);try{h=s[u]=y.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Lo(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Jl(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==C&&un(C),Ki(w),y.resolving=!1,Sd()}}return h}function dl(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function cr(s,o){return!(s&mt.Self||s&mt.Host&&o)}class ks{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Bo(this._tNode,this._lView,o,d,u)}}function pc(s){return zn(()=>{const o=s.prototype.constructor,u=o[ot]||Bn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[ot]||Bn(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Bn(s){return Ke(s)?()=>{const o=Bn(ee(s));return o&&o()}:Ri(s)}function rr(s){return function gi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(En(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(Tn(),s)}const Fs="__parameters__";function Sn(s,o,u){return zn(()=>{const d=function ps(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(C,S,M){const L=C.hasOwnProperty(Fs)?C[Fs]:Object.defineProperty(C,Fs,{value:[]})[Fs];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(y),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Un{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pg=new Un("AnalyzeForEntryComponents");function oi(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(o===s&&(o=s.slice(0,u)),oi(d,o)):o!==s&&o.push(d)}return o}function Yi(s,o){s.forEach(u=>Array.isArray(u)?Yi(u,o):o(u))}function Ia(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function pl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function mi(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function Ar(s,o,u){let d=Ls(s,o);return d>=0?s[1|d]=u:(d=~d,function mc(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function yc(s,o){const u=Ls(s,o);if(u>=0)return s[1|u]}function Ls(s,o){return function au(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const co={},uu="__NG_DI_FLAG__",Na="ngTempTokenPath",D=/\n/gm,O="__source",U=ve({provide:String,useValue:ve});let Q;function re(s){const o=Q;return Q=s,o}function _e(s,o=mt.Default){if(void 0===Q)throw new Pe(203,"");return null===Q?tr(s,void 0,o):Q.get(s,o&mt.Optional?null:void 0,o)}function $e(s,o=mt.Default){return(function Gn(){return jr}()||_e)(ee(s),o)}const Dt=$e;function Yt(s){const o=[];for(let u=0;u<s.length;u++){const d=ee(s[u]);if(Array.isArray(d)){if(0===d.length)throw new Pe(900,"");let h,p=mt.Default;for(let y=0;y<d.length;y++){const w=d[y],C=qr(w);"number"==typeof C?-1===C?h=w.token:p|=C:h=w}o.push($e(h,p))}else o.push($e(d))}return o}function At(s,o){return s[uu]=o,s.prototype[uu]=o,s}function qr(s){return s[uu]}const ms=At(Sn("Inject",s=>({token:s})),-1),Ji=At(Sn("Optional"),8),Xi=At(Sn("SkipSelf"),4);let Go,Bd;function ml(s){var o;return(null===(o=function Vd(){if(void 0===Go&&(Go=null,Zt.trustedTypes))try{Go=Zt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Go}())||void 0===o?void 0:o.createHTML(s))||s}function cf(s){var o;return(null===(o=function pu(){if(void 0===Bd&&(Bd=null,Zt.trustedTypes))try{Bd=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Bd}())||void 0===o?void 0:o.createHTML(s))||s}class zo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hf extends zo{getTypeName(){return"HTML"}}class T_ extends zo{getTypeName(){return"Style"}}class _l extends zo{getTypeName(){return"Script"}}class I_ extends zo{getTypeName(){return"URL"}}class ff extends zo{getTypeName(){return"ResourceURL"}}function qo(s){return s instanceof zo?s.changingThisBreaksApplicationSecurity:s}function ho(s,o){const u=gu(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function gu(s){return s instanceof zo&&s.getTypeName()||null}function Cc(s){return new hf(s)}function bg(s){return new T_(s)}function pf(s){return new _l(s)}function wg(s){return new I_(s)}function gf(s){return new ff(s)}function Eg(s){const o=new Rb(s);return function v(){try{return!!(new window.DOMParser).parseFromString(ml(""),"text/html")}catch(s){return!1}}()?new S_(o):o}class S_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ml(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Rb{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ml(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ml(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,E=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function N(s){return(s=String(s)).match(g)||s.match(E)?s:"unsafe:"+s}function F(s){return(s=String(s)).split(",").map(o=>N(o.trim())).join(", ")}function X(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Me(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const ht=X("area,br,col,hr,img,wbr"),It=X("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ht=X("rp,rt"),mu=Me(ht,Me(It,X("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Me(Ht,X("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Me(Ht,It)),Ud=X("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dc=X("srcset"),Ma=Me(Ud,Dc,X("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),X("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cg=X("script,style,template");class _u{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!mu.hasOwnProperty(u))return this.sanitizedSomething=!0,!Cg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!Ma.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=p.value;Ud[w]&&(C=N(C)),Dc[w]&&(C=F(C)),this.buf.push(" ",y,'="',mf(C),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();mu.hasOwnProperty(u)&&!ht.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(mf(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Ic=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dg=/([^\#-~ |!])/g;function mf(s){return s.replace(/&/g,"&amp;").replace(Ic,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Dg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yl;function Tg(s,o){let u=null;try{yl=yl||Eg(s);let d=o?String(o):"";u=yl.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=u.innerHTML,u=yl.getInertBodyElement(d)}while(d!==p);return ml((new _u).sanitizeChildren(N_(u)||u))}finally{if(u){const d=N_(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function N_(s){return"content"in s&&function M_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var _n=(()=>((_n=_n||{})[_n.NONE=0]="NONE",_n[_n.HTML=1]="HTML",_n[_n.STYLE=2]="STYLE",_n[_n.SCRIPT=3]="SCRIPT",_n[_n.URL=4]="URL",_n[_n.RESOURCE_URL=5]="RESOURCE_URL",_n))();function O_(s){const o=yu();return o?cf(o.sanitize(_n.HTML,s)||""):ho(s,"HTML")?cf(qo(s)):Tg(Oo(),ge(s))}function jd(s){const o=yu();return o?o.sanitize(_n.URL,s)||"":ho(s,"URL")?qo(s):N(ge(s))}function yu(){const s=Se();return s&&s[12]}const Pb="__ngContext__";function Li(s,o){s[Pb]=o}function x_(s){const o=function yf(s){return s[Pb]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Nc(s){return s.ngOriginalError}function ND(s,...o){s.error(...o)}class Ag{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),d=function AD(s){return s&&s.ngErrorLogger||ND}(o);d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Nc(o);for(;u&&Nc(u);)u=Nc(u);return u||null}}const RD=/^>|^->|<!--|-->|--!>|<!-$/g,xD=/(<|>)/;const VD=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function k_(s){return s.ownerDocument}function Zo(s){return s instanceof Function?s():s}var Oa=(()=>((Oa=Oa||{})[Oa.Important=1]="Important",Oa[Oa.DashCase=2]="DashCase",Oa))();let F_;function Ng(s,o){return F_(s,o)}function bf(s){const o=s[3];return cs(o)?o[3]:o}function wf(s){return $b(s[13])}function Og(s){return $b(s[4])}function $b(s){for(;null!==s&&!cs(s);)s=s[4];return s}function Hd(s,o,u,d,h){if(null!=d){let p,y=!1;cs(d)?p=d:hi(d)&&(y=!0,d=d[0]);const w=wn(d);0===s&&null!==u?null==h?$_(o,u,w):Us(o,u,w,h||null,!0):1===s&&null!==u?Us(o,u,w,h||null,!0):2===s?W_(o,w,y):3===s&&o.destroyNode(w),null!=p&&function Xb(s,o,u,d,h){const p=u[7];p!==wn(u)&&Hd(o,s,d,p,h);for(let w=10;w<u.length;w++){const C=u[w];Fg(C[1],C,s,o,d,p)}}(o,s,p,u,h)}}function L_(s,o){return In(s)?s.createText(o):s.createTextNode(o)}function V_(s,o,u){In(s)?s.setValue(o,u):o.textContent=u}function $D(s,o){return s.createComment(function Vb(s){return s.replace(RD,o=>o.replace(xD,"\u200b$1\u200b"))}(o))}function B_(s,o,u){if(In(s))return s.createElement(o,u);{const d=null!==u?function Cd(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function zb(s,o){const u=s[9],d=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Os(h,-1)),u.splice(d,1)}function U_(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&zb(h,d),o>0&&(s[u-1][4]=d[4]);const p=pl(s,10+o);!function Bs(s,o){Fg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function j_(s,o){if(!(256&o[2])){const u=o[11];In(u)&&u.destroyNode&&Fg(s,o,u,3,null,null),function Rg(s){let o=s[13];if(!o)return H_(s[1],s);for(;o;){let u=null;if(hi(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)hi(o)&&H_(o[1],o),o=o[3];null===o&&(o=s),hi(o)&&H_(o[1],o),u=o&&o[4]}o=u}}(o)}}function H_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Wb(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof su)){const p=u[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],C=p[y+1];try{C.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function qb(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+1],w="function"==typeof y?y(o):wn(o[y]),C=d[h=u[p+2]],S=u[p+3];"boolean"==typeof S?w.removeEventListener(u[p],C,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),p+=2}else{const y=d[h=u[p+1]];u[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&In(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&cs(o[3])){u!==o[3]&&zb(u,o);const d=o[19];null!==d&&d.detachView(s)}}}function Pg(s,o,u){return zD(s,o.parent,u)}function zD(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return Pr(d,u)}function Us(s,o,u,d,h){In(s)?s.insertBefore(o,u,d,h):o.insertBefore(u,d,h)}function $_(s,o,u){In(s)?s.appendChild(o,u):o.appendChild(u)}function Zb(s,o,u,d,h){null!==d?Us(s,o,u,d,h):$_(s,o,u)}function Ef(s,o){return In(s)?s.parentNode(o):o.parentNode}function Kb(s,o,u){return G_(s,o,u)}function Yb(s,o,u){return 40&s.type?Pr(s,u):null}let z_,G_=Yb;function Qb(s,o){G_=s,z_=o}function kg(s,o,u,d){const h=Pg(s,d,o),p=o[11],w=Kb(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)Zb(p,h,u[C],w,!1);else Zb(p,h,u,w,!1);void 0!==z_&&z_(p,d,o,u,h)}function Gd(s,o){if(null!==o){const u=o.type;if(3&u)return Pr(o,s);if(4&u)return q_(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return Gd(s,d);{const h=s[o.index];return cs(h)?q_(-1,h):wn(h)}}if(32&u)return Ng(o,s)()||wn(s[o.index]);{const d=Jb(s,o);return null!==d?Array.isArray(d)?d[0]:Gd(bf(s[16]),d):Gd(s,o.next)}}return null}function Jb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function q_(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return Gd(d,h)}return o[7]}function W_(s,o,u){const d=Ef(s,o);d&&function qD(s,o,u,d){In(s)?s.removeChild(o,u,d):o.removeChild(u)}(s,d,o,u)}function Z_(s,o,u,d,h,p,y){for(;null!=u;){const w=d[u.index],C=u.type;if(y&&0===o&&(w&&Li(wn(w),d),u.flags|=4),64!=(64&u.flags))if(8&C)Z_(s,o,u.child,d,h,p,!1),Hd(o,s,h,w,p);else if(32&C){const S=Ng(u,d);let M;for(;M=S();)Hd(o,s,h,M,p);Hd(o,s,h,w,p)}else 16&C?or(s,o,d,u,h,p):Hd(o,s,h,w,p);u=y?u.projectionNext:u.next}}function Fg(s,o,u,d,h,p){Z_(u,d,s.firstChild,o,h,p,!1)}function or(s,o,u,d,h,p){const y=u[16],C=y[6].projection[d.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Hd(o,s,h,C[S],p);else Z_(s,o,C,y[3],h,p,!0)}function Ra(s,o,u){In(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function K_(s,o,u){In(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function Y_(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}const Q_="ng-template";function Cf(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==Y_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function ew(s){return 4===s.type&&s.value!==Q_}function UA(s,o,u){return o===(4!==s.type||u?s.value:Q_)}function tw(s,o,u){let d=4;const h=s.attrs||[],p=function $A(s){for(let o=0;o<s.length;o++)if(En(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!UA(s,C,u)||""===C&&1===o.length){if(xa(d))return!1;y=!0}}else{const S=8&d?C:o[++w];if(8&d&&null!==s.attrs){if(!Cf(s.attrs,S,u)){if(xa(d))return!1;y=!0}continue}const L=jA(8&d?"class":C,h,ew(s),u);if(-1===L){if(xa(d))return!1;y=!0;continue}if(""!==S){let z;z=L>p?"":h[L+1].toLowerCase();const J=8&d?z:null;if(J&&-1!==Y_(J,S,0)||2&d&&S!==z){if(xa(d))return!1;y=!0}}}}else{if(!y&&!xa(d)&&!xa(C))return!1;if(y&&xa(C))continue;y=!1,d=C|1&d}}return xa(d)||y}function xa(s){return 0==(1&s)}function jA(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function nw(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function KD(s,o,u=!1){for(let d=0;d<o.length;d++)if(tw(s,o[d],u))return!0;return!1}function Df(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function J_(s,o){return s?":not("+o.trim()+")":o}function X_(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const w=s[++u];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!xa(y)&&(o+=J_(p,h),h=""),d=y,p=p||!xa(d);u++}return""!==h&&(o+=J_(p,h)),o}const $t={};function rw(s){iw(Gt(),Se(),ni()+s,ma())}function iw(s,o,u,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&lc(o,p,u)}else{const p=s.preOrderHooks;null!==p&&iu(o,p,0,u)}io(u)}function Vg(s,o){return s<<17|o<<2}function js(s){return s>>17&32767}function vu(s){return 2|s}function vl(s){return(131068&s)>>2}function zd(s,o){return-131069&s|o<<2}function ey(s){return 1|s}function ly(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],p=u[d+1];if(-1!==p){const y=s.data[p];rc(h),y.contentQueries(2,o[p],p)}}}function Wd(s,o,u,d,h,p,y,w,C,S){const M=o.blueprint.slice();return M[0]=h,M[2]=140|d,hs(M),M[3]=M[15]=s,M[8]=u,M[10]=y||s&&s[10],M[11]=w||s&&s[11],M[12]=C||s&&s[12]||null,M[9]=S||s&&s[9]||null,M[6]=p,M[16]=2==o.type?s[16]:M,M}function Pc(s,o,u,d,h){let p=s.data[o];if(null===p)p=Sf(s,o,u,d,h),function Yh(){return Ct.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const y=to();p.injectorIndex=null===y?-1:y.injectorIndex}return Zi(p,!0),p}function Sf(s,o,u,d,h){const p=nu(),y=ec(),C=s.data[o]=function pw(s,o,u,d,h,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}function Zd(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Af(s,o,u){sl(o);try{const d=s.viewQuery;null!==d&&Dy(1,d,u);const h=s.template;null!==h&&qg(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ly(s,o),s.staticViewQueries&&Dy(2,s.viewQuery,u);const p=s.components;null!==p&&function dw(s,o){for(let u=0;u<o.length;u++)by(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Fo()}}function Ko(s,o,u,d){const h=o[2];if(256==(256&h))return;sl(o);const p=ma();try{hs(o),function ya(s){return Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&qg(s,o,u,2,d);const y=3==(3&h);if(!p)if(y){const S=s.preOrderCheckHooks;null!==S&&lc(o,S,null)}else{const S=s.preOrderHooks;null!==S&&iu(o,S,0,null),ur(o,0)}if(function Dw(s){for(let o=wf(s);null!==o;o=Og(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],p=h[3];0==(1024&h[2])&&Os(p,1),h[2]|=1024}}}(o),function eT(s){for(let o=wf(s);null!==o;o=Og(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];Po(d)&&Ko(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&ly(s,o),!p)if(y){const S=s.contentCheckHooks;null!==S&&lc(o,S)}else{const S=s.contentHooks;null!==S&&iu(o,S,1),ur(o,1)}!function cw(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)io(~h);else{const p=h,y=u[++d],w=u[++d];Id(y,p),w(2,o[p])}}}finally{io(-1)}}(s,o);const w=s.components;null!==w&&function uy(s,o){for(let u=0;u<o.length;u++)tT(s,o[u])}(o,w);const C=s.viewQuery;if(null!==C&&Dy(2,C,d),!p)if(y){const S=s.viewCheckHooks;null!==S&&lc(o,S)}else{const S=s.viewHooks;null!==S&&iu(o,S,2),ur(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Os(o[3],-1))}finally{Fo()}}function hw(s,o,u,d){const h=o[10],p=!ma(),y=Ms(o);try{p&&!y&&h.begin&&h.begin(),y&&Af(s,o,d),Ko(s,o,u,d)}finally{p&&!y&&h.end&&h.end()}}function qg(s,o,u,d,h){const p=ni(),y=2&d;try{io(-1),y&&o.length>20&&iw(s,o,20,ma()),u(d,h)}finally{io(p)}}function dy(s,o,u){!ga()||(function mw(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;s.firstCreatePass||gn(u,o),Li(d,o);const y=u.initialInputs;for(let w=h;w<p;w++){const C=s.data[w],S=zi(C);S&&yy(o,u,C);const M=Ca(o,s,w,u);Li(M,o),null!==y&&bi(0,w-h,M,C,0,y),S&&(ti(u.index,o)[8]=M)}}(s,o,u,Pr(u,o)),128==(128&u.flags)&&function _w(s,o,u){const d=u.directiveStart,h=u.directiveEnd,y=u.index,w=function il(){return Ct.lFrame.currentDirectiveIndex}();try{io(y);for(let C=d;C<h;C++){const S=s.data[C],M=o[C];nc(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&yw(S,M)}}finally{io(-1),nc(w)}}(s,o,u))}function Wg(s,o,u=Pr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?u(o,s):s[y];s[h++]=w}}}function Nf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Kd(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Kd(s,o,u,d,h,p,y,w,C,S){const M=20+d,L=M+h,z=function hy(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:$t);return u}(M,L),J="function"==typeof S?S():S;return z[1]={type:s,blueprint:z,template:u,queries:null,viewQuery:w,declTNode:o,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function Kg(s,o,u,d){const h=Ty(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&Iy(s).push(d,h.length-1))}function gw(s,o,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function vi(s,o,u,d,h,p,y,w){const C=Pr(o,u);let M,S=o.inputs;!w&&null!=S&&(M=S[d])?(Nw(s,u,M,d,h),sa(o)&&function XD(s,o){const u=ti(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(d=function ji(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,In(p)?p.setProperty(C,d,h):Qn(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function Rf(s,o,u,d){let h=!1;if(ga()){const p=function vw(s,o,u){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];KD(u,y.selectors,!1)&&(h||(h=[]),Vo(gn(u,o),s,y.type),zi(y)?(my(s,u),h.unshift(y)):h.push(y))}return h}(s,o,u),y=null===d?null:{"":-1};if(null!==p){h=!0,ww(u,s.data.length,p.length);for(let M=0;M<p.length;M++){const L=p[M];L.providersResolver&&L.providersResolver(L)}let w=!1,C=!1,S=Zd(s,o,p.length,null);for(let M=0;M<p.length;M++){const L=p[M];u.mergedAttrs=xn(u.mergedAttrs,L.hostAttrs),Qg(s,u,o,S,L),bw(S,L,y),null!==L.contentQueries&&(u.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(u.flags|=128);const z=L.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),S++}!function JD(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,C=null;for(let S=o.directiveStart;S<d;S++){const M=h[S],L=M.inputs,z=null===p||ew(o)?null:Jg(L,p);y.push(z),w=gw(L,S,w),C=gw(M.outputs,S,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=C}(s,u)}y&&function _y(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new Pe(-301,!1);d.push(o[h],p)}}}(u,d,y)}return u.mergedAttrs=xn(u.mergedAttrs,u.attrs),h}function Yg(s,o,u,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function gy(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(w)!=C&&w.push(C),w.push(d,h,y)}}function yw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function my(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function bw(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;zi(o)&&(u[""]=s)}}function ww(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Qg(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=Ri(h.type)),y=new su(p,zi(h),null);s.blueprint[d]=y,u[d]=y,Yg(s,o,0,d,Zd(s,u,h.hostVars,$t),h)}function yy(s,o,u){const d=Pr(o,s),h=Nf(u),p=s[10],y=Xg(s,Wd(s,h,null,u.onPush?64:16,d,o,p,p.createRenderer(d,u),null,null));s[o.index]=y}function kr(s,o,u,d,h,p,y){if(null==p)In(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const w=null==y?ge(p):y(p,d||"",h);In(s)?s.setAttribute(o,h,w,u):u?o.setAttributeNS(u,h,w):o.setAttribute(h,w)}}function bi(s,o,u,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let C=0;C<y.length;){const S=y[C++],M=y[C++],L=y[C++];null!==w?d.setInput(u,L,S,M):u[M]=L}}}function Jg(s,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function Cw(s,o,u,d){return new Array(s,!0,!1,o,null,0,d,u,null,null)}function tT(s,o){const u=ti(o,s);if(Po(u)){const d=u[1];80&u[2]?Ko(d,u,d.template,u[8]):u[5]>0&&vy(u)}}function vy(s){for(let d=wf(s);null!==d;d=Og(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];Ko(y,p,y.template,p[8])}else p[5]>0&&vy(p)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=ti(u[d],s);Po(h)&&h[5]>0&&vy(h)}}function by(s,o){const u=ti(o,s),d=u[1];(function wy(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Af(d,u,u[8])}function Xg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function xf(s){for(;s;){s[2]|=64;const o=bf(s);if(Yu(s)&&!o)return s;s=o}return null}function Yd(s,o,u){const d=o[10];d.begin&&d.begin();try{Ko(s,o,s.template,u)}catch(h){throw Aw(o,h),h}finally{d.end&&d.end()}}function em(s){!function Ey(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],d=x_(u),h=d[1];hw(h,d,h.template,u)}}(s[8])}function Dy(s,o,u){rc(0),o(s,u)}const Sw=(()=>Promise.resolve(null))();function Ty(s){return s[7]||(s[7]=[])}function Iy(s){return s.cleanup||(s.cleanup=[])}function Aw(s,o){const u=s[9],d=u?u.get(Ag,null):null;d&&d.handleError(o)}function Nw(s,o,u,d,h){for(let p=0;p<u.length;){const y=u[p++],w=u[p++],C=o[y],S=s.data[y];null!==S.setInput?S.setInput(C,h,d,w):C[w]=h}}function nm(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=pe(h,w):2==p&&(d=pe(d,w+": "+o[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}const Qd=new Un("INJECTOR",-1);class Sy{get(o,u=co){if(u===co){const d=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw d.name="NullInjectorError",d}return u}}const Fc=new Un("Set Injector scope."),Jd={},ts={};let rm;function Xd(){return void 0===rm&&(rm=new Sy),rm}function kf(s,o=null,u=null,d){const h=Ay(s,o,u,d);return h._resolveInjectorDefTypes(),h}function Ay(s,o=null,u=null,d){return new Ny(s,u,o||Xd(),d)}class Ny{constructor(o,u,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];u&&Yi(u,w=>this.processProvider(w,o,u)),Yi([o],w=>this.processInjectorType(w,[],p)),this.records.set(Qd,Eu(void 0,this));const y=this.records.get(Fc);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=co,d=mt.Default){this.assertNotDestroyed();const h=re(this),p=un(void 0);try{if(!(d&mt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function Oy(s){return"function"==typeof s||"object"==typeof s&&s instanceof Un}(o)&&Fn(o);w=C&&this.injectableDefInScope(C)?Eu(im(o),Jd):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&mt.Self?Xd():this.parent).get(o,u=d&mt.Optional&&u===co?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Na]=y[Na]||[]).unshift(ce(o)),h)throw y;return function wr(s,o,u,d){const h=s[Na];throw o[O]&&h.unshift(o[O]),s.message=function Vs(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(D,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[Na]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{un(p),re(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,u,d){if(!(o=ee(o)))return!1;let h=os(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=os(p)),null==h)return!1;if(null!=h.imports&&!w){let M;d.push(y);try{Yi(h.imports,L=>{this.processInjectorType(L,u,d)&&(void 0===M&&(M=[]),M.push(L))})}finally{}if(void 0!==M)for(let L=0;L<M.length;L++){const{ngModule:z,providers:J}=M[L];Yi(J,be=>this.processProvider(be,z,J||wt))}}this.injectorDefTypes.add(y);const C=Ri(y)||(()=>new y);this.records.set(y,Eu(C,Jd));const S=h.providers;if(null!=S&&!w){const M=o;Yi(S,L=>this.processProvider(L,M,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,u,d){let h=Lc(o=ee(o))?o:ee(o&&o.provide);const p=function Ff(s,o,u){return om(s)?Eu(void 0,s.useValue):Eu(sm(s),Jd)}(o);if(Lc(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Eu(void 0,Jd,!0),y.factory=()=>Yt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,u){return u.value===Jd&&(u.value=ts,u.value=u.factory()),"object"==typeof u.value&&u.value&&function lm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=ee(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function im(s){const o=Fn(s),u=null!==o?o.factory:Ri(s);if(null!==u)return u;if(s instanceof Un)throw new Pe(204,!1);if(s instanceof Function)return function Mw(s){const o=s.length;if(o>0)throw mi(o,"?"),new Pe(204,!1);const u=function Ur(s){const o=s&&(s[Mi]||s[xr]);if(o){const u=function Rr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Pe(204,!1)}function sm(s,o,u){let d;if(Lc(s)){const h=ee(s);return Ri(h)||im(h)}if(om(s))d=()=>ee(s.useValue);else if(function Lf(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Yt(s.deps||[]));else if(function am(s){return!(!s||!s.useExisting)}(s))d=()=>$e(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function My(s){return!!s.deps}(s))return Ri(h)||im(h);d=()=>new h(...Yt(s.deps))}return d}function Eu(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function om(s){return null!==s&&"object"==typeof s&&U in s}function Lc(s){return"function"==typeof s}let Yo=(()=>{class s{static create(u,d){var h;if(Array.isArray(u))return kf({name:""},d,u,"");{const p=null!==(h=u.name)&&void 0!==h?h:"";return kf({name:p},u.parent,u.providers,p)}}}return s.THROW_IF_NOT_FOUND=co,s.NULL=new Sy,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>$e(Qd)}),s.__NG_ELEMENT_ID__=-1,s})();function jf(s,o){ol(x_(s)[1],Tn())}function By(s){let o=function Vy(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(zi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");h=o.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=Uy(s.inputs),y.declaredInputs=Uy(s.declaredInputs),y.outputs=Uy(s.outputs);const w=h.hostBindings;w&&Cu(s,w);const C=h.viewQuery,S=h.contentQueries;if(C&&aT(s,C),S&&Hf(s,S),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),zi(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===By&&(u=!1)}}o=Object.getPrototypeOf(o)}!function oT(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=xn(h.hostAttrs,u=xn(u,h.hostAttrs))}}(d)}function Uy(s){return s===hn?{}:s===wt?[]:s}function aT(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function Hf(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function Cu(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Tl=null;function nh(){if(!Tl){const s=Zt.Symbol;if(s&&s.iterator)Tl=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Tl=d)}}}return Tl}function rh(s){return!!dm(s)&&(Array.isArray(s)||!(s instanceof Map)&&nh()in s)}function dm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function go(s,o,u){return s[o]=u}function wi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Du(s,o,u,d){const h=wi(s,o,u);return wi(s,o+1,d)||h}function ih(s,o,u,d,h){const p=Du(s,o,u,d);return wi(s,o+2,h)||p}function jy(s,o,u,d){const h=Se();return wi(h,va(),o)&&(Gt(),function fo(s,o,u,d,h,p){const y=Pr(s,o);kr(o[11],y,p,s.value,u,d,h)}(Yn(),h,s,o,u,d)),jy}function Il(s,o,u,d){return wi(s,va(),u)?o+ge(u)+d:$t}function qy(s,o,u,d,h,p,y,w){const C=Se(),S=Gt(),M=s+20,L=S.firstCreatePass?function hm(s,o,u,d,h,p,y,w,C){const S=o.consts,M=Pc(o,s,4,y||null,Wi(S,w));Rf(o,u,M,Wi(S,C)),ol(o,M);const L=M.tViews=Kd(2,M,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,S,C,o,u,d,h,p,y):S.data[M];Zi(L,!1);const z=C[11].createComment("");kg(S,C,z,L),Li(z,C),Xg(C,C[M]=Cw(z,C,z,L)),oa(L)&&dy(S,C,L),null!=y&&Wg(C,L,w)}function Wy(s){return xi(function tc(){return Ct.lFrame.contextLView}(),20+s)}function yo(s,o=mt.Default){const u=Se();return null===u?$e(s,o):Bo(Tn(),u,ee(s),o)}function gm(){throw new Error("invalid")}function iv(s,o,u){const d=Se();return wi(d,va(),o)&&vi(Gt(),Yn(),d,s,o,d[11],u,!1),iv}function Fe(s,o,u,d,h){const y=h?"class":"style";Nw(s,u,o.inputs[y],y,d)}function Iu(s,o,u,d){const h=Se(),p=Gt(),y=20+s,w=h[11],C=h[y]=B_(w,o,function Ad(){return Ct.lFrame.currentNamespace}()),S=p.firstCreatePass?function Fr(s,o,u,d,h,p,y){const w=o.consts,S=Pc(o,s,2,h,Wi(w,p));return Rf(o,u,S,Wi(w,y)),null!==S.attrs&&nm(S,S.attrs,!1),null!==S.mergedAttrs&&nm(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,u,d):p.data[y];Zi(S,!0);const M=S.mergedAttrs;null!==M&&bt(w,C,M);const L=S.classes;null!==L&&K_(w,C,L);const z=S.styles;return null!==z&&Ra(w,C,z),64!=(64&S.flags)&&kg(p,h,C,S),0===function Dd(){return Ct.lFrame.elementDepthCount}()&&Li(C,h),function pa(){Ct.lFrame.elementDepthCount++}(),oa(S)&&(dy(p,h,S),function cy(s,o,u){if(Kl(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,u[p],p)}}}(p,S,h)),null!==d&&Wg(h,S),Iu}function uh(){let s=Tn();ec()?rl():(s=s.parent,Zi(s,!1));const o=s;!function Td(){Ct.lFrame.elementDepthCount--}();const u=Gt();return u.firstCreatePass&&(ol(u,s),Kl(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Od(s){return 0!=(16&s.flags)}(o)&&Fe(u,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function b_(s){return 0!=(32&s.flags)}(o)&&Fe(u,o,Se(),o.stylesWithoutHost,!1),uh}function dt(s,o,u,d){return Iu(s,o,u,d),uh(),dt}function Wr(){return Se()}function mm(s){return!!s&&"function"==typeof s.then}function n1(s){return!!s&&"function"==typeof s.subscribe}const r1=n1;function sv(s,o,u,d){const h=Se(),p=Gt(),y=Tn();return function ov(s,o,u,d,h,p,y,w){const C=oa(d),M=s.firstCreatePass&&Iy(s),L=o[8],z=Ty(o);let J=!0;if(3&d.type||w){const qe=Pr(d,o),ct=w?w(qe):qe,Ae=z.length,Et=w?rn=>w(wn(rn[d.index])):d.index;if(In(u)){let rn=null;if(!w&&C&&(rn=function _T(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===d){const w=o[7],C=h[p+2];return w.length>C?w[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=p,rn.__ngLastListenerFn__=p,J=!1;else{p=o1(d,o,L,p,!1);const yn=u.listen(ct,h,p);z.push(p,yn),M&&M.push(h,Et,Ae,Ae+1)}}else p=o1(d,o,L,p,!0),ct.addEventListener(h,p,y),z.push(p),M&&M.push(h,Et,Ae,y)}else p=o1(d,o,L,p,!1);const be=d.outputs;let Ve;if(J&&null!==be&&(Ve=be[h])){const qe=Ve.length;if(qe)for(let ct=0;ct<qe;ct+=2){const ui=o[Ve[ct]][Ve[ct+1]].subscribe(p),Ul=z.length;z.push(p,ui),M&&M.push(h,d.index,Ul,-(Ul+1))}}}(p,h,h[11],y,s,o,!!u,d),sv}function s1(s,o,u,d){try{return!1!==u(d)}catch(h){return Aw(s,h),!1}}function o1(s,o,u,d,h){return function p(y){if(y===Function)return d;const w=2&s.flags?ti(s.index,o):o;0==(32&o[2])&&xf(w);let C=s1(o,0,d,y),S=p.__ngNextListenerFn__;for(;S;)C=s1(o,0,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function vs(s=1){return function ro(s){return(Ct.lFrame.contextLView=function oc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ct.lFrame.contextLView))[8]}(s)}function yT(s,o){let u=null;const d=function HA(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?KD(s,p,!0):Df(d,p))return h}else u=h}return u}function av(s){const o=Se()[16][6];if(!o.projection){const d=o.projection=mi(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?yT(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function zt(s,o=0,u){const d=Se(),h=Gt(),p=Pc(h,20+s,16,null,u||null);null===p.projection&&(p.projection=o),rl(),64!=(64&p.flags)&&function Lg(s,o,u){or(o[11],0,o,u,Pg(s,u,o),Kb(u.parent||o[6],u,o))}(h,d,p)}function Su(s,o,u){return Wf(s,"",o,"",u),Su}function Wf(s,o,u,d,h){const p=Se(),y=Il(p,o,u,d);return y!==$t&&vi(Gt(),Yn(),p,s,y,p[11],h,!1),Wf}function Nt(s,o,u,d,h,p,y,w,C){const S=Se(),M=function Sl(s,o,u,d,h,p,y,w){const S=ih(s,fs(),u,h,y);return pi(3),S?o+ge(u)+d+ge(h)+p+ge(y)+w:$t}(S,o,u,d,h,p,y,w);return M!==$t&&vi(Gt(),Yn(),S,s,M,S[11],C,!1),Nt}function Lr(s,o,u,d,h){const p=s[u+1],y=null===o;let w=d?js(p):vl(p),C=!1;for(;0!==w&&(!1===C||y);){const M=s[w+1];bT(s[w],o)&&(C=!0,s[w+1]=d?ey(M):vu(M)),w=d?js(M):vl(M)}C&&(s[u+1]=d?vu(p):ey(p))}function bT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ls(s,o)>=0}const Hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hr(s){return s.substring(Hn.key,Hn.keyEnd)}function dv(s,o){const u=Hn.textEnd;return u===o?-1:(o=Hn.keyEnd=function Kf(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Hn.key=o,u),vo(s,o,u))}function vo(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function bo(s,o,u){return Ti(s,o,u,!1),bo}function qc(s,o){return Ti(s,o,null,!0),qc}function Wc(s){!function $s(s,o,u,d){const h=Gt(),p=pi(2);h.firstUpdatePass&&fv(h,null,p,d);const y=Se();if(u!==$t&&wi(y,p,u)){const w=h.data[ni()];if(Nu(w,d)&&!fh(h,p)){let C=d?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(u=pe(C,u||"")),Fe(h,w,y,u,d)}else!function Hi(s,o,u,d,h,p,y,w){h===$t&&(h=wt);let C=0,S=0,M=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==M||null!==L;){const z=C<h.length?h[C+1]:void 0,J=S<p.length?p[S+1]:void 0;let Ve,be=null;M===L?(C+=2,S+=2,z!==J&&(be=L,Ve=J)):null===L||null!==M&&M<L?(C+=2,be=M):(S+=2,be=L,Ve=J),null!==be&&mv(s,o,u,d,be,Ve,y,w),M=C<h.length?h[C]:null,L=S<p.length?p[S]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function p1(s,o,u){if(null==u||""===u)return wt;const d=[],h=qo(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,p)}}(Ar,wo,s,!0)}function wo(s,o){for(let u=function cv(s){return function La(s){Hn.key=0,Hn.keyEnd=0,Hn.value=0,Hn.valueEnd=0,Hn.textEnd=s.length}(s),dv(s,vo(s,0,Hn.textEnd))}(o);u>=0;u=dv(o,u))Ar(s,hr(o),!0)}function Ti(s,o,u,d){const h=Se(),p=Gt(),y=pi(2);p.firstUpdatePass&&fv(p,s,y,d),o!==$t&&wi(h,y,o)&&mv(p,p.data[ni()],h,h[11],s,h[y+1]=function _v(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(qo(s)))),s}(o,u),d,y)}function fh(s,o){return o>=s.expandoStartIndex}function fv(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[ni()],y=fh(s,u);Nu(p,d)&&null===o&&!y&&(o=!1),o=function h1(s,o,u,d){const h=function no(s){const o=Ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Qf(u=pv(null,s,o,u,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=pv(h,s,o,u,d),null===p){let C=function _m(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==vl(d))return s[js(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=pv(null,s,o,C[1],d),C=Qf(C,o.attrs,d),function Yf(s,o,u,d){s[js(u?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else p=function f1(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Qf(d,s[p].hostAttrs,u);return Qf(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function dh(s,o,u,d,h,p){let y=p?o.classBindings:o.styleBindings,w=js(y),C=vl(y);s[d]=u;let M,S=!1;if(Array.isArray(u)){const L=u;M=L[1],(null===M||Ls(L,M)>0)&&(S=!0)}else M=u;if(h)if(0!==C){const z=js(s[w+1]);s[d+1]=Vg(z,w),0!==z&&(s[z+1]=zd(s[z+1],d)),s[w+1]=function Oc(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Vg(w,0),0!==w&&(s[w+1]=zd(s[w+1],d)),w=d;else s[d+1]=Vg(C,0),0===w?w=d:s[C+1]=zd(s[C+1],d),C=d;S&&(s[d+1]=vu(s[d+1])),Lr(s,M,d,!0),Lr(s,M,d,!1),function vT(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ls(p,o)>=0&&(u[d+1]=ey(u[d+1]))}(o,M,s,d,p),y=Vg(w,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,d)}}function pv(s,o,u,d,h){let p=null;const y=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<y&&(p=o[w],d=Qf(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(u.directiveStylingLast=w),d}function Qf(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ar(s,y,!!u||o[++p]))}return void 0===s?null:s}function mv(s,o,u,d,h,p,y,w){if(!(3&o.type))return;const C=s.data,S=C[w+1];Zc(function ow(s){return 1==(1&s)}(S)?$n(C,o,u,h,vl(S),y):void 0)||(Zc(p)||function Bg(s){return 2==(2&s)}(S)&&(p=$n(C,null,u,h,w,y)),function ZD(s,o,u,d,h){const p=In(s);if(o)h?p?s.addClass(u,d):u.classList.add(d):p?s.removeClass(u,d):u.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Oa.DashCase;if(null==h)p?s.removeStyle(u,d,y):u.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=Oa.Important),p?s.setStyle(u,d,h,y):u.style.setProperty(d,h,w?"important":"")}}}(d,y,eo(ni(),u),h,p))}function $n(s,o,u,d,h,p){const y=null===o;let w;for(;h>0;){const C=s[h],S=Array.isArray(C),M=S?C[1]:C,L=null===M;let z=u[h+1];z===$t&&(z=L?wt:void 0);let J=L?yc(z,d):M===d?z:void 0;if(S&&!Zc(J)&&(J=yc(C,d)),Zc(J)&&(w=J,y))return w;const be=s[h+1];h=y?js(be):vl(be)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(w=yc(C,d))}return w}function Zc(s){return void 0!==s}function Nu(s,o){return 0!=(s.flags&(o?16:32))}function Jf(s,o=""){const u=Se(),d=Gt(),h=s+20,p=d.firstCreatePass?Pc(d,h,1,o,null):d.data[h],y=u[h]=L_(u[11],o);kg(d,u,y,p),Zi(p,!1)}function Kc(s){return Xf("",s,""),Kc}function Xf(s,o,u){const d=Se(),h=Il(d,s,o,u);return h!==$t&&function ys(s,o,u){const d=eo(o,s);V_(s[11],d,u)}(d,ni(),h),Xf}function bs(s,o,u){const d=Se();return wi(d,va(),o)&&vi(Gt(),Yn(),d,s,o,d[11],u,!0),bs}const Qo=void 0;var wv=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function D1(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ru={};function Cm(s){const o=function OT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Cv(o);if(u)return u;const d=o.split("-")[0];if(u=Cv(d),u)return u;if("en"===d)return wv;throw new Error(`Missing locale data for the locale "${s}".`)}function Ev(s){return Cm(s)[Tt.PluralCase]}function Cv(s){return s in Ru||(Ru[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),Ru[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const RT=["zero","one","two","few","many"],Nl="en-US",np={marker:"element"},Ua={marker:"ICU"};var fr=(()=>((fr=fr||{})[fr.SHIFT=2]="SHIFT",fr[fr.APPEND_EAGERLY=1]="APPEND_EAGERLY",fr[fr.COMMENT=2]="COMMENT",fr))();let Dv=Nl;function S1(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Yb(s,0,u):wn(u[h])}function A1(s,o,u,d,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,w=null;if(3&o.type||(w=y,y=h),null!==y&&0==(2&o.flags))for(let C=1;C<p.length;C++)Us(s,y,u[p[C]],w,!1)}}function Mr(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];sp(d)||Dm(d,o)&&null===xT(d)&&Tv(d,o.index)}}function sp(s){return!(64&s.type)}function Dm(s,o){return sp(o)||s.index>o.index}function xT(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Tv(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(Qb(S1,A1),s.insertBeforeIndex=o)}function op(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function ap(s,o,u){const d=Sf(s,u,64,null,null);return Mr(o,d),d}function ja(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Iv(s){return s>>>17}function Sv(s){return(131070&s)>>>1}let Xc=0,up=0;function Nv(s,o,u,d){const h=u[11];let y,p=null;for(let w=0;w<o.length;w++){const C=o[w];if("string"==typeof C){const S=o[++w];null===u[S]&&(u[S]=L_(h,C))}else if("number"==typeof C)switch(1&C){case 0:const S=Iv(C);let M,L;if(null===p&&(p=S,y=Ef(h,d)),S===p?(M=d,L=y):(M=null,L=wn(u[S])),null!==L){const Ve=Sv(C);Us(h,L,u[Ve],M,!1);const ct=op(s,Ve);if(null!==ct&&"object"==typeof ct){const Ae=ja(ct,u);null!==Ae&&Nv(s,ct.create[Ae],u,u[ct.anchorIdx])}}break;case 1:const J=o[++w],be=o[++w];kr(h,eo(C>>>1,u),null,null,J,be,null)}else switch(C){case Ua:const S=o[++w],M=o[++w];null===u[M]&&Li(u[M]=$D(h,S),u);break;case np:const L=o[++w],z=o[++w];null===u[z]&&Li(u[z]=B_(h,L,null),u)}}}function Ml(s,o,u,d,h){for(let p=0;p<u.length;p++){const y=u[p],w=u[++p];if(y&h){let C="";for(let S=p+1;S<=p+w;S++){const M=u[S];if("string"==typeof M)C+=M;else if("number"==typeof M)if(M<0)C+=ge(o[d-M]);else{const L=M>>>2;switch(3&M){case 1:const z=u[++S],J=u[++S],be=s.data[L];"string"==typeof be?kr(o[11],o[L],null,be,z,C,J):vi(s,be,o,z,C,o[11],J,!1);break;case 0:const Ve=o[L];null!==Ve&&V_(o[11],Ve,C);break;case 2:Tm(s,op(s,L),o,C);break;case 3:Cr(s,op(s,L),d,o)}}}}else{const C=u[p+1];if(C>0&&3==(3&C)){const M=op(s,C>>>2);o[M.currentCaseLViewIndex]<0&&Cr(s,M,d,o)}}p+=w}}function Cr(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let p=Xc;h<0&&(h=d[o.currentCaseLViewIndex]=~h,p=-1),Ml(s,d,o.update[h],u,p)}}function Tm(s,o,u,d){const h=function Jn(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function T1(s,o){const u=Ev(o)(parseInt(s,10)),d=RT[u];return void 0!==d?d:"other"}(o,function ip(){return Dv}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(ja(o,u)!==h&&(li(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=u[o.anchorIdx];y&&Nv(s,o.create[h],u,y)}}function li(s,o,u){let d=ja(o,u);if(null!==d){const h=o.remove[d];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const w=eo(y,u);null!==w&&W_(u[11],w)}else li(s,op(s,~y),u)}}}function R1(){const s=[];let u,d,o=-1;function p(w,C){o=0;const S=ja(w,C);d=null!==S?w.remove[S]:wt}function y(){if(o<d.length){const w=d[o++];return w>0?u[w]:(s.push(o,d),p(u[1].data[~w],u),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(w,C){for(u=C;s.length;)s.pop();return p(w.value,C),y}}const xu=/\ufffd(\d+):?\d*\ufffd/gi,kT=/\ufffd(\d+)\ufffd/,Cn=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Sm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hp=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fp=/\uE500/g;function Mv(s,o,u,d,h,p,y){const w=Zd(s,d,1,null);let C=w<<fr.SHIFT,S=to();o===S&&(S=null),null===S&&(C|=fr.APPEND_EAGERLY),y&&(C|=fr.COMMENT,function HD(s){void 0===F_&&(F_=s())}(R1)),h.push(C,null===p?"":p);const M=Sf(s,w,y?32:1,null===p?"":p,null);Mr(u,M);const L=M.index;return Zi(M,!1),null!==S&&o!==S&&function M1(s,o){let u=s.insertBeforeIndex;null===u?(Qb(S1,A1),u=s.insertBeforeIndex=[null,o]):(function tt(s,o,u){s!=o&&ze(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(S,L),M}function P1(s,o,u,d,h,p,y){const w=y.match(xu),C=Mv(s,o,u,p,d,w?null:y,!1);w&&ed(h,y,C.index,null,0,null)}function ed(s,o,u,d,h,p){const y=s.length,w=y+1;s.push(null,null);const C=y+2,S=o.split(xu);let M=0;for(let L=0;L<S.length;L++){const z=S[L];if(1&L){const J=h+parseInt(z,10);s.push(-1-J),M|=F1(J)}else""!==z&&s.push(z)}return s.push(u<<2|(d?1:0)),d&&s.push(d,p),s[y]=M,s[w]=s.length-C,M}function F1(s){return 1<<Math.min(s,31)}function L1(s){let o,p,u="",d=0,h=!1;for(;null!==(o=Sm.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),p=o[1],h=!0);return u+=s.substr(d),u}function Ov(s,o,u,d,h,p){let y=0;const w={type:h.type,currentCaseLViewIndex:Zd(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Pv(s,o,u){s.push(F1(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,p),function N1(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,p,w);const C=h.values;for(let S=0;S<C.length;S++){const M=C[S],L=[];for(let z=0;z<M.length;z++){const J=M[z];if("string"!=typeof J){const be=L.push(J)-1;M[z]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}y=Rv(s,w,o,u,d,h.cases[S],M.join(""),L)|y}y&&function V1(s,o,u){s.push(o,1,u<<2|3)}(u,y,p)}function VT(s){const o=[],u=[];let d=1,h=0;const p=Br(s=s.replace(Cn,function(y,w,C){return d="select"===C?0:1,h=parseInt(w.substr(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const C=Br(p[y++]);o.length>u.length&&u.push(C)}return{type:d,mainBinding:h,cases:o,values:u}}function Br(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const w=p.index;if("}"==p[0]){if(u.pop(),0==u.length){const C=s.substring(o,w);Cn.test(C)?d.push(VT(C)):d.push(C),o=w+1}}else{if(0==u.length){const C=s.substring(o,w);d.push(C),o=w+1}u.push("{")}}const y=s.substring(o);return d.push(y),d}function Rv(s,o,u,d,h,p,y,w){const C=[],S=[],M=[];o.cases.push(p),o.create.push(C),o.remove.push(S),o.update.push(M);const z=Eg(Oo()).getInertBodyElement(y),J=N_(z)||z;return J?xv(s,o,u,d,C,S,M,J,h,w,0):0}function xv(s,o,u,d,h,p,y,w,C,S,M){let L=0,z=w.firstChild;for(;z;){const J=Zd(s,u,1,null);switch(z.nodeType){case Node.ELEMENT_NODE:const be=z,Ve=be.tagName.toLowerCase();if(mu.hasOwnProperty(Ve)){td(h,np,Ve,C,J),s.data[J]=Ve;const Et=be.attributes;for(let rn=0;rn<Et.length;rn++){const yn=Et.item(rn),ui=yn.name.toLowerCase();yn.value.match(xu)?Ma.hasOwnProperty(ui)&&ed(y,yn.value,J,yn.name,0,Ud[ui]?N:Dc[ui]?F:null):B1(h,J,yn)}L=xv(s,o,u,d,h,p,y,z,J,S,M+1)|L,mh(p,J,M)}break;case Node.TEXT_NODE:const qe=z.textContent||"",ct=qe.match(xu);td(h,null,ct?"":qe,C,J),mh(p,J,M),ct&&(L=ed(y,qe,J,null,0,null)|L);break;case Node.COMMENT_NODE:const Ae=kT.exec(z.textContent||"");if(Ae){const rn=S[parseInt(Ae[1],10)];td(h,Ua,"",C,J),Ov(s,u,d,C,rn,J),Ha(p,J,M)}}z=z.nextSibling}return L}function mh(s,o,u){0===u&&s.push(o)}function Ha(s,o,u){0===u&&(s.push(~o),s.push(o))}function td(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function lp(s,o,u){return s|o<<17|u<<1}(0,d,h))}function B1(s,o,u){s.push(o<<1|1,u.name,u.value)}function Lv(s,o,u=-1){const d=Gt(),h=Se(),p=20+s,y=Wi(d.consts,o),w=to();d.firstCreatePass&&function x1(s,o,u,d,h,p){const y=to(),w=[],C=[],S=[[]];h=function pp(s,o){if(function LT(s){return-1===s}(o))return L1(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return L1(s.substring(u,d))}}(h,p);const M=function Am(s){return s.replace(fp," ")}(h).split(hp);for(let L=0;L<M.length;L++){let z=M[L];if(0==(1&L)){const J=Br(z);for(let be=0;be<J.length;be++){let Ve=J[be];if(0==(1&be)){const qe=Ve;""!==qe&&P1(s,y,S[0],w,C,u,qe)}else{const qe=Ve;if("object"!=typeof qe)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Ov(s,u,C,o,qe,Mv(s,y,S[0],u,w,"",!0).index)}}}else{const J=47===z.charCodeAt(0),Ve=(z.charCodeAt(J?1:0),20+Number.parseInt(z.substring(J?2:1)));if(J)S.shift(),Zi(to(),!1);else{const qe=ap(s,S[0],Ve);S.unshift([]),Zi(qe,!0)}}}s.data[d]={create:w,update:C}}(d,null===w?0:w.index,h,p,y,u);const C=d.data[p],M=zD(d,w===h[6]?null:w,h);(function O1(s,o,u,d){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],C=(y&fr.COMMENT)===fr.COMMENT,S=(y&fr.APPEND_EAGERLY)===fr.APPEND_EAGERLY,M=y>>>fr.SHIFT;let L=s[M];null===L&&(L=s[M]=C?h.createComment(w):L_(h,w)),S&&null!==u&&Us(h,u,L,d,!1)}})(h,C.create,M,w&&8&w.type?h[w.index]:null),ba(!0)}function Vv(s,o,u){Lv(s,o,u),function $1(){ba(!1)}()}function Bv(s){return function Vr(s){s&&(Xc|=1<<Math.min(up,31)),up++}(wi(Se(),va(),s)),Bv}function nd(s){!function cn(s,o,u){if(up>0){const d=s.data[u];Ml(s,o,Array.isArray(d)?d:d.update,fs()-up-1,Xc)}Xc=0,up=0}(Gt(),Se(),s+20)}function Uv(s,o,u,d,h){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)Uv(s[p],o,u,d,h);else{const p=Gt(),y=Se();let w=Lc(s)?s:ee(s.provide),C=sm(s);const S=Tn(),M=1048575&S.providerIndexes,L=S.directiveStart,z=S.providerIndexes>>20;if(Lc(s)||!s.multi){const J=new su(C,h,yo),be=Si(w,o,h?M:M+z,L);-1===be?(Vo(gn(S,y),p,w),jv(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(J),y.push(J)):(u[be]=J,y[be]=J)}else{const J=Si(w,o,M+z,L),be=Si(w,o,M,M+z),Ve=J>=0&&u[J],qe=be>=0&&u[be];if(h&&!qe||!h&&!Ve){Vo(gn(S,y),p,w);const ct=function z1(s,o,u,d,h){const p=new su(s,u,yo);return p.multi=[],p.index=o,p.componentProviders=0,Hv(p,h,d&&!u),p}(h?G1:GT,u.length,h,d,C);!h&&qe&&(u[be].providerFactory=ct),jv(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(ct),y.push(ct)}else jv(p,s,J>-1?J:be,Hv(u[h?be:J],C,!h&&d));!h&&d&&qe&&u[be].componentProviders++}}}function jv(s,o,u,d){const h=Lc(o),p=function iT(s){return!!s.useClass}(o);if(h||p){const C=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=S.indexOf(u);-1===M?S.push(u,[d,C]):S[M+1].push(d,C)}else S.push(u,C)}}}function Hv(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Si(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function GT(s,o,u,d){return Eo(this.multi,[])}function G1(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ca(u,u[1],this.providerFactory.index,d);p=w.slice(0,y),Eo(h,p);for(let C=y;C<w.length;C++)p.push(w[C])}else p=[],Eo(h,p);return p}function Eo(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function mp(s,o=[]){return u=>{u.providersResolver=(d,h)=>function $T(s,o,u){const d=Gt();if(d.firstCreatePass){const h=zi(s);Uv(u,d.data,d.blueprint,h,!0),Uv(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class W1{}class qT{resolveComponentFactory(o){throw function zT(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Nm=(()=>{class s{}return s.NULL=new qT,s})();function WT(){return yh(Tn(),Se())}function yh(s,o){return new _p(Pr(s,o))}let _p=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=WT,s})();function ZT(s){return s instanceof _p?s.nativeElement:s}class K1{}let KT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function QT(){const s=Se(),u=ti(Tn().index,s);return function YT(s){return s[11]}(hi(u)?u:s)}(),s})(),Y1=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class Q1{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const $v=new Q1("13.3.5"),Gv={};function yp(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(wn(p)),cs(p))for(let w=10;w<p.length;w++){const C=p[w],S=C[1].firstChild;null!==S&&yp(C[1],C,S,d)}const y=u.type;if(8&y)yp(s,o,u.child,d);else if(32&y){const w=Ng(u,o);let C;for(;C=w();)d.push(C)}else if(16&y){const w=Jb(o,u);if(Array.isArray(w))d.push(...w);else{const C=bf(o[16]);yp(C[1],C,w,d,!0)}}u=h?u.projectionNext:u.next}return d}class vh{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return yp(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(cs(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(U_(o,d),pl(u,d))}this._attachedToViewContainer=!1}j_(this._lView[1],this._lView)}onDestroy(o){Kg(this._lView[1],this._lView,null,o)}markForCheck(){xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Cy(s,o,u){_a(!0);try{Yd(s,o,u)}finally{_a(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gb(s,o){Fg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class me extends vh{constructor(o){super(o),this._view=o}detectChanges(){em(this._view)}checkNoChanges(){!function Iw(s){_a(!0);try{em(s)}finally{_a(!1)}}(this._view)}get context(){return null}}class vp extends Nm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Ye(o);return new Ol(u,this.ngModule)}}function Co(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Ol extends W1{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function YD(s){return s.map(X_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Co(this.componentDef.inputs)}get outputs(){return Co(this.componentDef.outputs)}create(o,u,d,h){const p=(h=h||this.ngModule)?function bp(s,o){return{get:(u,d,h)=>{const p=s.get(u,Gv,h);return p!==Gv||d===Gv?p:o.get(u,d,h)}}}(o,h.injector):o,y=p.get(K1,Ro),w=p.get(Y1,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=d?function fw(s,o,u){if(In(s))return s.selectRootElement(o,u===qt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(C,d,this.componentDef.encapsulation):B_(y.createRenderer(null,this.componentDef),S,function JT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),L=this.componentDef.onPush?576:528,z=function th(s,o){return{components:[],scheduler:s||VD,clean:Sw,playerHandler:o||null,flags:0}}(),J=Kd(0,null,null,1,0,null,null,null,null,null),be=Wd(null,J,z,L,null,null,y,C,w,p);let Ve,qe;sl(be);try{const ct=function Pw(s,o,u,d,h,p){const y=u[1];u[20]=s;const C=Pc(y,20,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(nm(C,S,!0),null!==s&&(bt(h,s,S),null!==C.classes&&K_(h,s,C.classes),null!==C.styles&&Ra(h,s,C.styles)));const M=d.createRenderer(s,o),L=Wd(u,Nf(o),null,o.onPush?64:16,u[20],C,d,M,p||null,null);return y.firstCreatePass&&(Vo(gn(C,u),y,o.type),my(y,C),ww(C,u.length,1)),Xg(u,L),u[20]=L}(M,this.componentDef,be,y,C);if(M)if(d)bt(C,M,["ng-version",$v.full]);else{const{attrs:Ae,classes:Et}=function QD(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!xa(h))break;h=p}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Ae&&bt(C,M,Ae),Et&&Et.length>0&&K_(C,M,Et.join(" "))}if(qe=tu(J,20),void 0!==u){const Ae=qe.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const rn=u[Et];Ae.push(null!=rn?Array.from(rn):null)}}Ve=function kw(s,o,u,d,h){const p=u[1],y=function py(s,o,u){const d=Tn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Qg(s,d,o,Zd(s,o,1,null),u));const h=Ca(o,s,d.directiveStart,d);Li(h,o);const p=Pr(d,o);return p&&Li(p,o),h}(p,u,o);if(d.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=Tn();o.contentQueries(1,y,C.directiveStart)}const w=Tn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(io(w.index),Yg(u[1],w,0,w.directiveStart,w.directiveEnd,o),yw(o,y)),y}(ct,this.componentDef,be,z,[jf]),Af(J,be,null)}finally{Fo()}return new J1(this.componentType,Ve,yh(qe,be),be,qe)}}class J1 extends class q1{}{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new me(h),this.componentType=o}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class rd{}class Zr{}const Pu=new Map;class wp extends rd{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vp(this);const d=Rt(o);this._bootstrapComponents=Zo(d.bootstrap),this._r3Injector=Ay(o,u,[{provide:rd,useValue:this},{provide:Nm,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Yo.THROW_IF_NOT_FOUND,d=mt.Default){return o===Yo||o===rd||o===Qd?this:this._r3Injector.get(o,u,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Rl extends Zr{constructor(o){super(),this.moduleType=o,null!==Rt(o)&&function ku(s){const o=new Set;!function u(d){const h=Rt(d,!0),p=h.id;null!==p&&(function Mm(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(p,Pu.get(p),d),Pu.set(p,d));const y=Zo(h.imports);for(const w of y)o.has(w)||(o.add(w),u(w))}(s)}(o)}create(o){return new wp(this.moduleType,o)}}function sd(s,o,u,d){return Eh(Se(),vr(),s,o,u,d)}function wh(s,o,u,d,h){return function Fu(s,o,u,d,h,p,y){const w=o+u;return Du(s,w,h,p)?go(s,w+2,y?d.call(y,h,p):d(h,p)):od(s,w+2)}(Se(),vr(),s,o,u,d,h)}function qv(s,o,u,d,h,p){return function iE(s,o,u,d,h,p,y,w){const C=o+u;return ih(s,C,h,p,y)?go(s,C+3,w?d.call(w,h,p,y):d(h,p,y)):od(s,C+3)}(Se(),vr(),s,o,u,d,h,p)}function od(s,o){const u=s[o];return u===$t?void 0:u}function Eh(s,o,u,d,h,p){const y=o+u;return wi(s,y,h)?go(s,y+1,p?d.call(p,h):d(h)):od(s,y+1)}function oE(s,o){const u=Gt();let d;const h=s+20;u.firstCreatePass?(d=function rI(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=Ri(d.type)),y=un(yo);try{const w=Ki(!1),C=p();return Ki(w),function Al(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,Se(),h,C),C}finally{un(y)}}function Ch(s,o,u){const d=s+20,h=Se(),p=xi(h,d);return function Ep(s,o){return s[1].data[o].pure}(h,d)?Eh(h,vr(),o,p.transform,u,p):p.transform(u)}function Vu(s){return o=>{setTimeout(s,void 0,o)}}const $a=class Yv extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){var h,p,y;let w=o,C=u||(()=>null),S=d;if(o&&"object"==typeof o){const L=o;w=null===(h=L.next)||void 0===h?void 0:h.bind(L),C=null===(p=L.error)||void 0===p?void 0:p.bind(L),S=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(C=Vu(C),w&&(w=Vu(w)),S&&(S=Vu(S)));const M=super.subscribe({next:w,error:C,complete:S});return o instanceof $.w0&&o.add(M),M}};function lE(){return this._results[nh()]()}class ld{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=nh(),d=ld.prototype;d[u]||(d[u]=lE)}get changes(){return this._changes||(this._changes=new $a)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=oi(o);(this._changesDetected=!function fl(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Bu=(()=>{class s{}return s.__NG_ELEMENT_ID__=ws,s})();const Om=Bu,uE=class extends Om{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o){const u=this._declarationTContainer.tViews,d=Wd(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(u)),Af(u,d,o),new vh(d)}};function ws(){return Cp(Tn(),Se())}function Cp(s,o){return 4&s.type?new uE(o,s,yh(s,o)):null}let ud=(()=>{class s{}return s.__NG_ELEMENT_ID__=Qv,s})();function Qv(){return Uu(Tn(),Se())}const cE=ud,xl=class extends cE{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return yh(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const o=ri(this._hostTNode,this._hostLView);if(nr(o)){const u=xs(o,this._hostLView),d=oo(o);return new ks(u[1].data[d+8],u)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=cd(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){const h=o.createEmbeddedView(u||{});return this.insert(h,d),h}createComponent(o,u,d,h,p){const y=o&&!function ou(s){return"function"==typeof s}(o);let w;if(y)w=u;else{const L=u||{};w=L.index,d=L.injector,h=L.projectableNodes,p=L.ngModuleRef}const C=y?o:new Ol(Ye(o)),S=d||this.parentInjector;if(!p&&null==C.ngModule){const z=(y?S:this.parentInjector).get(rd,null);z&&(p=z)}const M=C.create(S,h,void 0,p);return this.insert(M.hostView,w),M}insert(o,u){const d=o._lView,h=d[1];if(function fa(s){return cs(s[3])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=d[3],z=new xl(L,L[6],L[3]);z.detach(z.indexOf(o))}}const p=this._adjustIndex(u),y=this._lContainer;!function xg(s,o,u,d){const h=10+d,p=u.length;d>0&&(u[h-1][4]=o),d<p-10?(o[4]=u[h],Ia(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function $d(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,y,p);const w=q_(p,y),C=d[11],S=Ef(C,y[7]);return null!==S&&function GD(s,o,u,d,h,p){d[0]=h,d[6]=o,Fg(s,d,u,1,h,p)}(h,y[6],C,d,S,w),o.attachToViewContainerRef(),Ia(Rm(y),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=cd(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=U_(this._lContainer,u);d&&(pl(Rm(this._lContainer),u),j_(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=U_(this._lContainer,u);return d&&null!=pl(Rm(this._lContainer),u)?new vh(d):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function cd(s){return s[8]}function Rm(s){return s[8]||(s[8]=[])}function Uu(s,o){let u;const d=o[s.index];if(cs(d))u=d;else{let h;if(8&s.type)h=wn(d);else{const p=o[11];h=p.createComment("");const y=Pr(s,o);Us(p,Ef(p,y),h,function WD(s,o){return In(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=u=Cw(d,o,h,s),Xg(o,u)}return new xl(u,s,o)}class Ga{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ga(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pl{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Pl(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Fm(o,u).matches&&this.queries[u].setDirty()}}class xm{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Pm{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new Pm(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jv{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Jv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,aI(u,p)),this.matchTNodeWithReadOption(o,u,ii(u,o,p,!1,!1))}else d===Bu?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ii(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===_p||h===ud||h===Bu&&4&u.type)this.addMatch(u.index,-2);else{const p=ii(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function aI(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function uI(s,o,u,d){return-1===u?function lI(s,o){return 11&s.type?yh(s,o):4&s.type?Cp(s,o):null}(o,s):-2===u?function km(s,o,u){return u===_p?yh(o,s):u===Bu?Cp(o,s):u===ud?Uu(o,s):void 0}(s,o,d):Ca(s,s[1],u,o)}function Xv(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=u.matches,w=[];for(let C=0;C<y.length;C+=2){const S=y[C];w.push(S<0?null:uI(o,p[S],y[C+1],u.metadata.read))}h.matches=w}return h.matches}function e0(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=Xv(s,o,h,u);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)d.push(y[w/2]);else{const S=p[w+1],M=o[-C];for(let L=10;L<M.length;L++){const z=M[L];z[17]===z[3]&&e0(z[1],z,S,d)}if(null!==M[9]){const L=M[9];for(let z=0;z<L.length;z++){const J=L[z];e0(J[1],J,S,d)}}}}}return d}function dE(s){const o=Se(),u=Gt(),d=Qh();rc(d+1);const h=Fm(u,d);if(s.dirty&&Ms(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?e0(u,o,d,[]):Xv(u,o,h,d);s.reset(p,ZT),s.notifyOnChanges()}return!0}return!1}function t0(s,o,u){const d=Gt();d.firstCreatePass&&(fE(d,new xm(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),n0(d,Se(),o)}function ju(s,o,u,d){const h=Gt();if(h.firstCreatePass){const p=Tn();fE(h,new xm(o,u,d),p.index),function pE(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}n0(h,Se(),u)}function Th(){return function hE(s,o){return s[19].queries[o].queryList}(Se(),Qh())}function n0(s,o,u){const d=new ld(4==(4&u));Kg(s,o,d,d.destroy),null===o[19]&&(o[19]=new Pl),o[19].queries.push(new Ga(d))}function fE(s,o,u){null===s.queries&&(s.queries=new Pm),s.queries.track(new Jv(o,u))}function Fm(s,o){return s.queries.getByIndex(o)}function Lm(s,o){return Cp(s,o)}function $u(...s){}const p0=new Un("Application Initializer");let g0=(()=>{class s{constructor(u){this.appInits=u,this.resolve=$u,this.reject=$u,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(mm(p))u.push(p);else if(r1(p)){const y=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)($e(p0,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const AE=new Un("AppId",{providedIn:"root",factory:function NE(){return`${m0()}${m0()}${m0()}`}});function m0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ah=new Un("Platform Initializer"),_0=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dd=new Un("appBootstrapListener");let Gm=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Np=new Un("LocaleId",{providedIn:"root",factory:()=>Dt(Np,mt.Optional|mt.SkipSelf)||function Ap(){return"undefined"!=typeof $localize&&$localize.locale||Nl}()}),OE=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class PE{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let bI=(()=>{class s{compileModuleSync(u){return new Rl(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=Zo(Rt(u).declarations).reduce((y,w)=>{const C=Ye(w);return C&&y.push(new Ol(C)),y},[]);return new PE(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const v0=(()=>Promise.resolve(0))();function b0(s){"undefined"==typeof Zone?v0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Es{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $a(!1),this.onMicrotaskEmpty=new $a(!1),this.onStable=new $a(!1),this.onError=new $a(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function w0(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function C0(s){const o=()=>{!function Nh(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,D0(s),s.isCheckStableRunning=!0,zm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),D0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,y,w)=>{try{return kE(s),u.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),T0(s)}},onInvoke:(u,d,h,p,y,w,C)=>{try{return kE(s),u.invoke(h,p,y,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),T0(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,D0(s),zm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,E0,$u,$u);try{return p.runTask(y,u,d)}finally{p.cancelTask(y)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const E0={};function zm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function D0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function kE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function T0(s){s._nesting--,zm(s)}class FE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $a,this.onMicrotaskEmpty=new $a,this.onStable=new $a,this.onError=new $a}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}let LE=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),b0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())b0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)($e(Es))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),I0=(()=>{class s{constructor(){this._applications=new Map,A0.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return A0.findTestabilityInTree(this,u,d)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class wI{addToWindow(o){}findTestabilityInTree(o,u,d){return null}}function S0(s){A0=s}let A0=new wI,Ll=null;const VE=new Un("AllowMultipleToken"),qm=new Un("PlatformOnDestroy");class M0{constructor(o,u){this.name=o,this.token=u}}function Vl(s,o,u=[]){const d=`Platform: ${o}`,h=new Un(d);return(p=[])=>{let y=Wm();if(!y||y.injector.get(VE,!1)){const w=[...u,...p,{provide:h,useValue:!0}];s?s(w):function Mh(s){if(Ll&&!Ll.get(VE,!1))throw new Pe(400,"");Ll=s;const o=s.get(fd),u=s.get(Ah,null);u&&u.forEach(d=>d())}(function Oh(s=[],o){return Yo.create({name:o,providers:[{provide:Fc,useValue:"platform"},{provide:qm,useValue:()=>Ll=null},...s]})}(w,d))}return function O0(s){const o=Wm();if(!o)throw new Pe(401,"");return o}()}}function Wm(){var s;return null!==(s=null==Ll?void 0:Ll.get(fd))&&void 0!==s?s:null}let fd=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const w=function EI(s,o){let u;return u="noop"===s?new FE:("zone.js"===s?void 0:s)||new Es({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Es,useValue:w}];return w.run(()=>{const S=Yo.create({providers:C,parent:this.injector,name:u.moduleType.name}),M=u.create(S),L=M.injector.get(Ag,null);if(!L)throw new Pe(402,"");return w.runOutsideAngular(()=>{const z=w.onError.subscribe({next:J=>{L.handleError(J)}});M.onDestroy(()=>{Rp(this._modules,M),z.unsubscribe()})}),function CI(s,o,u){try{const d=u();return mm(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(L,w,()=>{const z=M.injector.get(g0);return z.runInitializers(),z.donePromise.then(()=>(function I1(s){(function an(s,o){null==s&&ze(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Dv=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Np,Nl)||Nl),this._moduleDoBootstrap(M),M))})})}bootstrapModule(u,d=[]){const h=Zm({},d);return function BE(s,o,u){const d=new Rl(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(Op);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Pe(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(qm,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)($e(Yo))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Zm(s,o){return Array.isArray(o)?o.reduce(Zm,s):Object.assign(Object.assign({},s),o)}let Op=(()=>{class s{constructor(u,d,h,p){this._zone=u,this._injector=d,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new R.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),b0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(y,w.pipe((0,ne.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Pe(405,"");let h;h=u instanceof W1?u:this._injector.get(Nm).resolveComponentFactory(u),this.componentTypes.push(h.componentType);const p=function N0(s){return s.isBoundToModule}(h)?void 0:this._injector.get(rd),w=h.create(Yo.NULL,[],d||h.selector,p),C=w.location.nativeElement,S=w.injector.get(LE,null),M=S&&w.injector.get(I0);return S&&M&&M.registerApplication(C,S),w.onDestroy(()=>{this.detachView(w.hostView),Rp(this.components,w),M&&M.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Rp(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(dd,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)($e(Es),$e(Yo),$e(Ag),$e(g0))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Rp(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let jE=!0,Ym=!1;function R0(){return Ym=!0,jE}function TI(){if(Ym)throw new Error("Cannot enable prod mode after platform setup.");jE=!1}let HE=(()=>{class s{}return s.__NG_ELEMENT_ID__=$E,s})();function $E(s){return function GE(s,o,u){if(sa(s)&&!u){const d=ti(s.index,o);return new vh(d,d)}return 47&s.type?new vh(o[16],o):null}(Tn(),Se(),16==(16&s))}class Jm{constructor(){}supports(o){return rh(o)}create(o){return new Ph(o)}}const V0=(s,o)=>o;class Ph{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||V0}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const y=!d||u&&u.currentIndex<Xm(d,h,p)?u:d,w=Xm(y,h,p),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const S=w-h,M=C-h;if(S!=M){for(let z=0;z<S;z++){const J=z<p.length?p[z]:p[z]=0,be=J+z;M<=be&&be<S&&(p[z]=J+1)}p[y.previousIndex]=M-S}}w!==C&&o(y,w,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!rh(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,p,y,w)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,w),d=!0),u=u._next}else h=0,function Bw(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[nh()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,w,y,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new KE(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new YE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class KE{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class B0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class YE{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new B0,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xm(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class za{constructor(){}supports(o){return o instanceof Map||dm(o)}create(){return new U0}}class U0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||dm(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new NI(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class NI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e_(){return new j0([new Jm])}let j0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||e_()),deps:[[s,new Xi,new Ji]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new Pe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:e_}),s})();function t_(){return new H0([new za])}let H0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||t_()),deps:[[s,new Xi,new Ji]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(d)return d;throw new Pe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:t_}),s})();const G0=Vl(null,"core",[]);let JE=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)($e(Op))},s.\u0275mod=k({type:s}),s.\u0275inj=on({}),s})()},3942:(gt,Ie,P)=>{P.d(Ie,{Z:()=>Pe});var l=P(2090),$=P(4859),R=P(9681),se=P(1877);class ne{constructor(ge,Ee){this._delegate=ge,this.firebase=Ee,(0,R._addComponent)(ge,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ge,Ee=R._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(ge);return!Ge.isInitialized()&&"EXPLICIT"===(null===(st=Ge.getComponent())||void 0===st?void 0:st.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ee})}_removeServiceInstance(ge,Ee=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Ee)}_addComponent(ge){(0,R._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,R._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function pe(){const Ue=function ce(Ue){const ge={},Ee={__esModule:!0,initializeApp:function Oe(te,rt={}){const tt=R.initializeApp(te,rt);if((0,l.r3)(ge,tt.name))return ge[tt.name];const oe=new Ue(tt,Ee);return ge[tt.name]=oe,oe},app:Ge,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function we(te){const rt=te.name,tt=rt.replace("-compat","");if(R._registerComponent(te)&&"PUBLIC"===te.type){const oe=(ie=Ge())=>{if("function"!=typeof ie[tt])throw le.create("invalid-app-argument",{appName:rt});return ie[tt]()};void 0!==te.serviceProps&&(0,l.ZB)(oe,te.serviceProps),Ee[tt]=oe,Ue.prototype[tt]=function(...ie){return this._getService.bind(this,rt).apply(this,te.multipleInstances?ie:[])}}return"PUBLIC"===te.type?Ee[tt]:null},removeApp:function st(te){delete ge[te]},useAsService:function Je(te,rt){return"serverAuth"===rt?null:rt},modularAPIs:R}};function Ge(te){if(!(0,l.r3)(ge,te=te||R._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:te});return ge[te]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function Ne(){return Object.keys(ge).map(te=>ge[te])}}),Ge.App=Ue,Ee}(ne);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(Ee){(0,l.ZB)(Ue,Ee)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ue}(),q=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=W;!function Re(Ue){(0,R.registerVersion)("@firebase/app-compat","0.1.23",Ue)}()},9681:(gt,Ie,P)=>{P.r(Ie),P.d(Ie,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>mr,_addOrOverwriteComponent:()=>kn,_apps:()=>ze,_clearComponents:()=>Fn,_components:()=>tn,_getProvider:()=>nn,_registerComponent:()=>sn,_removeServiceInstance:()=>on,deleteApp:()=>Ds,getApp:()=>Sr,getApps:()=>xr,initializeApp:()=>Mi,onLog:()=>Gn,registerVersion:()=>jr,setLogLevel:()=>un});var l=P(5861),$=P(4859),R=P(1877),se=P(2090);class ne{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function ve(We){const Te=We.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(ot)){const yt=ot.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(ot=>ot).join(" ")}}const le="@firebase/app",pe=new R.Yd("@firebase/app"),en="[DEFAULT]",an={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,tn=new Map;function mr(We,Te){try{We.container.addComponent(Te)}catch(ot){pe.debug(`Component ${Te.name} failed to register with FirebaseApp ${We.name}`,ot)}}function kn(We,Te){We.container.addOrOverwriteComponent(Te)}function sn(We){const Te=We.name;if(tn.has(Te))return pe.debug(`There were multiple attempts to register component ${Te}.`),!1;tn.set(Te,We);for(const ot of ze.values())mr(ot,We);return!0}function nn(We,Te){const ot=We.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),We.container.getProvider(Te)}function on(We,Te,ot=en){nn(We,Te).clearInstance(ot)}function Fn(){tn.clear()}const Ur=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Rr{constructor(Te,ot,yt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}const os="9.7.0";function Mi(We,Te={}){"object"!=typeof Te&&(Te={name:Te});const ot=Object.assign({name:en,automaticDataCollectionEnabled:!1},Te),yt=ot.name;if("string"!=typeof yt||!yt)throw Ur.create("bad-app-name",{appName:String(yt)});const Bt=ze.get(yt);if(Bt){if((0,se.vZ)(We,Bt.options)&&(0,se.vZ)(ot,Bt.config))return Bt;throw Ur.create("duplicate-app",{appName:yt})}const Ut=new $.H0(yt);for(const j of tn.values())Ut.addComponent(j);const Z=new Rr(We,ot,Ut);return ze.set(yt,Z),Z}function Sr(We=en){const Te=ze.get(We);if(!Te)throw Ur.create("no-app",{appName:We});return Te}function xr(){return Array.from(ze.values())}function Ds(We){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(We){const Te=We.name;ze.has(Te)&&(ze.delete(Te),yield Promise.all(We.container.getProviders().map(ot=>ot.delete())),We.isDeleted=!0)})).apply(this,arguments)}function jr(We,Te,ot){var yt;let Bt=null!==(yt=an[We])&&void 0!==yt?yt:We;ot&&(Bt+=`-${ot}`);const Ut=Bt.match(/\s|\//),Z=Te.match(/\s|\//);if(Ut||Z){const j=[`Unable to register library "${Bt}" with version "${Te}":`];return Ut&&j.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),Ut&&Z&&j.push("and"),Z&&j.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void pe.warn(j.join(" "))}sn(new $.wA(`${Bt}-version`,()=>({library:Bt,version:Te}),"VERSION"))}function Gn(We,Te){if(null!==We&&"function"!=typeof We)throw Ur.create("invalid-log-argument");(0,R.Am)(We,Te)}function un(We){(0,R.Ub)(We)}const zn="firebase-heartbeat-store";let Ln=null;function Jr(){return Ln||(Ln=(0,se.X3)("firebase-heartbeat-database",1,(We,Te)=>{0===Te&&We.createObjectStore(zn)}).catch(We=>{throw Ur.create("storage-open",{originalErrorMessage:We.message})})),Ln}function qt(){return(qt=(0,l.Z)(function*(We){try{return(yield Jr()).transaction(zn).objectStore(zn).get(Xr(We))}catch(Te){throw Ur.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function _t(We,Te){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(We,Te){try{const yt=(yield Jr()).transaction(zn,"readwrite");return yield yt.objectStore(zn).put(Te,Xr(We)),yt.complete}catch(ot){throw Ur.create("storage-set",{originalErrorMessage:ot.message})}})).apply(this,arguments)}function Xr(We){return`${We.name}!${We.options.appId}`}class ls{constructor(Te){this.container=Te,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new wt(ot),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Te=this;return(0,l.Z)(function*(){const yt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=qn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Te._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Bt))return Te._heartbeatsCache.heartbeats.push({date:Bt,agent:yt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Ut=>{const Z=new Date(Ut.date).valueOf();return Date.now()-Z<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,l.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const ot=qn(),{heartbeatsToSend:yt,unsentEntries:Bt}=function hn(We,Te=1024){const ot=[];let yt=We.slice();for(const Bt of We){const Ut=ot.find(Z=>Z.agent===Bt.agent);if(Ut){if(Ut.dates.push(Bt.date),Wn(ot)>Te){Ut.dates.pop();break}}else if(ot.push({agent:Bt.agent,dates:[Bt.date]}),Wn(ot)>Te){ot.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:yt}}(Te._heartbeatsCache.heartbeats),Ut=(0,se.L)(JSON.stringify({version:2,heartbeats:yt}));return Te._heartbeatsCache.lastSentHeartbeatDate=ot,Bt.length>0?(Te._heartbeatsCache.heartbeats=Bt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Ut})()}}function qn(){return(new Date).toISOString().substring(0,10)}class wt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,l.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Ao(We){return qt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var ot=this;return(0,l.Z)(function*(){var yt;if(yield ot._canUseIndexedDBPromise){const Ut=yield ot.read();return _t(ot.app,{lastSentHeartbeatDate:null!==(yt=Te.lastSentHeartbeatDate)&&void 0!==yt?yt:Ut.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var ot=this;return(0,l.Z)(function*(){var yt;if(yield ot._canUseIndexedDBPromise){const Ut=yield ot.read();return _t(ot.app,{lastSentHeartbeatDate:null!==(yt=Te.lastSentHeartbeatDate)&&void 0!==yt?yt:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Te.heartbeats]})}})()}}function Wn(We){return(0,se.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Kt(We){sn(new $.wA("platform-logger",Te=>new ne(Te),"PRIVATE")),sn(new $.wA("heartbeat",Te=>new ls(Te),"PRIVATE")),jr(le,"0.7.22",We),jr(le,"0.7.22","esm2017"),jr("fire-js","")}("")},4859:(gt,Ie,P)=>{P.d(Ie,{H0:()=>ce,wA:()=>R});var l=P(5861),$=P(2090);class R{constructor(W,q,ee){this.name=W,this.instanceFactory=q,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const se="[DEFAULT]";class ne{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const ee=new $.BH;if(this.instancesDeferred.set(q,ee),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:q});Ke&&ee.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const ee=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),Ke=null!==(q=null==W?void 0:W.optional)&&void 0!==q&&q;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Re){if(Ke)return null;throw Re}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function le(pe){return"EAGER"===pe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch(q){}for(const[q,ee]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(q);try{const Re=this.getOrInitializeService({instanceIdentifier:Ke});ee.resolve(Re)}catch(Re){}}}}clearInstance(W=se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...q.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=se){return this.instances.has(W)}getOptions(W=se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ee,options:q});for(const[Re,Pe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Re)&&Pe.resolve(Ke);return Ke}onInit(W,q){var ee;const Ke=this.normalizeInstanceIdentifier(q),Re=null!==(ee=this.onInitCallbacks.get(Ke))&&void 0!==ee?ee:new Set;Re.add(W),this.onInitCallbacks.set(Ke,Re);const Pe=this.instances.get(Ke);return Pe&&W(Pe,Ke),()=>{Re.delete(W)}}invokeOnInitCallbacks(W,q){const ee=this.onInitCallbacks.get(q);if(ee)for(const Ke of ee)try{Ke(W,q)}catch(Re){}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=W,pe===se?void 0:pe),options:q}),this.instances.set(W,ee),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch(Ke){}var pe;return ee||null}normalizeInstanceIdentifier(W=se){return this.component?this.component.multipleInstances?W:se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new ne(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,Ie,P)=>{P.d(Ie,{Am:()=>pe,Ub:()=>ce,Yd:()=>le,in:()=>$});const l=[];var $=(()=>{return(W=$||($={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",$;var W})();const R={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},se=$.INFO,ne={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ve=(W,q,...ee)=>{if(q<W.logLevel)return;const Ke=(new Date).toISOString(),Re=ne[q];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Re](`[${Ke}]  ${W.name}:`,...ee)};class le{constructor(q){this.name=q,this._logLevel=se,this._logHandler=ve,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?R[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function ce(W){l.forEach(q=>{q.setLogLevel(W)})}function pe(W,q){for(const ee of l){let Ke=null;q&&q.level&&(Ke=R[q.level]),ee.userLogHandler=null===W?null:(Re,Pe,...Ue)=>{const ge=Ue.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(st){return null}}).filter(Ee=>Ee).join(" ");Pe>=(null!=Ke?Ke:Re.logLevel)&&W({level:$[Pe].toLowerCase(),message:ge,args:Ue,type:Re.name})}}}},5861:(gt,Ie,P)=>{function l(R,se,ne,ve,le,ce,pe){try{var W=R[ce](pe),q=W.value}catch(ee){return void ne(ee)}W.done?se(q):Promise.resolve(q).then(ve,le)}function $(R){return function(){var se=this,ne=arguments;return new Promise(function(ve,le){var ce=R.apply(se,ne);function pe(q){l(ce,ve,le,pe,W,"next",q)}function W(q){l(ce,ve,le,pe,W,"throw",q)}pe(void 0)})}}P.d(Ie,{Z:()=>$})}},gt=>{gt(gt.s=3986)}]);